<p>{{APIRef(“WebRTC”)}}</p>
<p>The <strong><code>RTCDataChannel</code></strong> interface represents a network channel which can be used for bidirectional peer-to-peer transfers of arbitrary data. Every data channel is associated with an {{DOMxRef(“RTCPeerConnection”)}}, and each peer connection can have up to a theoretical maximum of 65,534 data channels (the actual limit may vary from browser to browser).</p>
<p>To create a data channel and ask a remote peer to join you, call the {{DOMxRef(“RTCPeerConnection”)}}’s {{DOMxRef(“RTCPeerConnection.createDataChannel”, “createDataChannel()”)}} method. The peer being invited to exchange data receives a {{DOMxRef(“RTCPeerConnection.datachannel_event”, “datachannel”)}} event (which has type {{DOMxRef(“RTCDataChannelEvent”)}}) to let it know the data channel has been added to the connection.</p>
<p>{{InheritanceDiagram}}</p>
<h2 id="properties">Properties</h2>
<p><em>Also inherits properties from {{DOMxRef(“EventTarget”)}}.</em></p>
<ul>
<li>{{DOMxRef(“RTCDataChannel.binaryType”, “binaryType”)}}
<ul>
<li>: Is a string specifying the type of object that should be used to represent binary data received on the <code>RTCDataChannel</code>. Values are the same as allowed on the {{DOMxRef(“WebSocket.binaryType”)}} property: <code>blob</code> if {{DOMxRef(“Blob”)}} objects are being used, or <code>arraybuffer</code> if {{jsxref(“ArrayBuffer”)}} objects are being used. The default is <code>blob</code>.</li>
</ul></li>
<li>{{DOMxRef(“RTCDataChannel.bufferedAmount”, “bufferedAmount”)}} {{ReadOnlyInline}}
<ul>
<li>: Returns the number of bytes of data currently queued to be sent over the data channel.</li>
</ul></li>
<li>{{DOMxRef(“RTCDataChannel.bufferedAmountLowThreshold”, “bufferedAmountLowThreshold”)}}
<ul>
<li>: Specifies the number of bytes of buffered outgoing data that is considered “low”. The default value is 0.</li>
</ul></li>
<li>{{DOMxRef(“RTCDataChannel.id”, “id”)}} {{ReadOnlyInline}}
<ul>
<li>: Returns an ID number (between 0 and 65,534) which uniquely identifies the <code>RTCDataChannel</code>.</li>
</ul></li>
<li>{{DOMxRef(“RTCDataChannel.label”, “label”)}} {{ReadOnlyInline}}
<ul>
<li>: Returns a string that contains a name describing the data channel. These labels are not required to be unique.</li>
</ul></li>
<li>{{DOMxRef(“RTCDataChannel.maxPacketLifeTime”, “maxPacketLifeTime”)}} {{ReadOnlyInline}}
<ul>
<li>: Returns the amount of time, in milliseconds, the browser is allowed to take to attempt to transmit a message, as set when the data channel was created, or <code>null</code>.</li>
</ul></li>
<li>{{DOMxRef(“RTCDataChannel.maxRetransmits”, “maxRetransmits”)}} {{ReadOnlyInline}}
<ul>
<li>: Returns the maximum number of times the browser should try to retransmit a message before giving up, as set when the data channel was created, or <code>null</code>, which indicates that there is no maximum.</li>
</ul></li>
<li>{{DOMxRef(“RTCDataChannel.negotiated”, “negotiated”)}} {{ReadOnlyInline}}
<ul>
<li>: Indicates whether the <code>RTCDataChannel</code>’s connection was negotiated by the Web app (<code>true</code>) or by the WebRTC layer (<code>false</code>). The default is <code>false</code>.</li>
</ul></li>
<li>{{DOMxRef(“RTCDataChannel.ordered”, “ordered”)}} {{ReadOnlyInline}}
<ul>
<li>: Indicates whether or not the data channel guarantees in-order delivery of messages; the default is <code>true</code>, which indicates that the data channel is indeed ordered.</li>
</ul></li>
<li>{{DOMxRef(“RTCDataChannel.protocol”, “protocol”)}} {{ReadOnlyInline}}
<ul>
<li>: Returns a string containing the name of the subprotocol in use. If no protocol was specified when the data channel was created, then this property’s value is the empty string (<code>""</code>).</li>
</ul></li>
<li>{{DOMxRef(“RTCDataChannel.readyState”, “readyState”)}} {{ReadOnlyInline}}
<ul>
<li>: Returns a string which indicates the state of the data channel’s underlying data connection. It can have on of the following values: <code>connecting</code>, <code>open</code>, <code>closing</code>, or <code>closed</code>.</li>
</ul></li>
</ul>
<h3 id="event-handlers">Event handlers</h3>
<p><em>Also inherits event handlers from {{DOMxRef(“EventTarget”)}}.</em></p>
<ul>
<li>{{DOMxRef(“RTCDataChannel.onbufferedamountlow”, “onbufferedamountlow”)}}
<ul>
<li>: Is an <a href="/en-US/docs/Web/Events/Event_handlers">event handler</a> which specifies a function the browser calls when the{{DOMxRef(“RTCDataChannel.bufferedamountlow_event”, “bufferedamountlow”)}} event is sent to the data channel.</li>
</ul></li>
<li>{{DOMxRef(“RTCDataChannel.onclose”, “onclose”)}}
<ul>
<li>: Is an <a href="/en-US/docs/Web/Events/Event_handlers">event handler</a> which specifies a function to be called by the browser when the {{DOMxRef(“RTCDataChannel.close_event”, “close”)}} event is received by the data channel.</li>
</ul></li>
<li>{{DOMxRef(“RTCDataChannel.onclosing”, “onclosing”)}} {{Experimental_inline}}
<ul>
<li>: Is an <a href="/en-US/docs/Web/Events/Event_handlers">event handler</a> which specifies a function to be called by the browser when the {{DOMxRef(“RTCDataChannel.closing_event”, “closing”)}} event is received by the data channel.</li>
</ul></li>
<li>{{DOMxRef(“RTCDataChannel.onerror”, “onerror”)}}
<ul>
<li>: Is an <a href="/en-US/docs/Web/Events/Event_handlers">event handler</a> which specifies a function to be called when the {{DOMxRef(“RTCDataChannel.error_event”, “error”)}} event is received.</li>
</ul></li>
<li>{{DOMxRef(“RTCDataChannel.onmessage”, “onmessage”)}}
<ul>
<li>: Is an <a href="/en-US/docs/Web/Events/Event_handlers">event handler</a> which specifies a function to be called when the {{DOMxRef(“RTCDataChannel.message_event”, “message”)}} event is fired on the channel.</li>
</ul></li>
<li>{{DOMxRef(“RTCDataChannel.onopen”, “onopen”)}}
<ul>
<li>: Is an <a href="/en-US/docs/Web/Events/Event_handlers">event handler</a> which specifies a function to be called when the {{DOMxRef(“RTCDataChannel.open_event”, “open”)}} event is fired on the</li>
</ul></li>
</ul>
<h3 id="obsolete-properties">Obsolete properties</h3>
<ul>
<li>{{DOMxRef(“RTCDataChannel.reliable”, “reliable”)}} {{ReadOnlyInline}} {{Obsolete_Inline}}
<ul>
<li>: Indicates whether or not the data channel is <em>reliable</em>.</li>
</ul></li>
<li>{{DOMxRef(“RTCDataChannel.stream”, “stream”)}} {{ReadOnlyInline}} {{Obsolete_Inline}}
<ul>
<li>: Returns an ID number (between 0 and 65,535) which uniquely identifies the data channel.</li>
</ul></li>
</ul>
<h2 id="methods">Methods</h2>
<p><em>Also inherits methods from {{DOMxRef(“EventTarget”)}}.</em></p>
<ul>
<li>{{DOMxRef(“RTCDataChannel.close”, “close()”)}}
<ul>
<li>: Closes the{{domxref(“RTCDataChannel”)}}. Either peer is permitted to call this method to initiate closure of the channel.</li>
</ul></li>
<li>{{DOMxRef(“RTCDataChannel.send”, “send()”)}}
<ul>
<li>: Sends data across the data channel to the remote peer.</li>
</ul></li>
</ul>
<h2 id="events">Events</h2>
<ul>
<li>{{domxref(“RTCDataChannel.bufferedamountlow_event”, “bufferedamountlow”)}}
<ul>
<li>: Sent when the number of bytes of data in the outgoing data buffer falls below the value specified by {{domxref(“RTCDataChannel.bufferedAmountLowThreshold”, “bufferedAmountLowThreshold”)}}. Also available as the {{domxref(“RTCDataChannel.onbufferedamountlow”, “onbufferedamountlow”)}} event handler property.</li>
</ul></li>
<li>{{domxref(“RTCDataChannel.close_event”, “close”)}}
<ul>
<li>: Sent when the underlying data transport closes. Also available as the {{domxref(“RTCDataChannel.onclose”, “onclose”)}} event handler property.</li>
</ul></li>
<li>{{domxref(“RTCDataChannel.closing_event”, “closing”)}} {{Experimental_inline}}
<ul>
<li>: Sent when the underlying data transport is about to start closing. Also available as the {{domxref(“RTCDataChannel.onclosing”, “onclosing”)}} event handler property.</li>
</ul></li>
<li>{{domxref(“RTCDataChannel.error_event”, “error”)}}
<ul>
<li>: Sent when an error occurs on the data channel. Also available as the {{domxref(“RTCDataChannel.onerror”, “onerror”)}} event handler property.</li>
</ul></li>
<li>{{domxref(“RTCDataChannel.message_event”, “message”)}}
<ul>
<li>: Sent when a message has been received from the remote peer. The message contents can be found in the event’s {{domxref(“MessageEvent.data”, “data”)}} property. Also available as the {{domxref(“RTCDataChannel.onmessage”, “onmessage”)}} event handler property.</li>
</ul></li>
<li>{{domxref(“RTCDataChannel.open_event”, “open”)}}
<ul>
<li>: Sent when the data channel is first opened, or when an existing data channel’s underlying connection re-opens. Also available as the {{domxref(“RTCDataChannel.onopen”, “onopen”)}} event handler property.</li>
</ul></li>
</ul>
<h2 id="data-format">Data format</h2>
<p>The underlying data format is defined by the IEEE draft specification <a href="https://datatracker.ietf.org/doc/draft-ietf-mmusic-sctp-sdp"><code>draft-ietf-mmusic-sctp-sdp</code></a>. The current format specifies its protocol as either <code>"UDP/DTLS/SCTP"</code> (UDP carrying DTLS carrying SCTP) or <code>"TCP/DTLS/SCTP"</code> (TCP carrying DTLS carrying SCTP). Older browsers may only specify <code>"DTLS/SCTP"</code>.</p>
<h2 id="example">Example</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">var</span> pc <span class="op">=</span> <span class="kw">new</span> <span class="at">RTCPeerConnection</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="kw">var</span> dc <span class="op">=</span> <span class="va">pc</span>.<span class="at">createDataChannel</span>(<span class="st">&quot;my channel&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-3" title="3"></a>
<a class="sourceLine" id="cb1-4" title="4"><span class="va">dc</span>.<span class="at">onmessage</span> <span class="op">=</span> <span class="kw">function</span> (event) <span class="op">{</span></a>
<a class="sourceLine" id="cb1-5" title="5">  <span class="va">console</span>.<span class="at">log</span>(<span class="st">&quot;received: &quot;</span> <span class="op">+</span> <span class="va">event</span>.<span class="at">data</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-6" title="6"><span class="op">};</span></a>
<a class="sourceLine" id="cb1-7" title="7"></a>
<a class="sourceLine" id="cb1-8" title="8"><span class="va">dc</span>.<span class="at">onopen</span> <span class="op">=</span> <span class="kw">function</span> () <span class="op">{</span></a>
<a class="sourceLine" id="cb1-9" title="9">  <span class="va">console</span>.<span class="at">log</span>(<span class="st">&quot;datachannel open&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-10" title="10"><span class="op">};</span></a>
<a class="sourceLine" id="cb1-11" title="11"></a>
<a class="sourceLine" id="cb1-12" title="12"><span class="va">dc</span>.<span class="at">onclose</span> <span class="op">=</span> <span class="kw">function</span> () <span class="op">{</span></a>
<a class="sourceLine" id="cb1-13" title="13">  <span class="va">console</span>.<span class="at">log</span>(<span class="st">&quot;datachannel close&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-14" title="14"><span class="op">};</span></a></code></pre></div>
<h2 id="specifications">Specifications</h2>
<p>{{Specifications}}</p>
<h2 id="browser-compatibility">Browser compatibility</h2>
<p>{{Compat}}</p>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="/en-US/docs/Web/API/WebRTC_API">WebRTC API</a></li>
</ul>

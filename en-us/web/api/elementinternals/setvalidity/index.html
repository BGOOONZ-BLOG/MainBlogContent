<p>{{DefaultAPISidebar(“DOM”)}}</p>
<p>The <strong><code>setValidity()</code></strong> method of the {{domxref(“ElementInternals”)}} interface sets the validity of the element.</p>
<h2 id="syntax">Syntax</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="va">ElementInternals</span>.<span class="at">setValidity</span>(flags)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="va">ElementInternals</span>.<span class="at">setValidity</span>(flags<span class="op">,</span> message)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="va">ElementInternals</span>.<span class="at">setValidity</span>(flags<span class="op">,</span> message<span class="op">,</span> anchor)<span class="op">;</span></a></code></pre></div>
<h3 id="parameters">Parameters</h3>
<ul>
<li><p><code>flags</code>{{Optional_Inline}}</p>
<ul>
<li><p>: A dictionary object containing one or more flags indicating the validity state of the element:</p>
<ul>
<li><code>valueMissing</code>
<ul>
<li>: A boolean value that is <code>true</code> if the element has a {{htmlattrxref(“required”, “input”)}} attribute, but no value, or <code>false</code> otherwise. If <code>true</code>, the element matches the {{cssxref(“:invalid”)}} CSS pseudo-class.</li>
</ul></li>
<li><code>typeMismatch</code>
<ul>
<li>: A boolean value that is <code>true</code> if the value is not in the required syntax (when {{htmlattrxref(“type”, “input”)}} is <code>email</code> or <code>url</code>), or <code>false</code> if the syntax is correct. If <code>true</code>, the element matches the {{cssxref(“:invalid”)}} CSS pseudo-class.</li>
</ul></li>
<li><code>patternMismatch</code>
<ul>
<li>: A boolean value that is <code>true</code> if the value does not match the specified {{htmlattrxref(“pattern”, “input”)}}, and <code>false</code> if it does match. If <code>true</code>, the element matches the {{cssxref(“:invalid”)}} CSS pseudo-class.</li>
</ul></li>
<li><code>tooLong</code>
<ul>
<li>: A boolean value that is <code>true</code> if the value exceeds the specified <code>maxlength</code> for {{domxref(“HTMLInputElement”)}} or {{domxref(“HTMLTextAreaElement”)}} objects, or <code>false</code> if its length is less than or equal to the maximum length. If <code>true</code>, the element matches the {{cssxref(“:invalid”)}} and {{cssxref(“:out-of-range”)}} CSS pseudo-classes.</li>
</ul></li>
<li><code>tooShort</code>
<ul>
<li>: A boolean value that is <code>true</code> if the value fails to meet the specified <code>minlength</code> for {{domxref(“HTMLInputElement”)}} or {{domxref(“HTMLTextAreaElement”)}} objects, or <code>false</code> if its length is greater than or equal to the minimum length. If <code>true</code>, the element matches the {{cssxref(“:invalid”)}} and {{cssxref(“:out-of-range”)}} CSS pseudo-classes.</li>
</ul></li>
<li><code>rangeUnderflow</code>
<ul>
<li>: A boolean value that is <code>true</code> if the value is less than the minimum specified by the {{htmlattrxref(“min”, “input”)}} attribute, or <code>false</code> if it is greater than or equal to the minimum. If <code>true</code>, the element matches the {{cssxref(“:invalid”)}} and {{cssxref(“:out-of-range”)}} CSS pseudo-classes.</li>
</ul></li>
<li><code>rangeOverflow</code>
<ul>
<li>: A boolean value that is <code>true</code> if the value is greater than the maximum specified by the {{htmlattrxref(“max”, “input”)}} attribute, or <code>false</code> if it is less than or equal to the maximum. If <code>true</code>, the element matches the {{cssxref(“:invalid”)}} and {{cssxref(“:out-of-range”)}} and CSS pseudo-classes.</li>
</ul></li>
<li><code>stepMismatch</code>
<ul>
<li>: A boolean value that is <code>true</code> if the value does not fit the rules determined by the {{htmlattrxref(“step”, “input”)}} attribute (that is, it’s not evenly divisible by the step value), or <code>false</code> if it does fit the step rule. If <code>true</code>, the element matches the {{cssxref(“:invalid”)}} and {{cssxref(“:out-of-range”)}} CSS pseudo-classes.</li>
</ul></li>
<li><code>badInput</code>
<ul>
<li>: A boolean value that is <code>true</code> if the user has provided input that the browser is unable to convert.</li>
</ul></li>
<li><code>customError</code>
<ul>
<li>: A boolean value indicating whether the element’s custom validity message has been set to a non-empty string by calling the element’s {{domxref(‘HTMLObjectElement.setCustomValidity’, ‘setCustomValidity()’)}} method.</li>
</ul></li>
</ul>
<blockquote>
<p><strong>Note:</strong> To set all flags to <code>false</code>, indicating that this element passes all constraints validation, pass in an empty object <code>{}</code>. In this case, you do not need to also pass a <code>message</code>.</p>
</blockquote></li>
</ul></li>
<li><code>message</code>{{Optional_Inline}}
<ul>
<li>: A {{domxref(“DOMString”,“string”)}} containing a message, which will be set if any <code>flags</code> are <code>true</code>. This parameter is only optional if all <code>flags</code> are <code>false</code>.</li>
</ul></li>
<li><code>anchor</code>{{Optional_Inline}}
<ul>
<li>: An {{domxref(“HTMLElement”)}} which can be used by the user agent to report problems with this form submission.</li>
</ul></li>
</ul>
<h3 id="return-value">Return value</h3>
<p>None.</p>
<h3 id="exceptions">Exceptions</h3>
<ul>
<li><code>NotSupportedError</code> {{domxref(“DOMException”)}}
<ul>
<li>: Thrown if the element does not have its <code>formAssociated</code> property set to <code>true</code>.</li>
</ul></li>
<li><code>TypeError</code> {{domxref(“DOMException”)}}
<ul>
<li>: Thrown if one or more <code>flags</code> is <code>true</code>.</li>
</ul></li>
<li><code>NotFoundError</code> {{domxref(“DOMException”)}}
<ul>
<li>: Thrown if <code>anchor</code> is given, but the anchor is not a shadow-including descendant of the element.</li>
</ul></li>
</ul>
<h2 id="examples">Examples</h2>
<p>In the following example <code>setValidity</code> is called with an empty <code>flags</code> parameter to indicate that the element meets constraint validation rules.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">this</span>.<span class="va">internals_</span>.<span class="at">setValidity</span>(<span class="op">{}</span>)<span class="op">;</span></a></code></pre></div>
<p>In the following example <code>setValidity</code> is called with the flag <code>valueMissing</code> set to <code>true</code>. A <code>message</code> parameter must then also be passed containing a message.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="kw">this</span>.<span class="va">internals_</span>.<span class="at">setValidity</span>(<span class="op">{</span><span class="st">&#39;valueMissing&#39;</span><span class="op">:</span><span class="kw">true</span><span class="op">},</span><span class="st">&quot;my message&quot;</span>)<span class="op">;</span></a></code></pre></div>
<h2 id="specifications">Specifications</h2>
<p>{{Specifications}}</p>
<h2 id="browser-compatibility">Browser compatibility</h2>
<p>{{Compat}}</p>

<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
    "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <!-- Document generated by Thot -->
  <title>APIman-E</title>
  <link href="APIman.toc.html" rel="ToC">
  <meta http-equiv="Content-Type" content="text/html">
</head>

<body>
<pre><em>ThotLib V3</em></pre>
<pre>Date: 3 February, 2004</pre>

<h1>The Thot Tool Kit API</h1>
<address>
  Vincent QUINT, Irène VATTON - W3C/INRIA 
</address>
<hr>

<p>The Thot tool kit is a comprehensive set of editing functions that can be
used for building applications that handle structured documents in the Unix /
X Window environment. It is constituted by a set of C libraries that can be
linked to any program. It allows application programs to perform the same
kind of operations as a user working with a structured document editor.
Typically, an application can use the tool kit for creating new documents,
for modifying existing documents, for extracting information from documents,
for displaying (parts of) documents, etc. The tool kit can be used either for
automatic manipulations performed solely by a program or for allowing a human
user to cooperate with a program that processes documents. In this latter
case, it uses OSF/Motif for implementing the user interface.</p>

<p>The functions provided by the tool are based on the Thot document model.
Documents produced with the tool kit can be stored as Unix files in the same
standard format as documents produced by the Thot editor (pivot format
indicated by the .PIV suffix). Thot editor is also able to save documents in
other formats and obviously this capability is provided by the tool kit. Thot
documents can be processed by all tools available in the Thot environment and
by all applications developed with the tool kit. The Thot environment
includes in particular flexible tools for editing, printing and translating
documents.</p>

<div class="Section">
<h2><a name="secta1">1</a> Introduction to the document model</h2>

<div class="Section">
<h3><a name="sectb11">1.1</a> Logical structure</h3>

<p>In the editing tool kit, a <em>document</em> is primarily considered as an
abstract structure that assembles typed <em>elements</em>. Examples of
elements types are titles, chapters, sections, paragraphs, lists, notes, etc.
The structure itself is basically a hierarchy of such elements; it is called
an <em>abstract tree</em>. The lowest level elements (also called <em>basic
elements</em>) represent the actual <em>contents</em> of the document:
character stings, mathematical symbols, pictures, and graphical elements. In
addition to this tree structure, non-hierarchical links (also called
<em>references</em>) relate elements independently of the tree structure,
thus representing cross- references and other types of hypertext links.</p>

<p>As the type of an element is not always sufficient for completely
representing the role of that element in the document logical structure, the
notion of <em>logical attribute</em> has been introduced. A logical attribute
is information associated with an element that adds semantics to that
element.</p>

<p>The logical structure of a document is constrained by a model, called a
<em>structure schema</em>. Several structure schemas can be used, one for
each type of document. A structure schema defines a document type, by
specifying all types of elements that can be used in the logical structure of
a document of that type. It also specifies the attributes that can be
associated with each type of element and all structural relationships that
can be set between elements. Structure schemas are written in a specific
declarative language, called S. A compiler for the S language is available,
so that new document types can be defined, according to the requirements of
applications.</p>
</div>

<div class="Section">
<h3><a name="sectb12">1.2</a> Presentation</h3>

<p>The graphical appearance of a document (also called <em>presentation</em>)
is derived from its logical structure and is generically specified by a
<em>presentation schema</em>. A presentation schema is associated with a
structure schema and specifies the appearance of documents of  the type
defined by the structure schema. For each type of element defined in the
structure schema, the presentation schema contains a set of presentation
rules that define the style and the format of the logical elements. Using
these rules, the system can then produce the graphical representation of a
document, on the basis of its logical structure.</p>

<p>Presentation schemas are written in the language P and a compiler for that
language is available. New presentation schemas can then be developed. Notice
that several presentation schemas can be associated with the same structure
schema, thus defining alternative presentations for the same type of
document.</p>

<p>In addition, each presentation schema may define different <em>views</em>.
A view is a subset of the document that can be formatted in a different way
and displayed separately: each view is presented in a different window on the
screen.</p>

<p>For balancing this rigid principle of presentation with a certain degree
of flexibility, it is possible to associate with some element instances a
special type of attribute, called <em>specific presentation rule</em>. A
specific presentation rule is a presentation rule of the same kind as those
of the presentation schema, but it applies only to the element instance with
which it is associated, not to all elements of that type.</p>

<p>With that approach to document representation, documents are first
specified generically, by writing structure schemas and presentation schemas.
Then end-users and application programs can manipulate document instances
very simply, by referring to the schemas. Most of the work consists in
handling a logical structure consistent with the chosen structure schema and
in handling the contents (the basic elements) of that structure. All the
rest, especially formatting and displaying, is done by the tool kit. In
addition, the logical structure is a very efficient help for moving across
the document and for locating the parts to be modified.</p>
</div>
</div>

<div class="Section">
<h2><a name="secta2">2</a> Tool kit structure</h2>

<div class="Section">
<h3><a name="sectb21">2.1</a> Structure of this manual</h3>

<p>The tool kit contains about 200 functions. For the sake of clarity, they
are presented by groups, each group focusing on a different aspect of
documents.</p>
<ul>
  <li>Group <em>application</em> (section <a href="#secta6">6</a>) concerns
    the administration of the tool kit by the application.</li>
  <li>Group <em>interface</em> (section <a href="#secta7">7</a>) allows the
    application program to modify and extend the Thot editor.</li>
  <li>Group <em>document</em> (section <a href="#secta10">10</a>) allows the
    application to manage schemas and whole documents.</li>
  <li>Group <em>tree</em> (section <a href="#secta11">11</a>) handles the
    hierarchical logical structure of documents.</li>
  <li>Group <em>contents</em> (section <a href="#secta12">12</a>) allows the
    application to manipulate the contents of the leaves of the
  structure.</li>
  <li>Group <em>attribute</em> (section <a href="#secta13">13</a>) concerns
    logical attributes.</li>
  <li>Group <em>reference</em> (section <a href="#secta14">14</a>) contains
    functions for manipulating non hierarchical relationships (hypertext
    links).</li>
  <li>Group <em>language</em> (section <a href="#secta15">15</a>) concerns
    natural languages used in text contents.</li>
  <li>Group <em>presentation</em> (section <a href="#secta16">16</a>) handles
    specific presentation.</li>
  <li>Group <em>view</em> (section <a href="#secta18">18</a>) handles
  views.</li>
  <li>Group <em>selection</em> (section <a href="#secta19">19</a>) contains
    the functions that handle the selection.</li>
  <li>Group <em>message</em> (section <a href="#secta8">8</a>) allows the
    application program to display messages intended to the user.</li>
  <li>Group <em>dialogue</em> (section <a href="#secta9">9</a>) allows the
    application program to manage menus and forms intended to the user.</li>
</ul>

<p>Each section presenting a group of functions is divided into subsections
which correspond to the following four broad categories:</p>
<ul>
  <li><em>constructors</em> are functions that create or generate new things.
    By extension, they also include reverse functions, which delete or
    destroy the same things.</li>
  <li><em>modificators</em> are functions that modify existing things in
    different ways.</li>
  <li><em>accessors</em> are the functions that allow the application program
    to access things.</li>
  <li><em>locators</em> are the functions that search various kind of things
    in document, according to different criteria.</li>
</ul>
</div>

<div class="Section">
<h3><a name="sectb22">2.2</a> Libraries</h3>

<p>The Thot editing tool kit is accessed through an API that is defined in
sections <a href="#secta6">6</a> to <a href="#secta9">9</a>. The tool kit
takes the form of two libraries for editing documents. Each library is suited
to a different type of application and an application uses only one of the
two editing libraries: the second library includes the  first one.</p>
<a name="L273"></a>

<div class="Section">
<h4><a name="sectc221">2.2.1</a> Thot Kernel library</h4>

<p>The first library allows an application to handle the logical structure
and the contents of Thot documents in automatic mode. This subset of the tool
kit, called Thot Kernel, does not produce the graphical aspect of documents.
It does not provide either any service for the user interface. It is
typically designed for applications performing automatic operations on the
logical structure and contents of documents without direct manipulation by a
user.</p>

<p>The last five groups of functions (those handling views, selections, and
user interface to the editor) are not part of that library. Sections <a
href="#secta18">18</a> to <a href="#secta9">9</a> of that document do not
concern that library.</p>
</div>

<div class="Section">
<h4><a name="sectc222">2.2.2</a> Thot Editor library</h4>

<p>The second library, called Thot Editor, includes all facilities provided
by the Kernel, with the same interface, and provides additional services for
displaying the graphical aspect of documents. It also contains the whole Thot
editor with its user interface. All editing functions of Thot can be accessed
by the user and by application programs. The Thot Editor tool kit is
typically intended to interactive applications that handle documents under
the control of a user and that add new functions to the editor.</p>

<p>All groups of functions presented in this document are part of that
library. Functions that are also part of the Thot Kernel have exactly the
same interface when used in the context of Thot Editor. The only difference
is that, in the case of Thot Kernel, they do not display anything, and that,
in the case of Thot Editor, some of them (namely constructors and
modificators) modify the picture displayed on the screen. As a consequence,
application programs that have been developed for automatic processing can be
reused in the context of an interactive application without any change: the
Thot Editor automatically takes in charge all displaying problems that are
not handled by the Thot Kernel.</p>
</div>
</div>
</div>

<div class="Section">
<h2><a name="secta3">3</a> Using the Thot tool kit</h2>
<a name="L343"></a>

<div class="Section">
<h3><a name="sectb31">3.1</a> Errors</h3>

<p>Almost all functions of the tool kit can detect errors. In that case the
function is not performed and an error code is set. The tool kit provides the
application program with the function <a name="L351"></a>TtaGetErrorCode for
accessing the error code. That function returns the completion code of the
last tool kit function called by the application. Only the completion code of
the most recently called function is available. A 0 completion code means a
successful operation; other values are defined in files
<em>application.h</em>.</p>

<p>In addition to the error code returned to the application program by the
function <a name="L360"></a>TtaGetErrorCode, the tool kit prints an error
message on the standard error file stderr whenever an error is raised. Error
messages are printed by default, but the application program can ask the tool
kit to stop printing these messages, by calling the function <a
name="L364"></a>TtaSetErrorMessages.</p>
</div>

<div class="Section">
<h3><a name="sectb32">3.2</a> Include files</h3>

<p>Each group of functions has an associated include file. Available include
files are: application.h, document.h, tree.h, content.h, attribute.h,
reference.h, language.h, presentation.h, view.h, selection.h, interface.h.
These files must be included in each module of the application program that
calls at least one function of the corresponding group. They contain the
interface definition of the functions and the types and constants (#define)
used by these functions.</p>
</div>

<div class="Section">
<h3><a name="sectb33">3.3</a> Buffers</h3>

<p>Whenever a function may return a long character string (20 characters or
more), the buffer must be provided by the application when calling the
function. If the buffer is too small, the tool kit raises an error. But the
size of the character string can generally be asked before calling such
functions, by using another function.</p>
</div>

<div class="Section">
<h3><a name="sectb34">3.4</a> Naming conventions</h3>

<p>Functions in the Thot API belong to different categories regarding their
arguments and return value.  The naming scheme follows these categories:</p>
<ul>
  <li>TtaGet* are functions that return a single value as the value of the
    function itself. Their arguments do not return any value.</li>
  <li>TtaNext* or TtaPrevious* are void functions that return a single value
    through an argument. You set that argument with an object before calling
    the function and, when returning, this argument has a new value, which is
    the next or previous object.  These functions are mainly used in loops to
    access objects sequentially.</li>
  <li>TtaGive* are void functions that return at least two values through
    their arguments.</li>
  <li>Functions that do not return any value just start with Tta.</li>
</ul>
</div>
</div>

<div class="Section">
<h2><a name="secta4">4</a> <a name="L398">Types used by the Thot editing tool
kit</a></h2>

<p>The tool kit performs operations on various entities, such as schemas,
documents, elements, attributes, views, etc. Each entity is identified by a
unique identifier which is assigned by Thot. Therefore, an application
program must get that identifier before manipulating any entity. An
identifier can be obtained by constructors, accessors and locators.</p>

<p>The following types are used by the editing tool kit:</p>
<dl>
  <dt>SSchema</dt>
    <dd>a structure schema loaded by the tool kit.</dd>
  <dt>Document</dt>
    <dd>a document loaded or created by the tool kit.</dd>
  <dt>Element</dt>
    <dd>an element in the logical structure of a document.</dd>
  <dt>Attribute</dt>
    <dd>a logical attribute.</dd>
  <dt>PRule</dt>
    <dd>a specific presentation rule.</dd>
  <dt>TypeUnit</dt>
    <dd>UnRelative, UnXHeight, UnPoint, UnPixel, UnPercent</dd>
  <dt>View</dt>
    <dd>a view created by the editor (Thot Editor only).</dd>
  <dt>ElementType</dt>
    <dd>the type of an element.</dd>
  <dt>AttributeType</dt>
    <dd>the type of an attribute.</dd>
  <dt>Language</dt>
    <dd>the identifier of a natural language.</dd>
</dl>

<p>SSchemas, Elements, Attributes, and PRules are pointers (addresses),
whereas Documents and Views are integers. Language is an unsigned character.
Both ElementType and AttributeType are structures containing a SSchema (the
schema that defines the corresponding element type or attribute type) and an
integer which is the number of the element type or attribute type in that
structure schema. Structure ElementType is defined in file
<em>tree.h</em>:</p>
<pre>typedef struct _ElementType
    {
    SSchema ElSSchema;
    int ElTypeNum;
    } ElementType;</pre>

<p>Structure AttributeType is defined in file <em>attribute.h</em>:</p>
<pre>typedef struct _AttributeType
    {
    SSchema AttrSSchema;
    int AttrTypeNum;
    } AttributeType;</pre>

<p>In addition some integers are used for exchanging parameters between the
application program and the tool kit. Available parameters with their
possible values are:</p>
<dl>
  <dt>Search domain</dt>
    <dd>SearchForward, SearchBackward, SearchInTree.</dd>
  <dt>Access rights</dt>
    <dd>ReadWrite, ReadOnly, Hidden, Inherited.</dd>
  <dt>Construct</dt>
    <dd>ConstructIdentity, ConstructList, ConstructChoice,
      ConstructOrderedAggregate, ConstructUnorderedAggregate,
      ConstructConstant, ConstructReference, ConstructBasicType,
      ConstructNature, ConstructPair.</dd>
  <dt>Presentation rules</dt>
    <dd>PRSize, PRStyle, PRFont, PRUnderline, PRThickness, PRIndent,
      PRLineSpacing, PRDepth, PRAdjust, PRJustify, PRLineStyle, PRLineWeight,
      PRFillPattern, PRBackground, PRForeground, PRHyphenate.</dd>
  <dt>Display modes</dt>
    <dd>DisplayImmediately, DeferredDisplay, NoComputedDisplay.</dd>
</dl>
</div>

<div class="Section">
<h2><a name="secta5">5</a> Initialization</h2>

<p>Group application contains the functions for managing the tool kit API.
These functions require that file <em>application.h</em> be included in the
module that calls them.</p>

<p>Applications generated by an interface schema EDITOR.A don't have to call
these functions.</p>

<div class="Section">
<h3><a name="sectb51">5.1</a> Constructors</h3>

<div class="Section">
<h4><a name="sectc511">5.1.1</a> TtaInitialize</h4>
<a name="L591"></a>

<p>Initializes the Thot editing tool kit for an application. This function
must be called before any other function of the tool kit.</p>
<hr>

<p>void   TtaInitialize(char *applicationName)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>applicationName</em>: name of the application that requires
      services from the tool kit. This name is used for accessing the
      ressources defined in the Registry.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc512">5.1.2</a> TtaQuit</h4>
<a name="L615"></a>

<p>Quits the Thot tool kit. No other function of the tool kit can then be
called by the application.</p>
<hr>

<p>void TtaQuit()</p>
<hr>
</div>

<div class="Section">
<h4><a name="sectc513">5.1.3</a> TtaInitializeAppRegistry</h4>
<a name="L32621"></a>

<p>Initialize the Thot Registry. This is done by default by TtaInitialize. On
Unix platforms the Registry is physically stored in the <code>Thot.ini</code>
file, on Windows platforms the native Registry is used.</p>
<hr>

<p>void TtaInitializeAppRegistry(char *applicationName)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>applicationName</em>: name of the application.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc514">5.1.4</a> TtaSaveAppRegistry</h4>
<a name="L32629"></a>

<p>Commit the changes made to the Thot Registry. This is done by default by
TtaQuit.</p>
<hr>

<p>void TtaSaveAppRegistry()</p>
<hr>
</div>
</div>

<div class="Section">
<h3><a name="sectb52">5.2</a> Modificators</h3>

<div class="Section">
<h4><a name="sectc521">5.2.1</a> TtaSetApplicationQuit</h4>

<p>Register the procedure that must be called just before the application
will be closed. That procedure has no parameters</p>
<hr>

<p>void TtaSetApplicationQuit (Proc procedure)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>procedure</em>: the procedure that must be called just before the
      application</dd>
</dl>
</div>
</div>
</div>

<div class="Section">
<h2><a name="secta6">6</a> <a name="L576">Application</a></h2>

<p>Group application contains the functions for managing the tool kit API.
These functions require that file <em>application.h</em> be included in the
module that calls them.</p>

<div class="Section">
<h3><a name="sectb61">6.1</a> Constructors</h3>

<div class="Section">
<h4><a name="sectc611">6.1.1</a> TtaGetMemory</h4>
<a name="L629"></a>

<p>Allocates dynamically a buffer of a specific size.</p>
<hr>

<p>char *TtaGetMemory(int size)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>size</em>: size in bytes (like using malloc) of the desired
      allocated buffer.</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>the address of the allocated buffer.</dd>
</dl>
<dl>
  <dt>See also:</dt>
    <dd>TtaFreeMemory.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc612">6.1.2</a> TtaFreeMemory</h4>
<a name="L669"></a>

<p>Frees the memory allocated to a buffer by <a
name="L677"></a>TtaGetMemory.</p>
<hr>

<p>void  TtaFreeMemory(char *buffer)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>buffer</em>: the address of the buffer.</dd>
</dl>
<dl>
  <dt>See also:</dt>
    <dd>TtaGetMemory.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc613">6.1.3</a> TtaGetEnvString</h4>
<a name="L32637"></a>

<p>Reads an entry from the Thot Registry. It returns a non-modifiable string
associated to the name given as parameter. Thot first looks for a specific
value associated to the current application, and if not found try to find one
in the "thot" section. Hence settings saved in the "thot" section are shared
by all applications based on the Thot library, but can be refined to fit each
application specific needs. If no value is found for the requested entry, the
function returns NULL.</p>
<hr>

<p>char *TtaGetEnvString(const char *name)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>name</em>: name of the entry.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc614">6.1.4</a> TtaGetDefEnvString</h4>
<a name="L58486"></a>

<p>Reads an entry from the Thot Registry. It returns a non-modifiabledefault
string associated to the name given as parameter. Thot first looks for a
specific value associated to the current application, and if not found try to
find one in the "thot" section. Hence settings saved in the "thot" section
are shared by all applications based on the Thot library, but can be refined
to fit each application specific needs. If no value is found for the
requested entry, the function returns NULL.</p>
<hr>

<p>char *TtaGetDefEnvString(const char *name)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>name</em>: name of the entry.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc615">6.1.5</a> TtaGetEnvInt</h4>
<a name="L58370"></a>

<p>Reads an entry from the Thot Registry. It returns the integer value
associated with the name given as a parameter. Thot first looks for a
specific value associated to the current application, and if not found try to
find one in the "thot" section. Hence settings saved in the "thot" section
are shared by all applications based on the Thot library, but can be refined
to fit each application specific needs. The function returns either TRUE or
FALSE, depending on whether the the registry entry exists or not.</p>
<hr>

<p>ThotBoolTtaGetEnvInt(const char *name, int *value)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>name</em>: name of the entry.
      <p><em>value</em>: value of the entry.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc616">6.1.6</a> TtaGetDefEnvInt</h4>
<a name="L58459"></a>

<p>Reads an entry from the Thot Registry. It returns the default integer
value associated with the name given as a parameter. Thot first looks for a
specific value associated to the current application, and if not found try to
find one in the "thot" section. Hence settings saved in the "thot" section
are shared by all applications based on the Thot library, but can be refined
to fit each application specific needs. The function returns either TRUE or
FALSE, depending on whether the the registry entry exists or not.</p>
<hr>

<p>ThotBoolTtaGetDefEnvInt(const char *name, int *value)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>name</em>: name of the entry.
      <p><em>value</em>: value of the entry.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc617">6.1.7</a> TtaGetEnvBoolean</h4>
<a name="L58400"></a>

<p>Reads an entry from the Thot Registry. It returns the ThotBool value
associated with the name given as a parameter. Thot first looks for a
specific value associated to the current application, and if not found try to
find one in the "thot" section. Hence settings saved in the "thot" section
are shared by all applications based on the Thot library, but can be refined
to fit each application specific needs. The function returns either TRUE or
FALSE, depending on whether the the registry entry exists or not.</p>
<hr>

<p>ThotBoolTtaGetEnvBoolean(const char *name, ThotBool *value)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>name</em>: name of the entry.
      <p><em>value</em>: value of the entry.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc618">6.1.8</a> TtaGetDefEnvBoolean</h4>
<a name="L58432"></a>

<p>Reads an entry from the Thot Registry. It returns the default ThotBool
value associated with the name given as a parameter. Thot first looks for a
specific value associated to the current application, and if not found try to
find one in the "thot" section. Hence settings saved in the "thot" section
are shared by all applications based on the Thot library, but can be refined
to fit each application specific needs. The function returns either TRUE or
FALSE, depending on whether the the registry entry exists or not.</p>
<hr>

<p>ThotBoolTtaGetDefEnvBoolean(const char *name, ThotBool *value)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>name</em>: name of the entry.
      <p><em>value</em>: value of the entry.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc619">6.1.9</a> TtaIsBlank</h4>
<a name="L57533"></a>

<p>TtaSkipBlanks skips all spaces, tabs, linefeeds and newlines at the
beginning of the string and returns the pointer to the new position.</p>
<hr>

<p>ThotBool TtaIsBlank (char *ptr);</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>ptr</em>: the source string.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc6110">6.1.10</a> TtaSkipBlanks</h4>
<a name="L57558"></a>

<p>TtaSkipBlanks skips all spaces, tabs, linefeeds and newlines at the
beginning of the string and returns the pointer to the new position.</p>
<hr>

<p>char *TtaSkipBlanks (char *ptr)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>ptr</em>: the source string.</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>the pointer to the new position in the source string.</dd>
</dl>
</div>
</div>

<div class="Section">
<h3><a name="sectb62">6.2</a> Modificators</h3>

<div class="Section">
<h4><a name="sectc621">6.2.1</a> TtaSetErrorMessages</h4>
<a name="L709"></a>

<p>Indicates to the tool kit whether error messages must be printed or
not.</p>
<hr>

<p>void TtaSetErrorMessages(int on)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>on</em>: 1 if error messages must be printed, 0 if not.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc622">6.2.2</a> TtaSetEnvString</h4>
<a name="L32577"></a>

<p>Set an entry in the Thot Registry for the current application.</p>
<hr>

<p>void TtaSetEnvString(const char *name, const char *value, int
overwrite)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>name</em>: name of the entry.
      <p><em>value</em>: value associated to the entry.</p>
      <p><em>overwrite</em>: should we overwrite an existing entry ?</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc623">6.2.3</a> TtaSetDefEnvString</h4>
<a name="L58511"></a>

<p>Sets the default value of an entry in the Thot Registry for the current
application.</p>
<hr>

<p>void TtaSetDefEnvString(const char *name, const char *value, int
overwrite)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>name</em>: name of the entry.
      <p><em>value</em>: value associated to the entry.</p>
      <p><em>overwrite</em>: should we overwrite an existing entry ?</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc624">6.2.4</a> TtaSetEnvInt</h4>
<a name="L58225"></a>

<p>Set an entry in the Thot Registry for the current application.</p>
<hr>

<p>void TtaSetEnvInt(const char *name, const int value, int overwrite)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>name</em>: name of the entry.
      <p><em>value</em>: value associated to the entry.</p>
      <p><em>overwrite</em>: should we overwrite an existing entry ?</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc625">6.2.5</a> TtaSetEnvBoolean</h4>
<a name="L58254"></a>

<p>Set an entry in the Thot Registry for the current application.</p>
<hr>

<p>void TtaSetEnvBoolean(const char *name, const ThotBool value, int
overwrite)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>name</em>: name of the entry.
      <p><em>value</em>: value associated to the entry.</p>
      <p><em>overwrite</em>: should we overwrite an existing entry ?</p>
    </dd>
</dl>
</div>
</div>

<div class="Section">
<h3><a name="sectb63">6.3</a> Accessors</h3>

<div class="Section">
<h4><a name="sectc631">6.3.1</a> TtaGetVersion</h4>
<a name="L737"></a>

<p>Returns the identifier of the current version of the Thot eRediting tool
kit.</p>
<hr>

<p>char *TtaGetVersion()</p>
<hr>
<dl>
  <dt>Return value:</dt>
    <dd>identifier of the current version.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc632">6.3.2</a> TtaGetErrorCode</h4>
<a name="L759"></a>

<p>Returns the error code set by the last call to the Thot editing tool kit.
See file <em>application.h</em> for the possible values.</p>
<hr>

<p>int TtaGetErrorCode()</p>
<hr>
<dl>
  <dt>Return value:</dt>
    <dd>last error code, 0 if the last call was successful.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc633">6.3.3</a> TtaGetStrError</h4>
<a name="L782"></a>

<p>Returns a pointer to the message text for a given error code.</p>
<hr>

<p>char *TtaGetStrError(int errorCode)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>errorCode</em>: an error code.</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>pointer to the message text of the error.</dd>
</dl>
<dl>
  <dt>See also:</dt>
    <dd>TtaGetErrorCode</dd>
</dl>
</div>
</div>
</div>

<div class="Section">
<h2><a name="secta7">7</a> <a name="L8356">Interface</a></h2>

<p>The functions described in this section require that file
<em>interface.h</em> be included in the module that calls them. They are
available only in the Thot Editor library.</p>

<div class="Section">
<h3><a name="sectb71">7.1</a> Constructors</h3>

<div class="Section">
<h4><a name="sectc711">7.1.1</a> TtaSetCallback</h4>
<a name="L8372"></a>

<p>This function reserves a set of reference for creating dialogue elements
(forms, menus, submenus, labels, etc.) and specifies the procedure that is
called back when the user activates these dialogue elements.</p>

<p>Dialogue elements have to be created by the application using references
between the "base" value returned by this function and the value
"base+numberOfRef-1". So, this function must be called first.</p>

<p>It is possible to define different sets of dialogue elements by calling
this function more than one time with different
<code>callbackProcedure</code> procedure in the same application.</p>

<p>The <code>callbackProcedure</code> procedure declared  is called for each
event concerning these specific dialogue items. It receives three parameters:
the dialogue item reference, the data type, and the data value:</p>
<pre>void callbakProcedure(reference, datatype, data)
     int reference;
     int datatype;
     char *data;</pre>
<hr>

<p>int TtaSetCallback(void (*callbackProcedure) (), int numberOfRef)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>callbakProcedure</em>: the application callback procedure.
      <p><em>numberOfRef</em>: the nmber of reference reserved.</p>
    </dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>the "base" value for the <code>numberOfRef</code> specific dialogue
      elements to be created.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc712">7.1.2</a> TtaHandlePendingEvents</h4>
<a name="L8412"></a>

<p>This function manages all Thot and Motif pending events. The application
have to call this function to allow user's interactions and display
updates to be managed during long treatments.</p>
<hr>

<p>void TtaHandlePendingEvents()</p>
<hr>
</div>

<div class="Section">
<h4><a name="sectc713">7.1.3</a> TtaHandleOneEvent</h4>
<a name="L25485"></a>

<p>This function processes one event within Thot and Motif. The application
which controls a local loop of events have to call this function to allow
managment of specific Thot and Motif events.</p>
<hr>

<p>void TtaHandlePendingEvents(XEvent *event)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>event</em>: the X event to be managed.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc714">7.1.4</a> TtaAddButton</h4>
<a name="L8491"></a>

<p>Adds a new button into the document view button bar. This function must
specify a valid view of a valid document. The procedure parameter gives the
call back procedure that will be run when user select the button. This
procedure will receive two parametrers: the document and the view
concerned.</p>

<p>An example of callback procedure is.</p>
<pre>void callback_procedure (document, view)
Document document;
View view;
{
....
}</pre>

<p>If the icon parameter in None, a space button is generated and the
callback procedure is ignored. The parameters type and state are only used by
on Windows platforms.</p>
<hr>

<p>int TtaAddButton(Document document, View view, ThotIcon icon, STRING
functionName, STRING info, void (*procedure) (), BYTE type, ThotBool
state)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>document</em>: the concerned document.
      <p><em>view</em>: the concerned view.</p>
      <p><em>icon</em>: the pixmap of the new button or None,.</p>
      <p><em>functionName</em>: the internal name of the function used to
      connect shortcuts,.</p>
      <p><em>info</em> the text displayed when the cursor stays on the
      button,.</p>
      <p><em>procedure</em>: procedure to be executed when the button is
      selected by the user or NULL.</p>
      <p><em>type</em>: it could be TBSTYLE_BUTTON or TBSTYLE_CHECK.</p>
      <p><em>state</em>: is TRUE if the button is in an active state,.</p>
    </dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>The button index.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc715">7.1.5</a> TtaAddTextZone</h4>
<a name="L32957"></a>

<p>Adds a new text-zone into the document view commands. This function must
specify a valid view of a valid document. The editable parameter indicates
that user can edit this text-zone. The procedure parameter gives the call
back procedure that will be run when user changes the text-zone: the user
press the <code>Return</code> key. This procedure will receive two
parametrers: the document and the view concerned.</p>

<p>An example of callback procedure is.</p>
<pre>void callback_procedure (document, view)
Document document;
View view;
{
....
}</pre>

<p>If the text-zone is not editable the procedure have to be NULL.</p>
<hr>

<p>int TtaAddTextZone(Document document, View view, char *label, ThotBool
editable, void (*procedure) ())</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>document</em>: the concerned document.
      <p><em>view</em>: the concerned view.</p>
      <p><em>label</em>: the label of the text-zone.</p>
      <p><em>editable</em>: True is user can edit the text-zone.</p>
      <p><em>procedure</em>: procedure to be executed when the text is
      modified by the user.</p>
    </dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>The text-zone index.</dd>
</dl>
</div>
</div>

<div class="Section">
<h3><a name="sectb72">7.2</a> Accessors</h3>

<div class="Section">
<h4><a name="sectc721">7.2.1</a> TtaGetCurrentDisplay</h4>

<p>Returns the current display descriptor.</p>
<hr>

<p>Display *TtaGetCurrentDisplay()</p>
<hr>
</div>

<div class="Section">
<h4><a name="sectc722">7.2.2</a> TtaGetScreenDepth</h4>

<p>Returns the screen depth of the display.</p>
<hr>

<p>int TtaGetScreenDepth()</p>
<hr>
</div>

<div class="Section">
<h4><a name="sectc723">7.2.3</a> TtaClickAnElement</h4>
<a name="L8691"></a>

<p>Waits for a click from end-user and returns the element and document
selected. If the user clicks out of any document view, the returned values
are null.</p>
<hr>

<p>void TtaClickAnElement(Document document, Element element)</p>
<hr>
<dl>
  <dt>Parameters</dt>
    <dd><em>document</em>: the document selected by the user or 0.
      <p><em>element</em>: the element selected by the user or 0.</p>
    </dd>
</dl>
</div>
</div>

<div class="Section">
<h3><a name="sectb73">7.3</a> Modificators</h3>

<div class="Section">
<h4><a name="sectc731">7.3.1</a> TtaChangeButton</h4>
<a name="L8724"></a>

<p>This function changes the button icon. This function must specify a valid
view of a valid document and a valid button index.</p>
<hr>

<p>void TtaChangeButton(Document document, View view, int buttonIndex,
ThotIcon icon, ThotBool state)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>document</em>: the concerned document.
      <p><em>view</em>: the concerned view.</p>
      <p><em>buttonIndex</em>: the button index, numbered from 1 to n.</p>
      <p><em>icon</em>: the pixmap of the new button or None.</p>
      <p><em>state</em>: TRUE if the button is an active button..</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc732">7.3.2</a> TtaSetTextZone</h4>
<a name="L33061"></a>

<p>This function gets the text to be displayed in the text-zone. This
function must specify a valid view of a valid document and a valid text-zone
index.</p>
<hr>

<p>void TtaSetTextZone(Document document, View view, int textIndex, char
*text)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>document</em>: the concerned document.
      <p><em>view</em>: the concerned view.</p>
      <p><em>textIndex</em>: the button index, numbered from 1 to n.</p>
      <p><em>text</em>: the text to be displayed into the text-zone.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc733">7.3.3</a> TtaSetMenuOff</h4>
<a name="L8761"></a>

<p>Sets inactive a menu in the menu bar of the view of the document. If the
document and view parameters are null, the menu is a application window
menu.</p>
<hr>

<p>void TtaSetMenuOff(Document document, View view, int menuID)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>document</em>: the document concerned or 0.
      <p><em>view</em>: the view concerned or 0.</p>
      <p><em>menuID</em>: the menu identification in the EDITOR.h file.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc734">7.3.4</a> TtaSetMenuOn</h4>
<a name="L33126"></a>

<p>Sets active a menu in the menu bar of the view of the document. If the
document and view parameters are null, the menu is a application window
menu.</p>
<hr>

<p>void TtaSetMenuOn(Document document, View view, int menuID)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>document</em>: the document concerned or 0.
      <p><em>view</em>: the view concerned or 0.</p>
      <p><em>menuID</em>: the menu identification in the EDITOR.h file.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc735">7.3.5</a> TtaSetActionOff</h4>
<a name="L33157"></a>

<p>Sets inactive a menu action in the menu bar of the view of the document.
If the document and view parameters are null, the menu is a application
window menu.</p>
<hr>

<p>void TtaSetActionOff(Document document, View view, int menuID, int
itemID)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>document</em>: the document concerned or 0.
      <p><em>view</em>: the view concerned or 0.</p>
      <p><em>menuID</em>: the main menu (even if the item is located into a
      submenu) identification in the EDITOR.h file.</p>
      <p><em>itemID</em>: the item identification in the EDITOR.h file.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc736">7.3.6</a> TtaSetActionOn</h4>
<a name="L33188"></a>

<p>Sets active a menu action in the menu bar of the view of the document. If
the document and view parameters are null, the menu is a application window
menu.</p>
<hr>

<p>void TtaSetActionOn(Document document, View view, int menuID, int
itemID)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>document</em>: the document concerned or 0.
      <p><em>view</em>: the view concerned or 0.</p>
      <p><em>menuID</em>: the main menu (even if the item is located into a
      submenu) identification in the EDITOR.h file.</p>
      <p><em>itemID</em>: the item identification in the EDITOR.h file.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc737">7.3.7</a> TtaSetToggleItem</h4>
<a name="L33225"></a>

<p>Sets on/off the toggle of an item in the menu bar of the view of the
document. If the document and view parameters are null, the menu is a
application window menu.</p>
<hr>

<p>void TtaSetActionOn(Document document, View view, int menuID, int itemID,
ThotBool on)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>document</em>: the document concerned or 0.
      <p><em>view</em>: the view concerned or 0.</p>
      <p><em>menuID</em>: the main menu (even if the item is located into a
      submenu) identification in the EDITOR.h file.</p>
      <p><em>itemID</em>: the item identification in the EDITOR.h file.</p>
      <p><em>on</em>: the value True or False to be set.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc738">7.3.8</a> TtaSetCursorWatch</h4>
<a name="L8797"></a>

<p>Displays the cursor watch within the view of the document. If the document
and view parameters are NULL, displays the cursor watch within all views of
documents.</p>
<hr>

<p>void TtaSetCursorWatch (Document document, View view)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>document</em>: the document concerned or 0.
      <p><em>view</em>: the view concerned or 0.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc739">7.3.9</a> TtaResetCursor</h4>
<a name="L8827"></a>

<p>Resets the standard cursor within the view of the document. If the
document and view parameters are NULL, resets the standard cursor within all
views of documents.</p>
<hr>

<p>void TtaResetCursor(Document document, View view)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>dument</em>: the documen or 0.
      <p><em>view</em>: the view or 0.</p>
    </dd>
</dl>
</div>
</div>
</div>

<div class="Section">
<h2><a name="secta8">8</a> <a name="L8857">Messages</a></h2>

<p>The functions described in this section require that file
<em>message.h</em> be included in the modules that call them.</p>

<p>The following functions are available in both the Thot Editor library and
the ThotKernel library. They allow an application program to manage messages
and dialogue text, as Thot tool kits do. Text of dialogue boxes and error
messages is defined out of the application code and is dynamically loaded
when the application is executed. This method allows application to adapt its
interface to the current user (English text for English user, French text for
French user, etc.). Each message is numbered, code referencing the message by
its number and an external file associating this number with its
corresponding text. An <a name="L8869"></a>environment variable is used to
reach the correct file that contains text of messages at the execution time.
If this file is not reachable, a warning message is sent to the standard
output, but the execution is not automatically stopped. Nevertheless, the
Thot Editor library stops execution when its text file is not reachable
because it cannot work without.</p>

<p>We give an example of an application that needs four messages. The
applicationMSG.h file is used to address correct message in source code and
the en-applicationTXT gives the English version of messages text:</p>

<table border="0">
  <tbody>
    <tr>
      <td width="50%"><p>#define APP_start              0</p>

        <p>#define APP_abort             1</p>

        <p>#define APP_no_file          2</p>

        <p>#define APP_complete      3</p>

        <p>#define APP_MSG_MAX 4</p>

        <p>applicationMSG.h</p>
      </td>
      <td width="50%"><p>0   Application</p>

        <p>1   Application aborted</p>

        <p>2   Unreachable file %s</p>

        <p>3   End of application</p>

        <p></p>

        <p>en-applicationTXT</p>
      </td>
    </tr>
  </tbody>
</table>

<p></p>

<p>The application has to load the rigth message table:</p>
<pre>errorTable = TtaGetMessageTable("applicationTXT", APP_MSG_MAX);</pre>

<p>and displays the third error message using one of available display
function (for example the TtaDisplayMessage function and TtaGetMessage):</p>
<pre>TtaDisplayMessage(FATAL, TtaGetMessage(errorTable, APP_no_file), filename);</pre>

<div class="Section">
<h3><a name="sectb81">8.1</a> Constructors</h3>

<div class="Section">
<h4><a name="sectc811">8.1.1</a> TtaGetMessageTable</h4>
<a name="L8927"></a>

<p>Loads text of application messages in a dynamically allocated table and
returns the identifcation of this messages table. The <code>msgFile</code> is
the generic name of the message file to be loaded. The <code>msgNumber</code>
parameter denotes the number of messages to be read in the file.The full name
of the loaded file is  <code>$THOTDIR/config/$LANG-msgFile</code>, where
<code>$THOTDIR</code> represents the root path of Thot hierarchy and
<code>$LANG</code> represents the current language (for example
<code>en</code>). <code>$THOTDIR</code> is computed by the Thot toolkit and
<code>$LANG</code> can be set in the user registry <code>thot.ini</code>.</p>
<hr>

<p>int TtaGetMessageTable(char *msgFile, int msgNumber)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>msgFile</em>: the generic name of the message file.
      <p>msgNumber: the number of messages.</p>
    </dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>The messages table identifier or -1 if the table is not allocated and
      loaded.</dd>
</dl>
</div>
</div>

<div class="Section">
<h3><a name="sectb82">8.2</a> Accessors</h3>

<div class="Section">
<h4><a name="sectc821">8.2.1</a> TtaGetMessage</h4>
<a name="L8968"></a>

<p>Returns the text of the corresponding message.</p>
<hr>

<p>char *TtaGetMessage(int msgTableID, int msgIndex)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>msgTableID</em>: identifier of the messages table.
      <p><em>msgIndex</em>: index of the message.</p>
    </dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>Text of the message (an empty text if the table or the message is not
      found).</dd>
</dl>
</div>
<a name="L9005"></a>

<div class="Section">
<h4><a name="sectc822">8.2.2</a> TtaDisplaySimpleMessage</h4>
<a name="L9007"></a>

<p>Displays the text of a simple message. This message is often displayed in
the message area of the main application window ¾ if it exists ¾ or directed
to the standard output for batch applications.</p>

<p>The msgType parameter defines the importance of the message:</p>
<ul>
  <li>INFO: the message is displayed in the message area of the main
    application window just as an information.</li>
  <li>OVERHEAD: the message replaces the previous message in the message area
    of the main application window.</li>
  <li>FATAL: the message stops the application with an  error code.</li>
  <li>CONFIRM: the message pops a message box to display the message within
    and waits for until the end user confirms the message has been read.</li>
</ul>
<hr>

<p>void TtaDisplaySimpleMessage(int msgType, int msgTableID, int msgIndex)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><p><em>msgType</em>: the message type (INFO,  OVERHEAD, FATAL,
      CONFIRM).</p>
      <p><em>msgTableID</em>: identifier of the messages table (LIB for the
      standard Thot messages).</p>
      <p><em>msgIndex</em>: index of the message.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc823">8.2.3</a> TtaDisplayMessage</h4>
<a name="L9057"></a>

<p>Displays a message mixing static text (the text of the message) with a
variable number of parameters. The static text plays the role of a format
(like the prinf format) and may include necessary format commandes for each
parameter: a %s for a string, a %d for an integer. Number and type of
variable parameters depend on format commands included in the message
text.</p>

<p>.</p>
<hr>

<p>void TtaDisplayMessage(int msgType, msgTableID, int msgIndex, ...)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><p><em>msgType</em>: the message type (INFO,  OVERHEAD, FATAL,
      CONFIRM).</p>
      <p><em>msgTableID</em>: identifier of the messages table (LIB for the
      standard Thot messages).</p>
      <p><em>msgIndex</em>: index of the message.</p>
      <p><em>...</em>: variable parameters.</p>
    </dd>
</dl>
</div>
</div>
</div>

<div class="Section">
<h2><a name="secta9">9</a> <a name="L9217">Dialogue</a></h2>

<p>The Thot editing tool kit provides dialogue functions. There are high
level functions that hide most of the complex aspects of OSF/Motif and thus
allows an application to use OSF/Motif very easily and dynamically (all
dialogue entities such as menus, buttons, forms, etc. can be created and
modified at any time). As these dialogue functions are already used
internally by the editing tool kit, another reason for an application to use
it, is to present the user with a homogeneous and consistent look and feel
for the whole application.</p>

<p>The functions described in this section require that file
<em>dialogue.h</em> be included in the module that calls them. They are
available only in the Thot Editor library.</p>

<p>Each dialogue element is identified by a unique reference. This reference
is associated to the dialogue element at the creation time and will be used
all along the time it exists to perform any action on it (intialization,
display, undisplay and destruction).</p>

<p>The application receives dialogue callbacks from created and displayed
dialogue elements through predefined specific callback procedures. The
application can define several callback procedures (at least one) and each
callback procedure can manage callbacks from several dialogue elements. Each
callback identifies the concerned element dialogue and allows the procedure
to switch on the correct management.</p>

<div class="Section">
<h3><a name="sectb91">9.1</a> Constructors</h3>

<div class="Section">
<h4><a name="sectc911">9.1.1</a> TtaSetCallback</h4>
<a name="L34387"></a>

<p>This function defines a callback procedure for a set of dialogue elements
(menus. forms, etc.). The function returns the current base value of
concerned dialogue elements and reserves the set of references contained
between "base" and "base+set-1". After that declaration dialogue elements can
be created.</p>

<p>When the user acts on these dialogue elements, the callback procedure is
called with three parameters:</p>
<ul>
  <li>the reference of the concerned dialogue element,</li>
  <li>the type of the returned value (INTEGER_DATA or STRING_DATA) depending
    of the dialogue element type (menu, form, text-form, etc.),</li>
  <li>the returned data.</li>
</ul>
<hr>

<p>int TtaSetCallback (Proc callbakProcedure, int set)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>callbakProcedure</em>: the callback procedure to be called . That
      procedure has to be previously declared like that:<br>
      void Proc (int reference, int typeData, char *data)
      <p><em>set</em>: the number of concerned dialogue elements.</p>
    </dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>the base of dialogue element references.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc912">9.1.2</a> TtaSetBackup</h4>
<a name="L59308"></a>

<p>This function defines a backup procedure . If the application crashes for
any reason and almost one document is modified that procedure Backup is
called. That procedure has no parameter.</p>
<hr>

<p>void TtaSetBackup (Proc Backup)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>Backup</em>: the  procedure to be called. That procedure has to
      be previously declared like that:<br>
      void Proc ()</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc913">9.1.3</a> TtaSetDocStatusUpdate</h4>
<a name="L59387"></a>

<p>This function defines a procedure which updates the application context
each time the document of a document changes.</p>

<p>When the status of a document changes (it becomes modified or unmodified)
the procedure DocStatusUpdate is called with two parameters:</p>
<ul>
  <li>the document identifier,</li>
  <li>the new status status: TRUE if it's now modified, otherwise FALSE.</li>
</ul>
<hr>

<p>void TtaSetDocStatusUpdate (Proc DocStatusUpdate)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>DocStatusUpdate</em>: the procedure to be called That procedure
      has to be previously declared like that:<br>
      void Proc (Document doc, ThotBool modifed)</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc914">9.1.4</a> TtaNewForm</h4>
<a name="L34475"></a>

<p>This function creates a form element attached to the ThotWidget parent.
When the parent ThotWidget is distroyed, the ThotWidget that realizes this
form is automatically destroyed. Usually the parent is the document view
frame returned by the API function <code>TtaGetViewFrame (document, view)
</code>and the form has to be destroyed before closing the document view.</p>

<p>As seen in the example below, the fonction automatically generates two
buttons on the bottom of the form:</p>
<ul>
  <li>a "confirm" button</li>
  <li>and a "cancel/done" button.</li>
</ul>

<p>The parameter dbutton controls the choice of the "cancel/done" button. Two
values are available: D_CANCEL or D_DONE.</p>
<img src="form.gif" alt="Image form.gif">
<hr>

<p>void TtaNewForm (int ref, ThotWidget parent, char *title, ThotBool
horizontal, int packet, char button, int dbutton)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>ref</em>: the unique reference attached to the dialogue element.
      <p><em>parent</em>: the ThotWidget parent (usually TtaGetViewFrame
      (document, view)).</p>
      <p><em>title</em> the title or NULL.</p>
      <p><em>horizontal</em> is TRUE if dialogue elements included into the
      form are arranged horizontally.</p>
      <p><em>packet</em> number of dialogue elements in the same line if
      arranged horizontally or in the same column is arranged vertically.</p>
      <p><em>button</em> the mouse button used to select the element
      dialogue:</p>
      <ul>
        <li>'L' for left button,</li>
        <li>'M' for middle button,</li>
        <li>'R' for right button.</li>
      </ul>
      <p><em>dbutton</em> the type of "cancel/done" button: D_CANCEL or
      D_DONE.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc915">9.1.5</a> <a name="L34518">TtaNewSheet</a></h4>
<a name="L34519"></a>

<p>This function creates a sheet element attached to the ThotWidget parent.
When the parent ThotWidget is destroyed, the ThotWidget that realizes this
sheet is automatically destroyed. Usually the parent is the document view
frame returned by the API function  TtaGetViewFrame (document, view)  and the
sheet has to be destroyed before closing the document view.</p>

<p>A sheet is similar to a form element, but only the "cancel/done" button is
automatically generated and other extra buttons are explicitly declared. The
parameter dbutton controls the choice of the "cancel/done" button. Two values
are available: D_CANCEL or D_DONE. In the example below, four extra buttons
had been declared: "Skip and next", "Skip (+dic)", "Replace and next" and
"Replace (+dic)".</p>
<img src="sheet.gif" alt="Image sheet.gif">
<hr>

<p>void TtaNewSheet (int ref, ThotWidget parent, char *title, int number,
char *text, ThotBool horizontal, int packet, char button, int dbutton)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>ref</em>: the unique reference attached to the dialogue element.
      <p><em>parent</em>: the ThotWidget parent (usually TtaGetViewFrame
      (document, view)).</p>
      <p><em>title</em> the title or NULL.</p>
      <p><em>number</em>: number of extra buttons declared in the sheet.</p>
      <p><em>text</em>: the list of strings declaring extra buttons ("A\0B\0"
      for two extra buttons A and B).</p>
      <p><em>horizontal</em> is TRUE if dialogue elements included into the
      form are arranged horizontally.</p>
      <p><em>packet</em> number of dialogue elements in the same line if
      arranged horizontally or in the same column is arranged vertically.</p>
      <p><em>button</em> the mouse button used to select the element
      dialogue:</p>
      <ul>
        <li>'L' for left button,</li>
        <li>'M' for middle button,</li>
        <li>'R' for right button.</li>
      </ul>
      <p><em>dbutton</em> the type of "cancel/done" button: D_CANCEL or
      D_DONE.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc916">9.1.6</a> TtaNewDialogSheet</h4>
<a name="L35163"></a>

<p>This function creates a dialog sheet element attached to the ThotWidget
parent. When the parent ThotWidget is distroyed, the ThotWidget that realizes
this sheet is automatically destroyed. Usually the parent is the document
view frame returned by the API function  TtaGetViewFrame (document, view) and
the sheet has to be destroyed before closing the document view.</p>

<p>A dialog sheet is similar to a sheet element, but no "cancel/done" button
is automatically generated.</p>
<hr>

<p>void TtaNewDialogSheet (int ref, ThotWidget parent, char *title, int
number, char *text, ThotBool horizontal, int packet, char button)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>ref</em>: the unique reference attached to the dialogue element.
      <p><em>parent</em>: the ThotWidget parent (usually TtaGetViewFrame
      (document, view)).</p>
      <p><em>title</em> the title or NULL.</p>
      <p><em>number</em>: number of extra buttons declared in the sheet.</p>
      <p><em>text</em>: the list of strings declaring extra buttons ("A\0B\0"
      for two extra buttons "A" and "B").</p>
      <p><em>horizontal</em> is TRUE if dialogue elements included into the
      form are arranged horizontally.</p>
      <p><em>packet</em> number of dialogue elements in the same line if
      arranged horizontally or in the same column is arranged vertically.</p>
      <p><em>button</em> the mouse button used to select the element
      dialogue:</p>
      <ul>
        <li>'L' for left button,</li>
        <li>'M' for middle button,</li>
        <li>'R' for right button.</li>
      </ul>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc917">9.1.7</a> TtaNewSubmenu</h4>
<a name="L34633"></a>

<p>This function creates a submenu element attached to a menu entry or a form
(form, sheet or dialog sheet). In a form, a submenu is displayed as a radio
menu (see the menu "Paper Format" in the example presented in <a
href="#sectc915">9.1.5</a>). Only one entry of this menu can be selected at
the same time.</p>

<p>Each entry is typed:</p>
<ul>
  <li>a simple button,</li>
  <li>a link towards a form,</li>
  <li>a link towards a submenu,</li>
  <li>toggle button,</li>
  <li>a separator.</li>
</ul>
<hr>

<p>void TtaNewSubmenu (int ref, int ref_parent, int entry, char *title, int
number, char *text, char *equiv, ThotBool react)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>ref</em>: the unique reference attached to the dialogue element.
      <p><em>ref_parent</em>: the reference of parent element (a menu or a
      form).</p>
      <p><em>entry</em>: the entry index (0 to n) in the parent menu which
      the submenu is attached to. For a submenu attached to  a form this
      paramameter is not treated.</p>
      <p><em>title</em> the title or NULL.</p>
      <p><em>number</em>: number of entries declared in the submenu.</p>
      <p><em>text</em>: the list of strings declaring entries. Each entry
      starts with a special character that fixes the entry function:</p>
      <ul>
        <li>'B' the entry is a simple button,</li>
        <li>'F' the entry calls a form,</li>
        <li>'M' the entry calls a submenu,</li>
        <li>'T' the entry is a toggle.</li>
        <li>'S" the entry is a separator (the entry string is limited to this
          character).</li>
      </ul>
      <p>For example the text value "TA\0B" declares a toggle entry "A" and a
      button entry "B".</p>
      <p><em>equiv</em>: the list of strings declaring shortcuts attached to
      each entry. This parameter can be NULL if no shortcut is declared.</p>
      <p><em>react</em>: TRUE if the application wants to be informed as soon
      as the user selects in this submenu in a form. FALSE if the application
      prefers to wait for the confirmation of the form to receive the
      selected value.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc918">9.1.8</a> TtaNewIconMenu</h4>
<a name="L34679"></a>

<p>This function creates a submenu element attached to a menu entry or a form
(form, sheet or dialog sheet). This submenu is composed of icons. Only one
entry of this menu can be selected at the same time. This menu is always
reactive.</p>
<hr>

<p>void TtaNewIconMenu (int ref, int ref_parent, int entry, char *title, int
number, Pixmap * icons, ThotBool horizontal)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>ref</em>: the unique reference attached to the dialogue element.
      <p><em>ref_parent</em>: the reference of parent element (a menu or a
      form).</p>
      <p><em>entry</em>: the entry index (0 to n) in the parent menu which
      the submenu is attached to. For a submenu attached to  a form this
      paramameter is not treated.</p>
      <p><em>title</em> the title or NULL.</p>
      <p><em>number</em>: number of entries declared in the menu.</p>
      <p><em>icons</em>: the list of pixmaps.</p>
      <p><em>horizontal</em> is TRUE if entries are arranged horizontally.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc919">9.1.9</a> TtaNewToggleMenu</h4>
<a name="L34656"></a>

<p>This function creates a toggle menu element attached to a  form (form,
sheet or dialog sheet). This menu is displayed as a toggle menu (see the menu
"Options" in the example presented in <a href="#sectc915">9.1.5</a>). Only or
more entries of this menu can be selected at the same time.</p>

<p>Each entry is typed:</p>
<ul>
  <li>a toggle,</li>
  <li>a separator.</li>
</ul>
<hr>

<p>void TtaNewToggleMenu (int ref, int ref_parent, char *title, int number,
char *text, char *equiv, ThotBool react)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>ref</em>: the unique reference attached to the dialogue element.
      <p><em>ref_parent</em>: the reference of parent element (a form).</p>
      <p><em>title</em> the title or NULL.</p>
      <p><em>number</em>: number of entries declared in the menu.</p>
      <p><em>text</em>: the list of strings declaring entries. Each entry
      starts with a special character that fixes the entry function:</p>
      <ul>
        <li>'B' or 'T' the entry is a simple button,</li>
        <li>'S" the entry is a separator (the entry string is limited to this
          character).</li>
      </ul>
      <p>For example the text value "TA\0S\0BC" declares an entry "A", a
      separator and an entry "C".</p>
      <p><em>equiv</em>: the list of strings declaring shortcuts attached to
      each entry. This parameter can be NULL if no shortcut is declared.</p>
      <p><em>react</em>: TRUE if the application wants to be informed as soon
      as the user selects in this submenu in a form. FALSE if the application
      prefers to wait for the confirmation of the form to receive the
      selected value.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc9110">9.1.10</a> TtaNewSelector</h4>
<a name="L34702"></a>

<p>This function creates a selector element attached to a  form (form, sheet
or dialog sheet).</p>

<p>The selector can be displayed with or without a text input zone (controled
by the parameter <code>withText</code>) that allows user to choose a
predefined string into the selector or to insert directly  a free text. The
selector can be displayed with or without a label (controled by the parameter
<code>label</code>) that allow user to select this fixed.</p>

<p>In the previous example presented in <a href="#sectc915">9.1.5</a>, a
selector is displayed with the title "Spell checking ...", a text zone and
the label "W3C".</p>
<hr>

<p>void TtaNewSelector (int ref, int ref_parent, char *title, int number,
char *text, int height, char *label, ThotBool withText, ThotBool react)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>ref</em>: the unique reference attached to the dialogue element.
      <p><em>ref_parent</em>: the reference of parent element (a form).</p>
      <p><em>title</em> the title or NULL.</p>
      <p><em>number</em>: number of entries declared in the submenu.</p>
      <p><em>text</em>: the list of strings declaring entries. For example
      the text value "A\0B\0C" declares an entrries "A", "B" and "C".</p>
      <p><em>height</em>: the height of the selector (number of entries
      displayed).</p>
      <p><em>label</em>: the label string of the extra entry or NULL.</p>
      <p><em>withText</em>: TRUE if the application wants to display a text
      zone at the selector bottom.</p>
      <p><em>react</em>: TRUE if the application wants to be informed as soon
      as the user selects in this selector. FALSE if the application prefers
      to wait for the confirmation of the form to receive the selected
      value.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc9111">9.1.11</a> TtaNewLabel</h4>
<a name="L34725"></a>

<p>This function creates a label element attached to a  form (form, sheet or
dialog sheet). In the previous example presented in <a
href="#sectc915">9.1.5</a>, there is a label element "Language: English".</p>
<hr>

<p>void TtaNewLabel (int ref, int ref_parent, char *text)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>ref</em>: the unique reference attached to the dialogue element.
      <p><em>ref_parent</em>: the reference of parent element (a form).</p>
      <p><em>text</em>: the text of the label.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc9112">9.1.12</a> TtaNewTextForm</h4>
<a name="L34748"></a>

<p>This function creates a text input zone attached to a  form (form, sheet
or dialog sheet). In the previous example presented in <a
href="#sectc915">9.1.5</a>, there is a text input zone without title.</p>
<hr>

<p>TtaNewTextForm (int ref, int ref_parent, char *title, int width, int
height, ThotBool react)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>ref</em>: the unique reference attached to the dialogue element.
      <p><em>ref_parent</em>: the reference of parent element (a form).</p>
      <p><em>title</em> the title or NULL.</p>
      <p><em>width</em>: number of charaters displayed.</p>
      <p><em>height</em>: tnumber of lines displayed.</p>
      <p><em>react</em>: TRUE if the application wants to be informed as soon
      as the user inserts characters. FALSE if the application prefers to
      wait for the confirmation of the form to receive the final string.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc9113">9.1.13</a> TtaNewNumberForm</h4>
<a name="L34771"></a>

<p>This function creates an input zone for integer values attached to a  form
(form, sheet or dialog sheet). In the previous example presented in <a
href="#sectc915">9.1.5</a>, there is an input zone for integer values (from 1
to 10) displayed with the title "Number of proposals".</p>
<hr>

<p>void TtaNewNumberForm (int ref, int ref_parent, char *title, int min, int
max, ThotBool react)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>ref</em>: the unique reference attached to the dialogue element.
      <p><em>ref_parent</em>: the reference of parent element (a form).</p>
      <p><em>title</em> the title or NULL.</p>
      <p><em>min</em>: the minimum integer value.</p>
      <p><em>max</em>: the maximum integer value.</p>
      <p><em>react</em>: TRUE if the application wants to be informed as soon
      as the user inserts characters. FALSE if the application prefers to
      wait for the confirmation of the form to receive the final string.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc9114">9.1.14</a> TtaDestroyDialogue</h4>

<p>This function destroys an existing dialogue element.</p>
<hr>

<p>void TtaDestroyDialogue (int ref)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><p><em>ref</em>: the unique reference attached to the dialogue
      element.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc9115">9.1.15</a> TtaListDirectory</h4>
<a name="L9232"></a>

<p>Creates one or two selectors that allow end-user to select a directory
and/or a file included within the current specified directory. This function
supposes that the application had first created a form where selectors have
to be inserted. The application is able to create either only the directory
selector or only the file selector. A suffix can be specified if the
application wants to filter a specific class of files. It is the
responsibility of the application to receive and handle the selectors
callback.</p>
<hr>

<p>void TtaListDirectory(char *aDirectory, int formRef, char *dirTitle, int
dirRef, char *suffix, char *fileTitle, int fileRef)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>aDirectory</em>: the current designated directory.
      <p><em>formRef</em>: the form identification.</p>
      <p><em>dirTitle</em>: the title of the directory selector.</p>
      <p><em>dirRef</em>: the directory selector identification or -1 if this
      selector is not desired.</p>
      <p><em>suffix</em>: the suffix used for filtering files (for example
      ".PIV")</p>
      <p><em>fileTitle</em>: the title of the file selector.</p>
      <p><em>fileRef</em>: the file selector identification or -1 if this
      selector is not desired.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc9116">9.1.16</a> TtaIsSuffixFileIn</h4>
<a name="L9290"></a>

<p>Returns True if the specified directory contains files with the specified
suffix.</p>
<hr>

<p>ThotBool TtaIsSuffixFileIn(char *aDirectory, char *suffix)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>aDirectory</em>: the current designated directory.
      <p><em>suffix</em>: the suffix used for filtering files (for example
      ".PIV")</p>
    </dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>True or False.</dd>
</dl>
</div>
</div>

<div class="Section">
<h3><a name="sectb92">9.2</a> Modificators</h3>

<div class="Section">
<h4><a name="sectc921">9.2.1</a> TtaSetMenuForm</h4>
<a name="L35703"></a>

<p>Selects an entry in a radio menu (submenu) of a form.</p>
<hr>

<p>void TtaSetMenuForm (int ref, int entry)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><p><em>ref</em>: the unique reference attached to the dialogue
      element.</p>
      <p><em>entry</em>: the selected entry (0 to n).</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc922">9.2.2</a> TtaSetToggleMenu</h4>

<p>Changes the status of a toggle entry of a menu (submenu or toggle menu) in
a form.</p>
<hr>

<p>void TtaSetToggleMenu (int ref, int value, ThotBool on)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><p><em>ref</em>: the unique reference attached to the dialogue
      element.</p>
      <p><em>entry</em>: the selected entry (0 to n).</p>
      <p><em>on</em>: fixes the status of the toggle; TRUE if the toggle is
      selected.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc923">9.2.3</a> TtaSetTextForm</h4>

<p>Changes the current value of the text form.</p>
<hr>

<p>void TtaSetTextForm (int ref, STRING text)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><p><em>ref</em>: the unique reference attached to the dialogue
      element.</p>
      <p><em>text</em>: the new string.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc924">9.2.4</a> TtaShowDialogue</h4>

<p>This function displays an existing dialogue (form, sheet, dialog
sheet).</p>
<hr>

<p>void TtaShowDialogue (int ref, ThotBool remanent)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><p><em>ref</em>: the unique reference attached to the dialogue
      element.</p>
      <p><em>remanent</em>: TRUE if the dialogue element is not automatically
      unmapped.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc925">9.2.5</a> TtaUnmapDialogue</h4>

<p>This function undisplays an existing dialogue (form, sheet, dialog
sheet).</p>
<hr>

<p>void TtaUnmapDialogue (int ref)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><p><em>ref</em>: the unique reference attached to the dialogue
      element.</p>
    </dd>
</dl>
</div>
</div>
</div>

<div class="Section">
<h2><a name="secta10">10</a> <a name="L822">Documents and schemas</a></h2>

<p>The functions described in this section require that file
<em>document.h</em> be included in the module that calls them.</p>
<a name="L831"></a>
<dl>
  <dt>Document identification</dt>
    <dd>An application program using the Thot editing tool kit can handle
      several documents at the same time. These documents can be defined by
      the same structure schema or by different structure schemas as well.
      Before any other operation can be performed, a document must be either
      created (<a name="L840"></a>TtaNewDocument), if it does not exist yet,
      or opened (TtaOpenDocument), if it exists in a file. These two
      functions return a value of type Document that is then used for
      identifying the document to which subsequent operations apply. The only
      exception is the function <a name="L844"></a>TtaGiveSchemasOfDocument
      which accesses a document by its name.
      <p>The name of a document is a character string (maximum length is 19
      characters, not including the extension) that is used for naming the
      file containing the document and that appears in the user dialogue
      (Thot Editor only).</p>
    </dd>
</dl>
<dl>
  <dt>Document files</dt>
    <dd>Documents are stored in Unix files. Actually, a single document is
      represented by several files. All these files have the same name as the
      document, with different extensions:
      <ul>
        <li>The .PIV file contains the last version of the document (logical
          structure, contents, logical attributes and specific presentation
          rules). A .PIV file is created each time the document is saved,
          either by the user or by the application program (function <a
          name="L866"></a>TtaSaveDocument). The .PIV file is the file read by
          the <a name="L870"></a>TtaOpenDocument function.</li>
        <li>The .OLD file contains the previous version of the document. It
          is a copy of the .PIV file before the last save operation.</li>
        <li>The .BAK file contains a version of the document that is written
          periodically for allowing recovery from crashes. It is removed each
          time the document is saved successfully, but if the system or the
          application crashes, it must be renamed .PIV and can be used as an
          ordinary document file.</li>
        <li>The .SAV file is also a backup file. It is created by the tool
          kit when an internal error occurs and when it can save the
          document. This file contains the state of the document at the very
          moment of the crash. It can be used in the same way as the .BAK
          file.</li>
        <li>The .EXT and .REF files contain the representation of the links
          that relate the document with other documents. These files do not
          exist if the document has no relations (references) with other
          documents. If they exist, they must be in the same directory as the
          .PIV file. They are read by the function <a
          name="L890"></a>TtaOpenDocument.</li>
      </ul>
    </dd>
</dl>
<dl>
  <dt>Directories</dt>
    <dd>A list of directories, called the <em>document path</em>, is used for
      searching the files needed when opening a document (.PIV, .REF and .EXT
      files). This path is initially set by the environment variable THOTDOC
      and it can be changed at any time by the function <a
      name="L904"></a>TtaSetDocumentPath. When a document is created
      (TtaNewDocument), all corresponding files are created in the first
      directory of the document path.
      <p>Another list of directories is used when searching the schemas
      needed by a document that is created (<a
      name="L912"></a>TtaNewDocument) or opened (TtaOpenDocument). The
      <em>schema path</em> is initially set by the environment variable
      THOTSCH and it can be changed at any time by the function <a
      name="L918"></a>TtaSetSchemaPath. This path is also used by the
      function <a name="L922"></a>TtaNewNature.</p>
    </dd>
</dl>
<dl>
  <dt>Access mode</dt>
    <dd>When using Thot Editor, the application program may ask the tool kit
      to prevent the user from modifying the document: an access mode
      (allowed values are read/write and read only) is associated with the
      whole document. The functions of the editing tool kit are not affected
      by the access mode; an application program can modify a document even
      if it is in read only mode. The access mode only applies to the
      operations performed by the user, who cannot modify a document that is
      in read only mode. When creating or opening a document, the access mode
      is set to read/write, but it can be changed at any time by the function
      <a name="L935"></a>TtaSetDocumentAccessMode.
      <p>An application program can more precisely control the operations
      that the user is allowed to perform, by associating an access mode with
      each element in a document. This is explained in section <a
      href="#secta11">11</a>.</p>
    </dd>
</dl>
<dl>
  <dt>Natures</dt>
    <dd>Many structured documents contain objects of different
      <em>natures</em>, such as tables, equations, drawings, bibliographic
      items, etc. which are themselves logically structured. For avoiding to
      define the structure of these objects in the structure schemas of all
      document types, these objects are defined in separate structure
      schemas, one for each nature of objects, and they can be dynamically
      linked to document structure schemas. This can be repeated recursively:
      if an object of a given nature includes objects of other natures, its
      structure schema must include the structure schemas of the included
      natures.
      <p>When the first object of a given nature is created in a document or
      in an object of another nature, the structure schema that defines the
      new nature must be linked to the structure schema that defines the
      document or object in which it is included. This is achieved by calling
      the function <a name="L958"></a>TtaNewNature.</p>
    </dd>
</dl>
<dl>
  <dt>Schema extensions</dt>
    <dd>Documents produced by Thot may be processed by other applications,
      which are either independent from the editor or included in it.
      Examples of such applications are the comparison of two versions of a
      document (independent from the editor) or the electronic index
      (included in the editor). Many of these applications make use of their
      own structural elements or attributes, which are related to the
      application itself and which are necessary for the application,
      whatever the document type. A <em>structure schema extension</em> is a
      special type of structure schema that defines attributes and elements
      of that kind and that can be associated to the main structure schema of
      any document for allowing an application to create in the document its
      own attributes and elements, which are not defined in the document
      structure schema. When several applications have to work on the same
      document, several schema extensions can be associated to the main
      structure schema of that document.</dd>
</dl>

<div class="Section">
<h3><a name="sectb101">10.1</a> Constructors</h3>

<div class="Section">
<h4><a name="sectc1011">10.1.1</a> TtaNewDocument</h4>
<a name="L981"></a>

<p>Creates the internal representation of a new document according to a given
structure schema. No file is created immediately, but the backup files (.BAK
and .SAV) and the document file (.PIV, see TtaNewDocument) will be created in
the first directory of the document path (see TtaSetDocumentPath).</p>
<hr>

<p>Document TtaNewDocument(char *structureSchema, char *documentName)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>structureSchema</em>: name of the structure schema that defines
      the type of document to be created.
      <p><em>documentName</em>: name of the document to be created (maximum
      length 19 characters). The directory name is not part of this parameter
      (see <a name="L1010"></a>TtaSetDocumentPath).</p>
    </dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>the document that has been created or 0 if the document has not been
      created.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1012">10.1.2</a> TtaOpenDocument</h4>
<a name="L1024"></a>

<p>Opens an existing document for subsequent operations.</p>
<hr>

<p>Document TtaOpenDocument(char *documentName, int accessMode)</p>
<hr>
<pre>Document TtaOpenDocument(documentName, accessMode)
char *documentName;
int accessMode;</pre>
<dl>
  <dt>Parameters:</dt>
    <dd><em>documentName</em>: name of the file containing the document to be
      open. (maximum length 19 characters). The directory name is not part of
      this parameter (see <a name="L1049"></a>TtaSetDocumentPath).
      <p><em>accessMode</em>: 0 = read only, 1 = read-write.</p>
    </dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>the opened document, or 0 if the document cannot be open.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1013">10.1.3</a> TtaSaveDocument</h4>
<a name="L1066"></a>

<p>Saves a document into a file in Thot format (.PIV). The document is not
closed by the function and can still be accessed by the application
program.</p>
<hr>

<p>void TtaSaveDocument(Document document, char *documentName)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>document</em>: the document to be saved.
      <p><em>documentName</em>: name of the file in which the document must
      be saved. (maximum length 19 characters). The directory name is not
      part of this parameter (see <a name="L1095"></a>TtaSetDocumentPath). If
      the documentName is not the same as the one used when opening (see <a
      name="L1099"></a>TtaOpenDocument) or creating (see <a
      name="L1103"></a>TtaNewDocument) the document, a new file is created
      and the file with the old name is unchanged, i. e. a new version is
      created. If necessary, the old file can be removed by the function <a
      name="L1107"></a>TtaRemoveDocument.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1014">10.1.4</a> TtaExportDocument</h4>
<a name="L13418"></a>

<p>Saves a document into a file in a particular format. The output format is
specified by a translation schema. The document is not closed by the function
and it can still be accessed by the application program.</p>
<hr>

<p>ThotBool TtaExportDocument(Document document, char *fileName, char
*TSchemaName)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>document</em>: the document to be exported.
      <p><em>fileName</em>: name of the file in which the document must be
      saved, including the directory name.</p>
      <p><em>TSchemaName</em>: name of the translation schema to be used. The
      directory name must not be specified in parameter TSchemaName. See
      function TtaSetSchemaPath.</p>
    </dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>TRUE if the document has not saved.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1015">10.1.5</a> TtaCloseDocument</h4>
<a name="L1112"></a>

<p>Closes a document that is no longer needed and releases all ressources
allocated to the document. This function does not save the document.</p>
<hr>

<p>void TtaCloseDocument(Document document)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>document</em>: the document to be closed.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1016">10.1.6</a> TtaRemoveDocument</h4>
<a name="L1137"></a>

<p>Closes a document, releases all ressources allocated to that document,
removes all files related to the document and updates all links connecting
the removed document with other documents.</p>
<hr>

<p>void TtaRemoveDocument(Document document)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>document</em>: the document to be removed.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1017">10.1.7</a> TtaSetDocumentPath</h4>
<a name="L1161"></a>

<p>Sets a new list of document directories. This list replaces the existing
one. It is used for searching a document when it is open either by the user
or by the application program (see <a name="L1169"></a>TtaOpenDocument). The
first directory in the list is used when a new document is created (see
TtaNewDocument).</p>
<hr>

<p>void TtaSetDocumentPath(char *path)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>path</em>: the directory list, where directory names are
      separated by the character ':'.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1018">10.1.8</a> TtaAppendDocumentPath</h4>
<a name="L1189"></a>

<p>Appends a new directory in the list of document directories. The function
controls that the parameter is the name of an existing directory and sets an
error if it is not. If the new directory is within the list of document
directories yet, the function has no effect.</p>
<hr>

<p>void TtaAppendDocumentPath(aDirectory)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>aDirectory</em>: the new directory name.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1019">10.1.9</a> TtaSetSchemaPath</h4>
<a name="L1213"></a>

<p>Sets a new list of schema directories. This list replaces the existing
one. It is used for searching schemas.</p>
<hr>

<p>void TtaSetSchemaPath(char *path)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>path</em>: the directory list, where directory names are
      separated by the character ':'.</dd>
</dl>
</div>
</div>

<div class="Section">
<h3><a name="sectb102">10.2</a> Modificators</h3>

<div class="Section">
<h4><a name="sectc1021">10.2.1</a> TtaNewNature</h4>
<a name="L1242"></a>

<p>Adds a new nature in a structure schema and returns the structure schema
of the new nature. If the nature already exists in that structure schema, the
function simply returns the structure schema of that nature.</p>
<hr>

<p>SSchema TtaNewNature(SSchema schema, char *natureName, char
*presentationName)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>schema</em>: the structure schema to which the nature is added.
      <p><em>natureName</em>: name of the nature to be added in the structure
      schema.</p>
      <p><em>presentationName</em>: name of the presentation schema to be
      associated with the extension schema. If presentationName is an empty
      string, the default presentation schema is associated. If the nature
      already exists, presentationName is ignored.</p>
    </dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>the structure schema of the new nature; NULL if the structure schema
      has not been loaded.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1022">10.2.2</a> TtaNewSchemaExtension</h4>
<a name="L1285"></a>

<p>Loads a structure schema extension and associates it with a given
document.</p>
<hr>

<p>SSchema TtaNewSchemaExtension(Document document, char *extensionName, char
*presentationName)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>document</em>: the document whose structure schema must be
      extended.
      <p><em>extensionName</em>: name of the extension schema.</p>
      <p><em>presentationName</em>: name of the presentation schema to be
      associated with the extension schema. If presentationName is an empty
      string, the default presentation schema is associated.</p>
    </dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>the extension schema, NULL if the extension schema has not been
      loaded.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1023">10.2.3</a> TtaRemoveSchemaExtension</h4>
<a name="L1330"></a>

<p>Removes a structure schema extension from a given document. Removes also
from the document all attributes and elements defined in that structure
schema extension.</p>
<hr>

<p>void TtaRemoveSchemaExtension(Document document, SSchema extension, int
*removedElements, int *removedAttributes)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>document</em>: the document.
      <p><em>extension</em>: the structure schema extension to be removed.</p>
    </dd>
</dl>
<dl>
  <dt>Return parameters:</dt>
    <dd><em>removedElements</em>: number of elements actually removed.
      <p><em>removedAttributes</em>: number of attributes actually
      removed.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1024">10.2.4</a> TtaSetPSchema</h4>
<a name="L1377"></a>

<p>Sets or changes the main presentation schema of a document. The document
must be open, but no view must be open for that document.</p>
<hr>

<p>void TtaSetPSchema(Document document, char *presentationName)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>document</em>: the document.
      <p><em>presentationName</em>: Name of the presentation schema to be
      associated with the document.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1025">10.2.5</a> TtaSetDocumentDirectory</h4>
<a name="L1408"></a>

<p>Sets the directory to which the document will be saved when calling
TtaSaveDocument.</p>
<hr>

<p>void TtaSetDocumentDirectory(Document document, char *directory)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>document</em>: the document whose directory is set.
      <p><em>directory</em>: new document directory.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1026">10.2.6</a> TtaSetDocumentName</h4>
<a name="L13459"></a>

<p>Sets or changes the name of a document. The document must be loaded.</p>
<hr>

<p>void TtaSetDocumentName(Document document, char *documentName)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>document</em>: the document whose name is set.
      <p><em>documentName</em>: new document name. This is only the name,
      without any suffix, without directory name. See function
      TtaSetDocumentDirectory for changing the directory of a document.<br>
      The name must not exceed 31 characters.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1027">10.2.7</a> TtaSetDocumentAccessMode</h4>
<a name="L1438"></a>

<p>Sets the access mode for a document.</p>
<hr>

<p>void TtaSetDocumentAccessMode(Document document, int accessMode)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>document</em>: the document whose access mode is changed.
      <p><em>accessMode</em>: 0 = read only, 1 = read-write.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1028">10.2.8</a> TtaSetDocumentBackUpInterval</h4>
<a name="L13494"></a>

<p>Sets the backup interval for a document.</p>
<hr>

<p>void TtaSetDocumentBackUpInterval(Document document, int interval)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>document</em>: the document whose backup interval is changed.
      <p><em>interval</em>: 0 : the backup mechanism must be disabled<br>
      positive integer : number of characters typed which triggers automatic
      save of the document into a .BAK file.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1029">10.2.9</a> TtaSetNotificationMode</h4>
<a name="L1468"></a>

<p>Sets the ECF notification mode for a document.</p>
<hr>

<p>void TtaSetNotificationMode(Document document, int notificationMode)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>document</em>: the document whose notification mode is changed.
      <p><em>notificationMode</em>: 0 = only roots of created, copied and
      deleted subtrees must be notified, 1 = all elements of created, copied
      and deleted subtrees must be notified.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc10210">10.2.10</a> TtaSetDocumentModified</h4>
<a name="L1498"></a>

<p>Notifies the tool kit that a document has been modified by the
application. As a consequence, the user will be asked to save the document
when closing it.</p>
<hr>

<p>void TtaSetDocumentModified(Document document)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>document</em>: the document.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc10211">10.2.11</a> TtaSetDocumentUnmodified</h4>
<a name="L1523"></a>

<p>Notifies the tool kit that a document must be considered as not modified.
As a consequence, if no further modification is made to that document, the
user will not be asked to save the document when closing it.</p>
<hr>

<p>void TtaSetDocumentUnmodified(Document document)</p>
<hr>
<dl>
  <dt>Parameter :</dt>
    <dd><p><em>document</em> : the document.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc10212">10.2.12</a> TtaSetDocumentUnupdated</h4>

<p>Notifies the tool kit that a document must be considered as not updated by
the application or by the user. That will allow the application to detect if
any change will be made on the document (see TtaIsDocumentUpdated).</p>
<hr>

<p>void TtaSetDocumentUnupdated(Document document)</p>
<hr>
<dl>
  <dt>Parameter :</dt>
    <dd><p><em>document</em> : the document.</p>
    </dd>
</dl>
</div>
</div>

<div class="Section">
<h3><a name="sectb103">10.3</a> Accessors</h3>

<div class="Section">
<h4><a name="sectc1031">10.3.1</a> TtaGetSchemaExtension</h4>

<p>Returns the extension structure schema associated with the given
document.</p>
<hr>

<p>SSchema TtaGetSchemaExtension(Document document, char *ExtensionName)</p>
<hr>
<dl>
  <dt>Parameter :</dt>
    <dd><p><em>document</em> : the document for which the extension structure
      schema is asked.</p>
      <p><em>ExtensionName</em> : the extension name.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1032">10.3.2</a> TtaGetDocumentName</h4>
<a name="L1551"></a>

<p>Returns the name of a document.</p>
<hr>

<p>char *TtaGetDocumentName(Document document)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><p><em>document</em>: the document whose name is asked.</p>
    </dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>name of that document.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1033">10.3.3</a> TtaGetDocumentFromName</h4>
<a name="L1582"></a>

<p>Returns the document having a given name.</p>
<hr>

<p>Document TtaGetDocumentFromName(char *documentName)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><p><em>documentName</em>: the document name.</p>
    </dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>the document having that name.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1034">10.3.4</a> TtaGetDocumentSSchema</h4>
<a name="L1613"></a>

<p>Returns the main structure schema of a document.</p>
<hr>

<p>SSchema TtaGetDocumentSSchema(Document document)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>document</em>: the document for which the structure schema is
      asked.</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>the structure schema of that document.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1035">10.3.5</a> TtaGetSSchemaName</h4>
<a name="L1646"></a>

<p>Returns the name of a structure schema.</p>
<hr>

<p>char *TtaGetSSchemaName(SSchema schema)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>schema</em>: the structure schema of interest.</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>name of that structure schema.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1036">10.3.6</a> TtaGetPSchemaName</h4>
<a name="L1678"></a>

<p>Returns the name of the presentation schema currently associated with a
given structure schema.</p>
<hr>

<p>char *TtaGetPSchemaName(SSchema schema)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>schema</em>: the structure schema of interest.</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>name of the associated presentation schema.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1037">10.3.7</a> TtaGetDocumentDirectory</h4>
<a name="L1710"></a>

<p>Returns the directory to which the document is supposed to be saved.</p>
<hr>

<p>void TtaGetDocumentDirectory(Document document, char *buffer, int
bufferLength)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><p><em>document</em>: the document whose directory is asked.</p>
      <p><em>buffer</em>: a buffer provided by the caller.</p>
      <p><em>bufferLength</em>: the length of that buffer.</p>
    </dd>
</dl>
<dl>
  <dt>Return parameter:</dt>
    <dd><em>buffer</em>: the document directory.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1038">10.3.8</a> TtaGetSSchema</h4>
<a name="L1755"></a>

<p>Returns a structure schema whose name is known and that is used in a given
document.</p>
<hr>

<p>SSchema TtaGetSSchema(char *name, Document document)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>name</em>: the name of the structure schema of interest.
      <p><em>document</em>: the document that uses this structure schema.</p>
    </dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>the structure schema having this name, or NULL if this structure
      schema is not loaded or not used by the document.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1039">10.3.9</a> TtaSameSSchemas</h4>
<a name="L1793"></a>

<p>Compares two structure schemas.</p>
<hr>

<p>int TtaSameSSchemas(SSchema schema1, SSchema schema2)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>schema1</em>: first structure schema.
      <p><em>schema2</em>: second structure schema.</p>
    </dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>0 if both schemas are different, 1 if they are identical.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc10310">10.3.10</a> TtaGiveSchemasOfDocument</h4>
<a name="L1831"></a>

<p>Returns the names of the main structure schema and presentation schema
associated with a given document. The document does not need to be open and
the schemas are not loaded by this function.</p>
<hr>

<p>void TtaGiveSchemasOfDocument(char *documentName, char *structureName,
char *presentationName)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>documentName</em>: Name of the document to be checked (maximum
      length 19 characters).
      <p><em>structureName</em>: buffer.</p>
      <p><em>presentationName</em>: buffer.</p>
    </dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd><em>structureName</em>: Name of the document structure schema.
      <p><em>presentationName</em>: Name of the document presentation
      schema.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc10311">10.3.11</a> TtaNextSchemaExtension</h4>
<a name="L1881"></a>

<p>Returns a structure schema extension associated with a given document.</p>
<hr>

<p>void TtaNextSchemaExtension(Document document, SSchema *extension)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>document</em>: the document of interest.
      <p><em>extension</em>: a schema extension of that document. NULL for
      accessing the first schema extension.</p>
    </dd>
</dl>
<dl>
  <dt>Return parameter:</dt>
    <dd><em>extension</em>: the schema extension that follows or the first
      schema extension of the document if parameter extension is NULL. NULL
      if there is no more schema extension.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc10312">10.3.12</a> TtaNextNature</h4>
<a name="L1920"></a>

<p>Returns the structure schema of a nature used in a given document.</p>
<hr>

<p>void TtaNextNature(Document document, SSchema *nature)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>document</em>: the document of interest.
      <p><em>nature</em>: the structure schema of a nature for that document.
      NULL for accessing the first nature.</p>
    </dd>
</dl>
<dl>
  <dt>Return parameter:</dt>
    <dd><em>nature</em>: the structure schema of the next nature, or the
      structure schema of the first nature of the document if parameter
      nature was NULL when calling. NULL if there is no more nature for the
      document.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc10313">10.3.13</a> TtaIsDocumentModified</h4>
<a name="L1960"></a>

<p>Indicates whether a document has been modified by the user or not.
Modifications made by the application program are not considered, except when
explicitly notified by <a name="L1968"></a>TtaSetDocumentModified.</p>
<hr>

<p>int TtaIsDocumentModified(Document document)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>document</em>: the document.</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>1 if the document has been modified by the user since it has been
      saved, loaded or created, 0 if it has not been modified.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc10314">10.3.14</a> TtaIsDocumentUpdated</h4>
<a name="L60597"></a>

<p>Indicates whether a document has been updated by the user or not since the
last TtaSetDocumentUnupdated or TtaSetDocumentUnmodified. Modifications made
by the application program are not considered, except when explicitly
notified by <a name="L60605"></a>TtaSetDocumentModified.</p>
<hr>

<p>int TtaIsDocumentUpdated(Document document)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>document</em>: the document.</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>1 if the document has been modified by the user since it has been
      saved, loaded or created, 0 if it has not been modified.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc10315">10.3.15</a> TtaGetDocumentBackUpInterval</h4>
<a name="L13531"></a>

<p>Returns the backup interval for a document.</p>
<hr>

<p>int TtaGetDocumentBackUpInterval(Document document)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>document</em>: the document whose backup interval is asked.</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>0 : the backup mechanism is disabled<br>
      positive integer : number of typed characters which trigger an
      autamatic save of the document into a .BAK file.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc10316">10.3.16</a> TtaGetDocumentAccessMode</h4>
<a name="L1996"></a>

<p>Returns the access mode for a document.</p>
<hr>

<p>int TtaGetDocumentAccessMode(Document document)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>document</em>: the document whose access mode is asked.</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>0 if access mode is read only, 1 if access mode is read-write.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc10317">10.3.17</a> TtaGetNotificationMode</h4>
<a name="L2028"></a>

<p>Returns the ECF notification mode for a document.</p>
<hr>

<p>int TtaGetNotificationMode(Document document)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>document</em>: the document whose notification mode is asked.</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>0 = if only roots of created and deleted subtrees must be notified,
      <p>1 = all elements of created and deleted subtrees must be
      notified.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc10318">10.3.18</a> TtaGetDocumentPath</h4>
<a name="L2064"></a>

<p>Returns the current list of the directories used when a document is open
(see <a name="L2072"></a>TtaOpenDocument).</p>
<hr>

<p>void TtaGetDocumentPath(char *buffer, int bufferLength)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>buffer</em>: a buffer provided by the caller.
      <p><em>bufferLength</em>: the length of that buffer.</p>
    </dd>
</dl>
<dl>
  <dt>Return parameter:</dt>
    <dd><em>buffer</em>: the list of directories. Directory names are
      separated by the character ':'.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc10319">10.3.19</a> TtaGetSchemaPath</h4>
<a name="L2108"></a>

<p>Returns the current list of directories used for accessing schemas.</p>
<hr>

<p>void TtaGetSchemaPath(char *buffer, int bufferLength)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>buffer</em>: a buffer provided by the caller.
      <p><em>bufferLength</em>: the length of that buffer.</p>
    </dd>
</dl>
<dl>
  <dt>Return parameter:</dt>
    <dd><em>buffer</em>: the list of directories. Directory names are
      separated by the character ':'.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc10320">10.3.20</a> TtaGetDocumentOfSavedElements</h4>
<a name="L2147"></a>

<p>Returns the document for which the last Copy or Cut command has been
issued.</p>
<hr>

<p>Document TtaGetDocumentOfSavedElements()</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd>no parameter</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>the document for which the last Copy or Cut command has been issued.
      0 if the clipboard is empty.</dd>
</dl>
</div>
</div>
</div>

<div class="Section">
<h2><a name="secta11">11</a> <a name="L2176">Tree structures</a></h2>

<p>The largest group of functions in the editing tool kit handles the tree
structures that represent the logical organization of a document.</p>

<p>The functions described in this section require that file <em>tree.h</em>
be included in the module that calls them.</p>
<dl>
  <dt>Main tree and associated trees</dt>
    <dd>A document is in fact represented by a <em>forest</em>, as several
      trees may be necessary for representing its abstract structure. The
      <em>main tree</em> represents the main stream of information in a
      document. In addition to that tree, there may exist some <em>associated
      trees</em>, which represent other streams of information, such as
      notes, illustrations, comments, etc. These associated trees are
      specified in the structure schema of the document.</dd>
</dl>
<dl>
  <dt>Structure of abstract trees</dt>
    <dd>Several functions in this group allow to build or modify the
      structure of an abstract tree. As stated above, the structure of these
      trees is constrained by structure schemas. Therefore the programmer
      must be careful when handling abstract trees. All functions that change
      a tree structure check that the result will be consistent with the
      structure schema and they raise an error in case of inconsistency.
      <p>Checking can be made in two modes, a strict mode and a relaxed mode.
      In strict mode, all mandatory elements must always be present. In
      relaxed mode, even elements that are not stated optional in their
      structure schema can be omitted. The checking mode apply to the
      operations made by the application program, but also to the editing
      commands issued by the end-user, when using ThotEditor. The function <a
      name="L2213"></a>TtaSetCheckingMode (see section <a
      href="#sectc1128">11.2.8</a>) changes checking mode.</p>
      <p>For building a correct tree, the programmer must follow the
      structure schema. He or she can also consider existing Thot documents
      as examples. For that purpose, the function <a
      name="L2222"></a>TtaListAbstractTree (see section <a
      href="#sectc1151">11.5.1</a>) can produce a human-readable form of an
      abstract tree.</p>
    </dd>
</dl>
<dl>
  <dt>Element types</dt>
    <dd>When creating or searching elements in an abstract tree, the type of
      the concerned elements must be given. As presented in section <a
      href="#secta4">4</a>, an element type contains a type number, but this
      number does not appear explicitly in a structure schema: it is
      generated by the schema compiler. For obtaining all type numbers of a
      structure schema, use the command:<br>
      <em>       printsch -h SchemaName<br>
      </em>which lists on the standard output a file that can be included
      into a C program. This file also contains all attribute numbers of the
      schema</dd>
</dl>
<dl>
  <dt>Order of operations</dt>
    <dd>As a general rule, as soon as an element or a tree has been created
      (by functions <a name="L2250"></a>TtaNewElement, <a
      name="L2254"></a>TtaNewTree, or <a name="L2258"></a>TtaCopyTree), it
      must be included into the main tree or an associated tree of a document
      (by functions <a name="L2262"></a>TtaInsertSibling, <a
      name="L2266"></a>TtaInsertFirstChild, or <a
      name="L2270"></a>TtaAttachNewTree), prior any other function can be
      performed.</dd>
</dl>
<dl>
  <dt>Labels</dt>
    <dd>Each element in a document has a unique identifier called a
      <em>label</em>. Labels are automatically assigned to elements by all
      functions that create new elements (<a name="L2284"></a>TtaNewElement,
      <a name="L2288"></a>TtaNewTree, or <a name="L2292"></a>TtaCopyTree).
      Labels can be accessed by functions <a
      name="L2296"></a>TtaSearchElementByLabel and <a
      name="L2300"></a>TtaGetElementLabel.</dd>
</dl>
<dl>
  <dt>Access rights</dt>
    <dd>An access right can be associated with each element. Three access
      rights are defined:
      <dl>
        <dt>Read/write</dt>
          <dd>The element can be seen and modified by the user.</dd>
        <dt>Read only</dt>
          <dd>The element can be seen by the user, but no changes are
          allowed.</dd>
        <dt>Hidden</dt>
          <dd>The element is not displayed and cannot be changed by the
          user.</dd>
      </dl>
      <p>These rights only apply to the end user who manipulates a document
      interactively with the commands provided by the Thot editor. They do
      not apply to the application program that manipulate the document
      through the editing tool kit.</p>
    </dd>
</dl>

<div class="Section">
<h3><a name="sectb111">11.1</a> Constructors</h3>

<div class="Section">
<h4><a name="sectc1111">11.1.1</a> TtaNewElement</h4>
<a name="L2345"></a>

<p>Creates a new element of a given type.</p>
<hr>

<p>Element TtaNewElement(Document document, ElementType elementType)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>document</em>: the document for which the element is created.
      <p><em>elementType</em>: type of the element to be created.</p>
    </dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>the created element.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1112">11.1.2</a> TtaNewTree</h4>
<a name="L2383"></a>

<p>Creates a new element of a given type and all its descendants, according
to the structure schema.</p>
<hr>

<p>Element TtaNewTree(Document document, ElementType elementType , char
*label)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>document</em>: the document for which the tree is created.
      <p><em>elementType</em>: type of the root element of the tree to be
      created.</p>
      <p><em>label</em>: label of the root element to be created. Empty
      string if the value of the label is undefined.</p>
    </dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>the root element of the created tree.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1113">11.1.3</a> TtaCopyTree</h4>
<a name="L2427"></a>

<p>Creates a copy of a tree.</p>
<hr>

<p>Element TtaCopyTree(Element sourceElement, Document sourceDocument,
Document destinationDocument, Element parent)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>sourceElement</em>: element to be copied.
      <p><em>sourceDocument</em>: the document containing the element to be
      copied.</p>
      <p><em>destinationDocument</em>: the document for which the copy must
      be created.</p>
      <p><em>parent</em>: element that will become the parent of the created
      tree.</p>
    </dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>the root element of the created tree.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1114">11.1.4</a> TtaCreateDescent</h4>
<a name="L25514"></a>

<p>Creates a new element of a given type and inserts it in the tree as a
descendant of a given element. All elements of the descent required by the
structure schema are also created.</p>
<hr>

<p>Element TtaCreateDescent(Document document, Element element, ElementType
elementType)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>document</em>: the document for which the tree is created.
      <p><em>element</em>: the element for which a descent will be
      created.</p>
      <p><em>elementType</em>: type of the element to be created as the last
      descendant.</p>
    </dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>the last descendant created or NULL if the element cannot be created.
      This element is empty.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1115">11.1.5</a> TtaCreateDescentWithContent</h4>
<a name="L25552"></a>

<p>Creates a new element of a given type and inserts it in the tree as a
descendant of a given element. All elements of the descent required by the
structure schema are created, as well as the content of the requested
element.</p>
<hr>

<p>Element TtaCreateDescentWithContent(Document document, Element element,
ElementType elementType)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>document</em>: the document for which the tree is created.
      <p><em>element</em>: the element for which a descent will be
      created.</p>
      <p><em>elementType</em>: type of the element to be created as the last
      descendant.</p>
    </dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>the last descendant created or NULL if the element cannot be created.
      If not NULL, the minimum content of that element has been created.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1116">11.1.6</a> TtaDeleteTree</h4>
<a name="L2522"></a>

<p>Deletes a tree (or a single element) and frees it. All references that
points at any element of that tree are cancelled. The deleted element must
not be used later.</p>
<hr>

<p>void TtaDeleteTree(Element element, Document document)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>element</em>: the element (or root of the tree) to be deleted.
      <p><em>document</em>: the document containing the element to be
      deleted.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1117">11.1.7</a> TtaAttachNewTree</h4>
<a name="L2553"></a>

<p>Attaches an entire tree (main tree or associated tree) to a document.</p>
<hr>

<p>void TtaAttachNewTree(Element tree, Document document)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>tree</em>: root of the tree to be attached. This tree must be a
      valid main tree or associated tree according to the document structure
      schema.
      <p><em>document</em>: the document to which the tree is to be
      attached.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1118">11.1.8</a> TtaExportTree</h4>
<a name="L53265"></a>

<p>Saves an abstract tree into a file in a particular format. The output
format is specified by a translation schema.</p>
<hr>

<p>void TtaExportTree (Element element, Document document, char *fileName,
char *TSchemaName)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>element</em>: the root of the tree to be exported
      <p><em>document</em>: the document containing the tree to be
      exported.</p>
      <p><em>fileName</em>: name of the file in which the tree must be saved,
      including the directory name.</p>
      <p><em>TSchemaName</em>: name of the translation schema to be used. The
      directory name must not be specified in parameter TSchemaName. See
      function TtaSetSchemaPath.</p>
    </dd>
</dl>
</div>
</div>

<div class="Section">
<h3><a name="sectb112">11.2</a> Modificators</h3>

<div class="Section">
<h4><a name="sectc1121">11.2.1</a> TtaInsertSibling</h4>
<a name="L2587"></a>

<p>Inserts an element in a tree, as an immediate sibling of a given element.
The element to be inserted must not yet be part of a document. You can call
<code>TtaCanInsertSibling</code> before to check whether that insertion is
allowed or not (see section <a href="#sectc11333">11.3.33</a>).</p>
<hr>

<p>void TtaInsertSibling(Element newElement, Element sibling, ThotBool
before, Document document)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>newElement</em>: the element (or root of the tree) to be inserted.
      <p><em>sibling</em>: an element belonging to a tree. This element must
      not be the root of a tree.</p>
      <p><em>before</em>: if True, inserts newElement as previous sibling of
      sibling, if False, inserts newElement as next sibling of sibling.</p>
      <p><em>document</em>: the document to which both elements belong.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1122">11.2.2</a> TtaInsertFirstChild</h4>
<a name="L2629"></a>

<p>Inserts an element in a tree, as the first child of a given element. The
element to be inserted must not yet be part of a document. This function can
also be used for attaching an option to a choice. You can call
<code>TtaCanInsertFirstChild</code> before to check whether that insertion is
allowed or not (see section <a href="#sectc11334">11.3.34</a>).</p>
<hr>

<p>void TtaInsertFirstChild(Element *newElement, Element parent, Document
document)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>newElement</em>: the element (or root of the tree) to be inserted.
      <p><em>parent</em>: an element belonging to a tree.</p>
      <p><em>document</em>: the document to which both elements belong.</p>
    </dd>
</dl>
<dl>
  <dt>Return parameter:</dt>
    <dd>If newElement is an option that replaces the choice, newElement takes
      <p>the value of parent.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1123">11.2.3</a> TtaCreateElement</h4>
<a name="L32712"></a>

<p>Creates an element of a given type and insert it at the current position
within a given document. The current position is defined by the current
selection. If the current position is a single position (insertion point) the
new element is simply inserted at that position. If one or several characters
and/or elements are selected, the new element is created at that position and
the selected characters/elements become the content of the new element,
provided the  structure schema allows it.</p>
<hr>

<p>void TtaCreateElement(ElementType elementType, Document document)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>elementType</em>: type of the element to be created.
      <p><em>document</em>: the document for which the element is created.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1124">11.2.4</a> TtaInsertElement</h4>
<a name="L32720"></a>

<p>Creates an element of a given type and insert it at the current position
within a given document. The current position is defined by the current
selection. If the current position is a single position (insertion point) the
new element is simply inserted at that position. If one or several characters
and/or elements are selected, the new element is created before the first
selected character/element and the selected characters/elements are not
changed.</p>
<hr>

<p>void TtaInsertElement(ElementType elementType, Document document)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>elementType</em>: type of the element to be created.
      <p><em>document</em>: the document for which the element is created.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1125">11.2.5</a> TtaRemoveTree</h4>
<a name="L2677"></a>

<p>Removes a tree (or a single element) from its tree, without freeing it.</p>
<hr>

<p>void TtaRemoveTree(Element element, Document document)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>element</em>: the element (or root of the tree) to be removed.
      <p><em>document</em>: the document containing the element to be
      removed.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1126">11.2.6</a> TtaSetAccessRight</h4>
<a name="L2707"></a>

<p>Sets the access rights for a given element. Access rights apply only
during the current editing session; they are not saved with the document.
They must be set each time the document is loaded.</p>
<hr>

<p>void TtaSetAccessRight(Element element, AccessRight right, Document
document)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>element</em>: the element.
      <p><em>right</em>: access right for that element (ReadOnly, ReadWrite,
      Hidden, Inherited).</p>
      <p><em>document</em>: the document to which the element belongs.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1127">11.2.7</a> TtaHolophrastElement</h4>
<a name="L2742"></a>

<p>Changes the holophrasting status of a given element.</p>
<hr>

<p>void TtaHolophrastElement(Element element, ThotBool holophrast, Document
document)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>element</em>: the element.
      <p><em>holophrast</em>: True: the element gets holophrasted if it is
      not, False: if the element is holphrasted, it gets expanded.</p>
      <p><em>document</em>: the document to which the element belongs.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1128">11.2.8</a> <a name="L2778">TtaSetCheckingMode</a></h4>
<a name="L2779"></a>

<p>Changes checking mode.</p>
<hr>

<p>void TtaSetCheckingMode(ThotBool strict)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>strict</em>: if True, the presence of all mandatory elements is
      checked.</dd>
</dl>
</div>
</div>

<div class="Section">
<h3><a name="sectb113">11.3</a> Accessors</h3>

<div class="Section">
<h4><a name="sectc1131">11.3.1</a> TtaGetMainRoot</h4>
<a name="L2807"></a>

<p>Returns the root element of the main abstract tree representing a
document.</p>
<hr>

<p>Element TtaGetMainRoot(Document document)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>document</em>: the document.</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>the root element of the main abstract tree.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1132">11.3.2</a> TtaNextAssociatedRoot</h4>
<a name="L2839"></a>

<p>Returns the root element of the associated tree that follows the tree to
which a given element belongs.</p>
<hr>

<p>void TtaNextAssociatedRoot(Document document, Element *root)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>document</em>: the document.
      <p><em>root</em>: the element for which the next associated tree is
      searched. That element does not need to be the root of a tree. If root
      is NULL or if root is an element in the main tree, the root of the
      first associated tree is returned.</p>
    </dd>
</dl>
<dl>
  <dt>Return parameter:</dt>
    <dd><em>root</em>: the root element of the next associated tree. NULL if
      there is no next associated tree for the document.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1133">11.3.3</a> TtaGetFirstChild</h4>
<a name="L2879"></a>

<p>Returns the first child element of a given element.</p>
<hr>

<p>Element TtaGetFirstChild(Element parent)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>parent</em>: the element for which the first child element is
      asked.</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>the first child element of parent; NULL if parent has no child.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1134">11.3.4</a> TtaGetLastChild</h4>
<a name="L2911"></a>

<p>Returns the last child element of a given element.</p>
<hr>

<p>Element TtaGetLastChild(Element parent)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>parent</em>: the element for which the last child element is
      asked.</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>the last child element of parent; NULL if parent has no child.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1135">11.3.5</a> TtaGetFirstLeaf</h4>
<a name="L57990"></a>

<p>Returns the first leaf element of a given element.</p>
<hr>

<p>Element TtaGetFirstLeaf(Element parent)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>parent</em>: the element for which the first leaf element is
      asked.</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>the first leaf element of parent; parent itself if it has no
    leaf.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1136">11.3.6</a> TtaGetLastLeaf</h4>
<a name="L58021"></a>

<p>Returns the last leaf element of a given element.</p>
<hr>

<p>Element TtaGetLastLeaf(Element parent)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>parent</em>: the element for which the last leaf element is
    asked.</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>the last leaf element of parent; parent itself if it has no leaf.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1137">11.3.7</a> TtaPreviousSibling</h4>
<a name="L2943"></a>

<p>Returns the previous sibling element of a given element.</p>
<hr>

<p>void TtaPreviousSibling(Element *element)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>element</em>: the element whose previous sibling is asked.</dd>
</dl>
<dl>
  <dt>Return parameter:</dt>
    <dd><em>element</em>: the previous sibling element, or NULL if there is
      no previous sibling.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1138">11.3.8</a> TtaNextSibling</h4>
<a name="L2977"></a>

<p>Returns the next sibling element of a given element.</p>
<hr>

<p>void TtaNextSibling(Element *element)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>element</em>: the element whose next sibling is asked.</dd>
</dl>
<dl>
  <dt>Return parameter:</dt>
    <dd><em>element</em>: the next sibling element, or NULL if there is no
      next sibling.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1139">11.3.9</a> TtaGetSuccessor</h4>
<a name="L3010"></a>

<p>Returns the element that follows a given element at the same level or at
the first upper level where there is a following element.</p>
<hr>

<p>Element TtaGetSuccessor(Element element)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>element</em>: the element whose successor is asked.</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>the successor, or NULL if there is no successor.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc11310">11.3.10</a> TtaGetPredecessor</h4>
<a name="L3044"></a>

<p>Returns the element that precedes a given element at the same level or at
the first upper level where there is a preceding element.</p>
<hr>

<p>Element TtaGetPredecessor(Element element)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>element</em>: the element whose predecessor is asked.</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>the predecessor, or NULL if there is no predecessor.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc11311">11.3.11</a> TtaGetParent</h4>
<a name="L3077"></a>

<p>Returns the parent element (i.e. first ancestor) of a given element.</p>
<hr>

<p>Element TtaGetParent(Element element)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>element</em>: the element whose the parent is asked.</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>the parent element, or NULL if there is no parent (root).</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc11312">11.3.12</a> TtaGetCommonAncestor</h4>
<a name="L3109"></a>

<p>Returns the common ancestor element of two given elements.</p>
<hr>

<p>Element TtaGetCommonAncestor(Element element1, Element element2)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>element1</em>: the first element whose ancestor is asked.
      <p><em>element2</em>: the second element whose ancestor is asked.</p>
    </dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>the common ancestor, or NULL if there is no common ancestor.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc11313">11.3.13</a> TtaGetTypedAncestor</h4>
<a name="L3147"></a>

<p>Returns the first ancestor of a given type for a given element.</p>
<hr>

<p>Element TtaGetTypedAncestor(Element element, ElementType ancestorType)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>element</em>: the element whose ancestor is asked.
      <p><em>ancestorType</em>: type of the asked ancestor.</p>
    </dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>the ancestor, or NULL if there is no ancestor of that type.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc11314">11.3.14</a> TtaGetElementType</h4>
<a name="L3185"></a>

<p>Returns the type of a given element.</p>
<hr>

<p>ElementType TtaGetElementType(Element element)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>element</em>: the element.</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>type of the element.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc11315">11.3.15</a> TtaGetElementTypeName</h4>
<a name="L3218"></a>

<p>Returns the name of an element type.</p>
<hr>

<p>char *TtaGetElementTypeName(ElementType elementType)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>elementType</em>: element type.</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>name of that type.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc11316">11.3.16</a> TtaGetElementTypeOriginalName</h4>
<a name="L56825"></a>

<p>Returns the original name of an element type, as it is defined in the
structure schema.</p>
<hr>

<p>char *TtaGetElementTypeOriginalName(ElementType elementType)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>elementType</em>: element type.</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>original name of that type.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc11317">11.3.17</a> TtaGiveTypeFromName</h4>
<a name="L3250"></a>

<p>Gives an element type whose name is known (the structure schema that
defines that type must be loaded). That type is searched in a given structure
schema (elementType.ElSSchema) and in all structure schemas that are
extensions of that structure schema or natures used in that structure
schema.</p>
<hr>

<p>void TtaGiveTypeFromName(ElementType *elementType, char *name)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>elementType.ElSSchema</em>: the structure schema of interest.
      <p><em>name</em>: the name of the type of interest.</p>
    </dd>
</dl>
<dl>
  <dt>Return parameter:</dt>
    <dd><em>elementType</em>: the type having this name, or
      elementType.ElTypeNum = 0 if the type is not found.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc11318">11.3.18</a> TtaGiveTypeFromOriginalName</h4>
<a name="L56856"></a>

<p>Gives an element type whose original name (in the language it is given in
the structure schema) is known (the structure schema that defines that type
must be loaded). That type is searched in a given structure schema
(elementType.ElSSchema) and in all structure schemas that are extensions of
that structure schema or natures used in that structure schema.</p>
<hr>

<p>void TtaGiveTypeFromOriginalName(ElementType *elementType, char *name)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>elementType.ElSSchema</em>: the structure schema of interest.
      <p><em>name</em>: the original name of the type of interest.</p>
    </dd>
</dl>
<dl>
  <dt>Return parameter:</dt>
    <dd><em>elementType</em>: the type having this name, or
      elementType.ElTypeNum = 0 if the type is not found.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc11319">11.3.19</a> TtaSameTypes</h4>
<a name="L3289"></a>

<p>Compares two element types.</p>
<hr>

<p>int TtaSameTypes(ElementType type1, ElementType type2)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>type1</em>: first element type.
      <p><em>type2</em>: second element type.</p>
    </dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>0 if both types are different, 1 if they are identical.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc11320">11.3.20</a> TtaGetElementLabel</h4>
<a name="L3328"></a>

<p>Returns the label of a given element.</p>
<hr>

<p>char *TtaGetElementLabel(Element element)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>element</em>: the element.</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>label of the element.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc11321">11.3.21</a> TtaIsConstant</h4>
<a name="L3360"></a>

<p>Indicates whether an element type is a constant.</p>
<hr>

<p>int TtaIsConstant(ElementType elementType)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>elementType</em>: type to be tested.</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>1 = the type is a constant, 0 = the type is not a constant.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc11322">11.3.22</a> TtaIsLeaf</h4>
<a name="L3392"></a>

<p>Indicates whether an element type is a leaf.</p>
<hr>

<p>int TtaIsLeaf(ElementType elementType)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>elementType</em>: type to be tested.</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>1 if the type is a leaf, 0 if the type is not a leaf.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc11323">11.3.23</a> TtaGetConstructOfType</h4>
<a name="L3426"></a>

<p>Returns the construct of an element type.</p>
<hr>

<p>Construct TtaGetConstructOfType(ElementType elementType)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>elementType</em>: the element type of interest.</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>the construct that defines the structure of that element type.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc11324">11.3.24</a> TtaGetConstruct</h4>
<a name="L3458"></a>

<p>Returns the construct of an element.</p>
<hr>

<p>Construct TtaGetConstruct(Element element)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>element</em>: the element of interest.</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>the construct that defines the structure of that element.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc11325">11.3.25</a> TtaGetAccessRight</h4>
<a name="L3490"></a>

<p>Returns the access rights for a given element.</p>
<hr>

<p>AccessRight TtaGetAccessRight(Element element)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>element</em>: the element.</dd>
</dl>
<dl>
  <dt>Return Value:</dt>
    <dd>access right for that element (ReadOnly, ReadWrite, Hidden,
      Inherited).</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc11326">11.3.26</a> TtaIsHolophrasted</h4>
<a name="L3522"></a>

<p>Tests whether a given element is holphrasted or not.</p>
<hr>

<p>int TtaIsHolophrasted(Element element)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>element</em>: the element to be tested.</dd>
</dl>
<dl>
  <dt>Return Value:</dt>
    <dd>1 if the element is holphrasted, 0 if not.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc11327">11.3.27</a> TtaIsReadOnly</h4>
<a name="L3555"></a>

<p>Tests whether a given element is protected against user modifications
(ReadOnly).</p>
<hr>

<p>int TtaIsReadOnly(Element element)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>element</em>: the element to be tested.</dd>
</dl>
<dl>
  <dt>Return Value:</dt>
    <dd>1 if the element is protected, 0 if not.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc11328">11.3.28</a> TtaIsHidden</h4>
<a name="L3587"></a>

<p>Tests whether a given element is hidden to the user (Hidden).</p>
<hr>

<p>int TtaIsHidden(Element element)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>element</em>: the element to be tested.</dd>
</dl>
<dl>
  <dt>Return Value:</dt>
    <dd>1 if the element is hidden, 0 if not.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc11329">11.3.29</a> TtaIsInAnInclusion</h4>
<a name="L3619"></a>

<p>Tests whether a given element is (in) an included element. An included
element is a "live" copy of another element.</p>
<hr>

<p>int TtaIsInAnInclusion(Element element)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>element</em>: the element to be tested.</dd>
</dl>
<dl>
  <dt>Return Value:</dt>
    <dd>1 if the element is included, 0 if not.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc11330">11.3.30</a> TtaIsAncestor</h4>
<a name="L3652"></a>

<p>Tests if an element is an ancestor of another element.</p>
<hr>

<p>int TtaIsAncestor(Element element, Element ancestor)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>element</em>: an element.
      <p><em>ancestor</em>: the supposed ancestor of element.</p>
    </dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>1 if ancestor in an ancestor of element, 0 if not.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc11331">11.3.31</a> TtaIsBefore</h4>
<a name="L3690"></a>

<p>Tests if an element precedes another element in the preorder traversal of
the tree.</p>
<hr>

<p>int TtaIsBefore(Element element1, Element element2)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>element1</em>: the first element.
      <p><em>element2</em>: the second element.</p>
    </dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>1 if the first element precedes the second element, 0 if not.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc11332">11.3.32</a> TtaIsFirstPairedElement</h4>
<a name="L3728"></a>

<p>Indicates if a given paired element is the first or the second of the
pair.</p>
<hr>

<p>int TtaIsFirstPairedElement(Element element)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>element</em>: the paired element.</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>1 if it is the first element of the pair, 0 if it is the second.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc11333">11.3.33</a> <a
name="L32216">TtaCanInsertSibling</a></h4>
<a name="L32296"></a>

<p>Checks whether an element of a given type can be inserted in an abstract
tree as an immediate sibling of an existing element.</p>
<hr>

<p>ThotBool TtaCanInsertSibling(ElementType elementType, Element sibling,
ThotBool before, Document document)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>elementType</em>: the element type to be checked.
      <p><em>sibling</em>: an existing element which is part of an abstract
      tree.</p>
      <p><em>before</em>: if True, checks if insertion is allowed before
      element "sibling".<br>
      If False, checks if insertion is allowed after element "sibling".</p>
      <p><em>document</em>: the document to which element "sibling"
      belongs.</p>
    </dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>True if that element type can be inserted, False if the structure
      schema does not allow that insertion.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc11334">11.3.34</a> <a
name="L32256">TtaCanInsertFirstChild</a></h4>
<a name="L32304"></a>

<p>Checks whether an element of a given type can be inserted in an abstract
tree as the first child of an existing element (parent).</p>
<hr>

<p>ThotBool TtaCanInsertFirstChild(ElementType elementType, Element parent,
Document document)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>elementType</em>: the element type to be checked.
      <p><em>parent</em>: an existing element which is part of an abstract
      tree.</p>
      <p><em>document</em>: the document to which element "parent"
      belongs.</p>
    </dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>True if that element type can be inserted, False if the structure
      schema does not allow that insertion.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc11335">11.3.35</a> TtaGetDocument</h4>
<a name="L3760"></a>

<p>Returns the document containing a given element</p>
<hr>

<p>Document TtaGetDocument(Element element)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>element</em>: the element for which document is asked.</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>the document containing that element or 0 if the element has not been
      inserted in any document.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc11336">11.3.36</a> TtaNextCopiedElement</h4>
<a name="L3793"></a>

<p>Returns one of the elements that have been copied into the ``clipboard''
by the last Copy or Cut command. (This function is available only in the
ThotEditor library).</p>
<hr>

<p>void TtaNextCopiedElement(Element *element)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>element</em>: NULL if the first element of the clipboard is
      asked; an element of the clipboard if the next one is asked.</dd>
</dl>
<dl>
  <dt>Return parameter:</dt>
    <dd><em>element</em>: the asked element if it exists, or NULL if there is
      no next element in the clipboard or if the clipboard is empty.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc11337">11.3.37</a> TtaGetCopiedDocument</h4>
<a name="L3826"></a>

<p>Returns the document from which the current content of the clipboard has
been copied or cut. (This function is available only in the ThotEditor
library).</p>
<hr>

<p>Document TtaGetCopiedDocument()</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd>No parameter.</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>the document from which the current content of the clipboard has been
      copied or cut; 0 if the clipboard is empty.</dd>
</dl>
</div>
</div>

<div class="Section">
<h3><a name="sectb114">11.4</a> Locators</h3>

<div class="Section">
<h4><a name="sectc1141">11.4.1</a> TtaSearchTypedElement</h4>
<a name="L3859"></a>

<p>Returns the first element of a given type. Searching can be done in a tree
or starting from a given element towards the beginning or the end of the
abstract tree.</p>
<hr>

<p>Element TtaSearchTypedElement(ElementType searchedType, SearchDomain
scope, Element element)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>searchedType</em>: type of element to be searched. If
      searchedType.ElSSchema is NULL, searchedType must be a basic type ;
      then the next basic element of that type will be returned, whatever its
      structure schema.
      <p><em>scope</em>: SearchForward, SearchBackward or SearchInTree.</p>
      <p><em>element</em>: the element that is the root of the tree (if scope
      = SearchInTree) or the starting element (if scope = SearchForward or
      SearchBackward).</p>
    </dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>the element found, or NULL if no element has been found.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1142">11.4.2</a> TtaSearchTypedElementInTree</h4>
<a name="L57610"></a>

<p>Returns the first element of a given type. Searching can be done in a tree
or starting from a given element towards the beginning or the end of the
abstract tree.. In any case the returned element must be  part of the parent
tree.</p>
<hr>

<p>Element TtaSearchTypedElementInTree(ElementType searchedType, SearchDomain
scope, Element element)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>searchedType</em>: type of element to be searched. If
      searchedType.ElSSchema is NULL, searchedType must be a basic type ;
      then the next basic element of that type will be returned, whatever its
      structure schema.
      <p><em>scope</em>: SearchForward, SearchBackward or SearchInTree.</p>
      <p><em>parent</em>: the limited tree where the searching can be
      done.</p>
      <p><em>element</em>: the element that is the root of the tree (if scope
      = SearchInTree) or the starting element (if scope = SearchForward or
      SearchBackward).</p>
    </dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>the element found, or NULL if no element has been found.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1143">11.4.3</a> TtaSearchElementByLabel</h4>
<a name="L3904"></a>

<p>Searches the element that has a given label. The search is done in a given
tree.</p>
<hr>

<p>Element TtaSearchElementByLabel(char *searchedLabel, Element element)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>searchedLabel</em>: label of element to be searched.
      <p><em>element</em>: the element that is the root of the tree in which
      the search is done.</p>
    </dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>the element found, or NULL if no element has been found.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1144">11.4.4</a> TtaSearchEmptyElement</h4>
<a name="L3942"></a>

<p>Searches the next empty element. An empty element is either a compound
element without child or a leaf without content. Searching can be done in a
tree or starting from a given element towards the beginning or the end of the
abstract tree.</p>
<hr>

<p>Element TtaSearchEmptyElement(SearchDomain scope, Element element)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>scope</em>: SearchForward, SearchBackward or SearchInTree.
      <p><em>element</em>: the element that is the root of the tree (if scope
      = SearchInTree) or the starting element (if scope = SearchForward or
      SearchBackward).</p>
    </dd>
</dl>
<dl>
  <dt>Return values:</dt>
    <dd>the element found, or NULL if not found.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1145">11.4.5</a> TtaSearchOtherPairedElement</h4>
<a name="L3981"></a>

<p>Returns the element that is part of the same pair as a given element.</p>
<hr>

<p>Element TtaSearchOtherPairedElement(Element element)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>element</em>: the element whose paired element is searched.</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>the paired element.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1146">11.4.6</a> TtaSearchNoPageBreak</h4>
<a name="L4013"></a>

<p>Returns the first sibling element that is not a page break.</p>
<hr>

<p>Element TtaSearchNoPageBreak(Element element, ThotBool forward)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>element</em>: the element.
      <p><em>forward</em>: True for skipping the next page breaks, False for
      skipping the previous ones.</p>
    </dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>the first sibling element, or NULL if there are only page breaks.</dd>
</dl>
</div>
</div>

<div class="Section">
<h3><a name="sectb115">11.5</a> Help</h3>

<div class="Section">
<h4><a name="sectc1151">11.5.1</a> <a
name="L4054">TtaListAbstractTree</a></h4>
<a name="L4055"></a>

<p>Produces in a file a human-readable form of an abstract tree.</p>
<hr>

<p>void TtaListAbstractTree(Element root, FILE *fileDescriptor)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>root</em>: the root element of the tree to be listed.
      <p><em>fileDescriptor</em>: file descriptor of the file that will
      contain the list. This file must be open when calling the function.</p>
    </dd>
</dl>
</div>
</div>
</div>

<div class="Section">
<h2><a name="secta12">12</a> <a name="L4085">Contents</a></h2>

<p>The functions described in this section require that file
<em>content.h</em> be included in the module that calls them.</p>

<div class="Section">
<h3><a name="sectb121">12.1</a> Modificators</h3>

<div class="Section">
<h4><a name="sectc1211">12.1.1</a> TtaSetTextContent</h4>
<a name="L4100"></a>

<p>Changes the content of a Text basic element. The full content (if any) is
deleted and replaced by the new one. This function can also be used for
changing the content (the file name) of a Picture basic element.</p>
<hr>

<p>void TtaSetTextContent(Element element, char *content, Language language,
Document document)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>element</em>: the Text element to be modified.
      <p><em>content</em>: new content for that element.</p>
      <p><em>language</em>: language of that Text element (see section <a
      href="#secta15">15</a>).</p>
      <p><em>document</em>: the document containing that element.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1212">12.1.2</a> TtaAppendTextContent</h4>
<a name="L4144"></a>

<p>Appends a character string at the end of a Text basic element.</p>
<hr>

<p>void TtaAppendTextContent(Element element, char *content, Document
document)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>element</em>: the Text element to be modified.
      <p><em>content</em>: the character string to be appended.</p>
      <p><em>document</em>: the document containing that element.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1213">12.1.3</a> TtaInsertTextContent</h4>
<a name="L4181"></a>

<p>Inserts a character string in a text basic element.</p>
<hr>

<p>void TtaInsertTextContent(Element element, int position, char *content,
Document document)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>element</em>: the Text element to be modified.
      <p><em>position</em>: rank of the character after which the new string
      must be inserted. 0 for inserting before the first character.</p>
      <p><em>content</em>: the character string to be inserted.</p>
      <p><em>document</em>: the document containing the text element.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1214">12.1.4</a> TtaDeleteTextContent</h4>
<a name="L4223"></a>

<p>Deletes a character string in a text basic element.</p>
<hr>

<p>void TtaDeleteTextContent(Element element, int position, int length,
Document document)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>element</em>: the Text element to be modified.
      <p><em>position</em>: rank of the first character to be deleted.</p>
      <p><em>length</em>: length of the character string to be deleted.</p>
      <p><em>document</em>: the document containing the text element.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1215">12.1.5</a> TtaSplitText</h4>
<a name="L4266"></a>

<p>Divides a text element into two elements.</p>
<hr>

<p>void TtaSplitText(Element element, int position, Document document)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>element</em>: the text element to be divided. A new text element
      containing the second part of the text is created as the next sibling.
      <p><em>position</em>: rank of the character after which the element
      must be cut.</p>
      <p><em>document</em>: the document to which the element belongs.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1216">12.1.6</a> TtaMergeText</h4>
<a name="L4302"></a>

<p>Merges two text elements.</p>
<hr>

<p>void TtaMergeText(Element element, Document document)</p>
<hr>
<pre>void TtaMergeText(element, document)
Element element;
Document document;</pre>
<dl>
  <dt>Parameters:</dt>
    <dd><em>element</em>: the first text element. Merging occurs only if
      <p>the next sibling is a text element with the same attributes.</p>
      <p><em>document</em>: the document to which the text element
      belongs.</p>
    </dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>True if successful..</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1217">12.1.7</a> TtaSetGraphicsShape</h4>
<a name="L4343"></a>

<p>Changes the shape of a Graphics or Symbol basic element.</p>
<hr>

<p>void TtaSetGraphicsShape(Element element, char shape, Document
document)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>element</em>: the element to be changed. This element must be a
      basic element of type Graphics or Symbol.
      <p><em>shape</em>: new shape for that element.</p>
      <p><em>document</em>: the document containing that element.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1218">12.1.8</a> TtaAddPointInPolyline</h4>
<a name="L4380"></a>

<p>Adds a new point in a Polyline basic element.</p>
<hr>

<p>void TtaAddPointInPolyline(Element element, int rank, TypeUnit unit, int
x, int y, Document document)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>element</em>: the element to be changed. This element must be a
      basic element of type Polyline.
      <p><em>rank</em>: rank of the new point to be inserted. If rank is
      greater than the actual number of points, the new point is appended.
      rank must be strictly positive.</p>
      <p><em>unit</em>: the absolute unit (UnPixel or UnPoint) used for the
      values.</p>
      <p>x, y: coordinate of the new point, in units, relatively to the upper
      left corner of the box. x and y must be positive or null.</p>
      <p><em>document</em>: the document containing the polyline element.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1219">12.1.9</a> TtaDeletePointInPolyline</h4>
<a name="L4421"></a>

<p>Deletes a point in a Polyline basic element.</p>
<hr>

<p>void TtaDeletePointInPolyline(Element element, int rank, Document
document)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>element</em>: the element to be changed. This element must be a
      basic element of type Polyline.
      <p><em>rank</em>: rank of the point to be deleted. If rank is greater
      than the actual number of points, the last point is deleted. rank must
      be strictly positive.</p>
      <p><em>document</em>: the document containing the polyline element.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc12110">12.1.10</a> TtaModifyPointInPolyline</h4>
<a name="L4457"></a>

<p>Changes the coordinates of a point in a Polyline basic element.</p>
<hr>

<p>void TtaModifyPointInPolyline(Element element, int rank, TypeUnit unit,
int x, int y, Document document)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>element</em>: the element to be changed. This element must be a
      basic element of type Polyline.
      <p><em>rank</em>: rank of the point to be modified. If rank is greater
      than the actual number of points, the last point is changed. rank must
      be strictly positive.</p>
      <p><em>unit</em>: the absolute unit (UnPixel or UnPoint) used for the
      values.</p>
      <p>x, y: new coordinates of the point, in units, relatively to the
      upper left corner of the enclosing rectangle. x and y must be positive
      or null.</p>
      <p><em>document</em>: the document containing the polyline element.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc12111">12.1.11</a> TtaChangeLimitOfPolyline</h4>
<a name="L4499"></a>

<p>Changes the coordinates of the lower left corner of the box containing a
Polyline basic element.</p>
<hr>

<p>void TtaChangeLimitOfPolyline(Element element, TypeUnit unit, int x, int
y, Document document)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>element</em>: the element to be changed. This element must be a
      basic element of type Polyline.
      <p><em>unit</em>: the absolute unit (UnPixel or UnPoint) used for the
      values.</p>
      <p>x, y: new coordinates of the lower left corner, in units, relatively
      to the upper left corner of the box. x and y must be positive or null
      and the box must contain all points of the polyline.</p>
      <p><em>document</em>: the document containing the polyline element.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc12112">12.1.12</a> TtaCopyPage</h4>
<a name="L4534"></a>

<p>Copies the page element source into the page element destination. Both
page elements must be in an abstract tree.</p>
<hr>

<p>void TtaCopyPage(Element destination, Element source)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>destination</em>: identifier of the page element to be modified.
      <p><em>source</em>: identifier of the source page element.</p>
    </dd>
</dl>
</div>
</div>

<div class="Section">
<h3><a name="sectb122">12.2</a> Accessors</h3>

<div class="Section">
<h4><a name="sectc1221">12.2.1</a> TtaGetVolume</h4>
<a name="L57000"></a>

<p>Returns the volume of an element. The volume of an element is the number
of characters needed to code the element contents. For a simple text element,
it is the text length. For a picture, it is the length of the file path. For
a constructed element, it is the sum of basic elements volumes.</p>
<hr>

<p>int TtaGetVolume(Element element)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>element</em>: the element of interest.</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>number of characters contined in the element.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1222">12.2.2</a> TtaGetPictureType</h4>

<p>Returns the type of Picture element. The type is one of the following
values: xbm_type, eps_type, xpm_type, gif_type, jpeg_type, png_type,
unknow_type.</p>
<hr>

<p>PicType TtaGetPictureType(Element element)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>element</em>: the element of interest. This element must be a
      picture element.</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>The type of the element.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1223">12.2.3</a> TtaGetTextLength</h4>
<a name="L4570"></a>

<p>Returns the length of a Text basic element.</p>
<hr>

<p>int TtaGetTextLength(Element element)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>element</em>: the element of interest. This element must be a
      basic element of type Text.</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>length (number of characters) of the character string contained in
      the element. The null character terminating a C string is not
    counted.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1224">12.2.4</a> TtaGiveTextContent</h4>
<a name="L4602"></a>

<p>Returns the content of a Text basic element.</p>
<hr>

<p>void TtaGiveTextContent(Element element, char *buffer, int *length,
Language *language)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>element</em>: the element of interest. This element must be a
      basic element of type Text.
      <p><em>buffer</em>: the buffer that will contain the text.</p>
      <p><em>length</em>: maximum length of that buffer.</p>
    </dd>
</dl>
<dl>
  <dt>Return parameters:</dt>
    <dd><em>buffer</em>: (the buffer contains the text, including the
      terminating null character).
      <p><em>length</em>: actual length of the text in the buffer, excluding
      the null character terminating the string.</p>
      <p><em>language</em>: language of the text (see section <a
      href="#secta15">15</a>).</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1225">12.2.5</a> TtaGiveSubString</h4>
<a name="L4660"></a>

<p>Returns a substring from a Text basic element.</p>
<hr>

<p>void TtaGiveSubString(Element element, char *buffer, int position, int
length)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>element</em>: the element of interest. This element must be a
      basic element of type Text.
      <p><em>buffer</em>: the buffer that will contain the substring. This
      buffer must be at least of size length.</p>
      <p><em>position</em>: the rank of the first character of the substring.
      rank must be strictly positive.</p>
      <p><em>length</em>: the length of the substring. Must be strictly
      positive.</p>
    </dd>
</dl>
<dl>
  <dt>Return parameter:</dt>
    <dd><em>buffer</em>: (the buffer contains the substring).</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1226">12.2.6</a> TtaGetGraphicsShape</h4>
<a name="L4711"></a>

<p>Returns the content of a Graphics or Symbol basic element.</p>
<hr>

<p>char TtaGetGraphicsShape(Element element)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>element</em>: the element of interest. This element must be a
      basic element of type Graphics or Symbol.</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>a single character representing the shape of the graphics element or
      symbol contained in the element.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1227">12.2.7</a> TtaGetPolylineLength</h4>
<a name="L4744"></a>

<p>Returns the number of points in a Polyline basic element.</p>
<hr>

<p>int TtaGetPolylineLength(Element element)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>element</em>: the Polyline element. This element must be a basic
      element of type Polyline.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1228">12.2.8</a> TtaGivePolylinePoint</h4>
<a name="L4768"></a>

<p>Returns the coordinates of a point in a Polyline basic element.</p>
<hr>

<p>void TtaGivePolylinePoint(Element element, int rank, TypeUnit unit, int
*x, int *y)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>element</em>: the Polyline element. This element must be a basic
      element of type Polyline.
      <p><em>rank</em>: rank of the point in the PolyLine. If rank is greater
      than the actual number of points, an error is raised. rank must be
      strictly positive.</p>
      <p><em>unit</em>: the absolute unit (UnPixel or UnPoint) used for the
      values.</p>
    </dd>
</dl>
<dl>
  <dt>Return values:</dt>
    <dd>x, y: coordinates of the point, in units, relatively to the upper
      left corner of the enclosing rectangle.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1229">12.2.9</a> TtaGetPageNumber</h4>
<a name="L4810"></a>

<p>Returns the page number of a Page basic element.</p>
<hr>

<p>int TtaGetPageNumber(Element pageElement)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>pageElement</em>: the page element.</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>page number of that page element.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc12210">12.2.10</a> TtaGetPageView</h4>
<a name="L4842"></a>

<p>Returns the view corresponding to a Page basic element.</p>
<hr>

<p>int TtaGetPageView(Element pageElement)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>pageElement</em>: the page element.</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>view of that page.</dd>
</dl>
</div>
</div>
</div>

<div class="Section">
<h2><a name="secta13">13</a> <a name="L4874">Logical attributes</a></h2>

<p>The functions described in this section require that file
<em>attribute.h</em> be included in the module that calls them.</p>

<p>When creating or searching attributes in an abstract tree, the type of the
concerned attributes must be given. As presented in section <a
href="#secta4">4</a>, an attribute type contains an attribute number, but
this number does not appear explicitly in a structure schema: it is generated
by the schema compiler. For obtaining all attribute numbers of a structure
schema, use the command:<br>
<em>       printsch -h SchemaName<br>
</em>which lists on the standard output a file that can be included into a C
program.</p>

<p>When a new attribute is created (function <a
name="L4893"></a>TtaNewAttribute), it must be attached (function <a
name="L4897"></a>TtaAttachAttribute) to an element which is itself part of an
abstract tree of a document, before any other action can be performed on that
attribute.</p>

<div class="Section">
<h3><a name="sectb131">13.1</a> Constructors</h3>

<div class="Section">
<h4><a name="sectc1311">13.1.1</a> TtaNewAttribute</h4>
<a name="L4907"></a>

<p>Creates an attribute that will be attached to an element.</p>
<hr>

<p>Attribute TtaNewAttribute(AttributeType attributeType)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>attributeType</em>: type of the attribute to be created.</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>the attribute that has been created.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1312">13.1.2</a> TtaAttachAttribute</h4>
<a name="L4940"></a>

<p>Attaches an attribute to an element.</p>
<hr>

<p>void TtaAttachAttribute(Element element, Attribute attribute, Document
document)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>element</em>: the element to which the attribute has to be
      attached.
      <p><em>attribute</em>: the attribute to be attached.</p>
      <p><em>document</em>: the document to which the element belongs.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1313">13.1.3</a> TtaRemoveAttribute</h4>
<a name="L4976"></a>

<p>Removes an attribute from an element and release that attribute.</p>
<hr>

<p>void TtaRemoveAttribute(Element element, Attribute attribute, Document
document)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>element</em>: the element with which the attribute is associated.
      <p><em>attribute</em>: the attribute to be removed.</p>
      <p><em>document</em>: the document to which the element belongs.</p>
    </dd>
</dl>
</div>
</div>

<div class="Section">
<h3><a name="sectb132">13.2</a> Modificators</h3>

<div class="Section">
<h4><a name="sectc1321">13.2.1</a> TtaSetAttributeValue</h4>
<a name="L5016"></a>

<p>Changes the value of an attribute of type integer or enumerate.</p>
<hr>

<p>void TtaSetAttributeValue(Attribute attribute, int value, Element element,
Document document)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>attribute</em>: the attribute to be modified.
      <p><em>value</em>: new value of the attribute.</p>
      <p><em>element</em>: the element with which the attribute is
      associated, NULL if the attribute is not yet associated with an
      element.</p>
      <p><em>document</em>: the document to which the element belongs. Must
      be 0 if element is NULL.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1322">13.2.2</a> TtaSetAttributeText</h4>
<a name="L5059"></a>

<p>Changes the value of an attribute of type text.</p>
<hr>

<p>void TtaSetAttributeText(Attribute attribute, char *buffer, Element
element, Document document)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>attribute</em>: the attribute to be modified.
      <p><em>buffer</em>: character string representing the new value of the
      attribute.</p>
      <p><em>element</em>: the element with which the attribute is
      associated, NULL if the attribute is not yet associated with an
      element.</p>
      <p><em>document</em>: the document to which the element belongs. Must
      be 0 if element is NULL.</p>
    </dd>
</dl>
</div>
</div>

<div class="Section">
<h3><a name="sectb133">13.3</a> Accessors</h3>

<div class="Section">
<h4><a name="sectc1331">13.3.1</a> TtaNextAttribute</h4>
<a name="L5105"></a>

<p>Returns the first attribute associated with a given element (if attribute
is NULL) or the attribute that follows a given attribute of a given
element.</p>
<hr>

<p>void TtaNextAttribute(Element element, Attribute *attribute)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>element</em>: the element of interest.
      <p><em>attribute</em>: an attribute of that element, or NULL if the
      first attribute is asked.</p>
    </dd>
</dl>
<dl>
  <dt>Return parameter:</dt>
    <dd><em>attribute</em>: the next attribute, or NULL if attribute is the
      last attribute of the element.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1332">13.3.2</a> TtaGetAttribute</h4>
<a name="L5145"></a>

<p>Returns an attribute of a given type associated with a given element.</p>
<hr>

<p>Attribute TtaGetAttribute(Element element, AttributeType attributeType)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>element</em>: the element of interest.
      <p><em>attributeType</em>: type of the desired attribute.. If the
      attribute "Language" is searched, attributeType.AttrTypeNum must be 1.
      If the attribute "Language" is searched whatever its structure schema,
      attributeType.AttrSSchema must be NULL. A NULL
      attributeType.AttrSSchema is accepted only when an attribute "Language"
      is searched.</p>
    </dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>the attribute found, or NULL if the element does not have this type
      of attribute.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1333">13.3.3</a> TtaGiveAttributeType</h4>
<a name="L5183"></a>

<p>Returns the type of a given attribute.</p>
<hr>

<p>void TtaGiveAttributeType(Attribute attribute, AttributeType
attributeType, int *attrKind)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>attribute</em>: the attribute of interest.</dd>
</dl>
<dl>
  <dt>Return parameters:</dt>
    <dd><em>attributeType</em>: type of the attribute.
      <p><em>attrKind</em>: kind of the attribute: 0 = Enumerate, 1 =
      Integer, 2 = Text, 3 = Reference</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1334">13.3.4</a> TtaGiveAttributeTypeFromName</h4>
<a name="L5224"></a>

<p>Retrieves the type of an attribute from its name.</p>
<hr>

<p>void TtaGiveAttributeTypeFromName(char *name, Element element,
AttributeType  *attributeType, int *attrKind)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>name</em>: name of the attribute.
      <p><em>element</em>: the element with which the attribute is
      associated.</p>
    </dd>
</dl>
<dl>
  <dt>Return parameters:</dt>
    <dd><em>attributeType</em>: type of the attribute.
      <p><em>attrKind</em>: kind of the attribute: 0 = Enumerate, 1 =
      Integer, 2 = Text, 3 = Reference</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1335">13.3.5</a> TtaGiveAttributeTypeFromOriginalName</h4>
<a name="L56928"></a>

<p>Retrieves the type of an attribute from its original name (in the language
it is defined in the structure schema).</p>
<hr>

<p>void TtaGiveAttributeTypeFromOriginalName(char *name, Element element,
AttributeType  *attributeType, int *attrKind)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>name</em>: original name of the attribute.
      <p><em>element</em>: the element with which the attribute is
      associated.</p>
    </dd>
</dl>
<dl>
  <dt>Return parameters:</dt>
    <dd><em>attributeType</em>: type of the attribute.
      <p><em>attrKind</em>: kind of the attribute: 0 = Enumerate, 1 =
      Integer, 2 = Text, 3 = Reference</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1336">13.3.6</a> TtaGetAttributeName</h4>
<a name="L5272"></a>

<p>Returns the name of an attribute type.</p>
<hr>

<p>char *TtaGetAttributeName(AttributeType attributeType)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>attributeType</em>: type of the attribute.</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>name of that type.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1337">13.3.7</a> TtaGetAttributeOriginalName</h4>
<a name="L56968"></a>

<p>Returns the original name of an attribute type (in the language it is
defined in the structure schema).</p>
<hr>

<p>char *TtaGetAttributeOriginalName(AttributeType attributeType)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>attributeType</em>: type of the attribute.</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>name of that type.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1338">13.3.8</a> TtaSameAttributeTypes</h4>
<a name="L5304"></a>

<p>Compares two attribute types.</p>
<hr>

<p>int TtaSameAttributeTypes(AttributeType type1, AttributeType type2)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>type1</em>: first attribute type.
      <p><em>type2</em>: second attribute type.</p>
    </dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>0 if both types are different, 1 if they are identical.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1339">13.3.9</a> TtaGetAttributeValue</h4>
<a name="L5342"></a>

<p>Returns the value of a given attribute of type integer or enumerate.</p>
<hr>

<p>int TtaGetAttributeValue(Attribute attribute)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>attribute</em>: the attribute of interest.</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>Value of that attribute.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc13310">13.3.10</a> TtaGetAttributeValueName</h4>
<a name="L57254"></a>

<p>Returns the name of a value of an attribute of type enumerate.</p>
<hr>

<p>char *TtaGetAttributeValueName (AttributeType attributeType, intvalue);</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><p><em>attributeType</em>: type of the the attribute of interest.</p>
      <p><em>value</em>: the value of interest.</p>
    </dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>name of that value or empty string if error.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc13311">13.3.11</a> TtaGetAttributeValueFromName</h4>
<a name="L57288"></a>

<p>Retrieves the int value of an attribute of type enumerate from its
name.</p>
<hr>

<p>int TtaGetAttributeValueFromName (char *name, AttributeType
attributeType);</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>name</em>: name of the value of interest.
      <p><em>attributeType</em>: type of the the attribute of interest.</p>
    </dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>the corresponding int value, or 0 if error.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc13312">13.3.12</a> TtaGetTextAttributeLength</h4>
<a name="L5375"></a>

<p>Returns the length of a given attribute of type text.</p>
<hr>

<p>int TtaGetTextAttributeLength(Attribute attribute)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>attribute</em>: the attribute of interest.</dd>
</dl>
<dl>
  <dt>Return values:</dt>
    <dd>length of the character string contained in the attribute.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc13313">13.3.13</a> TtaGiveTextAttributeValue</h4>
<a name="L5407"></a>

<p>Returns the value of a given attribute of type text.</p>
<hr>

<p>void TtaGiveTextAttributeValue(Attribute attribute, char *buffer, int
*length)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>attribute</em>: the attribute of interest.
      <p><em>buffer</em>: address of the buffer that will contain the value
      of the attribute.</p>
      <p><em>length</em>: size of the buffer (in bytes).</p>
    </dd>
</dl>
<dl>
  <dt>Return values:</dt>
    <dd><em>buffer</em>: character string representing the value of the
      attribute.
      <p><em>length</em>: actual length of the character string.</p>
    </dd>
</dl>
</div>
</div>

<div class="Section">
<h3><a name="sectb134">13.4</a> Locators</h3>

<div class="Section">
<h4><a name="sectc1341">13.4.1</a> TtaSearchAttribute</h4>
<a name="L5460"></a>

<p>Searches the next element that has a given attribute. Searching can be
done in a subtree or starting from a given element towards the beginning or
the end of the abstract tree.</p>
<hr>

<p>void TtaSearchAttribute(AttributeType searchedAttribute, SearchDomain
scope, Element element, Element *elementFound, Attribute *attributeFound)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>searchedAttribute</em>: attribute to be searched. If
      searchedAttribute.AttrSSchema is NULL, the next element that has an
      attribute is seached, whatever the attribute.
      <p><em>scope</em>: SearchForward, SearchBackward or SearchInTree.</p>
      <p><em>element</em>: the element that is the root of the tree (if scope
      = SearchInTree) or the starting element (if scope = SearchForward or
      SearchBackward).</p>
    </dd>
</dl>
<dl>
  <dt>Return parameters:</dt>
    <dd><em>elementFound</em>: the element found, or NULL if not found.
      <p><em>attributeFound</em>: the searched attribute, or NULL if not
      found.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1342">13.4.2</a> TtaSearchAttributes</h4>

<p><a name="L54601"></a></p>

<p>Searches the next element that has a given attribute. Searching can be
done in a subtree or starting from a given element towards the beginning or
the end of the abstract tree.</p>
<hr>

<p>void TtaSearchAttributes(AttributeType searchedAttr1, AttributeType
searchedAttr2, SearchDomain scope, Element element, Element *elementFound,
Attribute *attributeFound)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>searchedAttr1, searchedAttr2</em>: attributes to be searched. If
      searchedAttribute.AttrSSchema is NULL, the next element that has an
      attribute is seached, whatever the attribute.
      <p><em>scope</em>: SearchForward, SearchBackward or SearchInTree.</p>
      <p><em>element</em>: the element that is the root of the tree (if scope
      = SearchInTree) or the starting element (if scope = SearchForward or
      SearchBackward).</p>
    </dd>
</dl>
<dl>
  <dt>Return parameters:</dt>
    <dd><em>elementFound</em>: the element found, or NULL if not found.
      <p><em>attributeFound</em>: the searched attribute, or NULL if not
      found.</p>
    </dd>
</dl>
</div>
</div>
</div>

<div class="Section">
<h2><a name="secta14">14</a> <a name="L5513">References and links</a></h2>

<p>The functions described in this section require that file
<em>reference.h</em> be included in the module that calls them.</p>

<div class="Section">
<h3><a name="sectb141">14.1</a> Modificators</h3>

<div class="Section">
<h4><a name="sectc1411">14.1.1</a> TtaSetReference</h4>
<a name="L5528"></a>

<p>Changes (or sets) the target of a reference element. The reference element
must be part of an abstract tree.</p>
<hr>

<p>void TtaSetReference(Element element, Document document, Element
target)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>element</em>: the reference element to be set.
      <p><em>document</em>: the document containing the reference element.</p>
      <p><em>target</em>: the target element (NULL for resetting the
      reference).</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1412">14.1.2</a> TtaNewInclusion</h4>
<a name="L5571"></a>

<p>Creates an inclusion of a given element.</p>
<hr>

<p>Element TtaNewInclusion(Document document, Element target)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>document</em>: the document for which the inclusion is created.
      <p><em>target</em>: the element to be included.</p>
    </dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>the created inclusion.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1413">14.1.3</a> TtaCopyReference</h4>
<a name="L5615"></a>

<p>Copies a reference element into another reference element. Both reference
elements must be in an abstract tree.</p>
<hr>

<p>void TtaCopyReference(Element element, Element source, Document
document)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>element</em>: the reference element to be set.
      <p><em>source</em>: the element to be copied.</p>
      <p><em>document</em>: the concerned document.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1414">14.1.4</a> TtaSetAttributeReference</h4>
<a name="L5645"></a>

<p>Changes the value of an attribute of type reference</p>
<hr>

<p>void TtaSetAttributeReference(Attribute attribute, Element element,
Document document, Element target)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>attribute</em>: the attribute to be changed.
      <p><em>element</em>: the element with which the attribute is
      associated.</p>
      <p><em>document</em>: the document containing the attribute.</p>
      <p><em>target</em>: the target element (NULL for resetting the
      reference).</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1415">14.1.5</a> TtaCopyAttributeReference</h4>
<a name="L5694"></a>

<p>Copies the reference attribute source into the reference attribute
attribute. Both attributes must be attached to an element in an abstract
tree.</p>
<hr>

<p>void TtaCopyAttributeReference(Attribute attribute, Element element,
Attribute source)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>attribute</em>: the reference attribute to be set.
      <p><em>element</em>: the element to which attribute is attached.</p>
      <p><em>source</em>: the source attribute.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1416">14.1.6</a> TtaCopyIncludedElem</h4>
<a name="L46842"></a>

<p>Up to date the value of inclusion element with the value of its source.</p>
<hr>

<p>void     TtaCopyIncludedElem( Element element, Document document)</p>
<hr>
<dl>
  <dt>Parameters</dt>
    <dd><em>element</em>: the element to be up to dated.
      <p><em>document</em>: the document that contains the element.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1417">14.1.7</a> TtaUpdateInclusionElements</h4>
<a name="L43583"></a>

<p>Up to date the value of inclusions that belong to the document.</p>

<p>If loadExternalDoc is TRUE, the inclusions whose the sources belong to
another document, are up to date too. In this case, the other documents are
opened temporarely. If removeExclusions is TRUE, the exclusions are removed
from the documents opened temporarely.</p>
<hr>

<p>void  TtaUpdateInclusionElements(Document document, ThotBool
loadExternalDoc, ThotBool removeExclusions)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>document</em>: the document in question.
      <p><em>loadExternalDoc</em>: TRUE if it is necessary to up to date the
      inclusions whose the sources belong to another (external) document.</p>
      <p><em>removeExclusions</em>: TRUE if exclusions of external documents
      have to be removed when these ones are temporarely opened.</p>
    </dd>
</dl>
</div>
</div>

<div class="Section">
<h3><a name="sectb142">14.2</a> Accessors</h3>

<div class="Section">
<h4><a name="sectc1421">14.2.1</a> TtaGiveReferredElement</h4>
<a name="L5735"></a>

<p>Returns the element referred by a given reference element.</p>
<hr>

<p>void TtaGiveReferredElement(Element element, Element *target)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>element</em>: the reference element.</dd>
</dl>
<dl>
  <dt>Return parameters:</dt>
    <dd><em>target</em>: the referred element, or NULL if that element is not
      accessible (empty reference or referred document not open).</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1422">14.2.2</a> TtaIsElementTypeReference</h4>
<a name="L5783"></a>

<p>Indicates whether an element type is a reference.</p>
<hr>

<p>int TtaIsElementTypeReference(ElementType elementType)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>elementType</em>: type to be tested.</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>1 = the type is a reference, 0 = the type is not a reference.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1423">14.2.3</a> TtaSameReferences</h4>
<a name="L5815"></a>

<p>Compares two reference elements.</p>
<hr>

<p>int TtaSameReferences(Element element1, Element element2)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>element1</em>: first reference element.
      <p><em>element2</em>: second reference element.</p>
    </dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>0 if both references are different, 1 if they are identical.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1424">14.2.4</a> TtaGiveReferenceAttributeValue</h4>
<a name="L5853"></a>

<p>Returns the value of a given attribute of type reference</p>
<hr>

<p>void TtaGiveReferenceAttributeValue(Attributeattribute, Element
*target)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>attribute</em>: the attribute of interest.</dd>
</dl>
<dl>
  <dt>Return parameters:</dt>
    <dd><em>target</em>: the element referred by the attribute, or NULL if
      that element is not accessible (empty reference or referred document
      not loaded)</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1425">14.2.5</a> TtaIsElementReferred</h4>
<a name="L5901"></a>

<p>Tells whether a given element is the target of a reference or not.</p>
<hr>

<p>int TtaIsElementReferred(Element element)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>element</em>: the element.</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>1 if the element is referred by another element or an attribute, 0 if
      not.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1426">14.2.6</a> TtaGetFirstReferringAttribute</h4>
<a name="L5902"></a>

<p>Return the first element that refers to the given element through an
attribute of type attrType</p>
<hr>

<p>Element TtaGetFirstReferringAttribute (Element element, AttributeType
attrType)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>element</em>: the element of interest</dd>
    <dd><em>attrType</em>: type of the reference attribute considered</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>the referring element if it exists, NULL if element is not referred
      by this type of attribute.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1427">14.2.7</a> TtaSameReferenceAttributes</h4>
<a name="L5933"></a>

<p>Compares two reference attributes.</p>
<hr>

<p>int TtaSameReferenceAttributes(Attribute attribute1, Attribute
attribute2)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>attribute1</em>: first reference attribute.
      <p><em>attribute2</em>: second reference attribute.</p>
    </dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>0 if both references are different, 1 if they are identical.</dd>
</dl>
</div>
</div>

<div class="Section">
<h3><a name="sectb143">14.3</a> Locators</h3>

<div class="Section">
<h4><a name="sectc1431">14.3.1</a> TtaNextLoadedReference</h4>
<a name="L5976"></a>

<p>Searches a reference that has a given element as a target and that belongs
to a document currently loaded.</p>
<hr>

<p>void TtaNextLoadedReference(Element target, Element *referenceElement,
Attribute *referenceAttribute)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>target</em>: the target element.
      <p><em>referenceElement</em>: previous element found by the function;
      NULL if the first reference is searched. (Both referenceElement and
      referenceAttribute must be NULL if the first reference is searched.)</p>
      <p><em>referenceAttribute</em>: previous reference attribute found;
      NULL if the first reference is searched or if the previous reference
      found by the function was an element.</p>
    </dd>
</dl>
<dl>
  <dt>Return parameters:</dt>
    <dd><em>referenceAttribute</em>: the reference attribute found. NULL if
      the reference found is an element or if no reference is found.
      <p><em>referenceElement</em>: the element found. If referenceAttribute
      is NULL, this element is a reference element, else it is the element
      with which the reference attribute found is associated. If both
      referenceAttribute and referenceElement are NULL, then no reference has
      been found.</p>
      <p><em>referenceDocument</em>: the document to which the reference
      found belongs. Zero if no reference has been found.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1433">14.3.2</a> TtaSearchReferenceElement</h4>
<a name="L6087"></a>

<p>Searches the next reference element. Searching can be done in a subtree or
starting from a given element towards the beginning or the end of the
abstract tree.</p>
<hr>

<p>Element TtaSearchReferenceElement(SearchDomain scope, Element element)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>scope</em>: SearchForward, SearchBackward or SearchInTree.
      <p><em>element</em>: the element that is the root of the subtree (if
      scope = SearchInTree) or the starting element (if scope = SearchForward
      or SearchBackward).</p>
    </dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>the element found, or NULL if not found.</dd>
</dl>
</div>
</div>
</div>

<div class="Section">
<h2><a name="secta15">15</a> <a name="L6125">Languages</a></h2>

<p>Group language contains the functions for managing natural languages.
These functions require that file <em>language.h</em> be included in the
module that calls them.</p>

<p>Thot needs to know in which language each basic text element is written,
for instance for hyphenating words or for checking the spelling. Therefore,
an attribute called Language is defined by default in each structure schema
and it can be associated with any element (see section <a
href="#secta13">13</a>). A text element inherits the language specified by it
first ancestor having a Language attribute, unless it carries its own
Language attribute.</p>

<p>The tool kit maintains a table of all languages used in the documents that
it handles. Each language has a name and an associated script. Other
information may be associated to a language, such as a dictionary (for
hyphenation or spelling checking). A language is identified by an identifier
of type <em>Language</em>.</p>

<p>There are five predefined languages, whose names are : ISO_latin_1,
Français, English, Symbol and Greek. ``Languages'' ISO_latin_1 and Symbol are
not natural languages in the same sense as Français, English or Greek. They
are used when a character string must be written in the corresponding script,
but is not candidate to such linguistic processing as word hyphenation or
spelling checking. For instance, a piece of C program should be considered as
written in the language ISO_latin_1; a mathematical symbol such as Ï or ¥
should be considered as written in the language Symbol.</p>

<p>Other predefined languages, called <em>typographic languages</em>, are
used by a typographic checker (acronym, short, expo). The tool kit maintains
a table of all typographic languages used in the documents that it handles.
Each typographic language has a name and an associated script. Other
information may be associated to a language, such as a dictionary (for
typographic checking). A typographic language is identified by an identifier
of type <em>Language</em>.</p>

<div class="Section">
<h3><a name="sectb151">15.1</a> Constructors</h3>

<div class="Section">
<h4><a name="sectc1511">15.1.1</a> <a name="L6156">TtaNewLanguage</a></h4>
<a name="L6157"></a>

<p>Declares a new language, its script and optionally the names of the
principal and secondary dictionaries. All languages used in a Thot document
must be explicitly declared, except for predefined languages. Thot registers
all declared languages and allocates a different identifier to each of them.
his function does not load dictionaries but loads their name. If
<em>principalDictionary</em> and/or <em>secondDictionary</em> are not NULL
values, dictionaries are loaded when necessary from files
$DICOPAR/principalDictionary and or $DICOPAR/secondDictionary. If an
application redeclares an existing language, this new declaration has no
effect.</p>
<hr>

<p>Language TtaNewLanguage(char *languageName, char languageScript, char
*principalDictionary, char *secondDictionary)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>languageName</em>: name of the language.
      <p><em>languageScript</em>: script to be used for writing that
      language:</p>
      <p>`L' for ISO-Latin-1, `G' for Symbol (Greek).</p>
      <p><em>principalDictionary</em>: name of the principal dictionary or
      NULL.</p>
      <p><em>secondDictionary</em>: name of the secondary dictionary or
      NULL.</p>
    </dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>identifier of the new language or 0 if the language cannot be
    added.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1512">15.1.2</a> TtaRemoveLanguage</h4>
<a name="L36560"></a>

<p>Remove a language from the Thot language table. The removed language may
be a predefined language or a language added by TtaNewLanguage (see section
<a href="#sectc1511">15.1.1</a>).</p>
<hr>

<p>void TtaRemoveLanguage(Language languageId)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>languageId</em>: identifier of the language to be removed.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1513">15.1.3</a> TtaLoadLanguageDictionaries</h4>
<a name="L6220"></a>

<p>Loads the dictionary associated with a language, if it is not loaded yet
and registers that a dictionary associated with this language has been
loaded.</p>
<hr>

<p>ThotBool TtaLoadLanguageDictionaries(Language languageId)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>languageId</em>: name of the concerned language.</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>-1 if the mandatory dictionary can not be loaded.
      <p>0 if no dictionary has been loaded.</p>
      <p>1 if the mandatory dictionary is loaded.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1514">15.1.4</a> TtaUnLoadLanguageDictionaries</h4>
<a name="L6258"></a>

<p>Unloads dictionaries associated with a given language.</p>
<hr>

<p>void TtaUnLoadLanguageDictionaries(Language languageId)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>languageId</em>: identifier of the language.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1515">15.1.5</a> TtaLoadTypoDictionaries</h4>
<a name="L13840"></a>

<p>Loads the dictionary associated with a typographic language, if it is not
loaded yet and registers that a dictionary associated with this typographic
language has been loaded.</p>
<hr>

<p>ThotBool TtaLoadTypoDictionaries(Language languageId)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>languageId</em>: identifier of the concerned typographic
    language.</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>-1 if the mandatory dictionary can not be loaded.
      <p>0 if no dictionary has been loaded.</p>
      <p>1 if the mandatory dictionary is loaded.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1516">15.1.6</a> TtaUnLoadTypoDictionaries</h4>
<a name="L13878"></a>

<p>Unloads dictionaries associated with a given typographic language.</p>
<hr>

<p>void TtaUnLoadTypoDictionaries(Language languageId)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>languageId</em>: identifier of the concerned typographic
    language.</dd>
</dl>
</div>
</div>

<div class="Section">
<h3><a name="sectb152">15.2</a> Accessors</h3>

<div class="Section">
<h4><a name="sectc1521">15.2.1</a> TtaGetLanguageIdFromName</h4>
<a name="L6287"></a>

<p>Returns the identifier of a language that matches a language name. If this
language name is unknown, returns the identifier of a typographic language
that matches this language name..</p>
<hr>

<p>Language TtaGetLanguageIdFromName(char *languageName)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>languageName</em>: name of the language or of the typographic
      language.</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>identifier of that language or of the typographic language or 0 if
      the language is unknown.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1522">15.2.2</a> TtaGetDefaultLanguage</h4>
<a name="L6319"></a>

<p>Returns the identifier of the default language.</p>
<hr>

<p>Language TtaGetDefaultLanguage()</p>
<hr>
<dl>
  <dt>Return value:</dt>
    <dd>identifier of the default language.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1523">15.2.3</a> TtaGetLanguageIdFromScript</h4>
<a name="L6340"></a>

<p>Returns the identifier of the first language that uses a given script.</p>
<hr>

<p>Language TtaGetLanguageIdFromScript(char *languageScript)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>languageScript</em>: the script of interest (`L' = latin, `G' =
      greek).</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>identifier of that language or 0 if the language is unknown.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1524">15.2.4</a> TtaGetScript</h4>
<a name="L6372"></a>

<p>Returns the script associated with a given language.</p>
<hr>

<p>char TtaGetScript(Language languageId)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>languageId</em>: name of the language.</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>a character that identifies the script (`L' = latin, `G' =
    greek).</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1525">15.2.5</a> TtaGetLanguageName</h4>
<a name="L6405"></a>

<p>Returns the name of a given language.</p>
<hr>

<p>char *TtaGetLanguageName(Language languageId)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>languageId</em>: identifier of the language.</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>the name of the language.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1526">15.2.6</a> TtaGetLanguageNameFromCode</h4>
<a name="L36161"></a>

<p>Returns the name of a language whose RFC-1766 code is known</p>
<hr>

<p>char *TtaGetLanguageNameFromCode (char *code)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>code</em>: code of the language, according to RFC-1766, a
      superset of ISO-639</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>the name of the language.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1527">15.2.7</a> TtaGetLanguageCodeFromName</h4>
<a name="L36192"></a>

<p>Returns the RFC-1766 code of a language whose name is known.</p>
<hr>

<p>char *TtaGetLanguageCodeFromName (char *name)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>name</em>: the name of the language, for instance "English",
      "French", "American", etc.</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>code of the language, according to RFC-1766, a superset of
    ISO-639.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1528">15.2.8</a> TtaGetPrincipalDictionary</h4>
<a name="L6437"></a>

<p>Returns a pointer to the principal dictionary associated to a language.</p>
<hr>

<p>Dictionary TtaGetPrincipalDictionary(Language languageId)</p>
<hr>
<dl>
  <dt>Return value:</dt>
    <dd>the pointer to that dictionary or NULL if there is no dictionary for
      this language.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1529">15.2.9</a> TtaGetSecondaryDictionary</h4>
<a name="L6460"></a>

<p>Returns a pointer to the secondary dictionary associated to a language.</p>
<hr>

<p>Dictionary TtaGetSecondaryDictionary(Language languageId)</p>
<hr>
<dl>
  <dt>Return value:</dt>
    <dd>the pointer to that dictionary or NULL if there is no dictionary for
      this language.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc15210">15.2.10</a> TtaGetPrincipalTypoDictionary</h4>
<a name="L13912"></a>

<p>Returns a pointer to the principal dictionary associated to a typographic
language.</p>
<hr>

<p>Dictionary TtaGetPrincipalTypoDictionary(Language languageId)</p>
<hr>
<dl>
  <dt>Return value:</dt>
    <dd>the pointer to that dictionary or NULL if there is no dictionary for
      this typographic language.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc15211">15.2.11</a> TtaGetSecondaryTypoDictionary</h4>
<a name="L13935"></a>

<p>Returns a pointer to the secondary dictionary associated to a typographic
language.</p>
<hr>

<p>Dictionary TtaGetSecondaryTypoDictionary(Language languageId)</p>
<hr>
<dl>
  <dt>Return value:</dt>
    <dd>the pointer to that dictionary or NULL if there is no dictionary for
      this typographic language.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc15212">15.2.12</a> TtaGetNumberOfLanguages</h4>
<a name="L6483"></a>

<p>Returns the current number of languages known by Thot.</p>
<hr>

<p>int TtaGetNumberOfLanguages()</p>
<hr>
<dl>
  <dt>Return value:</dt>
    <dd>the current number of languages.</dd>
</dl>
</div>
</div>
</div>

<div class="Section">
<h2><a name="secta16">16</a> <a name="L6504">Specific presentation</a></h2>

<p>The functions described in this section require that file
<em>presentation.h</em> be included in the module that calls them.</p>

<p>When a new specific presentation rule is created (functions <a
name="L6516"></a>TtaNewPRule, TtaNewPRuleForNamedView and <a
name="L6520"></a>TtaCopyPRule), it must be attached (function <a
name="L6524"></a>TtaAttachPRule) to an element which is itself part of an
abstract tree of a document, before any other action can be performed on that
specific presentation rule.</p>

<div class="Section">
<h3><a name="sectb161">16.1</a> Constructors</h3>

<div class="Section">
<h4><a name="sectc1611">16.1.1</a> TtaNewPRule</h4>
<a name="L6534"></a>

<p>Creates a new presentation rule of a given type for a given view of a
given document.</p>
<hr>

<p>PRule TtaNewPRule(int presentationType, View view, Document document)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>presentationType</em>: type of the presentation rule to be
      created. Available values are PRSize, PRStyle, PRFont, PRUnderline,
      PRThickness, PRIndent, PRLineSpacing, PRDepth, PRAdjust, PRJustify,
      PRLineStyle, PRLineWeight, PRFillPattern, PRBackground, PRForeground,
      PRHyphenate, PRWidth, PRHeight, PRVertPos, PRHorizPos.
      <p><em>view</em>: the view (this view must be open).</p>
      <p><em>document</em>: the document.</p>
    </dd>
</dl>
<dl>
  <dt>PReturn value:</dt>
    <dd>new presentation rule.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1612">16.1.2</a> TtaNewPRuleForNamedView</h4>
<a name="L6578"></a>

<p>Creates a new presentation rule of a given type for a given view of a
given document. The view is identified by its name.</p>
<hr>

<p>PRule TtaNewPRuleForNamedView(int presentationType, char *viewName,
Document document)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>presentationType</em>: type of the presentation rule to be
      created. Available values are PRSize, PRStyle, PRFont, PRUnderline,
      PRThickness, PRIndent, PRLineSpacing, PRDepth, PRAdjust, PRJustify,
      PRLineStyle, PRLineWeight, PRFillPattern, PRBackground, PRForeground,
      PRHyphenate, PRWidth, PRHeight, PRVertPos, PRHorizPos.
      <p><em>viewName</em>: the name of the view (this view does not need to
      be open).</p>
      <p><em>document</em>: the document.</p>
    </dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>new presentation rule.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1613">16.1.3</a> TtaCopyPRule</h4>
<a name="L6623"></a>

<p>Creates a new presentation rule and initializes it with a copy of an
existing presentation rule.</p>
<hr>

<p>PRule TtaCopyPRule(PRule pRule)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>pRule</em>: presentation rule to be copied.</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>new presentation rule.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1614">16.1.4</a> TtaAttachPRule</h4>
<a name="L6655"></a>

<p>Attaches a presentation rule to an element.</p>
<hr>

<p>void TtaAttachPRule(Element element, PRule pRule, Document document)</p>
<hr>
<pre>void TtaAttachPRule(element, pRule, document)
Element element;
PRule pRule;
Document document;</pre>
<dl>
  <dt>Parameters:</dt>
    <dd><em>element</em>: the element to which the presentation rule has to
      be attached.
      <p><em>pRule</em>: the presentation rule to be attached.</p>
      <p><em>document</em>: the document to which the element belongs.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1615">16.1.5</a> TtaRemovePRule</h4>
<a name="L6692"></a>

<p>Removes a presentation rule from an element and release that rule.</p>
<hr>

<p>void TtaRemovePRule(Element element, PRule pRule, Document document</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>element</em>: the element with which the presentation rule is
      associated.
      <p><em>pRule</em>: the presentation rule to be removed.</p>
      <p><em>document</em>: the document to which the element belongs.</p>
    </dd>
</dl>
</div>
</div>

<div class="Section">
<h3><a name="sectb162">16.2</a> Modificators</h3>

<div class="Section">
<h4><a name="sectc1621">16.2.1</a> TtaSetPRuleValue</h4>
<a name="L6732"></a>

<p>Changes the value of a presentation rule. The presentation rule must be
attached to an element that is part of a document.</p>
<hr>

<p>void TtaSetPRuleValue(Element element, PRule pRule, int value, Document
document)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>element</em>: the element to which the presentation rule is
      attached.
      <p><em>pRule</em>: the presentation rule to be changed.</p>
      <p><em>value</em>: the value to be set.</p>
      <p><em>document</em>: the document to which the element belongs.</p>
    </dd>
</dl>
<dl>
  <dt>Valid values according to rule type:</dt>
    <dd><em>PRSize</em>: an integer between 6 and 72 (body size in points).
      <p><em>PRStyle</em>: StyleRoman, StyleBold, StyleItalics, StyleOblique,
      StyleBoldItalics, StyleBoldOblique.</p>
      <p><em>PRFont</em>: FontTimes, FontHelvetica, FontCourier.</p>
      <p><em>PRUnderline</em>: NoUnderline, Underline, Overline, CrossOut.</p>
      <p><em>PRThickness</em>: ThinUnderline, ThickUnderline.</p>
      <p><em>PRIndent</em>: a positive, null or negative integer (indentation
      in points).</p>
      <p><em>PRLineSpacing</em>: a positive integer (line spacing in
      points).</p>
      <p><em>PRDepth</em>: a positive integer (depth of the element).</p>
      <p><em>PRAdjust</em>: AdjustLeft, AdjustRight, Centered,
      LeftWithDots.</p>
      <p><em>PRJustify</em>: Justified, NotJustified.</p>
      <p><em>PRHyphenate</em>: Hyphenation, NoHyphenation.</p>
      <p><em>PRLineStyle</em>: SolidLine, DashedLine, DottedLine.</p>
      <p><em>PRLineWeight</em>: a positive or null integer (stroke width for
      graphics).</p>
      <p><em>PRFillPattern</em>: rank of the pattern in the file
      thot.pattern.</p>
      <p><em>PRBackground</em>: rank of the background color in the file
      thot.color.</p>
      <p><em>PRForeground</em>: rank of the foreground color in the file
      thot.color.</p>
      <p><em>PRWidth, PRHeight, PRVertPos, PRHorizPos</em>: a positive or
      null integer.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1622">16.2.2</a> TtaSetPRuleView</h4>
<a name="L36750"></a>

<p>Sets the view to which a presentation rule applies. The presentation rule
must not be attached yet to an element.</p>
<hr>

<p>void TtaSetPRuleView (PRule pRule, int view)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>pRule</em>: the presentation rule to be changed.
      <p><em>view</em>: the value to be set.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1623">16.2.3</a> TtaChangeBoxSize</h4>
<a name="L6840"></a>

<p>Changes the height and width of the box corresponding to an element in a
given view.</p>
<hr>

<p>void TtaChangeBoxSize(Element element, Document document, View view, int
deltaX, int deltaY, TypeUnit unit)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>element</em>: the element of interest.
      <p><em>document</em>: the document to which the element belongs.</p>
      <p><em>view</em>: the view.</p>
      <p><em>deltaX</em>: width increment in units (positive, negative or
      zero).</p>
      <p><em>deltaY</em>: height increment in units (positive, negative or
      zero).</p>
      <p><em>unit</em>: the unit used for the values.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1624">16.2.4</a> TtaChangeBoxPosition</h4>
<a name="L6887"></a>

<p>Moves the box of an element in a given view.</p>
<hr>

<p>void TtaChangeBoxPosition(Element element, Document document, View view,
int deltaX, int deltaY, TypeUnit unit)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>element</em>: the element of interest.
      <p><em>document</em>: the document to which the element belongs.</p>
      <p><em>view</em>: the view.</p>
      <p><em>deltaX</em>: horizontal shift in units (positive, negative or
      zero).</p>
      <p><em>deltaY</em>: vertical shift in units (positive, negative or
      zero).</p>
      <p><em>unit</em>: the unit used for the values.</p>
    </dd>
</dl>
</div>
</div>

<div class="Section">
<h3><a name="sectb163">16.3</a> Accessors</h3>

<div class="Section">
<h4><a name="sectc1631">16.3.1</a> TtaGiveBoxSize</h4>
<a name="L6940"></a>

<p>Returns the height and width of the box corresponding to an element in a
given view.</p>
<hr>

<p>void TtaGiveBoxSize(Element element, Document document, View view,
TypeUnit unit, int *width, int *height)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>element</em>: the element of interest.
      <p><em>document</em>: the document to which the element belongs.</p>
      <p><em>view</em>: the view.</p>
      <p><em>unit</em>: the unit used for the values.</p>
    </dd>
</dl>
<dl>
  <dt>Return parameters:</dt>
    <dd><em>width</em>: box width in units.
      <p><em>height</em>: box height in units.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1632">16.3.2</a> TtaGiveBoxPosition</h4>
<a name="L6987"></a>

<p>Returns the x and y coordinates of the box corresponding to an element in
a given view. The returned coordinates indicate the distance between the
upper left corner of the box and the upper left corner of its parent box.</p>
<hr>

<p>void TtaGiveBoxPosition(Element element, Document document, View view,
TypeUnit unit, int *xCoord, int *yCoord)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>element</em>: the element of interest.
      <p><em>document</em>: the document to which the element belongs.</p>
      <p><em>view</em>: the view.</p>
      <p><em>unit</em>: the unit used for the values.</p>
    </dd>
</dl>
<dl>
  <dt>Return parameters:</dt>
    <dd><em>xCoord</em>: distance from the left edge of the parent box to the
      left edge of the box, in units.
      <p><em>yCoord</em>: distance from the top edge of the parent box to the
      top edge of the box, in units.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1633">16.3.3</a> TtaGiveBoxAbsPosition</h4>
<a name="L59864"></a>

<p>Returns the x and y coordinates of the box corresponding to an element in
a given view. The returned coordinates indicate the distance between the
upper left corner of the box and the upper left corner of its window.</p>
<hr>

<p>void TtaGiveBoxAbsPosition(Element element, Document document, View view,
TypeUnit unit, int *xCoord, int *yCoord)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>element</em>: the element of interest.
      <p><em>document</em>: the document to which the element belongs.</p>
      <p><em>view</em>: the view.</p>
      <p><em>unit</em>: the unit used for the values.</p>
    </dd>
</dl>
<dl>
  <dt>Return parameters:</dt>
    <dd><em>xCoord</em>: distance from the left edge of the window to the
      left edge of the box, in units.
      <p><em>yCoord</em>: distance from the top edge of the window to the top
      edge of the box, in units.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1634">16.3.4</a> TtaGiveWindowSize</h4>
<a name="L59909"></a>

<p>Returns the height and width of the window corresponding to a given
view.</p>
<hr>

<p>void TtaGiveWindowSize(Document document, View view, TypeUnit unit, int
*width, int *height)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><p><em>document</em>: the document of interest.</p>
      <p><em>view</em>: the view.</p>
      <p><em>unit</em>: the unit used for the return values (only UnPixel and
      UnPoint are allowed).</p>
    </dd>
</dl>
<dl>
  <dt>Return parameters:</dt>
    <dd><em>width</em>: window width in units.
      <p><em>height</em>: window height in units.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1635">16.3.5</a> TtaNextPRule</h4>
<a name="L7035"></a>

<p>Returns the first presentation rule associated with a given element (if
pRule is NULL) or the presentation rule that follows a given rule of a given
element.</p>
<hr>

<p>void TtaNextPRule(Element element, PRule *pRule)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>element</em>: the element of interest.
      <p><em>pRule</em>: a presentation rule of that element, or NULL if the
      first rule is asked.</p>
    </dd>
</dl>
<dl>
  <dt>Return parameter:</dt>
    <dd><em>pRule</em>: the next presentation rule, or NULL if pRule is the
      last rule of the element.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1636">16.3.6</a> TtaGetPRule</h4>
<a name="L7074"></a>

<p>Returns a presentation rule of a given type associated with a given
element.</p>
<hr>

<p>PRule TtaGetPRule(Element element, int presentationType)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>element</em>: the element of interest.
      <p><em>presentationType</em>: type of the desired presentation rule.
      Available values are PRSize, PRStyle, PRFont, PRUnderline, PRThickness,
      PRIndent, PRLineSpacing, PRDepth, PRAdjust, PRJustify, PRLineStyle,
      PRLineWeight, PRFillPattern, PRBackground, PRForeground, PRHyphenate,
      PRWidth, PRHeight, PRVertPos, PRHorizPos.</p>
    </dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>the presentation rule found, or NULL if the element does not have
      this type of presentation rule.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1637">16.3.7</a> TtaGetPRuleType</h4>
<a name="L7113"></a>

<p>Returns the type of a presentation rule.</p>
<hr>

<p>int TtaGetPRuleType(PRule pRule)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>pRule</em>: the presentation rule of interest.</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>type of that presentation rule. Available values are PRSize, PRStyle,
      PRFont, PRUnderline, PRThickness, PRIndent, PRLineSpacing, PRDepth,
      PRAdjust, PRJustify, PRLineStyle, PRLineWeight, PRFillPattern,
      PRBackground, PRForeground, PRHyphenate, PRWidth, PRHeight, PRVertPos,
      PRHorizPos.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1638">16.3.8</a> TtaGetPRuleValue</h4>
<a name="L7145"></a>

<p>Returns the value of a presentation rule.</p>
<hr>

<p>int TtaGetPRuleValue(PRule pRule)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>pRule</em>: the presentation rule of interest.</dd>
</dl>
<dl>
  <dt>Return values according to rule type:</dt>
    <dd><em>PRSize</em>: an integer between 6 and 72 (body size in points).
      <p><em>PRStyle</em>: StyleRoman, StyleBold, StyleItalics, StyleOblique,
      StyleBoldItalics, StyleBoldOblique.</p>
      <p><em>PRFont</em>: FontTimes, FontHelvetica, FontCourier.</p>
      <p><em>PRUnderline</em>: NoUnderline, Underline, Overline, CrossOut.</p>
      <p><em>PRThickness</em>: ThinUnderline, ThickUnderline.</p>
      <p><em>PRIndent</em>: a positive, null or negative integer (indentation
      in points).</p>
      <p><em>PRLineSpacing</em>: a positive integer (line spacing in
      points).</p>
      <p><em>PRDepth</em>: a positive integer (depth of the element).</p>
      <p><em>PRAdjust</em>: AdjustLeft, AdjustRight, Centered,
      LeftWithDots.</p>
      <p><em>PRJustify</em>: Justified, NotJustified.</p>
      <p><em>PRHyphenate</em>: Hyphenation, NoHyphenation.</p>
      <p><em>PRLineStyle</em>: SolidLine, DashedLine, DottedLine.</p>
      <p><em>PRLineWeight</em>: a positive or null integer (stroke width for
      graphics).</p>
      <p><em>PRFillPattern</em>: rank of the pattern in the file
      thot.pattern.</p>
      <p><em>PRBackground</em>: rank of the background color in the file
      thot.color.</p>
      <p><em>PRForeground</em>: rank of the foreground color in the file
      thot.color.</p>
      <p><em>PRWidth, PRHeight, PRVertPos, PRHorizPos</em>: a positive or
      null integer.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1639">16.3.9</a> TtaGetPRuleUnit</h4>
<a name="L57691"></a>

<p>Returns the unit of a presentation rule. This unit could be UnRelative,
UnXHeight, UnPoint, UnPixel, UnPercent.</p>
<hr>

<p>int TtaGetPRuleUnit(PRule pRule)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>pRule</em>: the presentation rule of interest.</dd>
</dl>
<dl>
  <dt>Return values according to rule type:</dt>
    <dd><p>The unit of the rule type<em> PRSize, PRIndent, PRLineSpacing,
      PRLineWeight, PRWidth, PRHeight, PRVertPos, PRHorizPos</em> or
      UnRelative if there is not unit for this rule.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc16310">16.3.10</a> TtaGetPRuleView</h4>
<a name="L36850"></a>

<p>Returns the number of the view to which a presentation rule applies.</p>
<hr>

<p>int TtaGetPRuleView(PRule pRule)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>pRule</em>: the presentation rule of interest.</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>number of the view to which a presentation rule applies.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc16311">16.3.11</a> TtaSamePRules</h4>
<a name="L7235"></a>

<p>Compares two presentation rules associated with the same element or with
different elements.</p>
<hr>

<p>int TtaSamePRules(PRule pRule1, PRule pRule2)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>pRule1</em>: first presentation rule to be compared.
      <p><em>pRule2</em>: second presentation rule to be compared.</p>
    </dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>0 if both rules are different, 1 if they are identical.</dd>
</dl>
</div>
</div>
</div>

<div class="Section">
<h2><a name="secta17">17</a> Style</h2>

<p>The functions described in this section require that file <em>style.h</em>
be included in the module that calls them. They are available only in the
Thot Editor library.</p>

<p>These functions allow the application to define either generic style or
specific style. Generic style is stored in an extended presentation schema
attached to the document and specific style is attached to elements. The
application needs to create a generic context to set, get or update a generic
style rule  and  needs to create a specific context to set, get or update a
specific style rule.</p>

<div class="Section">
<h3><a name="sectb171">17.1</a> Constructors</h3>

<div class="Section">
<h4><a name="sectc1711">17.1.1</a> TtaGetSpecificStyleContext</h4>
<a name="L58658"></a>

<p>Create a context for setting or getting a specific style attached to an
element.</p>

<p>The specific context contains:</p>
<pre>Document   doc;/* document number */
SSchema    schema;/* associated structure */
int        type;      /* type of element */
ThotBool   destroy;   /* destructive mode */</pre>
<hr>

<p>PresentationContext TtaGetSpecificStyleContext (Document doc)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>doc</em>: the document for which the context is created</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>a pointer to the allocated context.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1712">17.1.2</a> TtaGetGenericStyleContext</h4>
<a name="L58710"></a>

<p>Create a context for setting or getting a specific style attached to an
element.</p>

<p>The generiic context contains:</p>
<pre>Document doc;/* document number */
SSchema  schema;/* associated structure */
int      type;      /* type of element */
ThotBool destroy;   /* destructive mode */
int      box; /* specific presentation box if any */
int      attr;     /* or attribute */
int      attrval;  /* and the corresponding value */
char    *class;    /* class or box name */
int      classattr;/* class attribute */
int      attrelem; /* elem porting the attribute */
int      ancestors[MAX_ANCESTORS];/* ancestors type*/
int      ancestors_nb[MAX_ANCESTORS];/* number for each */</pre>
<hr>

<p>GenericContext TtaGetGenericStyleContext (Document doc)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>doc</em>: the document for which the context is created</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>a pointer to the allocated context.</dd>
</dl>
</div>
</div>

<div class="Section">
<h3><a name="sectb172">17.2</a> Modificators</h3>

<div class="Section">
<h4><a name="sectc1721">17.2.1</a> TtaSetStylePresentation</h4>
<a name="L58745"></a>

<p>Add a style rule to an element (specific) or to an extended presentation
schema (generic).</p>
<hr>

<p>int  TtaSetStylePresentation (unsigned int type, Element el, PSchema tsch,
PresentationContext context, PresentationValue value )</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>type</em>: type of the rule TRWidth, TRHeight, etc. (see
      presentation.h).
      <p><em>el</em>: element concerned (if specific) or Null</p>
      <p><em>tsch</em>:  presentation schema concerned (if generic) or
      Null</p>
      <p><em>conte</em>:  the specific or generic context.</p>
      <p><em>value</em>: value associated to the typed rule.</p>
    </dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>0 if the operation has been executed successfully.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1722">17.2.2</a> TtaUpdateStylePresentation</h4>
<a name="L58780"></a>

<p>Apply added style rules to an element (specific) or to an extended
presentation schema (generic).</p>
<hr>

<p>void TtaUpdateStylePresentation (Element el, PSchema tsch,
PresentationContext context)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>el</em>: element concerned (if specific) or Null
      <p><em>tsch</em>:  presentation schema concerned (if generic) or
      Null</p>
      <p><em>conte</em>:  the specific or generic context.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1723">17.2.3</a> TtaCleanStylePresentation</h4>
<a name="L58815"></a>

<p>Remove style rules of an element (specific) or of an extended presentation
schema (generic).</p>
<hr>

<p>void TtaCleanStylePresentation (Element el, PSchema tsch, Document doc)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>el</em>: element concerned (if specific) or Null
      <p><em>tsch</em>:  presentation schema concerned (if generic) or
      Null</p>
      <p><em>doc</em>: the document concerned</p>
    </dd>
</dl>
</div>
</div>

<div class="Section">
<h3><a name="sectb173">17.3</a> Accessors</h3>

<div class="Section">
<h4><a name="sectc1731">17.3.1</a> TtaGetStylePresentation</h4>
<a name="L59247"></a>

<p>Add a style rule to an element (specific) or to an extended presentation
schema (generic).</p>
<hr>

<p>int  TtaGetStylePresentation (unsigned int type, Element el, PSchema tsch,
PresentationContext context, PresentationValue *value )</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>type</em>: type of the rule TRWidth, TRHeight, etc. (see
      presentation.h).
      <p><em>el</em>: element concerned (if specific) or Null</p>
      <p><em>tsch</em>:  presentation schema concerned (if generic) or
      Null</p>
      <p><em>conte</em>:  the specific or generic context.</p>
    </dd>
</dl>
<dl>
  <dt>Return values:</dt>
    <dd>0 if the operation has been executed successfully.
      <p><em>value</em>: value associated to the typed rule.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1732">17.3.2</a></h4>
</div>
</div>
</div>

<div class="Section">
<h2><a name="secta18">18</a> <a name="L7272">Views</a></h2>

<p>The functions described in this section require that file <em>view.h</em>
be included in the module that calls them. They are available only in the
Thot Editor library.</p>

<div class="Section">
<h3><a name="sectb181">18.1</a> Constructors</h3>

<div class="Section">
<h4><a name="sectc1811">18.1.1</a> TtaOpenMainView</h4>
<a name="L7287"></a>

<p>Opens the main view of a document. This document must have a PSchema (see
<a name="L7295"></a>TtaSetPSchema).</p>
<hr>

<p>View TtaOpenMainView(Document document, int x, int y, int w, int h)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>document</em>: the document for which a window must be open.
      <p><em>x, y</em>: coordinate (in millimeters) of the upper left corner
      of the window that will display the view.</p>
      <p><em>w, h</em>: width and height (in millimeters) of the upper left
      corner of the window that will display the view.</p>
    </dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>the view opened or 0 if the view cannot be opened.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1812">18.1.2</a> TtaOpenView</h4>
<a name="L7334"></a>

<p>Opens a view for a document. This document must have a PSchema (see <a
name="L7342"></a>TtaSetPSchema).</p>
<hr>

<p>View TtaOpenView(Document document, char *viewName, int x, int y, int w,
int h)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>document</em>: the document.
      <p><em>viewName</em>: name of the view to be opened.</p>
      <p><em>x, y</em>: coordinate (in millimeters) of the upper left corner
      of the window that will display the view.</p>
      <p><em>w, h</em>: width and height (in millimeters) of the upper left
      corner of the window that will display the view.</p>
    </dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>the view opened or 0 if the view cannot be opened.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1813">18.1.3</a> TtaOpenSubView</h4>
<a name="L7386"></a>

<p>Opens a view that shows only a subtree. This document must have a PSchema
(see <a name="L7394"></a>TtaSetPSchema).</p>
<hr>

<p>View TtaOpenSubView(Document document, char *viewName, int x, int y, int
w, int h, Element subtree)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>document</em>: the document.
      <p><em>viewName</em>: name of the view to be opened.</p>
      <p>x, y: coordinate (in millimeters) of the upper left corner of the</p>
      <p>window that will display the view.</p>
      <p>w, h: width and height (in millimeters) of the upper left corner of
      the</p>
      <p>window that will display the view.</p>
      <p><em>subtree</em>: root element of the subtree to be shown in the
      view.</p>
    </dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>the view opened or 0 if the view cannot be opened.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1814">18.1.4</a> TtaChangeViewTitle</h4>
<a name="L7449"></a>

<p>Changes the title of a view.</p>
<hr>

<p>void TtaChangeViewTitle(Document document, View view, char *title)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>document</em>: the document.
      <p><em>view</em>: the view .</p>
      <p>title: the new title.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1815">18.1.5</a> TtaCloseView</h4>
<a name="L7484"></a>

<p>Closes a view.</p>
<hr>

<p>void TtaCloseView(Document document, View view)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>document</em>: the document for which a view must be closed.
      <p><em>view</em>: the view to be closed.</p>
    </dd>
</dl>
</div>
</div>

<div class="Section">
<h3><a name="sectb182">18.2</a> Modificators</h3>

<div class="Section">
<h4><a name="sectc1821">18.2.1</a> TtaSetSensibility</h4>
<a name="L7519"></a>

<p>Changes the current sensibility used to display a given view of a given
document.</p>
<hr>

<p>void TtaSetSensibility(Document document, View view, int value)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>document</em>: the document. Cannot be 0.
      <p><em>view</em>: the view.</p>
      <p><em>value</em>: new value of the sensibility.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1822">18.2.2</a> TtaSetZoom</h4>
<a name="L7555"></a>

<p>Changes the current zoom used to display a given view of a given
document.</p>
<hr>

<p>void TtaSetZoom(Document document, View view, int value)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>document</em>: the document. Cannot be 0.
      <p><em>view</em>: the view.</p>
      <p><em>value</em>: new value of the zoom.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1823">18.2.3</a> TtaShowElement</h4>
<a name="L7591"></a>

<p>Shows a given element in a given view of a given document.</p>
<hr>

<p>void TtaShowElement(Document document, View view, Element element, int
position)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>document</em>: the document to which the element to be shown
      belongs. Cannot be 0.
      <p><em>view</em>: the view where the element must be shown.</p>
      <p><em>element</em>: the element to be shown.</p>
      <p><em>position</em>: position of the top of the element in the window.
      Supposing that the y axis is oriented from the top of the window
      (coordinate 0) to the bottom (coordinate 100, whatever the actual
      height of the window), position is the desired y coordinate of the top
      of the element. This value is can be negative.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1824">18.2.4</a> TtaRaiseView</h4>
<a name="L28968"></a>

<p>Maps and raises a given view of a given document.</p>
<hr>

<p>void TtaRaiseView(Document document, View view)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>document</em>: the document to which the element to be shown
      belongs. Cannot be 0.
      <p><em>view</em>: the view where the element must be shown.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1825">18.2.5</a> TtaSetDisplayMode</h4>
<a name="L7634"></a>

<p>Changes display mode for a document. Three display modes are available
(DisplayImmediately, DeferredDisplay and NoComputedDisplay). In the immediate
mode, each modification made in the abstract tree of a document is
immediately reflected in all opened views where the modification can be seen.
In the deferred mode, the programmer can decide when the modifications are
made visible to the user; this avoids the image of the document to blink when
several elementary changes are made successively. Modifications are displayed
when mode is changed to DisplayImmediately. In the NoComputedDisplay mode,
the modifications are not displayed and not computed by the editor; the
execution is more rapid but the current image is lost. When mode is changed
to DisplayImmediately or DeferredDisplay, the image is completely redrawn by
the editor. An application that handles several documents at the same time
can choose different modes for different documents. When a document is open
or created, it is initially in the immediate mode.</p>
<hr>

<p>void TtaSetDisplayMode(Document document, DisplayMode newDisplayMode)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>document</em>: the document.
      <p><em>NewDisplayMode</em>: new display mode for that document.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1826">18.2.6</a> TtaLockTableFormatting</h4>
<a name="L60186"></a>

<p>Suspends table formatting.</p>
<hr>

<p>void TtaLockTableFormatting()</p>
<hr>
</div>

<div class="Section">
<h4><a name="sectc1827">18.2.7</a> TtaUnlockTableFormatting</h4>
<a name="L60200"></a>

<p>Reformats all unformatted tables since the previous lock</p>
<hr>

<p>void TtaUnlockTableFormatting()</p>
<hr>
</div>
</div>

<div class="Section">
<h3><a name="sectb183">18.3</a> Accessors</h3>

<div class="Section">
<h4><a name="sectc1831">18.3.1</a> TtaGetSensibility</h4>
<a name="L7668"></a>

<p>Reads the current sensibility used to display a given view of a given
document.</p>
<hr>

<p>int TtaGetSensibility(Document document, View view)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>document</em>: the document. Cannot be 0.
      <p><em>view</em>: the view.</p>
    </dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>current value of the sensibility.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1832">18.3.2</a> TtaGetZoom</h4>
<a name="L7707"></a>

<p>Reads the current zoom used to display a given view of a given
document.</p>
<hr>

<p>int TtaGetZoom(Document document, View view)</p>
<hr>
<pre>int TtaGetZoom(document, view)
Document document;
View view;</pre>
<dl>
  <dt>Parameters:</dt>
    <dd><em>document</em>: the document. Cannot be 0.
      <p><em>view</em>: the view.</p>
    </dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>current value of the zoom.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1833">18.3.3</a> TtaGetFirstElementShown</h4>
<a name="L56625"></a>

<p>Returns the first visible element in the view of the document. The
function returns also, the position of the top of this element within the
view.</p>
<hr>

<p>Element TtaGetFirstElementShown (Document document, View view, int
*position)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>document</em>: the document.
      <p><em>view</em>: the view.</p>
    </dd>
</dl>
<dl>
  <dt>Return parameter:</dt>
    <dd><p><em>position</em>: position of the top of the element in the
      window. Supposing that the y axis is oriented from the top of the
      window (coordinate 0) to the bottom (coordinate 100, whatever the
      actual height of the window), position is the desired y coordinate of
      the top of the element. This value is can be negative.</p>
    </dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>current display mode for that document.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1834">18.3.4</a> TtaGetDisplayMode</h4>
<a name="L7745"></a>

<p>Returns the current display mode for a document.</p>
<hr>

<p>DisplayMode TtaGetDisplayMode(Document document)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>document</em>: the document.</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>current display mode for that document.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1835">18.3.5</a> TtaIsPSchemaValid</h4>
<a name="L7777"></a>

<p>Checks if a presentation schema can be applied to a document of a given
class. No document is needed and the schemas are not loaded by this
function.</p>
<hr>

<p>int TtaIsPSchemaValid(char *structureName, char *presentationName)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>structureName</em>: Name of the document class.
      <p><em>presentationName</em>: Name of the presentation schema to be
      checked.</p>
    </dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>1 if the presentation schema can be applied, 0 if it can not.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1836">18.3.6</a> TtaGiveViewsToOpen</h4>
<a name="L7816"></a>

<p>Returns the names of the views that can be opened for a document.</p>
<hr>

<p>void TtaGiveViewsToOpen(Document document, char *buffer, int nbViews)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>document</em>: the document.
      <p><em>buffer</em>: a buffer that will contain the result.</p>
    </dd>
</dl>
<dl>
  <dt>Return parameters:</dt>
    <dd><em>buffer</em>: list of view names. Each name is a character string
      with a final '\0'. Names of views that are already open have a '*' at
      the end.
      <p><em>nbViews</em>: number of names in the list, 0 if not any view can
      be open.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1837">18.3.7</a> TtaGetViewName</h4>
<a name="L7861"></a>

<p>Returns the name of an open view.</p>
<hr>

<p>char *TtaGetViewName(Document document, View view)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>document</em>: the document to which the view belongs.
      <p><em>view</em>: the view.</p>
    </dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>Name of the view. The buffer must be provided by the caller.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1838">18.3.8</a> TtaGetViewFromName</h4>
<a name="L7899"></a>

<p>Returns the identifier of a view of a given document from its name.</p>
<hr>

<p>View TtaGetViewFromName(Document document, char *viewName)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>document</em>: the document to which the view belongs.
      <p><em>viewName</em>: the name of the view.</p>
    </dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>the view. 0 if no view of that name is currently open for the
      document.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1839">18.3.9</a> TtaGiveActiveView</h4>
<a name="L7938"></a>

<p>Returns the active view and the document to which that view belongs. The
active view is the one that receives the characters typed by the user.</p>
<hr>

<p>void TtaGiveActiveView(Document *document, View *view)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>document</em>: to rceive the active document.
      <p><em>view</em>: to receive the active view.</p>
    </dd>
</dl>
<dl>
  <dt>Return parameters:</dt>
    <dd><em>document</em>: the active document.
      <p><em>view</em>: the active view.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc18310">18.3.10</a> TtaIsViewOpened</h4>
<a name="L29017"></a>

<p>Indicates whether a view is opened.</p>
<hr>

<p>ThotBool TtaIsViewOpened(Document document, View view)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>document</em>: the document.
      <p><em>view</em>: the view.</p>
    </dd>
</dl>
<dl>
  <dt>Return values:</dt>
    <dd>True if the view is already opened.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc18311">18.3.11</a> TtaGiveTableFormattingLock</h4>
<a name="L60214"></a>

<p>Returns the status of the table formatting lock.</p>
<hr>

<p>void TtaGiveTableFormattingLock(ThotBool *lock)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>lock</em>: to receive the lock value.</dd>
</dl>
<dl>
  <dt>Return parameter:</dt>
    <dd><p><em>lock</em>: the lock value.</p>
    </dd>
</dl>
</div>
</div>

<div class="Section">
<h3><a name="sectb184">18.4</a> Help</h3>

<div class="Section">
<h4><a name="sectc1841">18.4.1</a> TtaListView</h4>
<a name="L25772"></a>

<p>Produces in a file a human-readable form of the current picture of the
document view.</p>
<hr>

<p>void TtaListView(Document document, View view, FILE *fileDescriptor)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>document</em>: the document to be listed.
      <p><em>view</em>: the view to be listed.</p>
      <p><em>fileDescriptor</em>: file descriptor of the file that will
      contain the list. This file must be open when calling the function.</p>
    </dd>
</dl>
</div>
</div>
</div>

<div class="Section">
<h2><a name="secta19">19</a> <a name="L7975">Selection</a></h2>

<p>The functions described in this section require that file
<em>selection.h</em> be included in the module that calls them. They are
available only in the Thot Editor library.</p>

<p>These functions allow an application program to change the selection set
by the user of the Thot Editor. The selection is the part of a document that
will be concerned by the next editing command issued by the end user. Tool
kit functions that modify a document are independent from the selection in
the sense that they can change any part of a document independently of the
current selection; but, when necessary, they can also have access to the
current user selection, by using the following functions.</p>

<div class="Section">
<h3><a name="sectb191">19.1</a> Constructors</h3>

<div class="Section">
<h4><a name="sectc1911">19.1.1</a> TtaSelectElement</h4>
<a name="L7993"></a>

<p>Selects a single element. This element is highlighted in all views where
it can be displayed. If it cannot be displayed in any existing view, a new
view is eventually open for displaying it.</p>
<hr>

<p>void TtaSelectElement(Document document, Element selectedElement)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>document</em>: the document containing the element to be selected.
      <p><em>selectedElement</em>: the element to be selected. NULL for
      cancelling the selection in the document.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1912">19.1.2</a> TtaSelectView</h4>
<a name="L37101"></a>

<p>Define the selected view of the document. This function has no effect if
the document is not the current selected document and if the current selected
element is an associated element.</p>
<hr>

<p>void TtaSelectView(Document document, View view)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>document</em>: the document containing the eselected lement.
      <p><em>view</em>: one view where the selected element is displayed.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1913">19.1.3</a> TtaSelectString</h4>
<a name="L8024"></a>

<p>Selects a substring or places the insertion caret within a Text basic
element. This substring is highlighted in all views where it can be
displayed.</p>
<hr>

<p>void TtaSelectString(Document document, Element textElement, int
firstCharacter, int lastCharacter)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>document</em>: the document containing the string to be selected.
      <p><em>textElement</em>: the Text element containing the string to be
      selected.</p>
      <p><em>firstCharacter</em>: position within the text element of the
      first character to be selected.</p>
      <p><em>lastCharacter</em>: position within the text element of the last
      character to be selected, 0 if a caret is to be placed before the
      position of the character of rank firstCharacter.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1914">19.1.4</a> TtaExtendSelection</h4>
<a name="L8066"></a>

<p>Extends the current selection to a given element.</p>
<hr>

<p>void TtaExtendSelection(Document document, Element element, int
lastCharacter)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>document</em>: the document for which the selection must be
      extended.
      <p><em>element</em>: the element to which the selection must be
      extended.</p>
      <p><em>lastCharacter</em>: position within this element of the last
      character to be selected. 0 if the whole element must be selected.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1915">19.1.5</a> TtaAddElementToSelection</h4>
<a name="L57829"></a>

<p>Add a new element to the current selection.  The new selection may then
contain separate elements.</p>
<hr>

<p>void TtaAddElementToSelection (Document document, Element element)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>document</em>: the document to which the element belongs.  This
      element must belong to the same document as the elements selected by
      previous calls to TtaAddElementToSelection and by the last call to
      TtaSelectElement.
      <p><em>element</em>: the element to be added to the current
      selection.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1916">19.1.6</a> TtaSelectInterval</h4>
<a name="L8103"></a>

<p>If a pair of paired elements is selected, select also all elements between
the two paired elements. Nothing is done if the current selection is not a
pair.</p>
<hr>

<p>void TtaSelectInterval()</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd>No parameter</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>No return value</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1917">19.1.7</a> TtaUnselect</h4>
<a name="L8132"></a>

<p>Turns the selection off for a document.</p>
<hr>

<p>void TtaUnselect(Document document)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>document</em>: the document for which the selection must be
      turned off</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>No return value</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1918">19.1.8</a> TtaSwitchSelection</h4>
<a name="L57860"></a>

<p>Switche the selection  on or off  in a view.</p>
<hr>

<p>void TtaSwitchSelection (Document document, View view, ThotBool show)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>document</em>: the document for which the selection must be
      switched off or on
      <p><em>view</em>: the view for which the selection must be switched off
      or on</p>
      <p><em>show</em>: indicate whether the selection must be switched off
      or on</p>
    </dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>No return value</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1919">19.1.9</a> TtaSetSelectionMode</h4>
<a name="L8165"></a>

<p>Change selection mode. If withMenu = False functions TtaSelectElement,
TtaSelectString, TtaExtendSelection and TtaUnselect do not update the menus
that depend on the selection and do not display the selection message.
Default mode is withMenu = True.</p>
<hr>

<p>void TtaSetSelectionMode(ThotBool withMenu)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>withMenu</em>: the new selection mode.</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>No return value</dd>
</dl>
</div>
</div>

<div class="Section">
<h3><a name="sectb192">19.2</a> Accessors</h3>

<div class="Section">
<h4><a name="sectc1921">19.2.1</a> TtaGetSelectedDocument</h4>
<a name="L46786"></a>

<p>Returns the selected document.</p>
<hr>

<p>Document TtaGetSelectedDocument ()</p>
<hr>
<dl>
  <dt>Return value:</dt>
    <dd><em>document</em>: the selected document or 0.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1922">19.2.2</a> TtaIsDocumentSelected</h4>
<a name="L33392"></a>

<p>Indicates whether a document is selected.</p>
<hr>

<p>ThotBool TtaIsDocumentSelected(Document document)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>document</em>: the document.</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>True if the current selection concerns this document.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1923">19.2.3</a> TtaIsSelectionEmpty</h4>
<a name="L57652"></a>

<p>Indicates whether there is an empty selection (a caret).</p>
<hr>

<p>ThotBool TtaIsSelectionEmpty()</p>
<hr>
<dl>
  <dt>Return value:</dt>
    <dd>True if here is a current selection and this selection is empty (a
      caret).</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1924">19.2.4</a> TtaGiveFirstSelectedElement</h4>
<a name="L8202"></a>

<p>Returns the first element in the current selection in a given document. If
this element is a Text element and if only a substring is selected, return
also the rank of the first and last characters in the selection. If the
current selection is an insert caret, the first character follows the last
one.</p>
<hr>

<p>void TtaGiveFirstSelectedElement(Document document, Element
*selectedElement, int *firstCharacter, int *lastCharacter)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>document</em>: the document for which the selection is asked.</dd>
</dl>
<dl>
  <dt>Return parameters:</dt>
    <dd><em>selectedElement</em>: the first selected element, NULL if no
      element is selected in the document.
      <p><em>firstCharacter</em>: rank of the first character in the
      selection, or 0 if the whole element is in the selection.</p>
      <p><em>lastCharacter</em>: rank of the last character in the selection,
      or 0 if the</p>
      <p>whole element is in the selection.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1925">19.2.5</a> TtaGiveLastSelectedElement</h4>
<a name="L57897"></a>

<p>Returns the last element in the current selection in a given document. If
this element is a Text element and if only a substring is selected, return
also the rank of the first and last characters in the selection.</p>
<hr>

<p>void TtaGiveLastSelectedElement(Document document, Element
*selectedElement, int *firstCharacter, int *lastCharacter)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>document</em>: the document for which the selection is asked.</dd>
</dl>
<dl>
  <dt>Return parameters:</dt>
    <dd><em>selectedElement</em>: the last selected element, NULL if no
      element is selected in the document.
      <p><em>firstCharacter</em>: rank of the first character in the
      selection, or 0 if the whole element is in the selection.</p>
      <p><em>lastCharacter</em>: rank of the last character in the selection,
      or 0 if the</p>
      <p>whole element is in the selection.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1926">19.2.6</a> TtaGiveNextSelectedElement</h4>
<a name="L8252"></a>

<p>Returns the element that follows a given element in the current selection
in a given document. If this element is a Text element and if only a
substring is selected, return also the rank of the first and last characters
in the selection.</p>
<hr>

<p>void TtaGiveNextSelectedElement(Document document, Element
*selectedElement, int *firstCharacter, int *lastCharacter)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>document</em>: the document for which the selection is asked.
      <p><em>selectedElement</em>: the current element.</p>
    </dd>
</dl>
<dl>
  <dt>Return parameters:</dt>
    <dd><em>selectedElement</em>: the next selected element, NULL if this was
      the last selected element in the document.
      <p><em>firstCharacter</em>: rank of the first character in the
      selection, or 0 if the whole element is in the selection.</p>
      <p><em>lastCharacter</em>: rank of the last character in the selection,
      or 0 if the</p>
      <p>whole element is in the selection.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc1927">19.2.7</a> TtaGiveNextElement</h4>
<a name="L57940"></a>

<p>Returns the element that follows a given element in the selection
order.</p>
<hr>

<p>void TtaGiveNextElement(Document document, Element *eselectedElement,
Element last)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>document</em>: the document to which element belongs.
      <p><em>element</em>: the current element.</p>
      <p><em>last</em>: end of the range to be searched, usually last
      selected element.</p>
    </dd>
</dl>
<dl>
  <dt>Return parameters:</dt>
    <dd><em>element</em>: the next element in the selection order. NULL if
      not found.</dd>
</dl>
</div>
</div>
</div>

<div class="Section">
<h2><a name="secta20">20</a> Printing</h2>

<p>The procedures described in this section are for printing Thot documents.
Their use require that file <em>print.h</em> be included in the modules that
call them. They are available only in the Thot Editor library.</p>

<p>These procedures let the application launch the printing process, also
specify print parameters, and define an export function for pre-processing
documents to be printed.</p>

<div class="Section">
<h3><a name="sectb201">20.1</a> Constructors</h3>

<div class="Section">
<h4><a name="sectc2011">20.1.1</a> TtaPrint</h4>

<p>This procedure prints some views of a document with current print
parameters. The names of the views to be printed have to be consistant with
those given in the presentation schema used for printing. The application may
change the presentation schema of the document if it does not match the paper
size specified in the parameters (The paper size relative to a presentation
schema are given in the <em>.conf </em>file).</p>
<hr>

<p>void TtaPrint(Document document, char *viewName, char cssNames)</p>
<hr>
<dl>
  <dt>Paramters:</dt>
    <dd><em>document</em>: the document to be printed.
      <p><em>viewNames </em>: the names of the views to be printed, seprated
      by a blank character.</p>
      <p><em>cssNames </em>: the names of the css to be applied, seprated by
      a blank character.</p>
    </dd>
</dl>
</div>
</div>

<div class="Section">
<h3><a name="sectb202">20.2</a> Modificators</h3>

<div class="Section">
<h4><a name="sectc2021">20.2.1</a> TtaSetPrintExportProc</h4>

<p>This procedure let an application have its own export function before
printing a document. If an application wants to pre-process a document before
printing it, it can be done by specifing an export procedure used instead the
standard one.</p>

<p>The export function have to create the pivot file with the given filename
and path and save the document to be printed into it. It returns TRUE if the
export was succesful. The export function have the following prototype :</p>

<p>ThotBool exportFunc (Document document, char * docName, char* dirName)</p>
<hr>

<p>void TtaSetPrintExportFunc (Func exportFunc)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>exportProc</em>: the export procedure or NULL to restore the
      standard export.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc2022">20.2.2</a> TtaSetPrintSchema</h4>

<p>This procedure defines the presentation schema that has to be used by the
editor when printing or saving a PostScript file. By default, he name is ""
and the editor searches in the configuration file $STRUCTURE.conf the first
presentation schema supporting the current paper format (A4 or US). To return
to the default status, the application has to resets the empty name "".</p>
<hr>

<p>void TtaSetPrintSchema (char *name)</p>
<hr>
<dl>
  <dt>Parameter :</dt>
    <dd><em>name</em>: The schema name without the suffix .PRS.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc2023">20.2.3</a> TtaSetPrintParameter</h4>

<p>Thit procedure changes a print paramenter. Modifiable parameters belongs
to PrintParameter type. The different parameters are listed below, with the
range of their values.</p>

<p></p>
<dl>
  <dt>PrintParameter</dt>
    <dd><em>Range</em></dd>
  <dt>PP_FirstPage</dt>
    <dd>0 to 999</dd>
  <dt>PP_LastPage</dt>
    <dd>0 to 999</dd>
  <dt>PP_Scale</dt>
    <dd>10 to 300</dd>
  <dt>PP_NumberCopies</dt>
    <dd>1 to 100</dd>
  <dt>PP_ManualFeed</dt>
    <dd>PP_ON or PP_OFF</dd>
  <dt>PP_PagesPerSheet</dt>
    <dd>1, 2 or 4</dd>
  <dt>PP_PaperSize</dt>
    <dd>PP_A4 or PP_US</dd>
  <dt>PP_Destination</dt>
    <dd>PP_PRINTER or PP_PS</dd>
</dl>

<p></p>
<hr>

<p>void TtaSetPrintParameter (PrintParameter parameter, int value)</p>
<hr>
<dl>
  <dt>Parameters:</dt>
    <dd><em>parameter</em>: A print parameter.
      <p><em>value</em> : The new value of the parameter.</p>
    </dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc2024">20.2.4</a> TtaSetPrintCommand</h4>

<p>This procedure modifies the system printing command called by the editor
(the default value is given by the parameter THOTPRINT in <em>.thotrc</em>
file). It may be used for changing the printer name or a printer-side
printing option.</p>
<hr>

<p>void TtaSetPrintCommand (char *command)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>command</em>: The printing command.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc2025">20.2.5</a> TtaSetPsFile</h4>

<p>This procedure modifies the current path used by the editor when saving a
PostScript file.</p>
<hr>

<p>void TtaSetPsFile (char *path)</p>
<hr>
<dl>
  <dt>Parameter :</dt>
    <dd><em>path</em>: The PostScript file path.</dd>
</dl>
</div>
</div>

<div class="Section">
<h3><a name="sectb203">20.3</a> Accessors</h3>

<div class="Section">
<h4><a name="sectc2031">20.3.1</a> TtaIsPrinting</h4>

<p>This function returns TRUE when the current application is a print.ing
process.</p>
<hr>

<p>ThotBool TtaIsPrinting ()</p>
<hr>
<dl>
  <dt>Return value :</dt>
    <dd>TRUE when it's aprinting process, FALSE otherwise.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc2032">20.3.2</a> TtaGetPrintParameter</h4>

<p>Thit procedure returns a print paramenter value. Modifiable parameters
belongs to PrintParameter type. The different parameters are listed below,
with the range of their values.</p>

<p></p>
<dl>
  <dt><em>PrintParameter</em></dt>
    <dd>Range</dd>
  <dt>PP_FirstPage</dt>
    <dd>0 to 999</dd>
  <dt>PP_LastPage</dt>
    <dd>0 to 999</dd>
  <dt>PP_Scale</dt>
    <dd>10 to 300</dd>
  <dt>PP_NumberCopies</dt>
    <dd>1 to 100</dd>
  <dt>PP_ManualFeed</dt>
    <dd>PP_ON or PP_OFF</dd>
  <dt>PP_PagesPerSheet</dt>
    <dd>1, 2 or 4</dd>
  <dt>PP_PaperSize</dt>
    <dd>PP_A4 or PP_US</dd>
  <dt>PP_Destination</dt>
    <dd>PP_PRINTER or PP_PS</dd>
</dl>

<p></p>
<hr>

<p>int TtaGetPrintParameter (PrintParameter parameter)</p>
<hr>
<dl>
  <dt>Parameter:</dt>
    <dd><em>parameter</em>: A print parameter.</dd>
</dl>
<dl>
  <dt>Return value:</dt>
    <dd>The current value of the parameter.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc2033">20.3.3</a> TtaGetPrintCommand</h4>

<p>This procedure returns the current printing command.</p>
<hr>

<p>void TtaGetPrintCommand (char *command)</p>
<hr>
<dl>
  <dt>Return parameter:</dt>
    <dd><em>command</em>: The current printing command.</dd>
</dl>
</div>

<div class="Section">
<h4><a name="sectc2034">20.3.4</a> TtaGetPsFile</h4>

<p>This procedure returns the current path used by the editor when saving a
PostScript file.</p>
<hr>

<p>void TtaGetPsFile (char *path)</p>
<hr>
<dl>
  <dt>Return parameter:</dt>
    <dd><em>path</em>: The current PostScript file path.</dd>
</dl>
</div>
</div>
</div>
</body>
</html>

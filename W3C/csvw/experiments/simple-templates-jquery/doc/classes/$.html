<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>$</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <!--
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="../assets/css/logo.png" title=""></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: </em>
        </div>
    </div>
-->
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="../classes/$.html">$</a></li>
            
                <li><a href="../classes/$.CSV_format.html">$.CSV_format</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="../modules/CSVPlus.html">CSVPlus</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1>$ Class</h1>
<div class="box meta">
    

    

    
        <div class="foundat">
            Defined in: <a href="../files/CSVPlus.js.html#l30"><code>CSVPlus.js:30</code></a>
        </div>
    

    
        
            Module: <a href="../modules/CSVPlus.html">CSVPlus</a>
        
    

    
</div>



<div class="box intro">
    <p>Extension jQuery (a.k.a. $)to handle CSV+ files.</p>

</div>



<div id="classdocs" class="tabview">
    <ul class="api-class-tabs">
        <li class="api-class-tab index"><a href="#index">Index</a></li>

        
            <li class="api-class-tab methods"><a href="#methods">Methods</a></li>
        
        
            <li class="api-class-tab properties"><a href="#properties">Properties</a></li>
        
        
        
    </ul>

    <div>
        <div id="index" class="api-class-tabpanel index">
            <h2 class="off-left">Item Index</h2>

            
                <div class="index-section methods">
                    <h3>Methods</h3>

                    <ul class="index-list methods">
                        
                            <li class="index-item method">
                                <a href="#method_$.getCSV">$.getCSV</a>

                                
                                
                            </li>
                        
                            <li class="index-item method private">
                                <a href="#method_c_default">c_default</a>

                                
                                
                            </li>
                        
                            <li class="index-item method private">
                                <a href="#method_c_templates">c_templates</a>

                                
                                
                            </li>
                        
                            <li class="index-item method private">
                                <a href="#method_convertCSV">convertCSV</a>

                                
                                
                            </li>
                        
                            <li class="index-item method private">
                                <a href="#method_default_meta">default_meta</a>

                                
                                
                            </li>
                        
                            <li class="index-item method private">
                                <a href="#method_get_args">get_args</a>

                                
                                
                            </li>
                        
                            <li class="index-item method private">
                                <a href="#method_get_template_data">get_template_data</a>

                                
                                
                            </li>
                        
                            <li class="index-item method private">
                                <a href="#method_mergeMeta">mergeMeta</a>

                                
                                
                            </li>
                        
                            <li class="index-item method private">
                                <a href="#method_process_one_tag">process_one_tag</a>

                                
                                
                            </li>
                        
                            <li class="index-item method private">
                                <a href="#method_process_rows">process_rows</a>

                                
                                
                            </li>
                        
                            <li class="index-item method private">
                                <a href="#method_render_template">render_template</a>

                                
                                
                            </li>
                        
                            <li class="index-item method private">
                                <a href="#method_resolve_core_property">resolve_core_property</a>

                                
                                
                            </li>
                        
                            <li class="index-item method private">
                                <a href="#method_split_template">split_template</a>

                                
                                
                            </li>
                        
                    </ul>
                </div>
            

            
                <div class="index-section properties">
                    <h3>Properties</h3>

                    <ul class="index-list properties">
                        
                            <li class="index-item property private">
                                <a href="#property_builtin_filters">builtin_filters</a>

                                
                                    <span class="flag static">static</span>
                                
                                
                            </li>
                        
                            <li class="index-item property private">
                                <a href="#property_conversions">conversions</a>

                                
                                
                            </li>
                        
                            <li class="index-item property">
                                <a href="#property_core_properties">core_properties</a>

                                
                                
                            </li>
                        
                            <li class="index-item property private">
                                <a href="#property_js_conversions">js_conversions</a>

                                
                                
                            </li>
                        
                            <li class="index-item property private">
                                <a href="#property_rdf_conversions">rdf_conversions</a>

                                
                                
                            </li>
                        
                    </ul>
                </div>
            

            

            
        </div>

        
            <div id="methods" class="api-class-tabpanel">
                <h2 class="off-left">Methods</h2>

                
                    <div id="method_$.getCSV" class="method item">
    <h3 class="name"><code>$.getCSV</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>options</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code class="optional">[success]</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code class="optional">[failure]</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    
        <span class="returns-inline">
            <span class="type">Promise Object</span>
        </span>
    

    

    

    

    

    

    
        <span class="flag async">async</span>
    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/CSVPlus.js.html#l804"><code>CSVPlus.js:804</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Public interface, as a jQuery extension. The function</p>
<ol>
<li>Fetches the CSV content (in memory, i.e., it is very inefficient for large CSV files)</li>
<li>Retrieves and combines the metadata associated to the CSV (i.e., trough the link response header, and at the well known places; see the specification)</li>
<li>Retrieves the associated templates (if any), based on the requested output format</li>
<li>Converts the CSV content into either a Javascript object or a text file with a specified syntax (JSON, Turtle, XML) and makes the result available through asyncrhonous callbacks </li>
</ol>
<p>The method can either be used as an asynchronous function through callbacks, or as a Deferred object.</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">options</code>
                        <span class="type">String or Object</span>
                    

                    

                    <div class="param-description">
                        <ul>
<li>identification of the CSV. If it is a string, it is the URL of the CSV file. If it is an object, it has the following (optional) fields:</li>
</ul>

                    </div>

                    
                        <ul class="params-list">
                            
                            <li class="param">
                                
                                    <code class="param-name">url</code>
                                    <span class="type">String</span>
                                

                                <div class="param-description">
                                    <ul>
<li>URL of csv file (required),</li>
</ul>

                                </div>

                                
                            </li>
                            
                            <li class="param">
                                
                                    <code class="param-name">delimiter</code>
                                    <span class="type">String</span>
                                

                                <div class="param-description">
                                    <ul>
<li>CSV delimiter character (optional, default is <code>&quot;&quot;</code>, ie, auto-detect)</li>
</ul>

                                </div>

                                
                            </li>
                            
                            <li class="param">
                                
                                    <code class="param-name">comments</code>
                                    <span class="type">String</span>
                                

                                <div class="param-description">
                                    <ul>
<li>Specifies a comment character (like <code>&quot;#&quot;</code>) to skip lines; <code>false</code> if no comment is allowed (optional, default is &#39;#&#39;)</li>
</ul>

                                </div>

                                
                            </li>
                            
                            <li class="param">
                                
                                    <code class="param-name">format</code>
                                    <span class="type">String</span>
                                

                                <div class="param-description">
                                    <ul>
<li>Expected output format (can be &quot;json&quot;, &quot;javascript&quot;, &quot;turtle&quot;, etc.; default is &quot;javascript&quot;)</li>
</ul>

                                </div>

                                
                            </li>
                            
                            <li class="param">
                                
                                    <code class="param-name">filters</code>
                                    <span class="type">Object</span>
                                

                                <div class="param-description">
                                    <ul>
<li><p>Object providing user-defined filters; each key denotes a (template) filter function. 
A filter is invoked with the arguments:</p>
<ul>
<li><code>var</code> - String</li>
<li><code>context</code> - Template context object containing:<ul>
<li><code>column_name</code>: name of the column (used in the <code>{{name}}</code> part of the template tag)</li>
<li><code>meta</code>: (cumulative) metadata object</li>
<li><code>row</code>: array of the row being processed by the template process</li>
<li><code>row_index</code>: index of the row being processed</li>
<li><code>target_format</code>: target format of the template (i.e., &quot;json&quot;, &quot;turtle&quot;, &quot;xml&quot;, etc. )</li>
</ul>
</li>
<li><code>string1</code> (optional) - additional string provided in the template</li>
<li><code>string2</code> (optional) - additional string provided in the template</li>
<li>…</li>
<li><code>stringn</code> (optional) - additional string provided in the template</li>
</ul>
<p>The filter returns a string to be used as a replacement.</p>
</li>
</ul>

                                </div>

                                
                            </li>
                            
                        </ul>
                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name optional">[success]</code>
                        <span class="type">Function</span>
                        <span class="flag optional" title="This parameter is optional.">optional</span>
                    

                    

                    <div class="param-description">
                        <ul>
<li>Callback to process the result, called with an input argument, i.e., result object</li>
</ul>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name optional">[failure]</code>
                        <span class="type">Function</span>
                        <span class="flag optional" title="This parameter is optional.">optional</span>
                    

                    

                    <div class="param-description">
                        <ul>
<li>Callback to process in case of HTTP errors. Function two arguments: HTTP Status code and error message</li>
</ul>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        <span class="type">Promise Object</span>:
                    
                    <ul>
<li>A promise with the result object of the form:<ul>
<li><code>data</code>: result of the CSV conversion in the format required by the options</li>
<li><code>meta</code>: the (combined) metadata of the CSV content</li>
<li><code>errors</code>: array of error or warning messages (including possible CSV parsing errors)</li>
</ul>
</li>
</ul>

                
            </div>
        </div>
    

    
        <div class="example">
            <h4>Example:</h4>

            <div class="example-content">
                <p> Simple, asynchronous usage:</p>
<pre class="code prettyprint"><code> $.getCSV(&quot;http://www.example.org&quot;, function(csv_data) {
   // display the CSV data; by default, the data is a javascript object
   display(csv_data.data[&quot;Col1&quot;]);
   display(csv_data.data[&quot;Col2&quot;]);
   ...
 });</code></pre>
<p> Using JSON output, and display the result in a <code>&lt;pre&gt;</code> element</p>
<pre class="code prettyprint"><code> var request = { url: &quot;http://www.example.org&quot;, format: &quot;json&quot;};
 $.getCSV(request, function(csv_data) {
   $(&quot;div#example&quot;).append(&quot;&lt;pre&gt;&quot; + massage(csv_data.data) + &quot;&lt;/pre&gt;&quot;);
 });</code></pre>
<p> Same, but using the “Promise” style, and adding an error handling</p>
<pre class="code prettyprint"><code> var request = { url: &quot;http://www.example.org&quot;, format: &quot;json&quot;};
 $.getCSV(request)
   .done(function(csv_data) {
     $(&quot;div#example&quot;).append(&quot;&lt;pre&gt;&quot; + massage(csv_data.data) + &quot;&lt;/pre&gt;&quot;);
   })
   .fail( function(status,error) {
    console.log(status + &quot; &quot; + error);
   });</code></pre>

            </div>
        </div>
    
</div>

                
                    <div id="method_c_default" class="method item private">
    <h3 class="name"><code>c_default</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>data</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>meta</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>target_format</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    
        <span class="returns-inline">
            <span class="type">String or Object</span>
        </span>
    

    

    
        <span class="flag private">private</span>
    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/CSVPlus.js.html#l654"><code>CSVPlus.js:654</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Create a default conversion.
This is called when there is no template, ie, provides the default conversion
of a CSV file. This is the conversion that is defined, as a standard, by the WG.</p>
<p>This method implements the overall structure in a final format agnostic way. The <code>target_format</code> argument
is used to choose among the possible conversion function sets, using the <code>conversions</code> object.</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">data</code>
                        <span class="type">Array</span>
                    

                    

                    <div class="param-description">
                        <ul>
<li>The CSV data itself, an array of array (latter being a row from the file)</li>
</ul>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">meta</code>
                        <span class="type">Object</span>
                    

                    

                    <div class="param-description">
                        <ul>
<li>Metadata object, as defined in the spec</li>
</ul>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">target_format</code>
                        <span class="type">Sring</span>
                    

                    

                    <div class="param-description">
                        <ul>
<li>can be JSON, Turtle, Javascript,…</li>
</ul>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        <span class="type">String or Object</span>:
                    
                    <ul>
<li>Converted data. If the <code>target_format</code> argument is JAVASCRIPT, the return is an Object; if it is RDF,
the return is a Graph as defined by the rdf_interface package; otherwise a string with the converted value in the <code>target_format</code> syntax.</li>
</ul>

                
            </div>
        </div>
    

    
</div>

                
                    <div id="method_c_templates" class="method item private">
    <h3 class="name"><code>c_templates</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>data</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>meta</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>template</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>target_format</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>warnings</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    
        <span class="returns-inline">
            <span class="type">String or Object</span>
        </span>
    

    

    
        <span class="flag private">private</span>
    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/CSVPlus.js.html#l414"><code>CSVPlus.js:414</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Convert the CSV data with templates.</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">data</code>
                        <span class="type">Array</span>
                    

                    

                    <div class="param-description">
                        <ul>
<li>The CSV data itself, an array of array (latter being a row from the file)</li>
</ul>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">meta</code>
                        <span class="type">Object</span>
                    

                    

                    <div class="param-description">
                        <ul>
<li>Metadata object, as defined in the spec</li>
</ul>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">template</code>
                        <span class="type">String</span>
                    

                    

                    <div class="param-description">
                        <ul>
<li>Template string.</li>
</ul>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">target_format</code>
                        <span class="type">Sring</span>
                    

                    

                    <div class="param-description">
                        <ul>
<li>can be JSON, Turtle, Javascript,…</li>
</ul>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">warnings</code>
                        <span class="type">Array</span>
                    

                    

                    <div class="param-description">
                        <ul>
<li>array of warnings that may have to be extended if an error occurs</li>
</ul>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        <span class="type">String or Object</span>:
                    
                    <ul>
<li>Converted data. If the <code>target_format</code> argument is JAVASCRIPT, the retun is an Object,
otherwise a string with the converted value in the <code>target_format</code> syntax.</li>
</ul>

                
            </div>
        </div>
    

    
</div>

                
                    <div id="method_convertCSV" class="method item private">
    <h3 class="name"><code>convertCSV</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>data</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>meta</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>template</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>target_format</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>warnings</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    
        <span class="returns-inline">
            <span class="type">String or Object</span>
        </span>
    

    

    
        <span class="flag private">private</span>
    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/CSVPlus.js.html#l778"><code>CSVPlus.js:778</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Main conversion entry point. In reality, this is just a switch between the &#39;direct&#39;
i.e., default mapping as defined by the standard, and the templated version if a template
has been added to the metadata.</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">data</code>
                        <span class="type">Array</span>
                    

                    

                    <div class="param-description">
                        <ul>
<li>The CSV data itself, an array of array (latter being a row from the file)</li>
</ul>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">meta</code>
                        <span class="type">Object</span>
                    

                    

                    <div class="param-description">
                        <ul>
<li>Metadata object, as defined in the spec</li>
</ul>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">template</code>
                        <span class="type">String</span>
                    

                    

                    <div class="param-description">
                        <ul>
<li>Template string. If <code>&quot;&quot;</code> (ie, no template) a default Javascript object is generated</li>
</ul>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">target_format</code>
                        <span class="type">Sring</span>
                    

                    

                    <div class="param-description">
                        <ul>
<li>can be JSON, Turtle, Javascript,…</li>
</ul>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">warnings</code>
                        <span class="type">Array</span>
                    

                    

                    <div class="param-description">
                        <ul>
<li>array of warnings that may have to be extended if an error occurs</li>
</ul>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        <span class="type">String or Object</span>:
                    
                    <ul>
<li>Converted data. If the <code>target_format</code> argument is JAVASCRIPT, the retun is an Object,
otherwise a string with the converted value in the <code>target_format</code> syntax.</li>
</ul>

                
            </div>
        </div>
    

    
</div>

                
                    <div id="method_default_meta" class="method item private">
    <h3 class="name"><code>default_meta</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>data</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>url</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>headers</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    
        <span class="returns-inline">
            <span class="type">Object</span>
        </span>
    

    

    
        <span class="flag private">private</span>
    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/CSVPlus.js.html#l132"><code>CSVPlus.js:132</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Default metadata: to be used when no metadata is specified whatsoever.
It lists the column names, whether from the first row or creating a column name on the fly
(this depends on user setting, ie, whether the first row is indeed column names).</p>
<p>Additional metadatata items may be added, this will depend on the WG&#39;s final spec.</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">data</code>
                        <span class="type">Array</span>
                    

                    

                    <div class="param-description">
                        <ul>
<li>row of raw data, as extracted from the CSV files</li>
</ul>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">url</code>
                        <span class="type">String</span>
                    

                    

                    <div class="param-description">
                        <ul>
<li>url of the CSV data</li>
</ul>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">headers</code>
                        <span class="type">Boolean</span>
                    

                    

                    <div class="param-description">
                        <ul>
<li>Whether the first row in the data give the column headers; if <code>false</code>, 
 the column names are generated as described in the data model document. Note that if the value is <code>true</code>,
 the first row in <code>data</code> will be removed.</li>
</ul>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        <span class="type">Object</span>:
                    
                    <ul>
<li>New metadata</li>
</ul>

                
            </div>
        </div>
    

    
</div>

                
                    <div id="method_get_args" class="method item private">
    <h3 class="name"><code>get_args</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>arg_string</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>args_array</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    
        <span class="flag private">private</span>
    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/CSVPlus.js.html#l239"><code>CSVPlus.js:239</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Extract the arguments from a tag, ie, if a filter looks like
<code>filter(&quot;a&quot;,&quot;b&quot;,&quot;c&quot;)</code>, then extract an array of the form <code>[a,b,c]</code> from the
<code>&quot;a&quot;,&quot;b&quot;,&quot;c&quot;</code> string.</p>
<p>The method is used recursively to fill the incoming (initially empty) array.</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">arg_string</code>
                        <span class="type">String</span>
                    

                    

                    <div class="param-description">
                        <ul>
<li>the string to be parsed</li>
</ul>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">args_array</code>
                        <span class="type">Array</span>
                    

                    

                    <div class="param-description">
                        <ul>
<li>the array to be filled with the individual arguments</li>
</ul>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
</div>

                
                    <div id="method_get_template_data" class="method item private">
    <h3 class="name"><code>get_template_data</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>options</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>meta</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    
        <span class="returns-inline">
            <span class="type">Object</span>
        </span>
    

    

    
        <span class="flag private">private</span>
    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/CSVPlus.js.html#l172"><code>CSVPlus.js:172</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Extract the current templates, if any, from the metadata. This depends on the user’s option
that determines what the output format should be.</p>
<p>Default case is to return no template in Javascript object</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">options</code>
                        <span class="type">Object</span>
                    

                    

                    <div class="param-description">
                        <ul>
<li>User’s options object</li>
</ul>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">meta</code>
                        <span class="type">Object</span>
                    

                    

                    <div class="param-description">
                        <ul>
<li>CSV metadata</li>
</ul>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        <span class="type">Object</span>:
                    
                    <ul>
<li>template data of the form:</li>
<li><code>url</code>: URL of the template file. Default is empty</li>
<li><code>format</code>: output format (ie, Javascript, JSON, etc.). Default is JAVASCRIPT_FORMAT</li>
</ul>

                
            </div>
        </div>
    

    
</div>

                
                    <div id="method_mergeMeta" class="method item private">
    <h3 class="name"><code>mergeMeta</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>m1</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>m2</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>m3</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>m4</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    
        <span class="returns-inline">
            <span class="type">Object</span>
        </span>
    

    

    
        <span class="flag private">private</span>
    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/CSVPlus.js.html#l113"><code>CSVPlus.js:113</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Merge the various objects into one; the priority is right to left, i.e., key-value pairs on the
right override, if any, a similar key value on the left.</p>
<p>Used to merge the various metadata objects</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">m1</code>
                        <span class="type">Object</span>
                    

                    

                    <div class="param-description">
                        <ul>
<li>Lowest priority object</li>
</ul>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">m2</code>
                        <span class="type">Object</span>
                    

                    

                    <div class="param-description">
                        <ul>
<li>Object</li>
</ul>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">m3</code>
                        <span class="type">Object</span>
                    

                    

                    <div class="param-description">
                        <ul>
<li>Object</li>
</ul>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">m4</code>
                        <span class="type">Object</span>
                    

                    

                    <div class="param-description">
                        <ul>
<li>Highest priority object</li>
</ul>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        <span class="type">Object</span>:
                    
                    <ul>
<li>New class consisting of the merge incoming objects</li>
</ul>

                
            </div>
        </div>
    

    
</div>

                
                    <div id="method_process_one_tag" class="method item private">
    <h3 class="name"><code>process_one_tag</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>tag</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>view</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>context</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    
        <span class="returns-inline">
            <span class="type">String</span>
        </span>
    

    

    
        <span class="flag private">private</span>
    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/CSVPlus.js.html#l331"><code>CSVPlus.js:331</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Process one (optionally filtered) mustache tag, i.e., the content of something like <code>{{a.b.c.d}}</code> 
The first symbol should be used to get a value; all the others are filters.</p>
<p>(The implementation does not handle escape characters... :-()</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">tag</code>
                        <span class="type">String</span>
                    

                    

                    <div class="param-description">
                        <ul>
<li>The tag itself</li>
</ul>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">view</code>
                        <span class="type">Object</span>
                    

                    

                    <div class="param-description">
                        <ul>
<li>A mapping object providing a value for the (first) symbol</li>
</ul>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">context</code>
                        <span class="type">Object</span>
                    

                    

                    <div class="param-description">
                        <ul>
<li>Object containing:</li>
</ul>

                    </div>

                    
                        <ul class="params-list">
                            
                            <li class="param">
                                
                                    <code class="param-name">meta</code>
                                    <span class="type">Object</span>
                                

                                <div class="param-description">
                                    <ul>
<li>Metadata associated to the CSV file</li>
</ul>

                                </div>

                                
                            </li>
                            
                            <li class="param">
                                
                                    <code class="param-name">index</code>
                                    <span class="type">Object</span>
                                

                                <div class="param-description">
                                    <ul>
<li>Index of the row being processed, if applicable, -1 otherwise</li>
</ul>

                                </div>

                                
                            </li>
                            
                            <li class="param">
                                
                                    <code class="param-name">row</code>
                                    <span class="type">Object</span>
                                

                                <div class="param-description">
                                    <ul>
<li>Full row being processed, if applicable, <code>null</code> otherwise</li>
</ul>

                                </div>

                                
                            </li>
                            
                        </ul>
                    
                </li>
            
            </ul>
        </div>
    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        <span class="type">String</span>:
                    
                    <ul>
<li>value of the tag, i.e., the value from <code>view</code>, possibly ran through the chain of filters</li>
</ul>

                
            </div>
        </div>
    

    
</div>

                
                    <div id="method_process_rows" class="method item private">
    <h3 class="name"><code>process_rows</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>data</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>meta</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>callback</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    
        <span class="flag private">private</span>
    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/CSVPlus.js.html#l208"><code>CSVPlus.js:208</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Turn a data row into an object with column names (as specified in the metadata) as keys and cells as values.
The row is then processed through a callback function. The method performs these actions for each row in the 
data separately</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">data</code>
                        <span class="type">Array</span>
                    

                    

                    <div class="param-description">
                        <ul>
<li>current data row</li>
</ul>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">meta</code>
                        <span class="type">Object</span>
                    

                    

                    <div class="param-description">
                        <ul>
<li>CSV metadata</li>
</ul>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">callback</code>
                        <span class="type">Function</span>
                    

                    

                    <div class="param-description">
                        <ul>
<li>callback called with two arguments:</li>
<li>row: the data row Array</li>
<li>context: object containing:<ul>
<li><code>meta</code>: the CSV metadata</li>
<li><code>row_index</code>: the index of the row within the whole CSV file</li>
<li><code>row</code>: the current data row Array</li>
</ul>
</li>
</ul>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
</div>

                
                    <div id="method_render_template" class="method item private">
    <h3 class="name"><code>render_template</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>template</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>view</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>context</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    
        <span class="returns-inline">
            <span class="type">String</span>
        </span>
    

    

    
        <span class="flag private">private</span>
    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/CSVPlus.js.html#l384"><code>CSVPlus.js:384</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Process a template, i.e., find all the tags, process them individually (through the <code>process_one_tag</code> method)
and return the concatenated result.
Process a template, without the {{#rows}}...{{#rows}} sections. The function goes through the templates recursively,
by taking the templates from left-to-right and concatenating the results.</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">template</code>
                        <span class="type">String</span>
                    

                    

                    <div class="param-description">
                        <ul>
<li>The full template</li>
</ul>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">view</code>
                        <span class="type">Object</span>
                    

                    

                    <div class="param-description">
                        <ul>
<li>A mapping object providing a value for the (first) symbol</li>
</ul>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">context</code>
                        <span class="type">Object</span>
                    

                    

                    <div class="param-description">
                        <ul>
<li>Object containing:</li>
</ul>

                    </div>

                    
                        <ul class="params-list">
                            
                            <li class="param">
                                
                                    <code class="param-name">meta</code>
                                    <span class="type">Object</span>
                                

                                <div class="param-description">
                                    <ul>
<li>Metadata associated to the CSV file</li>
</ul>

                                </div>

                                
                            </li>
                            
                            <li class="param">
                                
                                    <code class="param-name">index</code>
                                    <span class="type">Object</span>
                                

                                <div class="param-description">
                                    <ul>
<li>Index of the row being processed, if applicable, -1 otherwise</li>
</ul>

                                </div>

                                
                            </li>
                            
                            <li class="param">
                                
                                    <code class="param-name">row</code>
                                    <span class="type">Object</span>
                                

                                <div class="param-description">
                                    <ul>
<li>Full row being processed, if applicable, <code>null</code> otherwise</li>
</ul>

                                </div>

                                
                            </li>
                            
                        </ul>
                    
                </li>
            
            </ul>
        </div>
    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        <span class="type">String</span>:
                    
                    <ul>
<li>value of the full template</li>
</ul>

                
            </div>
        </div>
    

    
</div>

                
                    <div id="method_resolve_core_property" class="method item private">
    <h3 class="name"><code>resolve_core_property</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>term</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>meta</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    
        <span class="returns-inline">
            <span class="type">Object</span>
        </span>
    

    

    
        <span class="flag private">private</span>
    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/CSVPlus.js.html#l620"><code>CSVPlus.js:620</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Resolve core property. The property is looked up in the (possible) 
<code>@context</code> structure to see if a URI is assigned to it and, if yes,
whether it is specified as having a URI as a value/object</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">term</code>
                        <span class="type">Sring</span>
                    

                    

                    <div class="param-description">
                        <ul>
<li>the term to be looked up</li>
</ul>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">meta</code>
                        <span class="type">Object</span>
                    

                    

                    <div class="param-description">
                        <ul>
<li>Metadata object, as defined in the spec</li>
</ul>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        <span class="type">Object</span>:
                    
                    <p>with values of &#39;uri&#39; (if an URI is assigned to the term) and a &#39;id&#39; boolean value on 
whether the value should be a URI or a string. The former defaults to <code>undefined</code>, the latter to <code>false</code>.</p>

                
            </div>
        </div>
    

    
</div>

                
                    <div id="method_split_template" class="method item private">
    <h3 class="name"><code>split_template</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>template</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    
        <span class="returns-inline">
            <span class="type">Array</span>
        </span>
    

    

    
        <span class="flag private">private</span>
    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/CSVPlus.js.html#l282"><code>CSVPlus.js:282</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>The full template has to be cut into a series of separate templates</p>
<ul>
<li>global templates</li>
<li>per-row templates to be repeated</li>
</ul>
<p>The result of the processing is an array of templates with a flag on whether it is
global or not. The objects returned in the array are of the form:</p>
<ul>
<li><code>repeat</code> (boolean): true means this is a template for rows, i.e,, to be repeated for all the rows</li>
<li><code>template</code>: the template itself.</li>
</ul>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">template</code>
                        <span class="type">String</span>
                    

                    

                    <div class="param-description">
                        <ul>
<li>The full template</li>
</ul>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        <span class="type">Array</span>:
                    
                    <ul>
<li>objects of the form described above.</li>
</ul>

                
            </div>
        </div>
    

    
</div>

                
            </div>
        

        
            <div id="properties" class="api-class-tabpanel">
                <h2 class="off-left">Properties</h2>

                
                    <div id="property_builtin_filters" class="property item private">
    <h3 class="name"><code>builtin_filters</code></h3>
    <span class="type">Array</span>

    

    
        <span class="flag private">private</span>
    

    
        <span class="flag final">final</span>
    

    
        <span class="flag static">static</span>
    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/CSVPlus.js.html#l61"><code>CSVPlus.js:61</code></a>
        
        </p>

        

        
    </div>

    <div class="description">
        <p>Filters that the current implementation recognizes for templates. The list has to be defined by
the WG, eventually. Each of the filters is invoked with the arguments:</p>
<ul>
<li><code>var</code> - String</li>
<li><code>context</code> - Template context object containing:<ul>
<li><code>column_name</code>: name of the column (used in the <code>{{name}}</code> part of the template tag)</li>
<li><code>meta</code>: (cumulative) metadata object</li>
<li><code>row</code>: array of the row being processed by the template process</li>
<li><code>row_index</code>: index of the row being processed</li>
<li><code>target_format</code>: target format of the template (i.e., &quot;json&quot;, &quot;turtle&quot;, &quot;xml&quot;, etc. )</li>
</ul>
</li>
<li><code>string1</code> (optional) - additional string provided in the template</li>
<li><code>string2</code> (optional) - additional string provided in the template</li>
<li>…</li>
<li><code>stringn</code> (optional) - additional string provided in the template
The filter returns a string to be used as a replacement.</li>
</ul>
<p>At the moment, the following filters are defined:</p>
<ul>
<li>upper - convert to upper case</li>
<li>lower - convert to lower case</li>
<li>number - convert the string into a number</li>
<li>row_number - return the index of the data row being processed (starting with 1)</li>
<li>replace - replace the regexp (in <code>string1</code>) with the string value in <code>string2</code></li>
<li>concat - concatenate <code>val</code> with <code>string1</code></li>
<li>preconcat - concatenate <code>string1</code> with <code>val</code></li>
<li>URI_encode - encode the string following RFC3986 (to be used as a URI component)</li>
</ul>

    </div>

    

    

    
</div>

                
                    <div id="property_conversions" class="property item private">
    <h3 class="name"><code>conversions</code></h3>
    <span class="type">Unknown</span>

    

    
        <span class="flag private">private</span>
    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/CSVPlus.js.html#l594"><code>CSVPlus.js:594</code></a>
        
        </p>

        

        
    </div>

    <div class="description">
        <p>Object referring to the conversion function objects, keyed through the possible formats</p>

    </div>

    

    

    
</div>

                
                    <div id="property_core_properties" class="property item">
    <h3 class="name"><code>core_properties</code></h3>
    <span class="type">Unknown</span>

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/CSVPlus.js.html#l606"><code>CSVPlus.js:606</code></a>
        
        </p>

        

        
    </div>

    <div class="description">
        <p>The core global properties that are defined by the group, i.e., not dependent on
DCMI or schema.org</p>

    </div>

    

    

    
</div>

                
                    <div id="property_js_conversions" class="property item private">
    <h3 class="name"><code>js_conversions</code></h3>
    <span class="type">Unknown</span>

    

    
        <span class="flag private">private</span>
    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/CSVPlus.js.html#l486"><code>CSVPlus.js:486</code></a>
        
        </p>

        

        
    </div>

    <div class="description">
        <p>Objects referring to the default conversion functions for Javascript and JSON</p>

    </div>

    

    

    
</div>

                
                    <div id="property_rdf_conversions" class="property item private">
    <h3 class="name"><code>rdf_conversions</code></h3>
    <span class="type">Unknown</span>

    

    
        <span class="flag private">private</span>
    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/CSVPlus.js.html#l531"><code>CSVPlus.js:531</code></a>
        
        </p>

        

        
    </div>

    <div class="description">
        <p>Objects referring to the default conversion functions for RDF and Turtle/NT</p>

    </div>

    

    

    
</div>

                
            </div>
        

        

        
    </div>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>

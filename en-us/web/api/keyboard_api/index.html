<p>{{SeeCompatTable}}{{APIRef(“Keyboard API”)}}</p>
<p>The Keyboard API provides methods for working with a physical keyboard that is attached to a device running a browser.</p>
<p>It provides several capabilities. <em>Keyboard mapping</em> provides an interface for retrieving the string generated by particular physical key on a keyboard to correctly identify that key to a user. <em>Keyboard locking</em> enables a web page to capture keys that are normally reserved by the user agent or the underlying operating system. The intended use of the Keyboard API is by web applications such as games or remote access apps that provide a full-screen immersive experience.</p>
<h2 id="keyboard-api-concepts-and-usage">Keyboard API concepts and usage</h2>
<h3 id="keyboard-mapping">Keyboard mapping</h3>
<p>On physical keyboards, the <code>code</code> attribute contains the physical location of the key that was pressed, and the <code>key</code> attribute contains the string generated by pressing the key at that physical location on the keyboard. The <code>key</code> value takes into account the keyboard’s locale (for example, ‘en-US’), layout (for example, ‘QWERTY’), and modifier-key state (Shift, Control, etc.). Historically there has been no way to retrieve that information.</p>
<p>The Keyboard Map API provides a way to retrieve the string generated by a particular key press, through the {{domxref(‘Keyboard’)}} interface and the {{domxref(‘KeyboardLayoutMap’)}} interface. The {{domxref(‘Keyboard’)}} interface is accessed through {{domxref(‘navigator.keyboard’)}}. {{domxref(‘Keyboard’)}} provides the {{domxref(‘Keyboard.getLayoutMap’)}} method, which returns a promise that resolves with a {{domxref(‘KeyboardLayoutMap’)}} object that contains members for converting codes to keys. A list of valid code values is found in the <a href="https://w3c.github.io/uievents-code/#key-alphanumeric-writing-system">Writing System Keys</a> section of the <a href="https://w3c.github.io/uievents-code/">UI Events KeyboardEvent code Values</a> spec.</p>
<p>The following example demonstrates how to get the location-specific or layout-specific string associated with the key labeled <code>W</code> on an English QWERTY keyboard.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="cf">if</span> (<span class="va">navigator</span>.<span class="at">keyboard</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb1-2" title="2">  <span class="kw">var</span> keyboard <span class="op">=</span> <span class="va">navigator</span>.<span class="at">keyboard</span><span class="op">;</span></a>
<a class="sourceLine" id="cb1-3" title="3">  <span class="va">keyboard</span>.<span class="at">getLayoutMap</span>()</a>
<a class="sourceLine" id="cb1-4" title="4">  .<span class="at">then</span>(keyboardLayoutMap <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb1-5" title="5">    <span class="kw">var</span> upKey <span class="op">=</span> <span class="va">keyboardLayoutMap</span>.<span class="at">get</span>(<span class="st">&#39;KeyW&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-6" title="6">    <span class="va">window</span>.<span class="at">alert</span>(<span class="st">&#39;Press &#39;</span> <span class="op">+</span> upKey <span class="op">+</span> <span class="st">&#39; to move up.&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-7" title="7">  <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-8" title="8"><span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb1-9" title="9">  <span class="co">// Do something else.</span></a>
<a class="sourceLine" id="cb1-10" title="10"><span class="op">}</span></a></code></pre></div>
<h3 id="keyboard-locking">Keyboard locking</h3>
<p>Richly interactive web pages, games, and remote-streaming experiences often require access to special keys and keyboard shortcuts while in full-screen mode. Examples of such key/key combinations include Escape, Alt+Tab, and Ctrl+N. Those keys and key combinations are typically captured by the user agent or the underlying operating system, as illustrated in the following example.</p>
<p>To capture the “W”, “A”, “S”, and “D” keys, call <code>lock()</code> with a list that contains the key code attribute value for each of these keys:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="va">navigator</span>.<span class="va">keyboard</span>.<span class="at">lock</span>([<span class="st">&quot;KeyW&quot;</span><span class="op">,</span> <span class="st">&quot;KeyA&quot;</span><span class="op">,</span> <span class="st">&quot;KeyS&quot;</span><span class="op">,</span> <span class="st">&quot;KeyD&quot;</span>])<span class="op">;</span></a></code></pre></div>
<p>This captures these keys regardless of which modifiers are used with the key press. Assuming a standard United States QWERTY layout, registering <code>KeyW</code> ensures that “W”, Shift+“W”, Control+“W”, Control+Shift+“W”, and all other key modifier combinations with “W” are sent to the app. The same applies to for <code>KeyA</code>, <code>KeyS</code> and <code>KeyD</code>.</p>
<h3 id="writing-system-keys">Writing system keys</h3>
<p>The codes passed {{domxref(‘Keyboard.lock’)}} and the various methods of the {{domxref(‘KeyboardLayoutMap’)}} interface are called “writing system keys”.</p>
<p>“Writing system keys” are defined in the <a href="https://w3c.github.io/uievents-code/#key-alphanumeric-writing-system">Writing System Keys</a> section of the <a href="https://w3c.github.io/uievents-code/">UI Events KeyboardEvent code Values</a> spec as the physical keys that change meaning based on the current locale and keyboard layout. These keys are shown below. Blue keys are present on all standard keyboards while green keys are only available on some keyboards.</p>
<figure>
<img src="writing-system-keys.png" alt="Writing system keys as defined by the UI Events KeyboardEvent code Values spec." /><figcaption>Writing system keys as defined by the UI Events KeyboardEvent code Values spec.</figcaption>
</figure>
<h2 id="interfaces">Interfaces</h2>
<ul>
<li>{{domxref(‘Keyboard’)}} {{experimental_inline}}
<ul>
<li>: Provides functions that retrieve keyboard layout maps and toggle capturing of key presses from the physical keyboard.</li>
</ul></li>
<li>{{domxref(‘KeyboardLayoutMap’)}} {{experimental_inline}}
<ul>
<li>: A map-like object with functions for retrieving the string associated with specific physical keys.</li>
</ul></li>
<li>{{domxref(‘navigator.keyboard’)}} {{readonlyinline}} {{experimental_inline}}
<ul>
<li>: Returns a {{domxref(‘Keyboard’)}} object which provides access to functions that retrieve keyboard layout maps and toggle capturing of key presses from the physical keyboard.</li>
</ul></li>
</ul>
<h2 id="specifications">Specifications</h2>
<table>
<colgroup>
<col style="width: 42%" />
<col style="width: 37%" />
<col style="width: 20%" />
</colgroup>
<thead>
<tr class="header">
<th>Specification</th>
<th>Status</th>
<th>Comment</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>{{SpecName(‘Keyboard Map’)}}</td>
<td>{{Spec2(‘Keyboard Map’)}}</td>
<td>Initial definition.</td>
</tr>
<tr class="even">
<td>{{SpecName(‘Keyboard Lock’)}}</td>
<td>{{Spec2(‘Keyboard Lock’)}}</td>
<td>Initial definition.</td>
</tr>
</tbody>
</table>
<h2 id="browser-compatibility">Browser compatibility</h2>
<h3 id="keyboard-api">Keyboard API</h3>
<p>{{Compat(“api.Keyboard”)}}</p>
<h3 id="keyboard-lock-api">Keyboard lock API</h3>
<p>{{Compat(“api.KeyboardLayoutMap”)}}</p>

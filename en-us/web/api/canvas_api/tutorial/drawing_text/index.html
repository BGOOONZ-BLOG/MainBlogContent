<p>{{CanvasSidebar}} {{PreviousNext(“Web/API/Canvas_API/Tutorial/Applying_styles_and_colors”, “Web/API/Canvas_API/Tutorial/Using_images”)}}</p>
<p>After having seen how to <a href="/en-US/docs/Web/API/Canvas_API/Tutorial/Applying_styles_and_colors">apply styles and colors</a> in the previous chapter, we will now have a look at how to draw text onto the canvas.</p>
<h2 id="drawing-text">Drawing text</h2>
<p>The canvas rendering context provides two methods to render text:</p>
<ul>
<li>{{domxref(“CanvasRenderingContext2D.fillText”, “fillText(text, x, y [, maxWidth])”)}}
<ul>
<li>: Fills a given text at the given (x,y) position. Optionally with a maximum width to draw.</li>
</ul></li>
<li>{{domxref(“CanvasRenderingContext2D.strokeText”, “strokeText(text, x, y [, maxWidth])”)}}
<ul>
<li>: Strokes a given text at the given (x,y) position. Optionally with a maximum width to draw.</li>
</ul></li>
</ul>
<h3 id="a-filltext-example">A <code>fillText</code> example</h3>
<p>The text is filled using the current <code>fillStyle</code>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">function</span> <span class="at">draw</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb1-2" title="2">  <span class="kw">var</span> ctx <span class="op">=</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&#39;canvas&#39;</span>).<span class="at">getContext</span>(<span class="st">&#39;2d&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-3" title="3">  <span class="va">ctx</span>.<span class="at">font</span> <span class="op">=</span> <span class="st">&#39;48px serif&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb1-4" title="4">  <span class="va">ctx</span>.<span class="at">fillText</span>(<span class="st">&#39;Hello world&#39;</span><span class="op">,</span> <span class="dv">10</span><span class="op">,</span> <span class="dv">50</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-5" title="5"><span class="op">}</span></a></code></pre></div>
<p><code>html hidden &lt;canvas id="canvas" width="300" height="100"&gt;&lt;/canvas&gt;</code></p>
<p><code>js hidden draw();</code></p>
<p>{{EmbedLiveSample(“A_fillText_example”, 310, 110)}}</p>
<h3 id="a-stroketext-example">A <code>strokeText</code> example</h3>
<p>The text is filled using the current <code>strokeStyle</code>.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">function</span> <span class="at">draw</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb2-2" title="2">  <span class="kw">var</span> ctx <span class="op">=</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&#39;canvas&#39;</span>).<span class="at">getContext</span>(<span class="st">&#39;2d&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-3" title="3">  <span class="va">ctx</span>.<span class="at">font</span> <span class="op">=</span> <span class="st">&#39;48px serif&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb2-4" title="4">  <span class="va">ctx</span>.<span class="at">strokeText</span>(<span class="st">&#39;Hello world&#39;</span><span class="op">,</span> <span class="dv">10</span><span class="op">,</span> <span class="dv">50</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-5" title="5"><span class="op">}</span></a></code></pre></div>
<p><code>html hidden &lt;canvas id="canvas" width="300" height="100"&gt;&lt;/canvas&gt;</code></p>
<p><code>js hidden draw();</code></p>
<p>{{EmbedLiveSample(“A_strokeText_example”, 310, 110)}}</p>
<h2 id="styling-text">Styling text</h2>
<p>In the examples above we are already making use of the <code>font</code> property to make the text a bit larger than the default size. There are some more properties which let you adjust the way the text gets displayed on the canvas:</p>
<ul>
<li>{{domxref(“CanvasRenderingContext2D.font”, “font = value”)}}
<ul>
<li>: The current text style being used when drawing text. This string uses the same syntax as the <a href="/en-US/docs/Web/CSS">CSS</a> {{cssxref(“font”)}} property. The default font is 10px sans-serif.</li>
</ul></li>
<li>{{domxref(“CanvasRenderingContext2D.textAlign”, “textAlign = value”)}}
<ul>
<li>: Text alignment setting. Possible values: <code>start</code>, <code>end</code>, <code>left</code>, <code>right</code> or <code>center</code>. The default value is <code>start</code>.</li>
</ul></li>
<li>{{domxref(“CanvasRenderingContext2D.textBaseline”, “textBaseline = value”)}}
<ul>
<li>: Baseline alignment setting. Possible values: <code>top</code>, <code>hanging</code>, <code>middle</code>, <code>alphabetic</code>, <code>ideographic</code>, <code>bottom</code>. The default value is <code>alphabetic</code>.</li>
</ul></li>
<li>{{domxref(“CanvasRenderingContext2D.direction”, “direction = value”)}}
<ul>
<li>: Directionality. Possible values: <code>ltr</code>, <code>rtl</code>, <code>inherit</code>. The default value is <code>inherit</code>.</li>
</ul></li>
</ul>
<p>These properties might be familiar to you, if you have worked with CSS before.</p>
<p>The following diagram from the <a href="https://www.whatwg.org/">WHATWG</a> demonstrates the various baselines supported by the <code>textBaseline</code> property.<img src="baselines.png" alt="The top of the em square is roughly at the top of the glyphs in a font, the hanging baseline is where some glyphs like आ are anchored, the middle is half-way between the top of the em square and the bottom of the em square, the alphabetic baseline is where characters like Á, ÿ, f, and Ω are anchored, the ideographic baseline is where glyphs like 私 and 達 are anchored, and the bottom of the em square is roughly at the bottom of the glyphs in a font. The top and bottom of the bounding box can be far from these baselines, due to glyphs extending far outside the em square." /></p>
<h3 id="a-textbaseline-example">A textBaseline example</h3>
<p>Edit the code below and see your changes update live in the canvas:</p>
<p><code>html hidden &lt;canvas id="canvas" width="400" height="200" class="playable-canvas"&gt;&lt;/canvas&gt; &lt;div class="playable-buttons"&gt;   &lt;input id="edit" type="button" value="Edit" /&gt;   &lt;input id="reset" type="button" value="Reset" /&gt; &lt;/div&gt; &lt;textarea id="code" class="playable-code"&gt; ctx.font = "48px serif"; ctx.textBaseline = "hanging"; ctx.strokeText("Hello world", 0, 100);&lt;/textarea&gt;</code></p>
<p>```js hidden var canvas = document.getElementById(‘canvas’); var ctx = canvas.getContext(‘2d’); var textarea = document.getElementById(‘code’); var reset = document.getElementById(‘reset’); var edit = document.getElementById(‘edit’); var code = textarea.value;</p>
<p>function drawCanvas() { ctx.clearRect(0, 0, canvas.width, canvas.height); eval(textarea.value); }</p>
<p>reset.addEventListener(‘click’, function() { textarea.value = code; drawCanvas(); });</p>
<p>edit.addEventListener(‘click’, function() { textarea.focus(); })</p>
<p>textarea.addEventListener(‘input’, drawCanvas); window.addEventListener(‘load’, drawCanvas); ```</p>
<p>{{ EmbedLiveSample(‘A_textBaseline_example’, 700, 400) }}</p>
<h2 id="advanced-text-measurements">Advanced text measurements</h2>
<p>In the case you need to obtain more details about the text, the following method allows you to measure it.</p>
<ul>
<li>{{domxref(“CanvasRenderingContext2D.measureText”, “measureText()”)}}
<ul>
<li>: Returns a {{domxref(“TextMetrics”)}} object containing the width, in pixels, that the specified text will be when drawn in the current text style.</li>
</ul></li>
</ul>
<p>The following code snippet shows how you can measure a text and get its width.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="kw">function</span> <span class="at">draw</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb3-2" title="2">  <span class="kw">var</span> ctx <span class="op">=</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&#39;canvas&#39;</span>).<span class="at">getContext</span>(<span class="st">&#39;2d&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-3" title="3">  <span class="kw">var</span> text <span class="op">=</span> <span class="va">ctx</span>.<span class="at">measureText</span>(<span class="st">&#39;foo&#39;</span>)<span class="op">;</span> <span class="co">// TextMetrics object</span></a>
<a class="sourceLine" id="cb3-4" title="4">  <span class="va">text</span>.<span class="at">width</span><span class="op">;</span> <span class="co">// 16;</span></a>
<a class="sourceLine" id="cb3-5" title="5"><span class="op">}</span></a></code></pre></div>
<h2 id="gecko-specific-notes">Gecko-specific notes</h2>
<p>In Gecko (the rendering engine of Firefox, Firefox OS and other Mozilla based applications), some <a href="/en-US/docs/Web/API/CanvasRenderingContext2D#prefixed_apis">prefixed APIs</a> were implemented in earlier versions to draw text on a canvas. These are now deprecated and removed, and are no longer guaranteed to work.</p>
<p>{{PreviousNext(“Web/API/Canvas_API/Tutorial/Applying_styles_and_colors”, “Web/API/Canvas_API/Tutorial/Using_images”)}}</p>

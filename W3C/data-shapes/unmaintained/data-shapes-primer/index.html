<!DOCTYPE html>
<html>
  	<head>
       	<title>OUTDATED: SHACL (Shapes Constraint Language) Primer</title>
    	<meta charset='utf-8'></meta>
    	<script src='//www.w3.org/Tools/respec/respec-w3c-common' async class='remove'></script>
	    <script class='remove'>
	      var respecConfig = {
	          specStatus: "ED",
	          shortName:  "shacl-primer",
            edDraftURI: "http://w3c.github.io/data-shapes/data-shapes-primer/",
	          editors: [
	                {   name:       "Eric Prud'hommeaux",
	                    url:        "http://www.w3.org/People/Eric/",
	                    company:    "W3C/MIT",
	                    companyURL: "http://www.w3.org/" },
	                {   name:       "Holger Knublauch",
	                    url:        "http://knublauch.com/",
	                    company:    "TopQuadrant, Inc.",
	                    companyURL: "http://topquadrant.com/" }
	          ],
	          wg:           "RDF Data Shapes Working Group",
	          wgURI:        "https://www.w3.org/2014/data-shapes/wiki/Main_Page",
	          wgPublicList: "public-data-shapes",
	          wgPatentURI:  "http://www.w3.org/2004/01/pp-impl/424242/status",
	      };
	    </script>
		<style>
			.todo {
				color: red;
			}
		    pre {
				tab-size: 4;
		    }
			th {
				text-align: left;
			}
      .comment {
        /* font-lock-comment-face */
        color: #b22222;
      }
      .constant {
        /* font-lock-constant-face */
        color: #008b8b;
      }
      .function-name {
        /* font-lock-function-name-face */
        color: #0000ff;
      }
      .keyword {
        /* font-lock-keyword-face */
        color: #a020f0;
      }
      .string {
        /* font-lock-string-face */
        color: #8b2252;
      }
      .type {
        /* font-lock-type-face */
        color: #228b22;
      }
      .example {
        display: inline-block;
      }
      .example.wrapper {
        background-color: #fff;
      }
      .example.wrapper pre {
        background-color: #fcfaee;
        margin-left: 0;
        line-height: 1.2;
      }
      .example.wrapper .fail {
        background-color: #fceefa
      }
      .verticalDivider {
        float: left;
        width: .5em;
        border:thin solid #fff; /* disappears without this */
      }

.highlight1     { margin-left: -5px; margin-right: -5px;   border-left: 5px solid rgba(176, 176, 0, .5); border-right: 5px solid rgba(176, 176, 0, .5); } /* font-weight: bold  ;  */
.highlight1.top {    margin-top: -5px;                      border-top: 5px solid rgba(176, 176, 0, .5);                                                } /* font-weight: bold  ;  */
.highlight1.bot { margin-bottom: -5px;                   border-bottom: 5px solid rgba(176, 176, 0, .5);                                                } /* font-weight: bold  ;  */
.lowlight1      { margin-left: -5px; margin-right: -5px;   border-left: 5px solid transparent; border-right: 5px solid transparent;                     } /* font-weight: normal;  */
.lowlight1.top  {    margin-top: -5px;                      border-top: 5px solid transparent;                                                          } /* font-weight: normal;  */
.lowlight1.bot  { margin-bottom: -5px;                   border-bottom: 5px solid transparent;                                                          } /* font-weight: normal;  */
.highlight2     { margin-left: -5px; margin-right: -5px;   border-left: 5px solid rgba(176, 0, 176, .5); border-right: 5px solid rgba(176, 0, 176, .5); } /* font-weight: bold  ;  */
.highlight2.top {    margin-top: -5px;                      border-top: 5px solid rgba(176, 0, 176, .5);                                                } /* font-weight: bold  ;  */
.highlight2.bot { margin-bottom: -5px;                   border-bottom: 5px solid rgba(176, 0, 176, .5);                                                } /* font-weight: bold  ;  */
.lowlight2      { margin-left: -5px; margin-right: -5px;   border-left: 5px solid rgba(127, 127, 127, .07); border-right: 5px solid rgba(127, 127, 127, .07);         } /* font-weight: normal;  */
.lowlight2.top  {    margin-top: -5px;                      border-top: 5px solid rgba(127, 127, 127, .07);                                                           } /* font-weight: normal;  */
.lowlight2.bot  { margin-bottom: -5px;                   border-bottom: 5px solid rgba(127, 127, 127, .07);                                                           } /* font-weight: normal;  */

.highlightBG1   { /* border: 5px solid transparent; */ background-color: #bb0; font-weight: bold; }
.lowlightBG1    { /* border: 5px solid transparent; */ font-weight: normal; }
.highlightBG2   { /* border: 5px solid transparent; */ background-color: #b00; font-weight: bold; }
.lowlightBG2    { /* border: 5px solid transparent; */ font-weight: normal; }

.new            { font-weight: bold; }
.errorSite      { color: red; }
		</style>
    <script src="http://www.w3.org/2013/ShEx/demobits/jquery.min.js" type= "text/javascript"></script>
    <script type="text/javascript"><!--
function prepareHighlight (highlightables, onClass, offClass, slide) {
  if (slide === undefined)
    slide = $("body .namespace").last();
  $.each( highlightables, function( index, value ){
    var elts = slide.find( "."+value );
    elts
  	.mouseenter(function() {
  	    elts.removeClass(offClass).addClass(onClass);
  	})
  	.mouseleave(function() {
  	    elts.removeClass(onClass).addClass(offClass);
  	})
    .addClass(offClass);
  })
}
--> </script>
  	</head>
  	<body>

    	<section id="abstract">
    		<p style="color: red; font-weight: bold;">
    			This document is currently not maintained and is out of date.
    			For the latest specification, see <a href="http://w3c.github.io/data-shapes/shacl/">SHACL Specification</a>.
    		</p> 
			<p>
				SHACL (Shapes Constraint Language) is an RDF vocabulary for describing RDF graph structures.
        These graph structures are captured as "shapes", which are expected to correspond to nodes in RDF graphs.
				These shapes identify predicates and their associated cardinalities and datatypes.
        Additional constraints can be associated with shapes using SPARQL or other languages which complement SHACL.
        SHACL shapes can be used to communicate data structures associated with some process or interface, generate or validate data, or drive user interfaces.
			</p>
			<p>
				This document introduces SHACL to people familiar with basic concepts of RDF and SPARQL.
				This primer develops examples from an issue tracking application to introduce all major features of SHACL, including the construction of shapes and their correspondence with RDF graphs.
				This primer is a possible companion to the <a href="../data-shapes-core/">langauge specifation</a> that serves as a language reference and full specification.
			</p>  	
		  </section>
    
    	<section id="introduction">
      		<h2>Introduction</h2>
      		<p>
            Most applications that share data do so using prescribed data structures.
            While RDFS and OWL enable one to make assertions about the objects in some domain, SHACL (Shapes Constraint Language) describes data structures.
      			Features of SHACL include:
      		</p>
      		<ul>
      			<li>
	      			An RDF vocabulary to define <a href="#shapes">shapes</a> as structural
	      			declarations of	the <a href="#properties">property constraints</a> associated with those shapes.
      			</li>
      			<li>
      				<a href="#constraints">Complex constraints</a> can be expressed in extension languages like SPARQL.
      			</li>
      		</ul>
      		<p>
      			SHACL is based on RDF and is compatible with Linked Data principles, making it possible to mix SHACL shapes with other semantic web data.
      		</p>
      		<p>
      			SHACL definitions are represented in RDF and can be serialized in multiple RDF formats.
      			The example snippets in this document use Turtle [[turtle]] and JSON-LD [[json-ld]] notation.
      			the reader should be familiar with basic RDF concepts [[rdf11-concepts]] such as triples and (for the advanced concepts of SHACL) with SPARQL [[sparql11-overview]].
      		</p>
      		<p>
      			This document uses a running example illustrated by the following graph in which an Issue which is submitted by some person and potentially assigned to the same person or someone else.
            These issues can have a status of <code>unassigned</code> or <code>assigned</code>.
      		</p>
<svg
   preserveAspectRatio="xMinYMin meet"
   viewBox="0 0 466 151"
   width="866"
   height="251"
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   fill-opacity="0"
   color-rendering="auto"
   color-interpolation="auto"
   stroke="rgb(0,0,0)"
   text-rendering="auto"
   stroke-linecap="square"
   stroke-miterlimit="10"
   stroke-opacity="0"
   shape-rendering="auto"
   fill="rgb(0,0,0)"
   stroke-dasharray="none"
   font-weight="normal"
   stroke-width="1"
   font-family="'Dialog'"
   font-style="normal"
   stroke-linejoin="miter"
   font-size="12"
   stroke-dashoffset="0"
   image-rendering="auto"
   id="svg3351"
   version="1.1"
   inkscape:version="0.48.4 r9939"
   sodipodi:docname="ex1.svg">
  <metadata
     id="metadata3536">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <sodipodi:namedview
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1"
     objecttolerance="10"
     gridtolerance="10"
     guidetolerance="10"
     inkscape:pageopacity="0"
     inkscape:pageshadow="2"
     inkscape:window-width="1920"
     inkscape:window-height="1058"
     id="namedview3534"
     showgrid="false"
     inkscape:zoom="2.0879376"
     inkscape:cx="260.34707"
     inkscape:cy="41.69783"
     inkscape:window-x="0"
     inkscape:window-y="0"
     inkscape:window-maximized="1"
     inkscape:current-layer="layer2" />
  <!--Generated by the Batik Graphics2D SVG Generator-->
  <defs
     id="genericDefs">
    <marker
       inkscape:stockid="Arrow2Mend"
       orient="auto"
       refY="0.0"
       refX="0.0"
       id="Arrow2Mend"
       style="overflow:visible;">
      <path
         id="path4575"
         style="fill-rule:evenodd;stroke-width:0.62500000;stroke-linejoin:round;"
         d="M 8.7185878,4.0337352 L -2.2072895,0.016013256 L 8.7185884,-4.0017078 C 6.9730900,-1.6296469 6.9831476,1.6157441 8.7185878,4.0337352 z "
         transform="scale(0.6) rotate(180) translate(0,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Send"
       orient="auto"
       refY="0.0"
       refX="0.0"
       id="Arrow1Send"
       style="overflow:visible;">
      <path
         id="path4563"
         d="M 0.0,0.0 L 5.0,-5.0 L -12.5,0.0 L 5.0,5.0 L 0.0,0.0 z "
         style="fill-rule:evenodd;stroke:#000000;stroke-width:1.0pt;"
         transform="scale(0.2) rotate(180) translate(6,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Lend"
       orient="auto"
       refY="0.0"
       refX="0.0"
       id="Arrow1Lend"
       style="overflow:visible;">
      <path
         id="path4551"
         d="M 0.0,0.0 L 5.0,-5.0 L -12.5,0.0 L 5.0,5.0 L 0.0,0.0 z "
         style="fill-rule:evenodd;stroke:#000000;stroke-width:1.0pt;"
         transform="scale(0.8) rotate(180) translate(12.5,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mend"
       orient="auto"
       refY="0.0"
       refX="0.0"
       id="Arrow1Mend"
       style="overflow:visible;">
      <path
         id="path4557"
         d="M 0.0,0.0 L 5.0,-5.0 L -12.5,0.0 L 5.0,5.0 L 0.0,0.0 z "
         style="fill-rule:evenodd;stroke:#000000;stroke-width:1.0pt;"
         transform="scale(0.4) rotate(180) translate(10,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow2Mend"
       orient="auto"
       refY="0"
       refX="0"
       id="Arrow2Mend-7"
       style="overflow:visible">
      <path
         inkscape:connector-curvature="0"
         id="path4575-8"
         style="fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round"
         d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z"
         transform="scale(-0.6,-0.6)" />
    </marker>
    <marker
       inkscape:stockid="Arrow2Mend"
       orient="auto"
       refY="0"
       refX="0"
       id="marker7228"
       style="overflow:visible">
      <path
         inkscape:connector-curvature="0"
         id="path7230"
         style="fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round"
         d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z"
         transform="scale(-0.6,-0.6)" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Lend"
       orient="auto"
       refY="0"
       refX="0"
       id="Arrow1Lend-9"
       style="overflow:visible">
      <path
         inkscape:connector-curvature="0"
         id="path4551-4"
         d="M 0,0 5,-5 -12.5,0 5,5 0,0 z"
         style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt"
         transform="matrix(-0.8,0,0,-0.8,-10,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow2Mend"
       orient="auto"
       refY="0"
       refX="0"
       id="Arrow2Mend-0"
       style="overflow:visible">
      <path
         inkscape:connector-curvature="0"
         id="path4575-2"
         style="fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round"
         d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z"
         transform="scale(-0.6,-0.6)" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Lend"
       orient="auto"
       refY="0"
       refX="0"
       id="Arrow1Lend-7"
       style="overflow:visible">
      <path
         inkscape:connector-curvature="0"
         id="path4551-8"
         d="M 0,0 5,-5 -12.5,0 5,5 0,0 z"
         style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt"
         transform="matrix(-0.8,0,0,-0.8,-10,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Lend"
       orient="auto"
       refY="0"
       refX="0"
       id="Arrow1Lend-91"
       style="overflow:visible">
      <path
         inkscape:connector-curvature="0"
         id="path4551-41"
         d="M 0,0 5,-5 -12.5,0 5,5 0,0 z"
         style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt"
         transform="matrix(-0.8,0,0,-0.8,-10,0)" />
    </marker>
  </defs>
  <g
     id="g3354">
    <defs
       id="defs1">
      <linearGradient
         x1="65"
         gradientUnits="userSpaceOnUse"
         x2="65"
         y1="100"
         y2="0"
         id="linearGradient1"
         spreadMethod="reflect">
        <stop
           stop-opacity="1"
           stop-color="rgb(118,148,200)"
           offset="0%"
           id="stop3358" />
        <stop
           stop-opacity="1"
           stop-color="rgb(238,243,251)"
           offset="100%"
           id="stop3360" />
      </linearGradient>
      <linearGradient
         x1="85"
         gradientUnits="userSpaceOnUse"
         x2="85"
         y1="100"
         y2="0"
         id="linearGradient2"
         spreadMethod="reflect">
        <stop
           stop-opacity="1"
           stop-color="rgb(118,148,200)"
           offset="0%"
           id="stop3363" />
        <stop
           stop-opacity="1"
           stop-color="rgb(238,243,251)"
           offset="100%"
           id="stop3365" />
      </linearGradient>
      <clipPath
         clipPathUnits="userSpaceOnUse"
         id="clipPath1">
        <path
           d="M-7 -7 L141 -7 L141 111 L-7 111 L-7 -7 Z"
           id="path3368" />
      </clipPath>
      <clipPath
         clipPathUnits="userSpaceOnUse"
         id="clipPath2">
        <path
           d="M0 0 L0 85 L130 85 L130 0 Z"
           id="path3371" />
      </clipPath>
      <clipPath
         clipPathUnits="userSpaceOnUse"
         id="clipPath3">
        <path
           d="M0 0 L130 0 L130 15 L0 15 L0 0 Z"
           id="path3374" />
      </clipPath>
      <clipPath
         clipPathUnits="userSpaceOnUse"
         id="clipPath4">
        <path
           d="M-7 -7 L181 -7 L181 111 L-7 111 L-7 -7 Z"
           id="path3377" />
      </clipPath>
      <clipPath
         clipPathUnits="userSpaceOnUse"
         id="clipPath5">
        <path
           d="M0 0 L0 85 L170 85 L170 0 Z"
           id="path3380" />
      </clipPath>
      <clipPath
         clipPathUnits="userSpaceOnUse"
         id="clipPath6">
        <path
           d="M0 0 L170 0 L170 15 L0 15 L0 0 Z"
           id="path3383" />
      </clipPath>
      <clipPath
         clipPathUnits="userSpaceOnUse"
         id="clipPath7">
        <path
           d="M-7 -7 L48 -7 L48 26 L-7 26 L-7 -7 Z"
           id="path3386" />
      </clipPath>
      <clipPath
         clipPathUnits="userSpaceOnUse"
         id="clipPath8">
        <path
           d="M0 0 L37 0 L37 15 L0 15 L0 0 Z"
           id="path3389" />
      </clipPath>
      <clipPath
         clipPathUnits="userSpaceOnUse"
         id="clipPath9">
        <path
           d="M-7 -7 L50 -7 L50 26 L-7 26 L-7 -7 Z"
           id="path3392" />
      </clipPath>
      <clipPath
         clipPathUnits="userSpaceOnUse"
         id="clipPath10">
        <path
           d="M0 0 L39 0 L39 15 L0 15 L0 0 Z"
           id="path3395" />
      </clipPath>
      <clipPath
         clipPathUnits="userSpaceOnUse"
         id="clipPath11">
        <path
           d="M-7 -7 L37 -7 L37 27 L-7 27 L-7 -7 Z"
           id="path3398" />
      </clipPath>
      <clipPath
         clipPathUnits="userSpaceOnUse"
         id="clipPath12">
        <path
           d="M0 0 L26 0 L26 16 L0 16 L0 0 Z"
           id="path3401" />
      </clipPath>
      <clipPath
         clipPathUnits="userSpaceOnUse"
         id="clipPath13">
        <path
           d="M-7 -7 L47 -7 L47 26 L-7 26 L-7 -7 Z"
           id="path3404" />
      </clipPath>
      <clipPath
         clipPathUnits="userSpaceOnUse"
         id="clipPath14">
        <path
           d="M0 0 L36 0 L36 15 L0 15 L0 0 Z"
           id="path3407" />
      </clipPath>
      <clipPath
         clipPathUnits="userSpaceOnUse"
         id="clipPath15">
        <path
           d="M-7 -7 L49 -7 L49 26 L-7 26 L-7 -7 Z"
           id="path3410" />
      </clipPath>
      <clipPath
         clipPathUnits="userSpaceOnUse"
         id="clipPath16">
        <path
           d="M0 0 L38 0 L38 15 L0 15 L0 0 Z"
           id="path3413" />
      </clipPath>
      <clipPath
         clipPathUnits="userSpaceOnUse"
         id="clipPath17">
        <path
           d="M0 0 L171 0 L171 52 L0 52 L0 0 Z"
           id="path3416" />
      </clipPath>
      <clipPath
         clipPathUnits="userSpaceOnUse"
         id="clipPath18">
        <path
           d="M0 0 L162 0 L162 112 L0 112 L0 0 Z"
           id="path3419" />
      </clipPath>
      <clipPath
         clipPathUnits="userSpaceOnUse"
         id="clipPath19">
        <path
           d="M-77 -15 L154 -15 L154 30 L-77 30 L-77 -15 Z"
           id="path3422" />
      </clipPath>
      <clipPath
         clipPathUnits="userSpaceOnUse"
         id="clipPath20">
        <path
           d="M-92 -15 L184 -15 L184 30 L-92 30 L-92 -15 Z"
           id="path3425" />
      </clipPath>
      <clipPath
         clipPathUnits="userSpaceOnUse"
         id="clipPath21">
        <path
           d="M-57 -15 L114 -15 L114 30 L-57 30 L-57 -15 Z"
           id="path3428" />
      </clipPath>
    </defs>
  </g>
  <g
     inkscape:groupmode="layer"
     id="layer1"
     inkscape:label="UML"
     style="display:none">
    <g
       text-rendering="geometricPrecision"
       id="g3430"
       style="fill:#ffffff;fill-opacity:1;stroke:#ffffff;stroke-opacity:1">
      <rect
         x="0"
         width="466"
         height="151"
         y="0"
         id="rect3432"
         style="stroke:none" />
    </g>
    <g
       font-size="11"
       transform="translate(332,2)"
       text-rendering="geometricPrecision"
       font-weight="bold"
       id="g3434"
       style="font-size:11px;font-weight:bold;fill:url(#linearGradient1);fill-opacity:1;stroke:url(#linearGradient1);stroke-opacity:1;font-family:sans-serif">
      <rect
         x="0"
         width="130"
         height="100"
         y="0"
         clip-path="url(#clipPath1)"
         id="rect3436"
         style="stroke:none" />
    </g>
    <g
       font-size="11"
       transform="translate(332,2)"
       text-rendering="geometricPrecision"
       font-weight="bold"
       stroke-miterlimit="0"
       id="g3438"
       style="font-size:11px;font-weight:bold;fill:#000000;fill-opacity:1;stroke:#000000;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:0;stroke-opacity:1;font-family:sans-serif">
      <rect
         x="0"
         width="130"
         height="100"
         y="0"
         clip-path="url(#clipPath1)"
         id="rect3440"
         style="fill:none" />
      <line
         y2="15"
         x1="0"
         clip-path="url(#clipPath1)"
         x2="130"
         y1="15"
         id="line3442"
         style="fill:none" />
    </g>
    <g
       font-size="11"
       transform="translate(332,17)"
       text-rendering="geometricPrecision"
       id="g3444"
       style="font-size:11px;fill:#000000;fill-opacity:1;stroke:#000000;stroke-opacity:1;font-family:sans-serif">
      <text
         x="2"
         xml:space="preserve"
         y="14"
         clip-path="url(#clipPath2)"
         id="text3446"
         style="stroke:none"> :name : xsd:string</text>
    </g>
    <g
       font-size="11"
       transform="translate(332,17)"
       text-rendering="geometricPrecision"
       id="g3448"
       style="font-size:11px;fill:#000000;fill-opacity:1;stroke:#000000;stroke-opacity:1;font-family:sans-serif">
      <!--
<text x="2" xml:space="preserve" y="29" clip-path="url(#clipPath2)" stroke="none"
      > :givenName : xsd:string</text
      ><text x="2" xml:space="preserve" y="44" clip-path="url(#clipPath2)" stroke="none"
      > :familyName : xsd:string</text
      >
-->
      <text
         x="2"
         xml:space="preserve"
         y="59"
         clip-path="url(#clipPath2)"
         id="text3450"
         style="stroke:none"> :mbox : AnyURI</text>
    </g>
    <g
       font-size="11"
       transform="translate(332,2)"
       text-rendering="geometricPrecision"
       font-weight="bold"
       id="g3452"
       style="font-size:11px;font-weight:bold;fill:#000000;fill-opacity:1;stroke:#000000;stroke-opacity:1;font-family:sans-serif">
      <text
         x="50"
         xml:space="preserve"
         y="12"
         clip-path="url(#clipPath3)"
         id="text3454"
         style="stroke:none">:User</text>
    </g>
    <g
       font-size="11"
       transform="translate(42,2)"
       text-rendering="geometricPrecision"
       font-weight="bold"
       id="g3456"
       style="font-size:11px;font-weight:bold;fill:url(#linearGradient2);fill-opacity:1;stroke:url(#linearGradient2);stroke-opacity:1;font-family:sans-serif">
      <rect
         x="0"
         width="170"
         height="100"
         y="0"
         clip-path="url(#clipPath4)"
         id="rect3458"
         style="stroke:none" />
    </g>
    <g
       font-size="11"
       transform="translate(42,2)"
       text-rendering="geometricPrecision"
       font-weight="bold"
       stroke-miterlimit="0"
       id="g3460"
       style="font-size:11px;font-weight:bold;fill:#000000;fill-opacity:1;stroke:#000000;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:0;stroke-opacity:1;font-family:sans-serif">
      <rect
         x="0"
         width="170"
         height="100"
         y="0"
         clip-path="url(#clipPath4)"
         id="rect3462"
         style="fill:none" />
      <line
         y2="15"
         x1="0"
         clip-path="url(#clipPath4)"
         x2="170"
         y1="15"
         id="line3464"
         style="fill:none" />
    </g>
    <g
       font-size="11"
       transform="translate(42,17)"
       text-rendering="geometricPrecision"
       id="g3466"
       style="font-size:11px;fill:#000000;fill-opacity:1;stroke:#000000;stroke-opacity:1;font-family:sans-serif">
      <text
         x="2"
         xml:space="preserve"
         y="14"
         clip-path="url(#clipPath5)"
         id="text3468"
         style="stroke:none"> :status = Assigned|Unassigned</text>
    </g>
    <g
       font-size="11"
       transform="translate(42,17)"
       text-rendering="geometricPrecision"
       id="g3470"
       style="font-size:11px;fill:#000000;fill-opacity:1;stroke:#000000;stroke-opacity:1;font-family:sans-serif">
      <text
         x="2"
         xml:space="preserve"
         y="29"
         clip-path="url(#clipPath5)"
         id="text3472"
         style="stroke:none"> :reportedOn : xsd:dateTime</text>
      <!-- 
<text x="2" xml:space="preserve" y="44" clip-path="url(#clipPath5)" stroke="none"
      > :assignedOn : xsd:dateTime?</text
    >
-->
    </g>
    <g
       font-size="11"
       transform="translate(42,2)"
       text-rendering="geometricPrecision"
       font-weight="bold"
       id="g3474"
       style="font-size:11px;font-weight:bold;fill:#000000;fill-opacity:1;stroke:#000000;stroke-opacity:1;font-family:sans-serif">
      <text
         x="69"
         xml:space="preserve"
         y="12"
         clip-path="url(#clipPath6)"
         id="text3476"
         style="stroke:none">:Issue</text>
    </g>
    <g
       font-size="11"
       transform="translate(212,62)"
       text-rendering="geometricPrecision"
       id="g3478"
       style="font-size:11px;fill:#000000;fill-opacity:1;stroke:#000000;stroke-opacity:1;font-family:sans-serif">
      <text
         x="10"
         xml:space="preserve"
         y="12"
         clip-path="url(#clipPath8)"
         id="text3480"
         style="stroke:none">0..*</text>
    </g>
    <g
       font-size="11"
       transform="translate(302,62)"
       text-rendering="geometricPrecision"
       id="g3482"
       style="font-size:11px;fill:#000000;fill-opacity:1;stroke:#000000;stroke-opacity:1;font-family:sans-serif">
      <text
         x="10"
         xml:space="preserve"
         y="12"
         clip-path="url(#clipPath10)"
         id="text3484"
         style="stroke:none">0..1</text>
    </g>
    <g
       font-size="11"
       transform="translate(312,22)"
       text-rendering="geometricPrecision"
       id="g3486"
       style="font-size:11px;fill:#000000;fill-opacity:1;stroke:#000000;stroke-opacity:1;font-family:sans-serif">
      <text
         x="10"
         xml:space="preserve"
         y="12"
         clip-path="url(#clipPath12)"
         id="text3488"
         style="stroke:none">1</text>
    </g>
    <g
       font-size="11"
       transform="translate(212,22)"
       text-rendering="geometricPrecision"
       id="g3490"
       style="font-size:11px;fill:#000000;fill-opacity:1;stroke:#000000;stroke-opacity:1;font-family:sans-serif">
      <text
         x="10"
         xml:space="preserve"
         y="12"
         clip-path="url(#clipPath8)"
         id="text3492"
         style="stroke:none">0..*</text>
    </g>
    <g
       font-size="11"
       transform="translate(122,102)"
       text-rendering="geometricPrecision"
       id="g3494"
       style="font-size:11px;fill:#000000;fill-opacity:1;stroke:#000000;stroke-opacity:1;font-family:sans-serif">
      <text
         x="9"
         xml:space="preserve"
         y="12"
         clip-path="url(#clipPath14)"
         id="text3496"
         style="stroke:none">0..*</text>
    </g>
    <g
       font-size="11"
       transform="translate(2,52)"
       text-rendering="geometricPrecision"
       id="g3498"
       style="font-size:11px;fill:#000000;fill-opacity:1;stroke:#000000;stroke-opacity:1;font-family:sans-serif">
      <text
         x="10"
         xml:space="preserve"
         y="12"
         clip-path="url(#clipPath16)"
         id="text3500"
         style="stroke:none">0..1</text>
    </g>
    <g
       font-size="11"
       transform="translate(188,18)"
       text-rendering="geometricPrecision"
       id="g3502"
       style="font-size:11px;fill:#000000;fill-opacity:1;stroke:#000000;stroke-linecap:butt;stroke-linejoin:round;stroke-opacity:1;font-family:sans-serif">
      <line
         y2="24"
         x1="143"
         clip-path="url(#clipPath17)"
         x2="24"
         y1="24"
         id="line3504"
         style="fill:none" />
    </g>
    <g
       font-size="11"
       transform="translate(189,58)"
       text-rendering="geometricPrecision"
       id="g3506"
       style="font-size:11px;fill:#000000;fill-opacity:1;stroke:#000000;stroke-linecap:butt;stroke-linejoin:round;stroke-opacity:1;font-family:sans-serif">
      <line
         y2="24"
         x1="24"
         clip-path="url(#clipPath17)"
         x2="143"
         y1="24"
         id="line3508"
         style="fill:none" />
    </g>
    <g
       font-size="11"
       transform="translate(-12,48)"
       text-rendering="geometricPrecision"
       id="g3510"
       style="font-size:11px;fill:#000000;fill-opacity:1;stroke:#000000;stroke-linecap:butt;stroke-linejoin:round;stroke-opacity:1;font-family:sans-serif">
      <line
         y2="84"
         x1="134"
         clip-path="url(#clipPath18)"
         x2="134"
         y1="55"
         id="line3512"
         style="fill:none" />
      <line
         y2="84"
         x1="134"
         clip-path="url(#clipPath18)"
         x2="24"
         y1="84"
         id="line3514"
         style="fill:none" />
      <line
         y2="24"
         x1="24"
         clip-path="url(#clipPath18)"
         x2="24"
         y1="84"
         id="line3516"
         style="fill:none" />
      <line
         y2="24"
         x1="24"
         clip-path="url(#clipPath18)"
         x2="53"
         y1="24"
         id="line3518"
         style="fill:none" />
    </g>
    <g
       font-size="11"
       transform="translate(232,42)"
       text-rendering="geometricPrecision"
       id="g3520"
       style="font-size:11px;fill:#000000;fill-opacity:1;stroke:#000000;stroke-opacity:1;font-family:sans-serif">
      <text
         x="10"
         xml:space="preserve"
         y="12"
         clip-path="url(#clipPath19)"
         id="text3522"
         style="stroke:none">:reportedBy</text>
    </g>
    <g
       font-size="11"
       transform="translate(222,82)"
       text-rendering="geometricPrecision"
       id="g3524"
       style="font-size:11px;fill:#000000;fill-opacity:1;stroke:#000000;stroke-opacity:1;font-family:sans-serif">
      <text
         x="10"
         xml:space="preserve"
         y="12"
         clip-path="url(#clipPath20)"
         id="text3526"
         style="stroke:none">:assignedTo</text>
    </g>
    <g
       font-size="11"
       transform="translate(22,132)"
       text-rendering="geometricPrecision"
       id="g3528"
       style="font-size:11px;fill:#000000;fill-opacity:1;stroke:#000000;stroke-opacity:1;font-family:sans-serif">
      <text
         x="10"
         xml:space="preserve"
         y="12"
         clip-path="url(#clipPath21)"
         id="text3530"
         style="stroke:none">:related</text>
    </g>
    <g
       text-rendering="geometricPrecision"
       font-size="10"
       id="g3532"
       style="font-size:10px;fill:#787878;fill-opacity:1;stroke:#787878;stroke-opacity:1" />
  </g>
  <g
     inkscape:groupmode="layer"
     id="layer2"
     inkscape:label="Example"
     style="display:inline">
    <g
       font-size="11"
       transform="translate(-56.889536,21.96221)"
       text-rendering="geometricPrecision"
       font-weight="bold"
       id="g4526"
       style="font-size:11px;font-weight:bold;fill:#000000;fill-opacity:1;stroke:#000000;stroke-opacity:1;font-family:sans-serif">
      <text
         x="69"
         xml:space="preserve"
         y="12"
         id="text4528"
         style="stroke:none">some:Issue</text>
    </g>
    <path
       sodipodi:type="arc"
       style="fill:none;stroke:#000000;stroke-opacity:1"
       id="ex1_Issue"
       sodipodi:cx="114.80669"
       sodipodi:cy="29.75872"
       sodipodi:rx="94.486916"
       sodipodi:ry="34.543606"
       d="m 209.2936,29.75872 a 94.486916,34.543606 0 1 1 -188.973829,0 94.486916,34.543606 0 1 1 188.973829,0 z"
       transform="matrix(0.48286072,0,0,0.54625635,-7.3455226,14.838586)" />
    <path
       transform="matrix(0.44712027,0,0,0.54653493,213.37109,14.830296)"
       d="m 209.2936,29.75872 a 94.486916,34.543606 0 1 1 -188.973829,0 94.486916,34.543606 0 1 1 188.973829,0 z"
       sodipodi:ry="34.543606"
       sodipodi:rx="94.486916"
       sodipodi:cy="29.75872"
       sodipodi:cx="114.80669"
       id="ex1_User"
       style="fill:none;stroke:#000000;stroke-opacity:1"
       sodipodi:type="arc" />
    <g
       style="font-size:11px;font-weight:bold;fill:#000000;fill-opacity:1;stroke:#000000;stroke-opacity:1;font-family:sans-serif"
       id="g4532"
       font-weight="bold"
       text-rendering="geometricPrecision"
       transform="translate(163.11046,21.96221)"
       font-size="11">
      <text
         style="stroke:none"
         id="text4534"
         y="12"
         xml:space="preserve"
         x="69">some:User</text>
    </g>
    <path
       transform="matrix(0.62228098,0,0,0.54525881,170.58275,69.120974)"
       d="m 209.2936,29.75872 a 94.486916,34.543606 0 1 1 -188.973829,0 94.486916,34.543606 0 1 1 188.973829,0 z"
       sodipodi:ry="34.543606"
       sodipodi:rx="94.486916"
       sodipodi:cy="29.75872"
       sodipodi:cx="114.80669"
       id="ex1_Employee"
       style="fill:none;stroke:#000000;stroke-opacity:1"
       sodipodi:type="arc" />
    <g
       style="font-size:11px;font-weight:bold;fill:#000000;fill-opacity:1;stroke:#000000;stroke-opacity:1;font-family:sans-serif"
       id="g4538"
       font-weight="bold"
       text-rendering="geometricPrecision"
       transform="translate(123.83726,76.214912)"
       font-size="11">
      <text
         style="stroke:none"
         id="text4540"
         y="12"
         xml:space="preserve"
         x="69">some:Employee</text>
    </g>
    <path
       style="fill:#000000;fill-opacity:1;stroke:#000000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:0;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow1Lend)"
       d="M 88.052326,21.630814 142.9157,14.180232"
       id="ex1_state_p"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <text
       xml:space="preserve"
       style="font-size:10px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:end;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:end;fill:#000000;fill-opacity:1;stroke:none"
       x="129.22105"
       y="24.197662"
       id="text6638"
       sodipodi:linespacing="125%"
       transform="matrix(0.99525641,-0.09728658,0.09728658,0.99525641,0,0)"><tspan
         sodipodi:role="line"
         id="tspan6640"
         x="129.22105"
         y="24.197662">ex:state</tspan></text>
    <text
       xml:space="preserve"
       style="font-size:10px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:end;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:end;fill:#000000;fill-opacity:1;stroke:none;font-family:Impact;-inkscape-font-specification:Sans"
       x="151.04359"
       y="12.148256"
       id="text6770"
       sodipodi:linespacing="125%"><tspan
         sodipodi:role="line"
         id="tspan6772"></tspan></text>
    <text
       xml:space="preserve"
       style="font-size:10px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;font-family:Impact;-inkscape-font-specification:Sans"
       x="148.3343"
       y="20.953487"
       id="text6774"
       sodipodi:linespacing="125%"><tspan
         sodipodi:role="line"
         id="tspan6776"></tspan></text>
    <text
       xml:space="preserve"
       style="font-size:10px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#C83500;fill-opacity:1;stroke:none;font-family:Impact;-inkscape-font-specification:Sans"
       x="145.625"
       y="14.180232"
       id="text6778"
       sodipodi:linespacing="125%"><tspan
         sodipodi:role="line"
         id="tspan6780"
         x="145.625"
         y="14.180232">ex:assigned</tspan></text>
    <path
       style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#Arrow2Mend)"
       d="M 93.47093,31.113372 222.12171,29.64251"
       id="path6782"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <text
       xml:space="preserve"
       style="font-size:10px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:end;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:end;fill:#000000;fill-opacity:1;stroke:none;display:inline"
       x="197.7518"
       y="30.791992"
       id="text6638-2"
       sodipodi:linespacing="125%"
       transform="matrix(0.99964189,-0.02676001,0.02676001,0.99964189,0,0)"
       inkscape:transform-center-x="-12.452479"><tspan
         sodipodi:role="line"
         id="tspan6640-4"
         x="197.7518"
         y="30.791992">ex:submittedBy</tspan></text>
    <path
       style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#Arrow2Mend)"
       d="M 91.477829,37.251391 192.53449,74.608829"
       id="path7005"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <text
       xml:space="preserve"
       style="font-size:10px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:end;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:end;fill:#000000;fill-opacity:1;stroke:none;display:inline"
       x="197.05046"
       y="0.80997449"
       id="text6638-2-3"
       sodipodi:linespacing="125%"
       transform="matrix(0.93991687,0.3414034,-0.3414034,0.93991687,0,0)"
       inkscape:transform-center-x="-11.239559"
       inkscape:transform-center-y="6.2266342"><tspan
         sodipodi:role="line"
         id="tspan6640-4-9"
         x="197.05046"
         y="0.80997449">ex:assignedTo</tspan></text>
    <path
       transform="matrix(0.50272101,0,0,0.54610605,359.65638,22.934707)"
       d="m 209.2936,29.75872 a 94.486916,34.543606 0 1 1 -188.973829,0 94.486916,34.543606 0 1 1 188.973829,0 z"
       sodipodi:ry="34.543606"
       sodipodi:rx="94.486916"
       sodipodi:cy="29.75872"
       sodipodi:cx="114.80669"
       id="ex1_User-2"
       style="fill:none;stroke:#000000;stroke-opacity:1;display:inline"
       sodipodi:type="arc" />
    <g
       style="font-size:11px;font-weight:bold;fill:#000000;fill-opacity:1;stroke:#000000;stroke-opacity:1;display:inline;font-family:sans-serif"
       id="g4532-9"
       font-weight="bold"
       text-rendering="geometricPrecision"
       transform="translate(314.34227,30.053858)"
       font-size="11">
      <text
         style="stroke:none"
         id="text4534-9"
         y="12.478942"
         xml:space="preserve"
         x="58.463287">mailto:bob@...</text>
    </g>
    <path
       style="fill:#000000;fill-opacity:1;stroke:#000000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:0;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow1Lend);display:inline"
       d="m 301.46229,20.875275 54.86338,-7.450582"
       id="ex1_state_p-0"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <text
       xml:space="preserve"
       style="font-size:10px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:end;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:end;fill:#000000;fill-opacity:1;stroke:none;display:inline"
       x="341.69205"
       y="44.207619"
       id="text6638-1"
       sodipodi:linespacing="125%"
       transform="matrix(0.99525641,-0.09728658,0.09728658,0.99525641,0,0)"><tspan
         sodipodi:role="line"
         id="tspan6640-44"
         x="341.69205"
         y="44.207619">foaf:name</tspan></text>
    <text
       xml:space="preserve"
       style="font-size:10px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;display:inline;font-family:Impact;-inkscape-font-specification:Sans"
       x="359.03497"
       y="13.424692"
       id="text6778-6"
       sodipodi:linespacing="125%"><tspan
         sodipodi:role="line"
         id="tspan6780-5"
         x="359.03497"
         y="13.424692">Bob Smith</tspan></text>
    <path
       style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#Arrow2Mend);display:inline"
       d="m 306.8809,30.357833 61.12002,11.460559"
       id="path6782-3"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <text
       xml:space="preserve"
       style="font-size:10px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:end;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:end;fill:#000000;fill-opacity:1;stroke:none;display:inline"
       x="368.17676"
       y="-18.619452"
       id="text6638-2-9"
       sodipodi:linespacing="125%"
       transform="matrix(0.98834834,0.15220895,-0.15220895,0.98834834,0,0)"
       inkscape:transform-center-x="-12.122235"
       inkscape:transform-center-y="2.0477642"><tspan
         sodipodi:role="line"
         id="tspan6640-4-1"
         x="368.17676"
         y="-18.619452">foaf:mbox</tspan></text>
    <rect
       style="fill:none;fill-opacity:1;fill-rule:nonzero;stroke:#000000;stroke-width:1;stroke-linejoin:round;stroke-miterlimit:0;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0"
       id="rect7302"
       width="47.415211"
       height="15.80507"
       x="356.81143"
       y="2.0491898" />
    <path
       transform="matrix(0.50272101,0,0,0.54610605,358.07589,113.95686)"
       d="m 209.2936,29.75872 a 94.486916,34.543606 0 1 1 -188.973829,0 94.486916,34.543606 0 1 1 188.973829,0 z"
       sodipodi:ry="34.543606"
       sodipodi:rx="94.486916"
       sodipodi:cy="29.75872"
       sodipodi:cx="114.80669"
       id="ex1_User-2-3"
       style="fill:none;stroke:#000000;stroke-opacity:1;display:inline"
       sodipodi:type="arc" />
    <g
       style="font-size:11px;font-weight:bold;fill:#000000;fill-opacity:1;stroke:#000000;stroke-opacity:1;display:inline;font-family:sans-serif"
       id="g4532-9-1"
       font-weight="bold"
       text-rendering="geometricPrecision"
       transform="translate(312.76178,121.07601)"
       font-size="11">
      <text
         style="stroke:none"
         id="text4534-9-4"
         y="12.478942"
         xml:space="preserve"
         x="58.463287">mailto:joe@...</text>
    </g>
    <path
       style="fill:#000000;fill-opacity:1;stroke:#000000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:0;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow1Lend);display:inline"
       d="m 295.65556,77.160936 120.5981,-8.288729"
       id="ex1_state_p-0-9"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <text
       xml:space="preserve"
       style="font-size:10px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:end;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:end;fill:#000000;fill-opacity:1;stroke:none;display:inline"
       x="367.66379"
       y="102.81908"
       id="text6638-1-0"
       sodipodi:linespacing="125%"
       transform="matrix(0.99525641,-0.09728658,0.09728658,0.99525641,0,0)"><tspan
         sodipodi:role="line"
         id="tspan6640-44-1"
         x="367.66379"
         y="102.81908">foaf:givenName</tspan></text>
    <text
       xml:space="preserve"
       style="font-size:10px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;display:inline;font-family:Impact;-inkscape-font-specification:Sans"
       x="419.22824"
       y="71.71035"
       id="text6778-6-7"
       sodipodi:linespacing="125%"><tspan
         sodipodi:role="line"
         id="tspan6780-5-9"
         x="419.22824"
         y="71.71035">Joe</tspan></text>
    <path
       style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#Arrow2Mend);display:inline"
       d="M 297.24264,91.432909 367.94149,126.3616"
       id="path6782-3-8"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <text
       xml:space="preserve"
       style="font-size:10px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:end;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:end;fill:#000000;fill-opacity:1;stroke:none;display:inline"
       x="375.06934"
       y="-50.142578"
       id="text6638-2-9-2"
       sodipodi:linespacing="125%"
       transform="matrix(0.89968487,0.43653997,-0.43653997,0.89968487,0,0)"
       inkscape:transform-center-x="-10.671641"
       inkscape:transform-center-y="5.5748169"><tspan
         sodipodi:role="line"
         id="tspan6640-4-1-8"
         x="375.06934"
         y="-50.142578">foaf:mbox</tspan></text>
    <rect
       style="fill:none;stroke:#000000;stroke-width:1;stroke-linejoin:round;stroke-miterlimit:0;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0;display:inline"
       id="rect7302-7"
       width="19.157673"
       height="15.805073"
       x="417.0047"
       y="60.33485" />
    <path
       style="fill:#000000;fill-opacity:1;stroke:#000000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:0;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow1Lend);display:inline"
       d="m 300.92627,86.134992 134.48741,7.396605"
       id="ex1_state_p-0-9-2"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <text
       xml:space="preserve"
       style="font-size:10px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:end;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:end;fill:#000000;fill-opacity:1;stroke:none;display:inline"
       x="423.10577"
       y="71.987328"
       id="text6638-1-0-0"
       sodipodi:linespacing="125%"
       transform="matrix(0.99914114,0.04143658,-0.04143658,0.99914114,0,0)"
       inkscape:transform-center-x="9.5788302"
       inkscape:transform-center-y="2.8736491"><tspan
         sodipodi:role="line"
         id="tspan6640-44-1-6"
         x="423.10577"
         y="71.987328">foaf:familyName</tspan></text>
    <text
       xml:space="preserve"
       style="font-size:10px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:start;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;display:inline;font-family:Impact;-inkscape-font-specification:Sans"
       x="439.22638"
       y="95.05265"
       id="text6778-6-7-8"
       sodipodi:linespacing="125%"><tspan
         sodipodi:role="line"
         id="tspan6780-5-9-7"
         x="439.22638"
         y="95.05265">Jones</tspan></text>
    <rect
       style="fill:none;stroke:#000000;stroke-width:1;stroke-linejoin:round;stroke-miterlimit:0;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0;display:inline"
       id="rect7302-7-1"
       width="29.454897"
       height="14.248512"
       x="436.1647"
       y="84.15609"
       ry="0" />
  </g>
</svg>

          <p>
            The rest of this document shows shapes which describe the issue data consumable by some application, including the submitter and the person to which the issue is assigned.
            Examples include data, both conforming and not.
            Some mechanisms by which the instance data may be associated with, or validated against the a shape are descibed later in <a href="#associations">Associating Data with Shapes</a>.

      		<p>
            <!-- 
      			The Turtle source code of the complete SHACL file can be found at
      			<a href="ldomissue.ldom.ttl">ldomissue.ldom.ttl</a>.
      			<span class="todo">
      			currently out of synch with text.
      			</span>
            -->
      			The SHACL system vocabulary is defined in itself, using its own 
      			<a href="shacl.ttl">SHACL File</a>.
      			This file also includes in-line comments for open issues as well
      			as many technical details that are omitted in this primer for space
      			considerations.
      		</p>
      		<p>
      			Within this document, the following namespace prefix bindings are used:
      		</p>
      		<table style="border-collapse: collapse; border-color: #000000" border="1" cellpadding="5">
      			<tr>
      				<th>Prefix</th>
      				<th>Namespace</th>
      			</tr>
      			<tr>
      				<td>sh:</td>
      				<td>http://www.w3.org/ns/shacl#</td>
      			</tr>
      			<tr>
      				<td>rdf:</td>
      				<td>http://www.w3.org/1999/02/22-rdf-syntax-ns#</td>
      			</tr>
      			<tr>
      				<td>xsd:</td>
      				<td>http://www.w3.org/2001/XMLSchema#</td>
      			</tr>
      			<tr>
      				<td>ex:</td>
      				<td>http://example.com/ns#</td>
      			</tr>
      		</table>
    	</section>
    	
    	<section id="syntax">
    		<h2>Presentation Syntax</h2>
        <p>
          RDF has several syntaxes speciallized for different purposes.
          In principle, any of those can be used to convey constraints or data.
          This Primer is available in <a href="http://www.w3.org/TR/turtle/">Turtle</a> and <a href="http://www.w3.org/TR/json-ld/">JSON-LD</a>.
        </p>
        <form id="langOptions" action="">View as: <input type="radio" name="presLang" value="turtle" checked="checked">Turtle (press 't')</input> <input type="radio" name="presLang" value="json-ld">JSON-LD (press 'j')</input> .</form>
      </section>

    	<section id="rules">
    		<h2>Atomic Rules</h2>
        <p>
          SHACL's facilities for describing the structure of graphs are based on rules that describe triples in a graph.
          These rules are evaluated against particular nodes in the instance data; these are called <code>focus nodes</code>.
          Each rule identifies a predicate and describes the expected triples with the <code>focus node</code> as a subject and the corresponding predicate.
          These descriptions include how many such triples are required/permitted, and what kinds of objects are expected.
        </p>

        <p>
          The rules can be written in Turtle or JSON-LD (recall that you can press 't' or 'j') as a set of properties on a <code>property constraint</code>.
          In this example, the <span class="type">sh:</span><span class="constant">predicate</span> property identifies the predicate, <span class="type">foaf:</span><span class="constant">name</span>, to be matched on the focus node.
          The <span class="type">sh:</span><span class="constant">valueType</span> here specifies that the matching triples must have an object with is an RDF literal with a datatype of <span class="type">xsd:</span><span class="constant">string</span>.
          The last two triples say that there should be exactly one because the <span class="type">sh:</span><span class="constant">minCount</span> and <span class="type">sh:</span><span class="constant">maxCount</span>, also known as the <code>minimum cardinality</code> and <code>maximum cardinality</code>, are both 1.
        </p>

        <p>
          In summary, we execpt that the <code>focus node</code> will have exactly one <span class="type">foaf:</span><span class="constant">name</span> property and the object will be a literal with a datatype <span class="type">xsd:</span><span class="constant">string</span>.
          If we validate the nodes <span class="function-name">inst:User1</span>, <span class="function-name">inst:User2</span> and <span class="function-name">inst:User3</span> below, we see that the first passes this requirement.
          <span class="function-name">inst:User2</span> has the wrong datatype and <span class="function-name">inst:User3</span> has too many <span class="type">foaf:</span><span class="constant">name</span> properties:
        </p>

        <div class="example wrapper">
          <!-- Turtle example -->
    		  <pre class="schema turtle" style="float:left;"><span class="comment"># property constraint (Turtle)</span>
[
    <span class="type">sh:</span><span class="constant">predicate</span> <span class="type">foaf:</span><span class="constant">name</span> ;
    <span class="type">sh:</span><span class="constant">valueType</span> <span class="type">xsd:</span><span class="constant">string</span> ;
    <span class="type">sh:</span><span class="constant">minCount</span> 1 ; <span class="type">sh:</span><span class="constant">maxCount</span> 1
] .</pre>

          <!-- JSON-LD example -->
    		  <pre class="schema json-ld" style="float:left;"><span class="comment">// shapes (JSON-LD)</span>
{
  "<span class="type">sh:</span><span class="constant">predicate</span>": {
    "@id": "<span class="type">foaf:</span><span class="constant">name</span>"
  },
  "<span class="type">sh:</span><span class="constant">valueType</span>": {
    "@id": "<span class="type">xsd:</span><span class="constant">string</span>"
  },
  "<span class="type">sh:</span><span class="constant">maxCount</span>": 1,
  "<span class="type">sh:</span><span class="constant">minCount</span>": 1
}</pre>
          <div class="verticalDivider"><!-- acts as a divider --></div>
          <div style="float:left;">
    	  	<pre class="instance turtle"><span class="comment"># passing data</span>
<span class="function-name">inst:User1</span>
    <span class="name lowlight1 top bot"><span class="type">foaf:</span><span class="constant">name</span>  <span class="string top bot">"Bob Smith"</span></span> .</pre>

          <pre class="instance turtle fail"><span class="comment"># failing data</span>
<span class="function-name">inst:User2</span>
    <span class="gname lowlight1 top bot"><span class="type">foaf:</span><span class="constant">name</span>  <span class="string top bot">"Bob Smith"^^<span class="errorSite">xsd:anyURI</span></span></span> .

<span class="function-name">inst:User3</span>
    <span class="gname lowlight1 top bot"><span class="type">foaf:</span><span class="constant">name</span>  <span class="string top bot">"Joe Jones"</span></span> ;
    <span class="errorSite">foaf:name  "Joseph Jones"</span> .</pre>
          </div>

          <div style="clear:both;"></div>
      </div>
        <p>
          Above is an example of a <code>property constraint</code> with a <code>value type</code> constraint.
          <code>Property constraints</code> can include one of the following constraints:
        </p>
        <ul>
          <li><code>value type</code>: identifies the datatype of an RDF literal.</li>
          <li><code>node kind</code>: identifies the kind of RDF node (IRI, RDF literal, or Blank Node).</li>
          <li><code>allowed value</code>: enumerates specific expected values.</li>
          <li><code>value shape</code>: asserts that the object is described by another shape (described below).</li>
        </ul>
      </section>

    	<section id="shapes">
    		<h2>Shape Declarations</h2>
        <div class="namespace">
        <p>
          <code>Property constraints</code> attached to a construct called a <code>shape</code> which enumerates a useful set of constraints to be applied to a <code>focus node</code>.
          <code>Property constraints</code> can be attached indirectly through logical constructs for AND and OR, but here we introduce a simple form where they are attached directly to the <code>shape</code> with the <span class="type">sh:</span><span class="constant">property</span>.
        </p>
    		<p>
    		  To illustrate this, we can invent some rules for our issue example.
          We can describe the <code>shape</code> of our example issue by identifying the triples which are part of an issue.
          (Mousing over the the following list items items will highlight the corresponding elements in the example text.)
          Our first example issue must doesn't include <span class="type">ex:</span><span class="constant">assignedTo</span> as illustrated in the image above, but it must have:
    		</p>

      <ul>
        <li class="state lowlight1 top bot">exactly one <span id="state"><span class="type">ex:</span><span class="constant">state</span></span> with a value of <span class="stateValue lowlight2 top bot"><span class="type">ex:</span><span class="constant">unassigned</span> or <span class="type">ex:</span><span class="constant">assigned</span></span>, here enumerated with <code>allowed value</code>,</li>
        <li class="reportedBy lowlight1 top bot">exactly one <span id="mbox"><span class="type">ex:</span><span class="constant">reportedBy</span></span> which references a user, here expressed as a <code>value shape</code> referenceing some <span class="user lowlight2 top bot">user shape</span>.</li>
      </ul>

      <p>
        The user referenced by the <span class="type">ex:</span><span class="constant">reportedBy</span> property must have:
      </p>

      <ul>
        <li class="name lowlight1 top bot">exactly one <span id="name"><span class="type">foaf:</span><span class="constant">name</span></span> with a value of an RDF Literal with a datatype of <span class="string lowlight2 top bot"><span class="type">xsd:</span><span class="constant">string</span></span>, here specified by <code>value type</code>,</li>
        <li class="mbox lowlight1 top bot"><span class="oneOrMore lowlight2 top bot" id="oneOrMore">one or more</span> <span id="mbox"><span class="type">foaf:</span><span class="constant">mbox</span>es</span> with a value of an <span class="IRI lowlight2 top bot" id="IRI">RDF IRI</span>, here specified by <code>node kind</code>.</li>
      </ul>

        <div class="example wrapper">
          <!-- Turtle example -->
    		  <pre class="schema turtle" style="float:left;"><span class="comment"># shapes (Turtle)</span>
<span class="function-name">my:IssueShape</span> <span class="keyword">a</span> <span class="type">sh:</span><span class="constant">Shape</span> ;
    <span class="state      lowlight1 top"><span class="type">sh:</span><span class="constant">property</span> [                                     </span>
    <span class="state      lowlight1    ">    <span class="type">sh:</span><span class="constant">predicate</span>    <span class="type">ex:</span><span class="constant">state</span> ;                    </span>
<div class="enumChoice collection">    <span class="state      lowlight1    ">    <span class="type">sh:</span><span class="constant">allowedValue</span> <span class="stateValue lowlight2 top bot">(<span class="type">ex:</span><span class="constant">unassigned</span> <span class="type">ex:</span><span class="constant">assigned</span>)</span> ; </span>
</div><div class="enumChoice objectlist">    <span class="state      lowlight1    ">    <span class="type">sh:</span><span class="constant">allowedValue</span> <span class="stateValue lowlight2 top bot"><span class="type">ex:</span><span class="constant">unassigned</span> , <span class="type">ex:</span><span class="constant">assigned</span></span> ; </span>
</div>    <span class="state      lowlight1    ">    <span class="type">sh:</span><span class="constant">minCount</span> 1 ; <span class="type">sh:</span><span class="constant">maxCount</span> 1                 </span>
    <span class="state      lowlight1 bot">] ;                                               </span>
    <span class="reportedBy lowlight1 top"><span class="type">sh:</span><span class="constant">property</span> [                                     </span>
    <span class="reportedBy lowlight1    ">    <span class="type">sh:</span><span class="constant">predicate</span>    <span class="type">ex:</span><span class="constant">reportedBy</span> ;               </span>
    <span class="reportedBy lowlight1    ">    <span class="type">sh:</span><span class="constant">valueShape</span>   <span class="user lowlight2 top bot"><span class="function-name">my:UserShape</span></span> ;                </span>
    <span class="reportedBy lowlight1    ">    <span class="type">sh:</span><span class="constant">minCount</span> 1 ; <span class="type">sh:</span><span class="constant">maxCount</span> 1                 </span>
    <span class="reportedBy lowlight1 bot">] <span class="keyword">.</span>                                               </span>

<span class="user lowlight2 top bot"><span class="function-name">my:UserShape</span></span> <span class="keyword">a</span> <span class="type">sh:</span><span class="constant">Shape</span> ;
    <span class="name       lowlight1 top"><span class="type">sh:</span><span class="constant">property</span> [                                     </span>
    <span class="name       lowlight1    ">    <span class="type">sh:</span><span class="constant">predicate</span>    <span class="type">foaf:</span><span class="constant">name</span> ;                   </span>
    <span class="name       lowlight1    ">    <span class="type">sh:</span><span class="constant">valueType</span>    <span class="string lowlight2 top bot"><span class="type">xsd:</span><span class="constant">string</span></span> ;                  </span>
    <span class="name       lowlight1    ">    <span class="type">sh:</span><span class="constant">minCount</span> 1 ; <span class="type">sh:</span><span class="constant">maxCount</span> 1                 </span>
    <span class="name       lowlight1 bot">] ;                                               </span>
    <span class="mbox       lowlight1 top"><span class="type">sh:</span><span class="constant">property</span> [                                     </span>
    <span class="mbox       lowlight1    ">    <span class="type">sh:</span><span class="constant">predicate</span>    <span class="type">foaf:</span><span class="constant">mbox</span> ;                   </span>
    <span class="mbox       lowlight1    ">    <span class="type">sh:</span><span class="constant">nodeKind</span>     <span class="IRI lowlight2 top bot"><span class="type">sh:</span><span class="constant">IRI</span></span> ;                      </span>
    <span class="mbox       lowlight1    ">    <span class="oneOrMore lowlight2 top bot"><span class="type">sh:</span><span class="constant">minCount</span> 1</span>                                 </span>
    <span class="mbox       lowlight1 bot">] <span class="keyword">.                                               </span></span></pre>

          <!-- JSON-LD example -->
    		  <pre class="schema json-ld" style="float:left;"><span class="comment">// shapes (JSON-LD)</span>
{
<span style="font-size: 67%; ">  "@context": {
    "ex": "http://example.com/ns/ex#",
    "foaf": "http://xmlns.com/foaf/",
    "sh": "http://example.com/ns/sh#",
    "xsd": "http://www.w3.org/2001/XMLSchema#"
  },</span>
  "@graph": [
    {
      "@id": "my:IssueShape",
      "@type": "sh:Shape",
      "sh:property": [
        <span class="state      lowlight1 top">{                              </span>
        <span class="state      lowlight1    ">  "sh:predicate": {            </span>
        <span class="state      lowlight1    ">    "@id": "ex:state"          </span>
        <span class="state      lowlight1    ">  },                           </span>
<div class="enumChoice collection">        <span class="state      lowlight1    ">  "sh:allowedValue": {         </span>
        <span class="state      lowlight1    ">    "@list": [                 </span>
        <span class="state      lowlight1    ">      { <span class="stateValue lowlight2 top">"@id": "ex:unassigned"</span> },</span>
        <span class="state      lowlight1    ">      { <span class="stateValue lowlight2 bot">"@id": "ex:assigned"  </span> } </span>
        <span class="state      lowlight1    ">    ]                          </span>
        <span class="state      lowlight1    ">  },                           </span>
</div><div class="enumChoice objectlist">        <span class="state      lowlight1    ">  "sh:allowedValue": [         </span>
        <span class="state      lowlight1    ">    { <span class="stateValue lowlight2 top">"@id": "ex:unassigned"</span> },</span>
        <span class="state      lowlight1    ">    { <span class="stateValue lowlight2 bot">"@id": "ex:assigned"  </span> } </span>
        <span class="state      lowlight1    ">  ],                           </span>
</div>        <span class="state      lowlight1    ">  "sh:minCount": 1,            </span>
        <span class="state      lowlight1    ">  "sh:maxCount": 1             </span>
        <span class="state      lowlight1 bot">},                             </span>
        <span class="reportedBy lowlight1 top">{                              </span>
        <span class="reportedBy lowlight1    ">  "sh:predicate": {            </span>
        <span class="reportedBy lowlight1    ">    "@id": "ex:reportedBy"     </span>
        <span class="reportedBy lowlight1    ">  },                           </span>
        <span class="reportedBy lowlight1    ">  "sh:valueShape": {           </span>
        <span class="reportedBy lowlight1    ">    <span class="user lowlight2 top bot">"@id": "my:UserShape"</span>      </span>
        <span class="reportedBy lowlight1    ">  },                           </span>
        <span class="reportedBy lowlight1    ">  "sh:minCount": 1,            </span>
        <span class="reportedBy lowlight1    ">  "sh:maxCount": 1             </span>
        <span class="reportedBy lowlight1 bot">}                              </span>
      ]
    },
    {
      "@id": "my:UserShape",
      "@type": "sh:Shape",
      "sh:property": [
        <span class="name       lowlight1 top">{                              </span>
        <span class="name       lowlight1    ">  "sh:predicate": {            </span>
        <span class="name       lowlight1    ">    "@id": "foaf:name"         </span>
        <span class="name       lowlight1    ">  },                           </span>
        <span class="name       lowlight1    ">  "sh:valueType": {            </span>
        <span class="name       lowlight1    ">    <span class="string lowlight2 top bot">"@id": "xsd:string"</span>        </span>
        <span class="name       lowlight1    ">  },                           </span>
        <span class="name       lowlight1    ">  "sh:minCount": 1,            </span>
        <span class="name       lowlight1    ">  "sh:maxCount": 1             </span>
        <span class="name       lowlight1 bot">},                             </span>
        <span class="mbox       lowlight1 top">{                              </span>
        <span class="mbox       lowlight1    ">  "sh:predicate": {            </span>
        <span class="mbox       lowlight1    ">    "@id": "foaf:mbox"         </span>
        <span class="mbox       lowlight1    ">  },                           </span>
        <span class="mbox       lowlight1    ">  "sh:nodeKind": {             </span>
        <span class="mbox       lowlight1    ">    <span class="IRI lowlight2 top bot">"@id": "sh:IRI"</span>            </span>
        <span class="mbox       lowlight1    ">  },                           </span>
        <span class="mbox       lowlight1    ">  "sh:minCount": 1             </span>
        <span class="mbox       lowlight1 bot">}                              </span>
      ]
    }
  ]
}
</pre>
          <div class="verticalDivider"><!-- acts as a divider --></div>
          <div style="float:left;">
    	  	<pre class="instance turtle"><span class="comment"># passing data</span>
<span class="keyword">PREFIX</span> <span class="type">ex:</span> <span class="function-name">http://ex.example/#</span><span class="comment">
</span><span class="keyword">PREFIX</span> <span class="type">foaf:</span> <span class="function-name">http://xmlns.com/foaf/</span>
<span class="keyword">PREFIX</span> <span class="type">xsd:</span> <span class="function-name">http://www.w3.org/2001/XMLSchema#</span><span class="comment">
</span>
<span class="function-name">inst:Issue1</span> <span class="keyword">a</span> <span class="type">ex:</span><span class="constant">Issue</span> ;
    <span class="state lowlight1 top bot"><span class="type">ex:</span><span class="constant">state</span>        <span class="stateValue lowlight2 top bot"><span class="type">ex:</span><span class="constant">unassigned</span></span></span> ;
    <span class="reportedBy lowlight1 top bot"><span class="type">ex:</span><span class="constant">reportedBy</span>   <span class="user lowlight2 top bot"><span class="function-name">inst:User2</span></span></span> <span class="keyword">.</span>

<span class="user lowlight2 top bot"><span class="function-name">inst:User2</span></span> <span class="keyword">a</span> <span class="type">foaf:</span><span class="constant">Person</span> ;
    <span class="name lowlight1 top bot"><span class="type">foaf:</span><span class="constant">name</span>       <span class="string top bot">"Bob Smith"</span></span> ;
    <span class="mbox lowlight1 top"><span class="oneOrMore lowlight2 top"><span class="type">foaf:</span><span class="constant">mbox</span></span>       <span class="IRI lowlight2 top"><span class="fullURL">&lt;mailto:bob@example.org&gt;</span><span class="keyword"></span></span></span> ;
    <span class="mbox lowlight1 bot"><span class="oneOrMore lowlight2 bot"><span class="type">foaf:</span><span class="constant">mbox</span></span>       <span class="IRI lowlight2 bot"><span class="fullURL">&lt;mailto:rs@example.org&gt;</span> <span class="keyword"></span></span></span>.</pre>

    	  	<pre class="instance turtle fail" style="float:left;"><span class="comment"># failing data</span>
<span class="keyword">PREFIX</span> <span class="type">ex:</span> <span class="function-name">http://ex.example/#</span><span class="comment">
</span><span class="keyword">PREFIX</span> <span class="type">foaf:</span> <span class="function-name">http://xmlns.com/foaf/</span>
<span class="keyword">PREFIX</span> <span class="type">xsd:</span> <span class="function-name">http://www.w3.org/2001/XMLSchema#</span><span class="comment">
</span>
<span class="function-name">inst:Issue3</span> <span class="keyword">a</span> <span class="type">ex:</span><span class="constant">Issue</span> ;
    <span class="state lowlight1 top bot"><span class="type">ex:</span><span class="constant">state</span>        <span class="stateValue lowlight2 top bot"><span class="type">ex:</span><span class="constant errorSite">unsinged</span></span></span> ;
    <span class="reportedBy lowlight1 top bot"><span class="type">ex:</span><span class="constant">reportedBy</span>   <span class="user lowlight2 top bot"><span class="function-name">inst:User4</span></span></span> <span class="keyword">.</span>

<span class="user lowlight2 top bot"><span class="function-name">inst:User4</span></span> <span class="keyword">a</span> <span class="type">foaf:</span><span class="constant">Person</span> ;
    <span class="name lowlight1 top bot"><span class="type">foaf:</span><span class="constant">name</span>       <span class="string top bot">"Bob Smith"</span>, <span class="string top bot errorSite">"Robert Smith"</span></span> ;
    <span class="mbox lowlight1 top"><span class="oneOrMore lowlight2 top"><span class="type">foaf:</span><span class="constant">mbox</span></span>       <span class="IRI lowlight2 top"><span class="fullURL">&lt;mailto:bob@example.org&gt;</span><span class="keyword"></span></span></span> ;
    <span class="mbox lowlight1 bot"><span class="oneOrMore lowlight2 bot"><span class="type">foaf:</span><span class="constant">mbox</span></span>       <span class="IRI lowlight2 bot"><span class="fullURL">&lt;mailto:rs@example.org&gt;</span> <span class="keyword"></span></span></span>.</pre>
  </div>
          <div style="clear:both;"></div>
      </div>
      <script type="text/javascript">
      <!--
prepareHighlight(['oneOrMore', 'IRI', 'stateValue', 'user', 'string'], "highlight2", "lowlight2");
prepareHighlight(['state', 'reportedBy', 'name', 'mbox'], "highlight1", "lowlight1");
      -->
      </script>
      </div>
			<p>
        In the top example, <span class="function-name">inst:Issue1</span> conforms to <span class="function-name">my:IssueShape</span> because every predicate identified in <span class="function-name">my:IssueShape</span> corresponds to a triple with a subject of <span class="function-name">inst:Issue1</span>.
      </p>
      <ul>
        <li>The first property restriction in <span class="function-name">my:IssueShape</span> asserts that the object of the <span class="type">ex:</span><span class="constant">state</span> must have one of two values: <span class="type">ex:</span><span class="constant">unassigned</span> or <span class="type">ex:</span><span class="constant">assigned</span>.</li>
        <li>The second property restriction asserts that the object of the <span class="type">ex:</span><span class="constant">reportedBy</span> arc (<span class="function-name">inst:User2</span>) must match the <span class="function-name">my:UserShape</span> shape.</li>
        <li>The first property restriction in <span class="function-name">my:userShape</span> requires the object of the <span class="type">foaf:</span><span class="constant">name</span> to be an <a href="http://www.w3.org/TR/rdf11-concepts/#dfn-language-tagged-string">RDF language-tagged string</a> with a datatype of <span class="type">xsd:</span><span class="constant">string</span>.
        Note that as of RDF 1.1, simple literals have a datatype of xsd:string.</li>
        <li>The final property restriction asserts that the object of <span class="type">foaf:</span><span class="constant">mbox</span> be an <a href="http://www.w3.org/TR/rdf11-concepts/#dfn-iri">RDF IRI</a>.</li>
      </ul>
      <p class="issue">
        There are two proposed forms for enumerations:
        (The form below should be in this issue block.)
        <form id="enumOptions" action="">View as: <input type="radio" name="enumForm" value="collection" checked="checked">RDF Collection (press 'c')</input> <input type="radio" name="enumForm" value="objectlist">multi-valued property, here represented as a turtle objectList (press 'o')</input> .</form>
      </p>
			<p class="issue">
				Shapes my extend other shapes by referencing them with the <code>sh:extends</code> property.
				The property <code>sh:abstract</code> that can be set to <code>true</code>
				for shapes that serve only as building blocks for more complex shapes.
				Furthermore, shapes may be marked <code>sh:private</code> to indicate that they
				are only meant to be used inside of the graph that they have been defined in.
				This can be used to discourage instantiation outside of controlled scenarios.
			</p>
		</section>

		<section id="properties">
			<h2>Property Constraints</h2>
    		<p>
				  The above example shows how <code>property constraints</code> identify predicates and their associated cardinalities and object constraints.
    			The following sections describe more attributes of of <code>property constraints</code>.
    		</p>
    		<section id="basic-properties">
    			<h3>Basic Property Characteristics</h3>
	    		<p>
	    			It is common (in UML etc) to specify the name of a property and its
	    			cardinality (min/max value count) as well as the value type.
	    			In SHACL, these declarations can be attached to a class as follows:
	    		</p>

        <div class="example wrapper">
          <!-- Turtle example -->
    		  <pre class="schema turtle"><span class="comment"># shapes (Turtle)</span>
<span class="function-name"><span class="type">my:</span><span class="constant">IssueShape</span></span> a <span class="type">sh:</span><span class="constant">Shape</span> ;
    <span class="type">sh:</span><span class="constant">property</span> [
        <span class="new">a sh:PropertyConstraint</span> ;     <span class="comment"># This type declaration is optional</span>
        <span class="new">rdfs:label "state"</span> ;
        <span class="new">rdfs:comment "whether this shape has been assigned to someone."</span> ;
        <span class="type">sh:</span><span class="constant">predicate</span> <span class="type">ex:</span><span class="constant">state</span> ;
        <span class="type">sh:</span><span class="constant">allowedValue</span> <span class="type">ex:</span><span class="constant">unassigned</span> , <span class="type">ex:</span><span class="constant">assigned</span> ;
        <span class="type">sh:</span><span class="constant">minCount</span> 1 ; <span class="type">sh:</span><span class="constant">maxCount</span> 1
    ] ;
    <span class="type">sh:</span><span class="constant">property</span> [
        <span class="new">a sh:PropertyConstraint</span> ;
        <span class="new">rdfs:label "reported by"</span> ;
        <span class="new">rdfs:comment "who submitted a report about this bug."</span> ;
        <span class="type">sh:</span><span class="constant">predicate</span> <span class="type">ex:</span><span class="constant">reportedBy</span> ;
        <span class="type">sh:</span><span class="constant">valueShape</span> <span class="function-name"><span class="type">my:</span><span class="constant">UserShape</span></span> ;
        <span class="type">sh:</span><span class="constant">minCount</span> 1 ; <span class="type">sh:</span><span class="constant">maxCount</span> 1
    ] .                                                 
</pre>

          <!-- JSON-LD example -->
    		  <pre class="schema json-ld"><span class="comment">// shapes (JSON-LD)</span>
{
  "@graph": [
    {
      "@id": "<span class="type">my:</span><span class="constant">IssueShape</span>",
      "@type": "<span class="type">sh:</span><span class="constant">Shape</span>",
      "<span class="type">sh:</span><span class="constant">property</span>": [
        {
          <span class="new">"@type": "sh:PropertyConstraint"</span>,     <span class="comment"># This type declaration is optional</span>
          <span class="new">"rdfs:label": "state"</span>,
          <span class="new">"rdfs:comment": "whether this shape has been assigned to someone."</span>,
          "<span class="type">sh:</span><span class="constant">predicate</span>": {
            "@id": "<span class="type">ex:</span><span class="constant">state</span>"
          },
          "<span class="type">sh:</span><span class="constant">allowedValue</span>": [
            { "@id": "<span class="type">ex:</span><span class="constant">unassigned</span>" },
            { "@id": "<span class="type">ex:</span><span class="constant">assigned</span>"   }
          ],
          "<span class="type">sh:</span><span class="constant">minCount</span>": 1,
          "<span class="type">sh:</span><span class="constant">maxCount</span>": 1
        },
        {
          <span class="new">"@type": "sh:PropertyConstraint"</span>,
          <span class="new">"rdfs:label": "reported by"</span>,
          <span class="new">"rdfs:comment": "who submitted a report about this bug."</span>,
          "<span class="type">sh:</span><span class="constant">predicate</span>": {
            "@id": "<span class="type">ex:</span><span class="constant">reportedBy</span>"
          },
          "<span class="type">sh:</span><span class="constant">valueShape</span>": {
            "@id": "<span class="type">my:</span><span class="constant">UserShape</span>"
          },
          "<span class="type">sh:</span><span class="constant">minCount</span>": 1,
          "<span class="type">sh:</span><span class="constant">maxCount</span>": 1
        }
      ]
    }
  ]
}</pre>
      </div>

				<p>
					Tools that understand SHACL can use the information above for many purposes.
					For example, they can figure out which fields should appear for an input form,
					and what values those fields can have, as well as labels and comments.
					Furthermore, they can verify that a given node in a graph fulfills the requirements for a <span class="function-name">my:IssueShape</span>.
				</p>
				<p>
					The system property <code>sh:property</code> is used to link a shape with its
					property declarations.
					The values of this property are nodes with the following properties:
				</p>
				<table style="border-collapse: collapse; border-color: #000000" border="1" cellpadding="5">
					<tr>
						<th>Property</th>
						<th>Description</th>
					</tr>
					<tr>
						<td><code>sh:predicate</code></td>
						<td>
							Required. Must point to the URI of an RDF property used to store the
							values of the property.
						</td>
					</tr>
					<tr>
						<td><code>sh:minCount</code></td>
						<td>Type: integer &gt;= 0, the minimum number of values required. Defaults to 0.</td>
					</tr>
					<tr>
						<td><code>sh:maxCount</code></td>
						<td>Type: integer &gt;= 0, the maximum number of values required. Defaults to unlimited.</td>
					</tr>
					<tr>
						<td><code>sh:valueShape</code></td>
						<td>
							The object matches the refrenced <code>sh:Shape</code>. 
						</td>
					</tr>
					<tr>
						<td><code>sh:valueType</code></td>
						<td>
							identifies the datatype for an RDF literal.
						</td>
					</tr>
					<tr class="issue">
						<td><code>sh:allowedValues</code></td>
						<td>Type: <code>sh:Set</code> (with property <code>sh:member</code>), points to a set enumerating the allowed values.</td>
					</tr>
					<tr class="issue">
						<td><code>sh:allowedValue</code></td>
						<td>Type: the same as the sh:valueType of the surrounding property.</td>
					</tr>
					<tr>
						<td><code>rdfs:label</code></td>
						<td>
							A human-readable label of the property in the context of the associated class.
						</td>
					</tr>
					<tr>
						<td><code>rdfs:comment</code></td>
						<td>
							A description of the property's role in the context of the associated class.
						</td>
					</tr>
				</table>
    		</section>
      <section id="choices">
				<h3>Choices</h3>
				<p>
          We can extend our first example to include a more flexible user which includes given and family names.
        </p>

<svg fill-opacity="0" xmlns:xlink="http://www.w3.org/1999/xlink" color-rendering="auto" color-interpolation="auto" stroke="rgb(0,0,0)" text-rendering="auto" stroke-linecap="square" width="466" stroke-miterlimit="10" stroke-opacity="0" shape-rendering="auto" fill="rgb(0,0,0)" stroke-dasharray="none" font-weight="normal" stroke-width="1" height="151" xmlns="http://www.w3.org/2000/svg" font-family="&apos;Dialog&apos;" font-style="normal" stroke-linejoin="miter" font-size="12" stroke-dashoffset="0" image-rendering="auto"
><!--Generated by the Batik Graphics2D SVG Generator--><defs id="genericDefs"
  /><g
  ><defs id="defs1"
    ><linearGradient x1="65" gradientUnits="userSpaceOnUse" x2="65" y1="100" y2="0" id="linearGradient1" spreadMethod="reflect"
      ><stop stop-opacity="1" stop-color="rgb(118,148,200)" offset="0%"
        /><stop stop-opacity="1" stop-color="rgb(238,243,251)" offset="100%"
      /></linearGradient
      ><linearGradient x1="85" gradientUnits="userSpaceOnUse" x2="85" y1="100" y2="0" id="linearGradient2" spreadMethod="reflect"
      ><stop stop-opacity="1" stop-color="rgb(118,148,200)" offset="0%"
        /><stop stop-opacity="1" stop-color="rgb(238,243,251)" offset="100%"
      /></linearGradient
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath1"
      ><path d="M-7 -7 L141 -7 L141 111 L-7 111 L-7 -7 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath2"
      ><path d="M0 0 L0 85 L130 85 L130 0 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath3"
      ><path d="M0 0 L130 0 L130 15 L0 15 L0 0 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath4"
      ><path d="M-7 -7 L181 -7 L181 111 L-7 111 L-7 -7 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath5"
      ><path d="M0 0 L0 85 L170 85 L170 0 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath6"
      ><path d="M0 0 L170 0 L170 15 L0 15 L0 0 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath7"
      ><path d="M-7 -7 L48 -7 L48 26 L-7 26 L-7 -7 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath8"
      ><path d="M0 0 L37 0 L37 15 L0 15 L0 0 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath9"
      ><path d="M-7 -7 L50 -7 L50 26 L-7 26 L-7 -7 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath10"
      ><path d="M0 0 L39 0 L39 15 L0 15 L0 0 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath11"
      ><path d="M-7 -7 L37 -7 L37 27 L-7 27 L-7 -7 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath12"
      ><path d="M0 0 L26 0 L26 16 L0 16 L0 0 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath13"
      ><path d="M-7 -7 L47 -7 L47 26 L-7 26 L-7 -7 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath14"
      ><path d="M0 0 L36 0 L36 15 L0 15 L0 0 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath15"
      ><path d="M-7 -7 L49 -7 L49 26 L-7 26 L-7 -7 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath16"
      ><path d="M0 0 L38 0 L38 15 L0 15 L0 0 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath17"
      ><path d="M0 0 L171 0 L171 52 L0 52 L0 0 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath18"
      ><path d="M0 0 L162 0 L162 112 L0 112 L0 0 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath19"
      ><path d="M-77 -15 L154 -15 L154 30 L-77 30 L-77 -15 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath20"
      ><path d="M-92 -15 L184 -15 L184 30 L-92 30 L-92 -15 Z"
      /></clipPath
      ><clipPath clipPathUnits="userSpaceOnUse" id="clipPath21"
      ><path d="M-57 -15 L114 -15 L114 30 L-57 30 L-57 -15 Z"
      /></clipPath
    ></defs
    ><g fill="white" text-rendering="geometricPrecision" fill-opacity="1" stroke-opacity="1" stroke="white"
    ><rect x="0" width="466" height="151" y="0" stroke="none"
    /></g
    ><g font-size="11" transform="translate(332,2)" fill-opacity="1" fill="url(#linearGradient1)" text-rendering="geometricPrecision" font-family="sans-serif" stroke="url(#linearGradient1)" font-weight="bold" stroke-opacity="1"
    ><rect x="0" width="130" height="100" y="0" clip-path="url(#clipPath1)" stroke="none"
    /></g
    ><g font-size="11" stroke-linecap="butt" transform="translate(332,2)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke-linejoin="round" stroke="black" font-weight="bold" stroke-opacity="1" stroke-miterlimit="0"
    ><rect fill="none" x="0" width="130" height="100" y="0" clip-path="url(#clipPath1)"
      /><line y2="15" fill="none" x1="0" clip-path="url(#clipPath1)" x2="130" y1="15"
    /></g
    ><g font-size="11" transform="matrix(1,0,0,1,332,17)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke="black" stroke-opacity="1"
    ><text x="2" xml:space="preserve" y="14" clip-path="url(#clipPath2)" stroke="none"
      > :name : xsd:string</text
    ></g
    ><g font-size="11" transform="matrix(1,0,0,1,332,17)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke="black" stroke-opacity="1"
    >
<text x="2" xml:space="preserve" y="29" clip-path="url(#clipPath2)" stroke="none"
      > :givenName : xsd:string</text
      ><text x="2" xml:space="preserve" y="44" clip-path="url(#clipPath2)" stroke="none"
      > :familyName : xsd:string</text
      >
<text x="2" xml:space="preserve" y="59" clip-path="url(#clipPath2)" stroke="none"
      > :mbox : AnyURI</text
    ></g
    ><g font-size="11" transform="translate(332,2)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke="black" font-weight="bold" stroke-opacity="1"
    ><text x="50" xml:space="preserve" y="12" clip-path="url(#clipPath3)" stroke="none"
      >:User</text
    ></g
    ><g font-size="11" transform="translate(42,2)" fill-opacity="1" fill="url(#linearGradient2)" text-rendering="geometricPrecision" font-family="sans-serif" stroke="url(#linearGradient2)" font-weight="bold" stroke-opacity="1"
    ><rect x="0" width="170" height="100" y="0" clip-path="url(#clipPath4)" stroke="none"
    /></g
    ><g font-size="11" stroke-linecap="butt" transform="translate(42,2)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke-linejoin="round" stroke="black" font-weight="bold" stroke-opacity="1" stroke-miterlimit="0"
    ><rect fill="none" x="0" width="170" height="100" y="0" clip-path="url(#clipPath4)"
      /><line y2="15" fill="none" x1="0" clip-path="url(#clipPath4)" x2="170" y1="15"
    /></g
    ><g font-size="11" transform="matrix(1,0,0,1,42,17)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke="black" stroke-opacity="1"
    ><text x="2" xml:space="preserve" y="14" clip-path="url(#clipPath5)" stroke="none"
      > :status = Assigned|Unassigned</text
    ></g
    ><g font-size="11" transform="matrix(1,0,0,1,42,17)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke="black" stroke-opacity="1"
    ><text x="2" xml:space="preserve" y="29" clip-path="url(#clipPath5)" stroke="none"
      > :reportedOn : xsd:dateTime</text
      >
<text x="2" xml:space="preserve" y="44" clip-path="url(#clipPath5)" stroke="none"
      > :reproducedOn : xsd:dateTime?</text
    >
</g
    ><g font-size="11" transform="translate(42,2)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke="black" font-weight="bold" stroke-opacity="1"
    ><text x="69" xml:space="preserve" y="12" clip-path="url(#clipPath6)" stroke="none"
      >:Issue</text
    ></g
    ><g font-size="11" transform="translate(212,62)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke="black" stroke-opacity="1"
    ><text x="10" xml:space="preserve" y="12" clip-path="url(#clipPath8)" stroke="none"
      >0..*</text
    ></g
    ><g font-size="11" transform="translate(302,62)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke="black" stroke-opacity="1"
    ><text x="10" xml:space="preserve" y="12" clip-path="url(#clipPath10)" stroke="none"
      >0..1</text
    ></g
    ><g font-size="11" transform="translate(312,22)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke="black" stroke-opacity="1"
    ><text x="10" xml:space="preserve" y="12" clip-path="url(#clipPath12)" stroke="none"
      >1</text
    ></g
    ><g font-size="11" transform="translate(212,22)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke="black" stroke-opacity="1"
    ><text x="10" xml:space="preserve" y="12" clip-path="url(#clipPath8)" stroke="none"
      >0..*</text
    ></g
    ><g font-size="11" transform="translate(122,102)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke="black" stroke-opacity="1"
    ><text x="9" xml:space="preserve" y="12" clip-path="url(#clipPath14)" stroke="none"
      >0..*</text
    ></g
    ><g font-size="11" transform="translate(2,52)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke="black" stroke-opacity="1"
    ><text x="10" xml:space="preserve" y="12" clip-path="url(#clipPath16)" stroke="none"
      >0..1</text
    ></g
    ><g font-size="11" stroke-linecap="butt" transform="translate(188,18)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke-linejoin="round" stroke="black" stroke-opacity="1"
    ><line y2="24" fill="none" x1="143" clip-path="url(#clipPath17)" x2="24" y1="24"
    /></g
    ><g font-size="11" stroke-linecap="butt" transform="translate(189,58)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke-linejoin="round" stroke="black" stroke-opacity="1"
    ><line y2="24" fill="none" x1="24" clip-path="url(#clipPath17)" x2="143" y1="24"
    /></g
    ><g font-size="11" stroke-linecap="butt" transform="translate(-12,48)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke-linejoin="round" stroke="black" stroke-opacity="1"
    ><line y2="84" fill="none" x1="134" clip-path="url(#clipPath18)" x2="134" y1="55"
      /><line y2="84" fill="none" x1="134" clip-path="url(#clipPath18)" x2="24" y1="84"
      /><line y2="24" fill="none" x1="24" clip-path="url(#clipPath18)" x2="24" y1="84"
      /><line y2="24" fill="none" x1="24" clip-path="url(#clipPath18)" x2="53" y1="24"
    /></g
    ><g font-size="11" transform="translate(232,42)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke="black" stroke-opacity="1"
    ><text x="10" xml:space="preserve" y="12" clip-path="url(#clipPath19)" stroke="none"
      >:reportedBy</text
    ></g
    ><g font-size="11" transform="translate(222,82)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke="black" stroke-opacity="1"
    ><text x="10" xml:space="preserve" y="12" clip-path="url(#clipPath20)" stroke="none"
      >:reproducedBy</text
    ></g
    ><g font-size="11" transform="translate(22,132)" fill-opacity="1" fill="black" text-rendering="geometricPrecision" font-family="sans-serif" stroke="black" stroke-opacity="1"
    ><text x="10" xml:space="preserve" y="12" clip-path="url(#clipPath21)" stroke="none"
      >:related</text
    ></g
    ><g fill="rgb(120,120,120)" text-rendering="geometricPrecision" fill-opacity="1" font-size="10" stroke-opacity="1" stroke="rgb(120,120,120)"
    ></g
  ></g
></svg
>
        <div class="namespace">
        <p>
          In this example, a user has:
        </p>
        <ul>
          <li><span class="eitherOr   lowlight2 top bot">either a simple name:</span>
            <ul>
              <li class="name lowlight1 top bot">a <span class="type">foaf:</span><span class="constant">name</span> property, .</li>
            </ul>
          </li>
          <li><span class="eitherOr   lowlight2 top bot">or a composite name:</span>
            <ul>
              <li class="gname lowlight1 top bot">one or more <span class="type">foaf:</span><span class="constant">givenName</span>s</li>
              <li class="fname lowlight1 top bot">a <span class="type">foaf:</span><span class="constant">familyName</span></li>
            </ul>
          </li>
        </ul>
        <p class="mbox lowlight1 top bot">The user must have exactly one <span class="type">foaf:</span><span class="constant">mbox</span>.</p>

        <div class="example wrapper">
          <!-- Turtle example -->
    		  <pre class="schema turtle" style="float:left;"><span class="comment"># shapes (Turtle)</span>
<span class="function-name">my:UserShape</span> <span class="keyword">a</span> <span class="type">sh:</span><span class="constant">Shape</span> ;
    <span class="eitherOr   lowlight2 top"><span class="type">sh:</span><span class="constant">choice</span> [                                  </span>
    <span class="name       lowlight1 top">    sh:property [                            </span>
    <span class="name       lowlight1    ">        <span class="type">sh:</span><span class="constant">predicate</span> <span class="type">foaf:</span><span class="constant">name</span> ;             </span>
    <span class="name       lowlight1    ">        <span class="type">sh:</span><span class="constant">valueType</span> <span class="type">xsd:</span><span class="constant">string</span> ;            </span>
    <span class="name       lowlight1    ">        <span class="type">sh:</span><span class="constant">minCount</span> 1 ; <span class="type">sh:</span><span class="constant">maxCount</span> 1        </span>
    <span class="name       lowlight1 bot">    ] ;                                      </span>
    <span class="eitherOr   lowlight2 bot">                                             </span>
    <span class="eitherOr   lowlight2 top">    sh:propertyGroup [                       </span>
    <span class="gname      lowlight1 top">        <span class="type">sh:</span><span class="constant">property</span> [                        </span>
    <span class="gname      lowlight1    ">            <span class="type">sh:</span><span class="constant">predicate</span> <span class="type">foaf:</span><span class="constant">givenName</span> ;    </span>
    <span class="gname      lowlight1    ">            <span class="type">sh:</span><span class="constant">valueType</span> <span class="type">xsd:</span><span class="constant">string</span> ;        </span>
    <span class="gname      lowlight1    ">            <span class="type">sh:</span><span class="constant">minCount</span> 1                    </span>
    <span class="gname      lowlight1 bot">        ] ;                                  </span>
    <span class="fname      lowlight1 top">        <span class="type">sh:</span><span class="constant">property</span> [                        </span>
    <span class="fname      lowlight1    ">            <span class="type">sh:</span><span class="constant">predicate</span> <span class="type">foaf:</span><span class="constant">familyName</span> ;   </span>
    <span class="fname      lowlight1    ">            <span class="type">sh:</span><span class="constant">valueType</span> <span class="type">xsd:</span><span class="constant">string</span> ;        </span>
    <span class="fname      lowlight1    ">            <span class="type">sh:</span><span class="constant">minCount</span> 1 ; <span class="type">sh:</span><span class="constant">maxCount</span> 1    </span>
    <span class="fname      lowlight1 bot">        ]                                    </span>
    <span class="eitherOr   lowlight2 bot">    ]                                        </span>
    ] ;                                          
    <span class="mbox       lowlight1 top"><span class="type">sh:</span><span class="constant">property</span> [                                </span>
    <span class="mbox       lowlight1    ">    <span class="type">sh:</span><span class="constant">predicate</span> <span class="type">foaf:</span><span class="constant">mbox</span> ;                 </span>
    <span class="mbox       lowlight1    ">    <span class="type">sh:</span><span class="constant">nodeKind</span> <span class="type">sh:</span><span class="constant">IRI</span> ;                     </span>
    <span class="mbox       lowlight1    ">    <span class="type">sh:</span><span class="constant">minCount</span> 1                            </span>
    <span class="mbox       lowlight1 bot">] <span class="keyword">.                                          </span></span></pre>

          <!-- JSON-LD example -->
    		  <pre class="schema json-ld" style="float:left;"><span class="comment">// shapes (JSON-LD)</span>
{
  "@graph": [
    {
      "@id": "<span class="type">my:</span><span class="constant">UserShape</span>",
      "@type": "<span class="type">sh:</span><span class="constant">Shape</span>",
      <span class="eitherOr   lowlight2 top">"<span class="type">sh:</span><span class="constant">choice</span>": {                    </span>
        <span class="name       lowlight1 top">"<span class="type">sh:</span><span class="constant">property</span>": {                </span>
        <span class="name       lowlight1    ">  "<span class="type">sh:</span><span class="constant">predicate</span>": {             </span>
        <span class="name       lowlight1    ">    "@id": "<span class="type">foaf:</span><span class="constant">name</span>"          </span>
        <span class="name       lowlight1    ">  },                            </span>
        <span class="name       lowlight1    ">  "<span class="type">sh:</span><span class="constant">valueType</span>": {             </span>
        <span class="name       lowlight1    ">      "@id": "<span class="type">xsd:</span><span class="constant">string</span>"       </span>
        <span class="name       lowlight1    ">  },                            </span>
        <span class="name       lowlight1    ">  "<span class="type">sh:</span><span class="constant">maxCount</span>": 1,             </span>
        <span class="name       lowlight1    ">  "<span class="type">sh:</span><span class="constant">minCount</span>": 1              </span>
        <span class="name       lowlight1 bot">},                              </span>
        <span class="eitherOr   lowlight2 bot">                                </span>
        <span class="eitherOr   lowlight2 top">"<span class="type">sh:</span><span class="constant">propertyGroup</span>": {           </span>
          "<span class="type">sh:</span><span class="constant">property</span>": [
            <span class="gname      lowlight1 top">{                           </span>
            <span class="gname      lowlight1    ">  "<span class="type">sh:</span><span class="constant">predicate</span>": {         </span>
            <span class="gname      lowlight1    ">    "@id": "<span class="type">foaf:</span><span class="constant">givenName</span>" </span>
            <span class="gname      lowlight1    ">  },                        </span>
            <span class="gname      lowlight1    ">  "<span class="type">sh:</span><span class="constant">valueType</span>": {         </span>
            <span class="gname      lowlight1    ">    "@id": "<span class="type">xsd:</span><span class="constant">string</span>"     </span>
            <span class="gname      lowlight1    ">  },                        </span>
            <span class="gname      lowlight1    ">  "<span class="type">sh:</span><span class="constant">minCount</span>": 1          </span>
            <span class="gname      lowlight1 bot">},                          </span>
            <span class="fname      lowlight1 top">{                           </span>
            <span class="fname      lowlight1    ">  "<span class="type">sh:</span><span class="constant">predicate</span>": {         </span>
            <span class="fname      lowlight1    ">    "@id": "<span class="type">foaf:</span><span class="constant">familyName</span>"</span>
            <span class="fname      lowlight1    ">  },                        </span>
            <span class="fname      lowlight1    ">  "<span class="type">sh:</span><span class="constant">valueType</span>": {         </span>
            <span class="fname      lowlight1    ">    "@id": "<span class="type">xsd:</span><span class="constant">string</span>"     </span>
            <span class="fname      lowlight1    ">  },                        </span>
            <span class="fname      lowlight1    ">  "<span class="type">sh:</span><span class="constant">maxCount</span>": 1,         </span>
            <span class="fname      lowlight1    ">  "<span class="type">sh:</span><span class="constant">minCount</span>": 1          </span>
            <span class="fname      lowlight1 bot">}                           </span>
          ]
        <span class="eitherOr   lowlight2 bot">}                               </span>
      },
      <span class="mbox       lowlight1 top">"<span class="type">sh:</span><span class="constant">property</span>":     {              </span>
      <span class="mbox       lowlight1    ">  "<span class="type">sh:</span><span class="constant">predicate</span>": {               </span>
      <span class="mbox       lowlight1    ">    "@id": "<span class="type">foaf:</span><span class="constant">mbox</span>"            </span>
      <span class="mbox       lowlight1    ">  },                              </span>
      <span class="mbox       lowlight1    ">  "<span class="type">sh:</span><span class="constant">nodeKind</span>": {                </span>
      <span class="mbox       lowlight1    ">    "@id": "<span class="type">sh:</span><span class="constant">IRI</span>"               </span>
      <span class="mbox       lowlight1    ">  },                              </span>
      <span class="mbox       lowlight1    ">  "<span class="type">sh:</span><span class="constant">minCount</span>": 1                </span>
      <span class="mbox       lowlight1 bot">}                                 </span>
    }
  ]
}</pre>
          <div class="verticalDivider"><!-- acts as a divider --></div>
          <div style="float:left;">
    	  	<pre class="instance turtle"><span class="comment"># passing data</span>
<span class="function-name">inst:User1</span> <span class="keyword">a</span> <span class="type">foaf:</span><span class="constant">Person</span> ;
    <span class="name lowlight1 top bot"><span class="type">foaf:</span><span class="constant">name</span>       <span class="string top bot">"Alice Walker"</span></span> ;
    <span class="mbox lowlight1 top bot"><span class="type">foaf:</span><span class="constant">mbox</span>       <span class="fullURL">&lt;mailto:awalker@example.org&gt;</span><span class="keyword"></span></span> .

<span class="function-name">inst:User2</span> <span class="keyword">a</span> <span class="type">foaf:</span><span class="constant">Person</span> ;
    <span class="gname lowlight1 top"><span class="type">foaf:</span><span class="constant">givenName</span>  <span class="string top bot">"Robert"</span></span> ;
    <span class="gname lowlight1 bot"><span class="type">foaf:</span><span class="constant">givenName</span>  <span class="string top bot">"Paris"</span> </span>;
    <span class="fname lowlight1 top bot"><span class="type">foaf:</span><span class="constant">familyName</span> <span class="string top bot">"Moses"</span></span> ;
    <span class="mbox lowlight1 top bot"><span class="type">foaf:</span><span class="constant">mbox</span>       <span class="fullURL">&lt;mailto:rpmoses@example.org&gt;</span><span class="keyword"></span></span> .</pre>

          <pre class="instance turtle fail"><span class="comment"># failing data</span>
<span class="function-name">inst:User3</span> <span class="keyword">a</span> <span class="type">foaf:</span><span class="constant">Person</span> ;
    <span class="gname lowlight1 top bot"><span class="type">foaf:</span><span class="constant">givenName</span>  <span class="string top bot">"Smith"</span></span> ;
    <span class="errorSite"> # error: no familyName</span>
    <span class="mbox lowlight1 top bot"><span class="type">foaf:</span><span class="constant">mbox</span>       <span class="fullURL">&lt;mailto:bobs@example.org&gt;</span><span class="keyword"></span></span> .

<span class="function-name">inst:User4</span> <span class="keyword">a</span> <span class="type">foaf:</span><span class="constant">Person</span> ;
    <span class="name lowlight1 top bot"><span class="type">foaf:</span><span class="constant">name</span>       <span class="string top bot">"A"</span></span> ;
    <span class="errorSite"> # error: both name and given/family name</span>
    <span class="gname lowlight1 top bot"><span class="type">foaf:</span><span class="constant">givenName</span>  <span class="string top bot">"B"</span></span> ;
    <span class="fname lowlight1 top bot"><span class="type">foaf:</span><span class="constant">familyName</span> <span class="string top bot">"C"</span></span> ;
    <span class="mbox lowlight1 top bot"><span class="type">foaf:</span><span class="constant">mbox</span>       <span class="fullURL">&lt;mailto:bobs@example.org&gt;</span><span class="keyword"></span></span> .</pre>
          </div>

          <div style="clear:both;"></div>
      </div>
      <script type="text/javascript">
      <!--
prepareHighlight(['oneOrMore', 'eitherOr'], "highlight2", "lowlight2");
prepareHighlight(['name', 'gname', 'fname', 'mbox'], "highlight1", "lowlight1");
      -->
      </script>
      </div>
      </section>
    		<section id="datatype-properties">
    			<h3>Datatype Property Characteristics</h3>
        <div class="namespace">
				<p>
					In addition to those basic property characteristics, it is possible to use others such as min/max value ranges for properties that have datatype literals as values.
          Here we constrain the length of a foaf:name to be <span class="min lowlight2 top bot">&gt;= 3</span> and <span class="max lowlight2 top bot">&lt;= 255</span>:
				</p>

        <div class="example wrapper">
          <!-- Turtle example -->
    		  <pre class="schema turtle" style="float:left;"><span class="comment"># shapes (Turtle)</span>
<span class="user lowlight2 top bot"><span class="function-name">my:UserShape</span></span> <span class="keyword">a</span> <span class="type">sh:</span><span class="constant">Shape</span> ;
    <span class="name       lowlight1 top"><span class="type">sh:</span><span class="constant">property</span> [                                </span>
    <span class="name       lowlight1    ">    <span class="type">sh:</span><span class="constant">predicate</span> <span class="type">foaf:</span><span class="constant">name</span> ;                 </span>
    <span class="name       lowlight1    ">    <span class="type">sh:</span><span class="constant">valueType</span> <span class="type">xsd:</span><span class="constant">string</span> ;                </span>
    <span class="name       lowlight1    ">    <span class="type">sh:</span><span class="constant">minCount</span> 1 ; <span class="type">sh:</span><span class="constant">maxCount</span> 1            </span>
    <span class="name       lowlight1    ">    <span class="min lowlight2 top bot new"><span class="type">sh:</span><span class="constant">minLength</span> 3</span> ; <span class="max lowlight2 top bot new"><span class="type">sh:</span><span class="constant">maxLength</span> 255</span>        </span>
    <span class="name       lowlight1 bot">] <span class="keyword">.                                          </span></span></pre>

          <!-- JSON-LD example -->
    		  <pre class="schema json-ld" style="float:left;"><span class="comment">// shapes (JSON-LD)</span>
{
  "@graph": [
    {
      "@id": "<span class="type">my:</span><span class="constant">UserShape</span>",
      "@type": "<span class="type">sh:</span><span class="constant">Shape</span>",
      "<span class="type">sh:</span><span class="constant">property</span>": [
        <span class="name       lowlight1 top">{                               </span>
        <span class="name       lowlight1    ">  "<span class="type">sh:</span><span class="constant">predicate</span>": {           </span>
        <span class="name       lowlight1    ">    "@id": "<span class="type">foaf:</span><span class="constant">name</span>"          </span>
        <span class="name       lowlight1    ">  },                            </span>
        <span class="name       lowlight1    ">  "<span class="type">sh:</span><span class="constant">valueType</span>": {           </span>
        <span class="name       lowlight1    ">    "@id": "<span class="type">xsd:</span><span class="constant">string</span>          </span>
        <span class="name       lowlight1    ">  },                            </span>
        <span class="name       lowlight1    ">  "<span class="type">sh:</span><span class="constant">minCount</span>": 1,           </span>
        <span class="name       lowlight1    ">  "<span class="type">sh:</span><span class="constant">maxCount</span>": 1,           </span>
        <span class="name       lowlight1    ">  <span class="min lowlight2 top bot">"<span class="type">sh:</span><span class="constant">minLength</span>": 3</span>,          </span>
        <span class="name       lowlight1    ">  <span class="max lowlight2 top bot">"<span class="type">sh:</span><span class="constant">maxLength</span>": 255</span>         </span>
        <span class="name       lowlight1 bot">}                               </span>
      ]
    }
  ]
}
</pre>
          <div class="verticalDivider"><!-- acts as a divider --></div>
          <div style="float:left;">
    	  	<pre class="instance turtle"><span class="comment"># passing data</span>
<span class="name lowlight1 top bot"><span class="user lowlight2 top bot"><span class="function-name">inst:User2</span></span> <span class="type">foaf:</span><span class="constant">name</span>       <span class="string top bot">"Bob Smith"</span></span> .</pre>

    	  	<pre class="instance turtle fail" style="float:left;"><span class="comment"># failing data</span>
<span class="name lowlight1 top bot"><span class="user lowlight2 top bot"><span class="function-name">inst:User9</span></span> <span class="type">foaf:</span><span class="constant">name</span>       <span class="min lowlight2 top bot"><span class="string top bot errorSite">"BS"</span></span></span>.</pre>
  </div>
          <div style="clear:both;"></div>
      </div>
      <script type="text/javascript">
      <!--
prepareHighlight(['min', 'max'], "highlight2", "lowlight2");
prepareHighlight(['name999'], "highlight1", "lowlight1");
      -->
      </script>
      </div>
				<p>
					The following built-in constraints are available for datatype values.
					<span class="todo">(XML schema has additional facets: whiteSpace, fractionDigits, totalDigits. Schema.org also suggests: stepValue).</span>
				</p>
				<table style="border-collapse: collapse; border-color: #000000" border="1" cellpadding="5">
					<tr>
						<th>Property</th>
						<th>Description</th>
					</tr>
					<tr>
						<td><code>sh:length</code></td>
						<td>Type: <code>xsd:integer</code>, number of characters of valid values.</td>
					</tr>
					<tr>
						<td><code>sh:maxLength</code></td>
						<td>Type: <code>xsd:integer</code>, maximum number of characters of valid values.</td>
					</tr>
					<tr>
						<td><code>sh:minLength</code></td>
						<td>Type: <code>xsd:integer</code>, minimum number of characters of valid values.</td>
					</tr>
					<tr>
						<td><code>sh:maxExclusive</code></td>
						<td>Type: the same as the sh:valueType of the surrounding property.</td>
					</tr>
					<tr>
						<td><code>sh:maxInclusive</code></td>
						<td>Type: the same as the sh:valueType of the surrounding property.</td>
					</tr>
					<tr>
						<td><code>sh:minExclusive</code></td>
						<td>Type: the same as the sh:valueType of the surrounding property.</td>
					</tr>
					<tr>
						<td><code>sh:minInclusive</code></td>
						<td>Type: the same as the sh:valueType of the surrounding property.</td>
					</tr>
					<tr>
						<td><code>sh:pattern</code></td>
						<td>Type: <code>xsd:string</code>, a regular expression to match.</td>
					</tr>
				</table>
			</section>
			<section id="inverse-properties">
				<h3>Inverse Property Declarations</h3>
        <div class="namespace">
				<p>
					Due to the triple-based data model of RDF, it is possible to "walk" a relationship
					in both directions - from subject to object and from object to subject.
					SHACL can be used to declare that a property is associated with a class, even
					if the predicate is actually used in the inverse direction.
					As shown below, the system property <code class="inversePredicate top bot">sh:inverseProperty</code> is used
					in such cases, and very similar characteristics as previously mentioned can
					be applied in these inverse property declarations.
				</p>
    		<p>
          Here we change the first example so that instead of an issue having a 
          <span class="reportedBy lowlight1 top bot"><span class="type">ex:</span><span class="constant">reportedBy</span> identifying a node corresponding to <span class="function-name">my:UserShape</span></span>,
          the user node has a <span class="reportedIssue lowlight1 top bot">predicate <span class="type">ex:</span><span class="constant">reportedIssue</span> which identifies the issue</span>.
    		</p>

        <div class="example wrapper">
          <!-- Turtle example -->
    		  <pre class="schema turtle" style="float:left;"><span class="comment"># shapes (Turtle)</span>
<span class="function-name">my:IssueShape</span> <span class="keyword">a</span> <span class="type">sh:</span><span class="constant">Shape</span> ;
    <span class="state      lowlight1 top"><span class="type">sh:</span><span class="constant">property</span> [                                     </span>
    <span class="state      lowlight1    ">    <span class="type">sh:</span><span class="constant">predicate</span> <span class="type">ex:</span><span class="constant">state</span> ;                       </span>
    <span class="state      lowlight1    ">    <span class="type">sh:</span><span class="constant">allowedValue</span> <span class="type">ex:</span><span class="constant">unassigned</span> , <span class="type">ex:</span><span class="constant">assigned</span> ; </span>
    <span class="state      lowlight1    ">    <span class="type">sh:</span><span class="constant">minCount</span> 1 ; <span class="type">sh:</span><span class="constant">maxCount</span> 1               </span>
    <span class="state      lowlight1 bot">] ;                                                 </span>
    <span class="reportedIssue lowlight1 top new"><span class="inversePredicate lowlight2 top bot"><span class="type999">sh:</span><span class="constant999">inverseProperty</span></span> [                              </span>
    <span class="reportedIssue lowlight1    ">    <span class="type">sh:</span><span class="constant">predicate</span> <span class="type">ex:</span><span class="constant">reportedIssue</span> ;               </span>
    <span class="reportedIssue lowlight1    ">    <span class="type">sh:</span><span class="constant">valueShape</span> <span class="function-name">my:UserShape</span> ;                  </span>
    <span class="reportedIssue lowlight1    ">    <span class="type">sh:</span><span class="constant">minCount</span> 1 ; <span class="type">sh:</span><span class="constant">maxCount</span> 1                 </span>
    <span class="reportedIssue lowlight1 bot">] <span class="keyword">.</span>                                               </span>

<span class="function-name">my:UserShape</span> <span class="keyword">a</span> <span class="type">sh:</span><span class="constant">Shape</span> ;
    <span class="name       lowlight1 top"><span class="type">sh:</span><span class="constant">property</span> [                                     </span>
    <span class="name       lowlight1    ">    <span class="type">sh:</span><span class="constant">predicate</span> <span class="type">foaf:</span><span class="constant">name</span> ;                      </span>
    <span class="name       lowlight1    ">    <span class="type">sh:</span><span class="constant">valueType</span> <span class="type">xsd:</span><span class="constant">string</span> ;                     </span>
    <span class="name       lowlight1    ">    <span class="type">sh:</span><span class="constant">minCount</span> 1 ; <span class="type">sh:</span><span class="constant">maxCount</span> 1               </span>
    <span class="name       lowlight1 bot">] ;                                                 </span>
    <span class="mbox       lowlight1 top"><span class="type">sh:</span><span class="constant">property</span> [                                     </span>
    <span class="mbox       lowlight1    ">    <span class="type">sh:</span><span class="constant">predicate</span> <span class="type">foaf:</span><span class="constant">mbox</span> ;                      </span>
    <span class="mbox       lowlight1    ">    <span class="type">sh:</span><span class="constant">nodeKind</span> <span class="type">sh:</span><span class="constant">IRI</span> ;                        </span>
    <span class="mbox       lowlight1    ">    <span class="type">sh:</span><span class="constant">minCount</span> 1                                 </span>
    <span class="mbox       lowlight1 bot">] <span class="keyword">.                                                 </span></span></pre>

          <!-- JSON-LD example -->
    		  <pre class="schema json-ld" style="float:left;"><span class="comment">// shapes (JSON-LD)</span>
{
<span style="font-size: 67%; ">  "@context": {
    "ex": "http://example.com/ns/ex#",
    "foaf": "http://xmlns.com/foaf/",
    "sh": "http://example.com/ns/sh#",
    "xsd": "http://www.w3.org/2001/XMLSchema#"
  },</span>
  "@graph": [
    {
      "@id": "my:IssueShape",
      "@type": "sh:Shape",
      "sh:property": [
        <span class="state      lowlight1 top">{                              </span>
        <span class="state      lowlight1    ">  "sh:predicate": {            </span>
        <span class="state      lowlight1    ">    "@id": "ex:state"          </span>
        <span class="state      lowlight1    ">  },                           </span>
        <span class="state      lowlight1    ">  "sh:allowedValue": [         </span>
        <span class="state      lowlight1    ">    { "@id": "ex:unassigned" },</span>
        <span class="state      lowlight1    ">    { "@id": "ex:assigned"   } </span>
        <span class="state      lowlight1    ">  ],                           </span>
        <span class="state      lowlight1    ">  "sh:minCount": 1,            </span>
        <span class="state      lowlight1    ">  "sh:maxCount": 1             </span>
        <span class="state      lowlight1 bot">},                             </span>
        <span class="reportedIssue lowlight1 top">{                             </span>
        <span class="reportedIssue lowlight1    ">  <span class="inversePredicate lowlight2 top bot">"sh:inversePredicate"</span>: {    </span>
        <span class="reportedIssue lowlight1    ">    "@id": "ex:reportedIssue" </span>
        <span class="reportedIssue lowlight1    ">  },                          </span>
        <span class="reportedIssue lowlight1    ">  "sh:valueShape": {          </span>
        <span class="reportedIssue lowlight1    ">    "@id": "my:UserShape"     </span>
        <span class="reportedIssue lowlight1    ">  },                          </span>
        <span class="reportedIssue lowlight1    ">  "sh:minCount": 1,           </span>
        <span class="reportedIssue lowlight1    ">  "sh:maxCount": 1            </span>
        <span class="reportedIssue lowlight1 bot">}                             </span>
      ]
    },
    {
      "@id": "my:UserShape",
      "@type": "sh:Shape",
      "sh:property": [
        <span class="name       lowlight1 top">{                              </span>
        <span class="name       lowlight1    ">  "sh:predicate": {            </span>
        <span class="name       lowlight1    ">    "@id": "foaf:name"         </span>
        <span class="name       lowlight1    ">  },                           </span>
        <span class="name       lowlight1    ">  "sh:valueType": {            </span>
        <span class="name       lowlight1    ">    "@id": "xsd:string"        </span>
        <span class="name       lowlight1    ">  },                           </span>
        <span class="name       lowlight1    ">  "sh:minCount": 1,            </span>
        <span class="name       lowlight1    ">  "sh:maxCount": 1             </span>
        <span class="name       lowlight1 bot">},                             </span>
        <span class="mbox       lowlight1 top">{                              </span>
        <span class="mbox       lowlight1    ">  "sh:predicate": {            </span>
        <span class="mbox       lowlight1    ">    "@id": "foaf:mbox"         </span>
        <span class="mbox       lowlight1    ">  },                           </span>
        <span class="mbox       lowlight1    ">  "sh:nodeKind": {             </span>
        <span class="mbox       lowlight1    ">    "@id": "sh:IRI"            </span>
        <span class="mbox       lowlight1    ">  },                           </span>
        <span class="mbox       lowlight1    ">  "sh:minCount": 1             </span>
        <span class="mbox       lowlight1 bot">}                              </span>
      ]
    }
  ]
}
</pre>
          <div class="verticalDivider"><!-- acts as a divider --></div>
          <div style="float:left;">
    	  	<pre class="instance turtle"><span class="comment"># passing data</span>
<span class="function-name">inst:Issue1</span> <span class="keyword">a</span> <span class="type">ex:</span><span class="constant">Issue</span> ;
    <span class="state lowlight1 top bot"><span class="type">ex:</span><span class="constant">state</span>        <span class="type">ex:</span><span class="constant">unassigned</span></span> <span class="keyword">.</span>

<span class="user lowlight2 top bot"><span class="function-name">inst:User2</span></span> <span class="keyword">a</span> <span class="type">foaf:</span><span class="constant">Person</span> ;
    <span class="name lowlight1 top bot"><span class="type">foaf:</span><span class="constant">name</span>       <span class="string top bot">"Bob Smith"</span></span> ;
    <span class="reportedIssue lowlight1 top bot new"><span class="type999">ex:</span><span class="constant999">reportedIssue</span> <span class="function-name">inst:User2</span></span> ;
    <span class="mbox lowlight1 top"><span class="type">foaf:</span><span class="constant">mbox</span>       <span class="fullURL">&lt;mailto:bob@example.org&gt;</span><span class="keyword"></span></span> ;
    <span class="mbox lowlight1 bot"><span class="type">foaf:</span><span class="constant">mbox</span>       <span class="fullURL">&lt;mailto:rs@example.org&gt;</span> <span class="keyword"></span></span>.</pre>

    	  	<pre class="instance turtle fail" style="float:left;"><span class="comment"># failing data</span>
<span class="function-name">inst:Issue1</span> <span class="keyword">a</span> <span class="type">ex:</span><span class="constant">Issue</span> ;
    <span class="state lowlight1 top bot"><span class="type">ex:</span><span class="constant">state</span>        <span class="type">ex:</span><span class="constant">unassigned</span></span> ;
    <span class="reportedBy lowlight1 top bot"><span class="type">ex:</span><span class="constant">reportedBy</span>   <span class="function-name">inst:User2</span></span> <span class="keyword">.</span>

<span class="user lowlight2 top bot"><span class="function-name">inst:User2</span></span> <span class="keyword">a</span> <span class="type">foaf:</span><span class="constant">Person</span> ;
    <span class="name lowlight1 top bot"><span class="type">foaf:</span><span class="constant">name</span>       <span class="string top bot">"Bob Smith"</span></span> ;
    <span class="mbox lowlight1 top"><span class="type">foaf:</span><span class="constant">mbox</span>       <span class="fullURL">&lt;mailto:bob@example.org&gt;</span><span class="keyword"></span></span> ;
    <span class="mbox lowlight1 bot"><span class="type">foaf:</span><span class="constant">mbox</span>       <span class="fullURL">&lt;mailto:rs@example.org&gt;</span> <span class="keyword"></span></span>.</pre>
  </div>
          <div style="clear:both;"></div>
      </div>
      <script type="text/javascript">
      <!--
prepareHighlight(['inversePredicate'], "highlight2", "lowlight2");
prepareHighlight(['state999', 'reportedBy', 'reportedIssue', 'name999', 'mbox999'], "highlight1", "lowlight1");
      -->
      </script>
      </div>
			</section>

    	</section>
    	
    	<section id="associations">
    		<h2>Associating Data with Shapes</h2>
        <p>
          The above examples illustrate how nodes in data can be validated against a shape.
          There's no limit to the mechanisms that might associate data with a shape, e.g.
        </p>
        <ul>
          <li>
            <p>
              an node claiming to conform to some shape
            </p>
            <pre><span class="type">clinic:</span><span class="constant">patient2134</span> <span class="keyword">a</span> <span class="type">clinic:</span><span class="constant">PatientRecord</span> ;
  <span class="type">sh:</span><span class="constant">nodeShape</span> [
    <span class="type">sh:</span><span class="constant">property</span> [
        <span class="type">sh:</span><span class="constant">predicate</span> <span class="type">clinic:</span><span class="constant">phone</span> ;
        <span class="type">sh:</span><span class="constant">valueType</span> <span class="type">xsd:</span><span class="constant">string</span> ;
        <span class="type">sh:</span><span class="constant">minCount</span> 1 ; <span class="type">sh:</span><span class="constant">maxCount</span> 1
    ]
  ] <span class="keyword">.</span></pre>
          </li>
          <li>
            <p>
              nodes in a graph that are instances of that class conforms to a given shape
            </p>
            <pre><span class="type">clinic1234:</span><span class="constant">CompletePatientRecord</span> <span class="keyword">a</span> <span class="type">owl:</span><span class="constant">Class</span> ;
  <span class="type">sh:</span><span class="constant">classShape</span> [
    <span class="type">sh:</span><span class="constant">property</span> [
        <span class="type">sh:</span><span class="constant">predicate</span> <span class="type">clinic1234:</span><span class="constant">phone</span> ;
        <span class="type">sh:</span><span class="constant">valueType</span> <span class="type">xsd:</span><span class="constant">string</span> ;
        <span class="type">sh:</span><span class="constant">minCount</span> 1 ; <span class="type">sh:</span><span class="constant">maxCount</span> 1
    ]
  ] <span class="keyword">.</span></pre>
          </li>
          <li>
            <p>
              description of data available at a SPARQL interface
            </p>
            <pre>[ <span class="type">sd:</span><span class="constant">endpoint</span> <span class="function-name">&lt;<a href="http://www.example/sparql/">http://www.example/sparql/</a>&gt;</span> ;
  <span class="type">sd:</span><span class="constant">defaultDataset</span> [
    <span class="type">sd:</span><span class="constant">defaultGraph</span> [
      <span class="type">sd:</span><span class="constant">Graph</span> [
        <span class="type">sh:</span><span class="constant">hasShape</span> <span class="type">ex:</span><span class="constant">IssueShape</span>
      ] ] ] ] <span class="keyword">.</span></pre>
          </li>
          <li>
            <p>
              LDP Container with starting element passed in the protocol
            </p>
            <pre>[ <span class="keyword">a</span> <span class="type">ldp:</span><span class="constant">RootedPOSTConstraint</span> ;
  <span class="type">ldp:</span><span class="constant">onContainer</span> <span class="function-name">&lt;MyContactsLDPContainer&gt;</span>
  <span class="type">sh:</span><span class="constant">hasShape</span> <span class="function-name">&lt;PersonInMyContactsDB&gt;</span> ] <span class="keyword">.</span></pre>
          </li>
          <li>
            <p>
              LDP Container with a query identifying the starting node
            </p>
            <pre>[ <span class="keyword">a</span> <span class="type">ldp:</span><span class="constant">QueriedPOSTConstraint</span> ;
  <span class="type">ldp:</span><span class="constant">onContainer</span> <span class="function-name">&lt;MyContactsLDPContainer&gt;</span>
  <span class="type">sh:</span><span class="constant">withQuery</span> <span class="string">"SELECT ?s { &#8230; }"</span> ;
  <span class="type">sh:</span><span class="constant">hasShape</span> <span class="function-name">&lt;PersonInMyContactsDB&gt;</span> ] <span class="keyword">.</span></pre>
          </li>
        </ul>

        <p>
          SHACL defines two predicates, <span class="type">sh:</span><span class="constant">nodeShape</span> and <span class="type">sh:</span><span class="constant">classShape</span>.
          The former asserts that a particular node in some graph conforms to a specific shape.
          The latter asserts that every node of some type conforms to a specific shape.
          It is expected that different communities will develop many more associations, much as the WSDL community created an association between input and output documents and an XML schema which described them.
        </p>

        <div class="issue">
          <p>
            The <span class="type">sh:</span><span class="constant">classShape</span> predicate describes a way to associate shapes with classes.
            It is currently unclear what is implied by attaching shape properties (e.g. <span class="type">sh:</span><span class="constant">property</span>) directly to a class e.g.:
          </p>
            <pre><span class="type">clinic1234:</span><span class="constant">CompletePatientRecord</span> <span class="keyword">a</span> <span class="type">owl:</span><span class="constant">Class</span> ;
  <span class="type">sh:</span><span class="constant">property</span> [
      <span class="type">sh:</span><span class="constant">predicate</span> <span class="type">clinic1234:</span><span class="constant">phone</span> ;
      <span class="type">sh:</span><span class="constant">valueType</span> <span class="type">xsd:</span><span class="constant">string</span> ;
      <span class="type">sh:</span><span class="constant">minCount</span> 1 ; <span class="type">sh:</span><span class="constant">maxCount</span> 1
  ] <span class="keyword">.</span></pre>

        </div>

      </section>

    	<section id="constraints">
    		<h2>Extensible Constraints</h2>
    		<p>
    			The property declarations shown in the previous chapter define conditions that
    			all graphs conforming to that shape need to fulfill.
    			They do this in a declarative language with a limited number of properties
    			such as <code>sh:maxCount</code>.
    			However, in many cases it is necessary to define additional conditions
    			that are used to verify valid data, or to simply communicate the more complex
    			constraints.
          SHACL's extension mechanism permits other languages, like SPARQL, to be used when SHACL's expressivity is insufficient.
    		</p>
    		<section id="sparql-constraints">
				<h3>SPARQL-based Constraints</h3>
	    		<p>
					For example, the width and height of a Square must be equal.
					These constraints can be attached to class definitions using <code>sh:constraint</code>
					as shown in the next example:
	    		</p>
        <p class="issue">
          It's not yet clear whether SPARQL is treated as an extension.
          (The form below should be in this issue block.)
          <form id="sparqlOptions" action="">View as: <input type="radio" name="sparqlRepresentation" value="builtin" checked="checked">SPARQL is built-in to SHACL (press 'b')</input> <input type="radio" name="sparqlRepresentation" value="extension">SPARQL is treated as an extension (press 'e')</input> .</form>
        </p>
<div class="example wrapper">
          <pre class="sparqlExt builtin">
ex:IssueShape a sh:Shape ;
  sh:property [
    sh:predicate ex:reportedOn ;
    sh:valueType xsd:dateTime ;
    sh:minCount 1 ; sh:maxCount 1
  ] ;
  sh:property [
    sh:predicate ex:assignedOn ;
    sh:valueType xsd:dateTime ;
    sh:minCount 1
  ] .
  sh:constraint [
    sh:message "issues can't be assigned before they're reporeted" ;
    sh:path ex:reportedOn ;
    sh:path ex:assignedOn ;
    sh:spin """
      ASK {
        ?this ex:reportedOn ?submDt .
        ?this ex:assignedOn ?assnDt .
        FILTER (?submDt != ?assnDt) .
      }
      """
  ] .</pre>
          <pre class="sparqlExt extension">
ex:IssueShape a sh:Shape ;
  sh:property [
    sh:predicate ex:reportedOn ;
    sh:valueType xsd:dateTime ;
    sh:minCount 1 ; sh:maxCount 1
  ] ;
  sh:property [
    sh:predicate ex:assignedOn ;
    sh:valueType xsd:dateTime ;
    sh:minCount 1
  ] .
  sh:constraint [
    sh:message "issues can't be assigned before they're reporeted" ;
    sh:path ex:reportedOn ;
    sh:path ex:assignedOn ;
    sh:extension [
      sh:langauge &lt;http://www.w3.org/Submission/spin-overview/&gt; ;
      sh:action """
      ASK {
        ?this ex:reportedOn ?submDt .
        ?this ex:assignedOn ?assnDt .
        FILTER (?submDt != ?assnDt) .
      }
      """ ]
  ] .</pre>
</div>
				<p class="todo">
					Open issue: Many people find it confusing that the expression seems to work
					"backwards" and only find the counter-examples.  So the term "constraint"
					might be misleading.  An alternative name "exception" has been proposed
					(although this term has a different meaning in programming languages).
					Furthermore, many values of sh:constraint are in fact template calls,
					and the user doesn't even see the SPARQL query (e.g. ldon:minCount uses
					a positive direction even if its internal SPARQL query checks for counter-examples).
				</p>
				<p>
					The example above uses SPARQL to implement an executable test.
					The SPARQL query must return <code>true</code> if the condition is violated, using the variable
					<code>?this</code> to refer to the currently tested instance.
					The property <code>sh:constraint</code> is linking a class with the additional
					constraints that it needs to fulfill.
					Each of the values of <code>sh:constraint</code> can have a <code>sh:sparql</code>
					query (ASK, SELECT or CONSTRUCT), or they can be instances of Templates as shown
					<a href="#template-constraints">later</a>.
					In SPARQL-based constraints, the properties <code>sh:message</code>, <code>sh:path</code>
					and	<code>sh:level</code> (with values <code>sh:Error</code>,
					<code>sh:Warning</code> and <code>sh:FatalError</code>) can be used to provide
					additional information on the constraint violation.
				</p>
				<p>
					As alternatives to ASK, you can use SPARQL SELECT or CONSTRUCT queries to take more
					control over which constraint violations to create.
					While a little bit more verbose, one advantage of those syntaxes is greater flexibility
					in how to build error messages etc.
					The following example implements the same error condition as shown above, but using
					a CONSTRUCT query.  An example of SELECT-based constraints can be found
					<a href="#global-constraints">below</a>.
				</p>
<div class="example wrapper">
          <pre class="sparqlExt builtin">
ex:IssueShape a sh:Shape ;
  sh:property [
    sh:predicate ex:reportedOn ;
    sh:valueType xsd:dateTime ;
    sh:minCount 1 ; sh:maxCount 1
  ] ;
  sh:property [
    sh:predicate ex:assignedOn ;
    sh:valueType xsd:dateTime ;
    sh:minCount 1
  ] .
  sh:constraint [
    sh:sparql """
			CONSTRUCT {
				_:cv a sh:Error ;
					sh:root ?this ;
					sh:message "issues can't be assigned before they're reporeted" ;
					sh:path ex:reportedOn ;
					sh:path ex:assignedOn 
			}
			WHERE {
        ?this ex:reportedOn ?submDt .
        ?this ex:assignedOn ?assnDt .
        FILTER (?submDt != ?assnDt) .
      }
      """
  ] .</pre>
          <pre class="sparqlExt extension">
ex:IssueShape a sh:Shape ;
  sh:property [
    sh:predicate ex:reportedOn ;
    sh:valueType xsd:dateTime ;
    sh:minCount 1 ; sh:maxCount 1
  ] ;
  sh:property [
    sh:predicate ex:assignedOn ;
    sh:valueType xsd:dateTime ;
    sh:minCount 1
  ] .
  sh:constraint [
    sh:extension [
      sh:langauge &lt;http://www.w3.org/Submission/spin-overview/&gt; ;
      sh:action """
			CONSTRUCT {
				_:cv a sh:Error ;
					sh:root ?this ;
					sh:message "issues can't be assigned before they're reporeted" ;
					sh:path ex:reportedOn ;
					sh:path ex:assignedOn 
			}
			WHERE {
        ?this ex:reportedOn ?submDt .
        ?this ex:assignedOn ?assnDt .
        FILTER (?submDt != ?assnDt) .
      }
      """ ]
  ] .</pre>
</div>
			</section>
			<section id="global-constraints">
				<h3>Global Constraints</h3>
				<p>
					In some cases, it is necessary to define constraints that are not scoped to a shape
					but rather apply globally.
					These can be expressed by instantiating <code>sh:GlobalConstraint</code>,
					as shown in the following example.
				</p>
<div class="example wrapper">
        <pre class="sparqlExt builtin">
ex:MyConstraint
  a sh:GlobalConstraint ;
  sh:message "Deprecated properties should not be used anywhere." ;
  sh:level sh:Warning ;
  sh:sparql """
      SELECT ?root ?predicate ?value
      WHERE {
        ?root ?predicate ?value .
        ?predicate owl:deprecated ?any .
      }
    """
.</pre>
        <pre class="sparqlExt extension">
ex:MyConstraint
  a sh:GlobalConstraint ;
  sh:message "Deprecated properties should not be used anywhere." ;
  sh:level sh:Warning ;
  sh:extension [
      sh:langauge &lt;http://www.w3.org/Submission/spin-overview/&gt; ;
      sh:action """
      SELECT ?root ?predicate ?value
      WHERE {
        ?root ?predicate ?value .
        ?predicate owl:deprecated ?any .
      }
    """ ]
.</pre>
</div>
				<p>
					By default, these constraints are assumed to have a SPARQL query, but
					it is also possible to instantiate templates.
					Global constraints should be named with a URI (in this example: <code>ex:MyConstraint</code>)
					so that they are easier to reference and manage.
				</p>
			</section>
    	</section>
<!--    	
    	<section id="templates">
    		<h2>Templates</h2>
    		<p>
    			SHACL Templates are "boxed" queries that can be used as values of
    			<code>sh:constraint</code> and <code>sh:property</code>
    			(as well as <code>sh:rule</code> if that gets included into the standard).
    			The role of a template is to encapsulate a reusable piece of SPARQL logic
    			so that users do not need to reinvent the wheel.
    			Templates hide the complexity of the underlying SPARQL query and are therefore
    			suitable for people who are not familiar with SPARQL.
    			The following example declares a SHACL template that can be used for
    			constraints to express that the values of a given property shall be
    			greater than 0. 
    		</p>
    		<pre class="example">
ex:PositivePropertyValueConstraint
	a sh:ConstraintTemplate ;
	rdfs:subClassOf sh:TemplateConstraint ;
	rdfs:label "Positive property value constraint" ;
	sh:labelTemplate "Values of property {?property} must be &gt; 0" ;
	rdfs:comment """
		A template that can be used to define a SHACL constraint on a given property
		(ex:property) to make sure that the values of that property are &gt; 0.
		""" ;
	sh:argument [
		sh:predicate ex:property ;
		sh:valueType rdf:Property ;
		rdfs:comment "The property to constrain (e.g. ex:width or ex:height)." ;
	] ;
	sh:sparql """
		SELECT (?property AS ?path) ?message
		WHERE {
			?this ?property ?value .
			FILTER (?value &lt;= 0) .
			BIND (CONCAT("Property ", sh:label(?property), 
				" must only have positive values, but found ",
				xsd:string(?value)) AS ?message) .
		}
		""" ;
.</pre>
  			<p>
  				In the example above, the template takes an argument, as specified by the
  				<code>sh:argument</code>.  This argument is represented by a value of
  				the property <code>ex:property</code> which is mapped to the variable
  				<code>?property</code> when the query executes.
  				Here is an example that instantiates, or "calls", the template to
  				define constraints on the properties ex:width and ex:height for all instances
  				of the class ex:Rectangle.
  			</p>
  			<pre class="example">
ex:Rectangle
	...
	sh:constraint [
		a ex:PositivePropertyValueConstraint ;
		ex:property ex:height ;
	] ;
	sh:constraint [
		a ex:PositivePropertyValueConstraint ;
		ex:property ex:width ;
	] .</pre>
    		<p>
    			When a SHACL engine encounters such a constraint definition, it will
    			execute the <code>sh:sparql</code> body of the template and pre-bind the declared
    			argument variables with the values specified in the template call.
    			In the case of <code>ex:height</code>, the template's body basically becomes the following,
    			where every appearance of the variable <code>?property</code> has been replaced with
    			the constant ex:height.
    		</p>
    		<pre class="example">
SELECT (ex:height AS ?path) ?message
WHERE {
	?this ex:height ?value .
	FILTER (?value &lt;= 0) .
	BIND (CONCAT("Property ", sh:label(ex:height), 
		" must only have positive values, but found ", xsd:string(?value)) AS ?message) .
}</pre>
			<p>
				SHACL templates make it possible to create libraries of reusable constraints
				and rules (and other use cases), so that users do not need to learn SPARQL.
				The SHACL standard comes with several of such reusable constraints including
				<code>sh:PropertyConstraint</code> and <code>sh:Argument</code>
				which is used by SHACL itself to declare the arguments of templates.
			</p>
			<p>
				The example above highlights that SHACL templates can be used to create higher-level
				modeling languages that introduce constructs such as the
				<code>ex:PositivePropertyValueConstraint</code> above together
				with semantics that are executable by any SHACL-compliant engine.
				At the same time, high-level elements such as the property declarations can also be used by
				other engines that do not necessarily rely on SPARQL.
			</p>
			
			<section id="profiles">
				<h3>Profiles</h3>
				<p>
					Some applications may only support certain templates as a controlled
					vocabulary.  For example, a JavaScript client form engine may only
					support property definitions with value type and min/max cardinality.
					The class <code>sh:Profile</code> can represent such sets of templates,
					as illustrated in the following example.
					Here, an application could use the profile <code>ex:SimpleFormProfile</code>
					to display warnings if an incoming SHACL model uses features outside of
					its profile.  
				</p>
				<pre class="example">
ex:SimpleFormProfile
	a sh:Profile ;
	sh:member sh:AbstractCountPropertyConstraint ; # defines sh:min/maxCount
	sh:member sh:AbstractValueTypePropertyConstraint . # defines sh:valueType</pre>
			</section>
			
    	</section>
    	
    	<section id="functions">
    		<h2>Functions</h2>
    		<p>
    			SHACL Functions are similar to Templates in their syntax, but they are used to
    			declare new SPARQL functions based on an encapsulated, reusable query.
    			The following snippet defines a function <code>ex:computeArea</code> that takes
    			a Rectangle as its argument and returns an integer that is the result of
    			multiplying the Rectangle's width with its height.
    		</p>
    		<pre class="example">
ex:computeArea
	a sh:Function ;
	rdfs:subClassOf sh:Functions ;
	rdfs:label "compute area" ;
	rdfs:comment "Computes the area of a given rectangle (?arg1) as the product of its width and height." ;
	sh:argument [
		sh:predicate sh:arg1 ;
		sh:valueType ex:Rectangle ;
		rdfs:comment "The rectangle whose area to compute." ;
	] ;
	sh:sparql """
		SELECT ((?width * ?height) AS ?result)
		WHERE {
			?arg1 ex:width ?width .
			?arg1 ex:height ?height .
		}
		""" ;
	sh:returnType xsd:integer ;
.</pre>
  			<p>
  				In SHACL-compliant SPARQL processors, this new function can be used such as
  				in the following example:
  			</p>
  			<pre class="example">
SELECT *
WHERE {
    ?rectangle a ex:Rectangle .
    FILTER (ex:computeArea(?rectangle) &gt;= 100) .
}</pre>
  			<p>
  				SHACL functions have a SELECT query as their body, and this query needs to have one
  				result variable (here: <code>?result</code>).  The first binding of this variable will be used
  				as result of the function execution.  The execution mechanism is illustrated in the
  				following diagram.
  			</p>
      		<img style="margin-left: 23px" src="images/computeArea-function.png"></img>
    	</section>
    	
    	<section id="derived-properties">
    		<h2>Derived Properties</h2>
    		<p>
    			SHACL includes a special kind of property constraints for properties that
    			are computed (or derived or inferred) from other values.
    			A good example of this is the <code>ex:area</code> property for rectangles: 
    		</p>
    		<pre class="example">
ex:Rectangle
	...
	sh:property [
		<b>a sh:DerivedPropertyConstraint ;</b>
		sh:predicate ex:area ;
		sh:maxCount 1 ;
		<b>sh:sparql "ex:computeArea(?this)" ;</b>
		sh:valueType xsd:integer ;
		rdfs:label "area" ;
		rdfs:comment "The area of the Rectangle, defined as the product of width x height." ;
	] ;</pre>
			<p>
				The <code>sh:DerivedPropertyConstraint</code> above will flag a constraint
				violation if the value of <code>ex:area</code> is not equal to the result
				of the provided SPARQL expression.
			</p>
			<p>
				Some SHACL implementations may also chose to use constraints of this type in a constructive
				way, to automatically compute missing values (but this is not covered by the standard).
			</p>
    	</section>
    	
    	<section id="rules">
    		<h2>Rules</h2>
    		<p class="todo">
    			(Unclear whether the WG will include inferencing, so this feature is at risk)
    		</p>
    		<p>
    			SHACL makes it possible to attach executable rules to classes.
    			Rules are represented as SPARQL CONSTRUCT queries that apply to all instances
    			of the associated class and its subclasses.
    			In those rules, the variable <code>?this</code> refers to each instance of those classes.
    			A SHACL execution engine will make sure that ?this has the correct values.
    			The triples that are constructed by such a rule become "inferred" and are added
    			to the RDF graph, so that other rules can "see" the new triples.
    			In the following example, the value of ex:area gets computed by multiplying
    			the values of ex:width and ex:height.
    		</p>
    		<pre class="example">
ex:Rectangle
	sh:rule [
		sh:sparql """
			CONSTRUCT {
				?this ex:area ?area .                 # Infer ?area as a value of ex:area
			}
			WHERE {
				?this ex:width ?width .               # Get the width of ?this Rectangle
				?this ex:height ?height .             # Get the height of ?this Rectangle
				BIND ((?width * ?height) AS ?area) .  # Compute area := width * height
			}
		""" ;
	] .</pre>
    		<p>
    			The property <code>sh:rule</code> is used to link a class with a rule.
    			The values of this property must be either CONSTRUCT queries or template calls
    			that wrap a CONSTRUCT query.
    		</p>
    	</section>
    	
    	<section id="contexts">
    		<h2>Contexts</h2>
    		<p>
    			SHACL constraints can be grouped into contexts - URIs that have the type
				<code>sh:Context</code>.
				This makes it possible to indicate that certain constraints shall not
				apply by default, but only for certain applications or user communities.
				The property <code>sh:context</code> links an <code>sh:Constraint</code>
				with a context:
    		</p>
    		<pre class="example">
ex:Rectangle
	sh:property [
		sh:predicate dct:publisher ;
		sh:minCount 1 ;
		sh:context &lt;http://example.org/trackable&gt;
	] .</pre>
			<p>
				In the example above, the class <code>ex:Rectangle</code> has been extended
				with a minimum cardinality constraint on the property <code>dct:publisher</code>.
				This constraint is applicable in the provided <code>sh:context</code> only,
				which means that it does not apply by default.
				However, certain applications that process <code>ex:Rectangle</code> instances
				can trigger the constraint checking in a context that includes all default
				constraints plus the extra constraints from the <code>http://example.org/trackable</code>
				context.
			</p>
			<p>
				The operation that triggers the constraint checking can take included and excluded
				contexts as argument.  Contexts can be organized into hierarchies using
				<code>sh:subContextOf</code>, which means that whenever a super-context is requested
				then all constraints from its sub-contexts also apply.
				The built-in URI <code>sh:DefaultContext</code> can be used to specify the default
				context, and that is also the default value if <code>sh:context</code> is unspecified.
			</p>
    	</section>

    	<section id="graphs">
    		<h2>Graph Management</h2>
    		<p>
    			SHACL shapes are typically organized in RDF graphs (e.g. stored as files or
    			named graphs on a database).
    			These graphs usually have a URI that helps a system resolve the graph when
    			it is requested.
    			Each SHACL graph may declare an instance of <code>sh:Graph</code>
    			that has the graph URI as its URI and contains information about the graph itself,
    			including a human-readable label and comments. 
    		</p>
    		<p>
    			For constraint checking and rule execution, SHACL definitions often need to reference
    			other graphs that either contain additional classes, properties and instances,
    			or that may declare templates, rules and constraints that are needed at run-time.
    			SHACL graphs may reference each other via two dedicated properties:
    		</p>
    		<ul>
    			<li>
    				<code>sh:include</code> links a graph with other graphs that shall be included
    				into the query graph over which SHACL constraints and rules are executed.
    				This is a transitive property, i.e. includes of includes are also added.
    			</li>
    			<li>
    				<code>sh:library</code> links a graph with other (library) graphs that shall be
    				included into the control graph that includes template definitions.
    			</li>
    		</ul>
    		<p>
    			The separation between the graph closures via <code>sh:include</code> and
    			<code>sh:library</code> allows SHACL users and implementations to optimize performance
				because they can exclude certain (library) graphs from the union graph that is used
				by the SPARQL engine.
				Furthermore, editing and display tools may chose to hide library graphs as they often
				contain rather low-level information that is not of interest to average users. 
    		</p>
    	</section>
    	
    	<section id="test-cases">
    		<h2>Test Case Vocabulary</h2>
    		<p>
    			It is a well-established practice in software development to define test cases that
    			formalize the expected behavior of a piece of code.  In the same spirit, SHACL includes
    			a simple vocabulary to represent constraint checking scenarios together with expected
    			constraint violations.  These can be used by developers to ensure that the constraint
    			definitions are correct, and remain correct as the data evolves.
    		</p>
    		<p>
    			Due to space considerations, this Primer only covers a small example test case to
    			illustrate the syntax.  For details, see the yet-to-be-written formal specification.
    			The example below instructs the SHACL engine to verify that the given
    			resource <code>ex:Father</code> from the given <code>sh:graph</code>
    			shall be checked for constraints.  The test passes "green" if the outcome is exactly
    			one constraint violation that is structurally equivalent to the provided
    			<code>sh:violation</code>.
    		</p>
    		<pre class="example">
ex:TestCase
	a sh:ResourceConstraintCheckingTestCase ;
	sh:check ex:Father ;
	sh:graph &lt;http://www.w3.org/ns/shacl/test/constraint-inverse-001&gt; ;
	sh:ignore sh:message ;
	sh:violation [
		a sh:Error ;
		sh:root ex:Father ;
		sh:path [ sh:inverse ex:child ] ;
	] .</pre>
    	</section>
-->

    	<section id="other-languages">
    		<h2>Relationships with other Languages</h2>
    		<p>
    			The design of SHACL was influenced by a number of other languages.
    		</p>
    		
    		<section id="spin">
	    		<h3>SPIN</h3>
	    		<p>
	    			SHACL can be regarded as the next generation of the
	    			<a href="http://spinrdf.org">SPARQL Inferencing Notation (SPIN)</a>.
	    			SPIN had introduced the concept of attaching SPARQL-based constraints and rules to classes,
	    			of Templates, user-defined Functions and template libraries.
	    			Notable differences from SPIN include:
	    		</p>
	    		<ul>
	    			<li>
	    				<code>spin:constraint</code> was split into <code>sh:property</code>,
	    				<code>sh:argument</code> and <code>sh:constraint</code>,
	    				to clarify that some constraints are rather structural information, and as
	    				syntactic sugar. 
	    			</li>
	    			<li>
	    				<code>spl:Attribute</code> was promoted into a core feature, as
	    				<code>sh:PropertyConstraint</code>.
	    			</li>
	    			<li>
	    				SPARQL constraints can now also be SELECT queries.
	    			</li>
	    			<li>
	    				More elegant ASK and SELECT syntax, less need for geeky CONSTRUCT syntax.
	    			</li>
	    			<li>
	    				Explicit graph management, separating graphs that are needed for control
	    				purposes from those needed at query time (<code>sh:Graph</code>, <code>sh:library</code>,
	    				<code>sh:include</code>). 
	    			</li>
	    			<li>
	    				Cleaned up meta-model including a shared superclass for constraints and path expressions.
	    			</li>
	    			<li>
	    				Built-in TestCase framework.
	    			</li>
	    			<li>
	    				No SPIN RDF syntax - SHACL only supports the easier to type in SPARQL strings.
	    			</li>
	    			<li>
	    				<code>sp:text</code> has become <code>sh:sparql</code>, anticipating that other
	    				languages may follow in the future.
	    			</li>
	    		</ul>
    		</section>

			<section id="resource-shapes">
	    		<h3>Resource Shapes</h3>
	    		<p>
					<a href="http://www.w3.org/Submission/2014/SUBM-shapes-20140211/">Resource Shapes 2.0</a>
					looks very similar to the structural constraints defined using sh:property.
					Here is a rough mapping between the vocabularies:
	    		</p>
	    		<table style="border-collapse: collapse; border-color: #000000" border="1" cellpadding="5">
	    			<tr>
	    				<th>Resource Shapes</th>
	    				<th>SHACL</th>
	    			</tr>
	    			<tr>
	    				<td><code>oslc:property</code></td>
	    				<td><code>sh:property</code></td>
	    			</tr>
	    			<tr>
	    				<td><code>oslc:Property</code></td>
	    				<td><code>sh:PropertyConstraint</code> (implicit)</td>
	    			</tr>
	    			<tr>
	    				<td><code>oslc:propertyDefinition</code></td>
	    				<td><code>sh:predicate</code></td>
	    			</tr>
	    			<tr>
	    				<td><code>oslc:defaultValue</code></td>
	    				<td><code>sh:defaultValue</code></td>
	    			</tr>
	    			<tr>
	    				<td><code>oslc:occurs</code></td>
	    				<td><code>sh:minCount</code>, <code>sh:maxCount</code></td>
	    			</tr>
	    			<tr>
	    				<td><code>oslc:range</code>, <code>oslc:valueType</code></td>
	    				<td><code>sh:valueType</code></td>
	    			</tr>
	    			<tr>
	    				<td><code>oslc:valueShape</code></td>
	    				<td><code>sh:all</code>, <code>sh:some</code></td>
	    			</tr>
	    			<tr>
	    				<td><code>oslc:allowedValues</code></td>
	    				<td><code>sh:allowedValues</code></td>
	    			</tr>
	    			<tr>
	    				<td><code>dcterms:title</code></td>
	    				<td><code>rdfs:label</code></td>
	    			</tr>
	    			<tr>
	    				<td><code>dcterms:description</code></td>
	    				<td><code>rdfs:comment</code></td>
	    			</tr>
	    		</table>
	    	</section>

			<section id="shex">
	    		<h3>ShEx</h3>
	    		<p>
	    			<a href="http://www.w3.org/Submission/shex-primer/">ShEx</a> borrows and expands
	    			on many ideas of Resource Shapes, focusing on nested shape declarations.
	    			A unique feature of ShEx is the <a href="http://www.w3.org/2001/sw/wiki/ShEx">ShExC</a>
	    			compact syntax.
	    			A large subset of this syntax could be mapped onto SHACL templates such as
	    			<code>sh:ShapeConstraint</code>.
	    		</p>
			</section>    		
<!--
			<section id="rdf-schema">
	    		<h3>RDF Schema</h3>
	    		<p>
	    			SHACL directly reuses some of the main concepts of
	    			RDF Schema [[rdf-schema]] models: <code>rdfs:Resource</code>, <code>rdfs:Class</code>,
	    			<code>rdfs:subClassOf</code>, <code>rdf:type</code>, <code>rdf:Property</code> and
	    			<code>rdfs:Literal</code> (and the built-in datatypes).
	    			SHACL relies on class inheritance via <code>rdfs:subClassOf</code> to figure out which
	    			constraints	to fire, and which properties to inherit, and on <code>rdf:type</code> to link
	    			instances with their class definitions.
	    			RDF's concept of Linked Data applies to SHACL too, e.g. SHACL engines could look up the
	    			definitions of templates and functions by resolving	their URIs.
	    		</p>
	    		<p>
	    			SHACL does not give any special meaning to all other RDF Schema terms including
	    			<code>rdfs:subPropertyOf</code>, <code>rdfs:range</code> and <code>rdfs:domain</code>,
	    			which means that these are ignored by the standard SHACL semantics.
	    			However, it would be possible to define SHACL constraints that interpret 
	    			selected RDFS vocabulary with closed-world semantics, if that is desirable within
	    			certain contexts.
	    		</p>
	    		<p>
	    			In SHACL it is theoretically not necessary to define rdf:Properties as stand-alone
	    			entities - their declaration is optional because all relevant information about
	    			the property can be regarded as local to the associated classes only.
	    		</p>
	    		<p>
	    			Overall, it is perfectly fine to mix existing RDF Schemas with SHACL declarations,
	    			either in the same graph or in multiple graphs that reference each other.
	    			This way, hybrid models can be created that are interpreted with the traditional
	    			open-world semantics of RDF Schema in some scenarios, or the closed-world semantics
	    			of SHACL in other use cases.
	    			The bulk of instance data can be reused between both worlds.
	    		</p>
			</section>    		
-->
			<section id="rdfsowl">
	    		<h3>RDFS and OWL</h3>
          <p>
            RDFS and <a href="http://www.w3.org/2001/sw/wiki/OWL">Web Ontology Language (OWL)</a> associate RDF predicates with classes, which may stand for anything, including real-world entities or records.
            Nodes in RDF graphs may be associated with zero or more classes, but will generally use properties which are or could be defined in an ontology.
            SHACL defines patterns of RDF arcs, which may include predicates from one or more ontologies.
          </p>
<!--
	    		<p>
	    			The <a href="http://www.w3.org/2001/sw/wiki/OWL">Web Ontology Language (OWL)</a>
	    			extends RDF Schema and its original open-world design with a focus on classification
	    			problems.  The attachment of restrictions to classes is very similar to SHACL.
	    			Designing complex class definitions by combining restrictions and other class
	    			constructors resembles the concept of nested shapes in ShEx
	    			(and sh:all and sh:some).
	    		</p>
	    		<p>
	    			Like with RDF Schema, it is possible to build OWL ontologies that also include SHACL
	    			constructs as an additional feature.  This also means that the basic structure of
	    			most OWL ontologies and their instances can be reused from a SHACL perspective.
	    			There are also several implementations of a subset of OWL with closed-world semantics
	    			in SPIN, which can be converted to SHACL.
	    			SHACL's foundation on SPARQL means that OWL models can be enriched with frequently
	    			needed features such as string and mathematical operations, and complex conditions
	    			that require variables. 
	    		</p>
-->
	    		<p>
	    			Here is a rough comparison between SHACL elements and their OWL equivalents,
	    			assuming a closed-world interpretation of OWL.
	    		</p>
	    		<table style="border-collapse: collapse; border-color: #000000" border="1" cellpadding="5">
	    			<tr>
	    				<th>OWL</th>
	    				<th>SHACL</th>
	    			</tr>
	    			<tr>
	    				<td><code>rdfs:subClassOf</code> an <code>owl:Restriction</code></td>
	    				<td><code>sh:property</code></td>
	    			</tr>
	    			<tr>
	    				<td><code>owl:onProperty</code></td>
	    				<td><code>sh:predicate</code></td>
	    			</tr>
	    			<tr>
	    				<td><code>owl:minCardinality</code></td>
	    				<td><code>sh:minCount</code></td>
	    			</tr>
	    			<tr>
	    				<td><code>owl:maxCardinality</code></td>
	    				<td><code>sh:maxCount</code></td>
	    			</tr>
	    			<tr>
	    				<td><code>owl:allValuesFrom</code></td>
	    				<td><code>sh:all</code> or <code>sh:valueType</code></td>
	    			</tr>
	    			<tr>
	    				<td><code>owl:someValuesFrom</code></td>
	    				<td><code>sh:some</code></td>
	    			</tr>
	    			<tr>
	    				<td><code>owl:oneOf</code></td>
	    				<td><code>sh:allowedValues</code></td>
	    			</tr>
	    			<tr>
	    				<td><code>owl:hasKey</code> (without URI rule)</td>
	    				<td><code>sh:PrimaryKeyPropertyConstraint</code></td>
	    			</tr>
	    		</table>
			</section>    		

			<section id="rdfunit">
	    		<h3>RDFUnit</h3>
	    		<p>
	    			The discussions in the Shapes WG led to refinements of the constraint violation
	    			syntax that also exist in <a href="http://aksw.org/Projects/RDFUnit.html">RDFUnit</a>.
	    			Also, RDFUnit has a notion of TestCases which inspired the design of the
	    			<code>sh:TestCase</code> class. Furthermore, the concept of <code>sh:Context</code>
	    			borrows ideas from the RDFUnit properties appliesTo and source. 
	    		</p>
			</section>    		
    		
    	</section>

      <p class="note">[for editors] current beauty contest switches:<br/>
      (<code>j</code>)son-ld vs. (<code>t</code>)urtle<br/>
      SPARQL as SHACL (<code>b</code>)uilt-in vs. (<code>e</code>)xtension<br/>
      Value enumerations as RDF (<code>c</code>)ollection or (<code>o</code>)bject list.
      </p>

        <script type="application/javascript">
	var bodyKeypressCallbacks = {};

	/* a form like
        <form id="langOptions" action="">View as: <input type="radio" name="presLang" value="turtle" checked="checked">Turtle (press 't')</input> <input type="radio" name="presLang" value="json-ld">JSON-LD (press 'j')</input> .</form>
	controls display of sections like 
	<pre class="schema turtle">...</pre>
	<pre class="schema json-ld">...</pre>
	 */
	[
	  { lookIn: ".schema", form: "#langOptions", radioName: "presLang", keys:
	    { 74: "json-ld", 106: "json-ld", 84: "turtle", 116: "turtle" }
	  },
	  { lookIn: ".enumChoice", form: "#enumOptions", radioName: "enumForm", keys:
	    { 67: "collection", 99: "collection", 79: "objectlist", 111: "objectlist" }
	  },
	  { lookIn: ".sparqlExt", form: "#sparqlOptions", radioName: "sparqlRepresentation", keys:
	    { 66: "builtin", 98: "builtin", 69: "extension", 101: "extension" }
	  }
	].forEach(function (x) {

	  /* In lookIn, reveal classes selected by radioName; hide others.
	   */
	  function revealClass (lookIn, form, radioName) {
            $(lookIn+"."+$(form+" input[name="+radioName+"]").not(":checked").val()).hide();
            $(lookIn+"."+$(form+" input[name="+radioName+"]" +    ":checked").val()).show();
          }
	  /* Look in all lookIn containers for the height different of from and to targets.
	   */
          function adjustHeight (lookIn, from, to) {
            var visibleTop = $(window).scrollTop();
            var all = $(lookIn+"."+from); // all containers of from (and presumably, to)
            var adj = 0;
            for (var i = 0; i < all.length; ++i) {
              var elt = all.slice(i, i+1);
              if (elt.offset().top >= visibleTop) // stop when we pass the current scroll top.
		break;
              adj += elt.siblings("."+to).height() - elt.height();
            }
            $(window).scrollTop($(window).scrollTop() + adj); // move the scroll top.
          }

          var inputs = $(x.form + " input[name="+x.radioName+"]");
	  // Listen for checkbox changes.
          inputs.change(function() {revealClass(x.lookIn, x.form, x.radioName);})
	  // Show only the currently selected class.
          revealClass(x.lookIn, x.form, x.radioName);
	  // Assign callbacks the the associated keycodes.
	  Object.keys(x.keys).forEach(function (k) {
	    bodyKeypressCallbacks[k] = function () {
	      // If the corresponding radio button isn't already selected,
              if(!inputs.filter("[value="+x.keys[k]+"]").is(":checked")) {
		// adjust the height from the current class to the new class;
		adjustHeight(x.lookIn, $("input[name="+x.radioName+"]:checked", x.form).val(), ""+x.keys[k]+"");
		// set it as "checked";
		inputs.filter("[value="+x.keys[k]+"]").prop("checked", true); // .change() did nothing
		// swap which is displayed.
		revealClass(x.lookIn, x.form, x.radioName);
              }
	      return false;
	    };
	  });
	});
        $("html > body").keypress(function (evt) {
          if (evt.ctrlKey)
            return true; // don't interfere with browser control keys.
	  if (evt.which in bodyKeypressCallbacks)
	    return bodyKeypressCallbacks[evt.which]();
	  return true;
        });
        </script>
  	</body>
</html>

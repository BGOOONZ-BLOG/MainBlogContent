<p>{{DefaultAPISidebar(“DOM”)}}</p>
<p>The <strong><code>ElementInternals</code></strong> interface of the {{domxref(‘Document_Object_Model’,’‘,’‘,’ ’)}} gives web developers a way to allow custom elements to fully participate in HTML forms. It provides utilities for working with these elements in the same way you would work with any standard HTML form element, and also exposes the <a href="https://wicg.github.io/aom/explainer.html">Accessibility Object Model</a> to the element.</p>
<h2 id="constructor">Constructor</h2>
<p>This interface has no constructor. An <code>ElementInternals</code> object is returned when calling {{domxref(“HTMLElement.attachInternals()”)}}.</p>
<h2 id="properties">Properties</h2>
<ul>
<li>{{domxref(“ElementInternals.shadowRoot”)}}{{ReadOnlyInline}}
<ul>
<li>: Returns the {{domxref(“ShadowRoot”)}} object associated with this element.</li>
</ul></li>
<li>{{domxref(“ElementInternals.form”)}}{{ReadOnlyInline}}
<ul>
<li>: Returns the {{domxref(“HTMLFormElement”)}} associated with this element.</li>
</ul></li>
<li>{{domxref(“ElementInternals.states”)}}{{ReadOnlyInline}}
<ul>
<li>: Returns the {{domxref(“CustomStateSet”)}} associated with this element.</li>
</ul></li>
<li>{{domxref(“ElementInternals.willValidate”)}}{{ReadOnlyInline}}
<ul>
<li>: A boolean value which returns true if the element is a submittable element that is a candidate for <a href="/en-US/docs/Web/Guide/HTML/Constraint_validation">constraint validation</a>.</li>
</ul></li>
<li>{{domxref(“ElementInternals.validity”)}}{{ReadOnlyInline}}
<ul>
<li>: Returns a {{domxref(“ValidityState”)}} object which represents the different validity states the element can be in, with respect to constraint validation.</li>
</ul></li>
<li>{{domxref(“ElementInternals.validationMessage”)}}{{ReadOnlyInline}}
<ul>
<li>: A {{domxref(“DOMString”,“string”)}} containing the validation message of this element.</li>
</ul></li>
<li>{{domxref(“ElementInternals.labels”)}}{{ReadOnlyInline}}
<ul>
<li>: Returns a {{domxref(“NodeList”)}} of all of the label elements associated with this element.</li>
</ul></li>
</ul>
<h3 id="properties-included-from-aria">Properties included from ARIA</h3>
<p>The <code>ElementInternals</code> interface includes the following properties, defined on the <code>ARIAMixin</code> mixin.</p>
<blockquote>
<p><strong>Note:</strong> These are included in order that default accessibility semantics can be defined on a custom element. These may be overwritten by author-defined attributes, but ensure that default semantics are retained should the author delete those attributes, or fail to add them at all. For more information see the <a href="https://wicg.github.io/aom/explainer.html#default-semantics-for-custom-elements-via-the-elementinternals-object">Accessibility Object Model explainer</a>.</p>
</blockquote>
<ul>
<li>{{domxref(“ElementInternals.ariaAtomic”)}}
<ul>
<li>: Is a {{domxref(“DOMString”)}} reflecting the <a href="/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-atomic"><code>aria-atomic</code></a> attribute, which indicates whether assistive technologies will present all, or only parts of, the changed region based on the change notifications defined by the <a href="/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-relevant"><code>aria-relevant</code></a> attribute.</li>
</ul></li>
<li>{{domxref(“ElementInternals.ariaAutoComplete”)}}
<ul>
<li>: Is a {{domxref(“DOMString”)}} reflecting the <a href="/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-autocomplete"><code>aria-autocomplete</code></a> attribute, which indicates whether inputting text could trigger display of one or more predictions of the user’s intended value for a combobox, searchbox, or textbox and specifies how predictions would be presented if they were made.</li>
</ul></li>
<li>{{domxref(“ElementInternals.ariaBusy”)}}
<ul>
<li>: Is a {{domxref(“DOMString”)}} reflecting the <a href="/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-busy"><code>aria-busy</code></a> attribute, which indicates whether an element is being modified, as assistive technologies may want to wait until the modifications are complete before exposing them to the user.</li>
</ul></li>
<li>{{domxref(“ElementInternals.ariaChecked”)}}
<ul>
<li>: Is a {{domxref(“DOMString”)}} reflecting the <a href="/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-checked"><code>aria-checked</code></a> attribute, which indicates the current “checked” state of checkboxes, radio buttons, and other widgets that have a checked state.</li>
</ul></li>
<li>{{domxref(“ElementInternals.ariaColCount”)}}
<ul>
<li>: Is a {{domxref(“DOMString”)}} reflecting the <a href="/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-colcount"><code>aria-colcount</code></a> attribute, which defines the number of columns in a table, grid, or treegrid.</li>
</ul></li>
<li>{{domxref(“ElementInternals.ariaColIndex”)}}
<ul>
<li>: Is a {{domxref(“DOMString”)}} reflecting the <a href="/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-colindex"><code>aria-colindex</code></a> attribute, which defines an element’s column index or position with respect to the total number of columns within a table, grid, or treegrid.</li>
</ul></li>
<li>{{domxref(“ElementInternals.ariaColIndexText”)}}
<ul>
<li>: Is a {{domxref(“DOMString”)}} reflecting the <a href="/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-colindextext"><code>aria-colindextext</code></a> attribute, which defines a human readable text alternative of aria-colindex.</li>
</ul></li>
<li>{{domxref(“ElementInternals.ariaColSpan”)}}
<ul>
<li>: Is a {{domxref(“DOMString”)}} reflecting the <a href="/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-colspan"><code>aria-colspan</code></a> attribute, which defines the number of columns spanned by a cell or gridcell within a table, grid, or treegrid.</li>
</ul></li>
<li>{{domxref(“ElementInternals.ariaCurrent”)}}
<ul>
<li>: Is a {{domxref(“DOMString”)}} reflecting the <a href="/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-current"><code>aria-current</code></a> attribute, which indicates the element that represents the current item within a container or set of related elements.</li>
</ul></li>
<li>{{domxref(“ElementInternals.ariaDescription”)}}
<ul>
<li>: Is a {{domxref(“DOMString”)}} reflecting the <a href="/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-description"><code>aria-description</code></a> attribute, which defines a string value that describes or annotates the current ElementInternals.</li>
</ul></li>
<li>{{domxref(“ElementInternals.ariaDisabled”)}}
<ul>
<li>: Is a {{domxref(“DOMString”)}} reflecting the <a href="/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-disabled"><code>aria-disabled</code></a> attribute, which indicates that the element is perceivable but disabled, so it is not editable or otherwise operable.</li>
</ul></li>
<li>{{domxref(“ElementInternals.ariaExpanded”)}}
<ul>
<li>: Is a {{domxref(“DOMString”)}} reflecting the <a href="/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-expanded"><code>aria-expanded</code></a> attribute, which indicates whether a grouping element owned or controlled by this element is expanded or collapsed.</li>
</ul></li>
<li>{{domxref(“ElementInternals.ariaHasPopup”)}}
<ul>
<li>: Is a {{domxref(“DOMString”)}} reflecting the <a href="/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-haspopup"><code>aria-haspopup</code></a> attribute, which indicates the availability and type of interactive popup element, such as menu or dialog, that can be triggered by an ElementInternals.</li>
</ul></li>
<li>{{domxref(“ElementInternals.ariaHidden”)}}
<ul>
<li>: Is a {{domxref(“DOMString”)}} reflecting the <a href="/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-hidden"><code>aria-hidden</code></a> attribute, which indicates whether the element is exposed to an accessibility API.</li>
</ul></li>
<li>{{domxref(“ElementInternals.ariaKeyShortcuts”)}}
<ul>
<li>: Is a {{domxref(“DOMString”)}} reflecting the <a href="/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-keyshortcuts"><code>aria-keyshortcuts</code></a> attribute, which indicates keyboard shortcuts that an author has implemented to activate or give focus to an ElementInternals.</li>
</ul></li>
<li>{{domxref(“ElementInternals.ariaLabel”)}}
<ul>
<li>: Is a {{domxref(“DOMString”)}} reflecting the <a href="/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-label"><code>aria-label</code></a> attribute, which defines a string value that labels the current ElementInternals.</li>
</ul></li>
<li>{{domxref(“ElementInternals.ariaLevel”)}}
<ul>
<li>: Is a {{domxref(“DOMString”)}} reflecting the <a href="/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-level"><code>aria-level</code></a> attribute, which defines the hierarchical level of an element within a structure.</li>
</ul></li>
<li>{{domxref(“ElementInternals.ariaLive”)}}
<ul>
<li>: Is a {{domxref(“DOMString”)}} reflecting the <a href="/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-live"><code>aria-live</code></a> attribute, which indicates that an element will be updated, and describes the types of updates the user agents, assistive technologies, and user can expect from the live region.</li>
</ul></li>
<li>{{domxref(“ElementInternals.ariaModal”)}}
<ul>
<li>: Is a {{domxref(“DOMString”)}} reflecting the <a href="/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-modal"><code>aria-modal</code></a> attribute, which indicates whether an element is modal when displayed.</li>
</ul></li>
<li>{{domxref(“ElementInternals.ariaMultiline”)}}
<ul>
<li>: Is a {{domxref(“DOMString”)}} reflecting the <a href="/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-multiline"><code>aria-multiline</code></a> attribute, which indicates whether a text box accepts multiple lines of input or only a single line.</li>
</ul></li>
<li>{{domxref(“ElementInternals.ariaMultiSelectable”)}}
<ul>
<li>: Is a {{domxref(“DOMString”)}} reflecting the <a href="/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-multiselectable"><code>aria-multiselectable</code></a> attribute, which indicates that the user may select more than one item from the current selectable descendants.</li>
</ul></li>
<li>{{domxref(“ElementInternals.ariaOrientation”)}}
<ul>
<li>: Is a {{domxref(“DOMString”)}} reflecting the <a href="/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-orientation"><code>aria-orientation</code></a> attribute, which indicates whether the element’s orientation is horizontal, vertical, or unknown/ambiguous.</li>
</ul></li>
<li>{{domxref(“ElementInternals.ariaPlaceholder”)}}
<ul>
<li>: Is a {{domxref(“DOMString”)}} reflecting the <a href="/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-placeholder"><code>aria-placeholder</code></a> attribute, which defines a short hint intended to aid the user with data entry when the control has no value.</li>
</ul></li>
<li>{{domxref(“ElementInternals.ariaPosInSet”)}}
<ul>
<li>: Is a {{domxref(“DOMString”)}} reflecting the <a href="/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-posinset"><code>aria-posinset</code></a> attribute, which defines an element’s number or position in the current set of listitems or treeitems.</li>
</ul></li>
<li>{{domxref(“ElementInternals.ariaPressed”)}}
<ul>
<li>: Is a {{domxref(“DOMString”)}} reflecting the <a href="/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-pressed"><code>aria-pressed</code></a> attribute, which indicates the current “pressed” state of toggle buttons.</li>
</ul></li>
<li>{{domxref(“ElementInternals.ariaReadOnly”)}}
<ul>
<li>: Is a {{domxref(“DOMString”)}} reflecting the <a href="/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-readonly"><code>aria-readonly</code></a> attribute, which indicates that the element is not editable, but is otherwise operable.</li>
</ul></li>
<li>{{domxref(“ElementInternals.ariaRelevant”)}}
<ul>
<li>: Is a {{domxref(“DOMString”)}} reflecting the <a href="/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-relevant"><code>aria-relevant</code></a> attribute, which indicates what notifications the user agent will trigger when the accessibility tree within a live region is modified. This is used to describe what changes in an <code>aria-live</code> region are relevant and should be announced.</li>
</ul></li>
<li>{{domxref(“ElementInternals.ariaRequired”)}}
<ul>
<li>: Is a {{domxref(“DOMString”)}} reflecting the <a href="/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-required"><code>aria-required</code></a> attribute, which indicates that user input is required on the element before a form may be submitted.</li>
</ul></li>
<li>{{domxref(“ElementInternals.ariaRoleDescription”)}}
<ul>
<li>: Is a {{domxref(“DOMString”)}} reflecting the <a href="/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-roledescription"><code>aria-roledescription</code></a> attribute, which defines a human-readable, author-localized description for the role of an Element.</li>
</ul></li>
<li>{{domxref(“ElementInternals.ariaRowCount”)}}
<ul>
<li>: Is a {{domxref(“DOMString”)}} reflecting the <a href="/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-rowcount"><code>aria-rowcount</code></a> attribute, which defines the total number of rows in a table, grid, or treegrid.</li>
</ul></li>
<li>{{domxref(“ElementInternals.ariaRowIndex”)}}
<ul>
<li>: Is a {{domxref(“DOMString”)}} reflecting the <a href="/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-rowindex"><code>aria-rowindex</code></a> attribute, which defines an element’s row index or position with respect to the total number of rows within a table, grid, or treegrid.</li>
</ul></li>
<li>{{domxref(“ElementInternals.ariaRowIndexText”)}}
<ul>
<li>: Is a {{domxref(“DOMString”)}} reflecting the <a href="/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-rowindextext"><code>aria-rowindextext</code></a> attribute, which defines a human readable text alternative of aria-rowindex.</li>
</ul></li>
<li>{{domxref(“ElementInternals.ariaRowSpan”)}}
<ul>
<li>: Is a {{domxref(“DOMString”)}} reflecting the <a href="/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-rowspan"><code>aria-rowspan</code></a> attribute, which defines the number of rows spanned by a cell or gridcell within a table, grid, or treegrid.</li>
</ul></li>
<li>{{domxref(“ElementInternals.ariaSelected”)}}
<ul>
<li>: Is a {{domxref(“DOMString”)}} reflecting the <a href="/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-selected"><code>aria-selected</code></a> attribute, which indicates the current “selected” state of elements that have a selected state.</li>
</ul></li>
<li>{{domxref(“ElementInternals.ariaSetSize”)}}
<ul>
<li>: Is a {{domxref(“DOMString”)}} reflecting the <a href="/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-setsize"><code>aria-setsize</code></a> attribute, which defines the number of items in the current set of listitems or treeitems.</li>
</ul></li>
<li>{{domxref(“ElementInternals.ariaSort”)}}
<ul>
<li>: Is a {{domxref(“DOMString”)}} reflecting the <a href="/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-sort"><code>aria-sort</code></a> attribute, which indicates if items in a table or grid are sorted in ascending or descending order.</li>
</ul></li>
<li>{{domxref(“ElementInternals.ariaValueMax”)}}
<ul>
<li>: Is a {{domxref(“DOMString”)}} reflecting the <a href="/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-valueMax"><code>aria-valueMax</code></a> attribute, which defines the maximum allowed value for a range widget.</li>
</ul></li>
<li>{{domxref(“ElementInternals.ariaValueMin”)}}
<ul>
<li>: Is a {{domxref(“DOMString”)}} reflecting the <a href="/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-valueMin"><code>aria-valueMin</code></a> attribute, which defines the minimum allowed value for a range widget.</li>
</ul></li>
<li>{{domxref(“ElementInternals.ariaValueNow”)}}
<ul>
<li>: Is a {{domxref(“DOMString”)}} reflecting the <a href="/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-valueNow"><code>aria-valueNow</code></a> attribute, which defines the current value for a range widget.</li>
</ul></li>
<li>{{domxref(“ElementInternals.ariaValueText”)}}
<ul>
<li>: Is a {{domxref(“DOMString”)}} reflecting the <a href="/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-valuetext"><code>aria-valuetext</code></a> attribute, which defines the human readable text alternative of aria-valuenow for a range widget.</li>
</ul></li>
</ul>
<h2 id="methods">Methods</h2>
<ul>
<li>{{domxref(“ElementInternals.setFormValue()”)}}
<ul>
<li>: Sets the element’s submission value and state, communicating these to the user agent.</li>
</ul></li>
<li>{{domxref(“ElementInternals.setValidity()”)}}
<ul>
<li>: Sets the validity of the element.</li>
</ul></li>
<li>{{domxref(“ElementInternals.checkValidity()”)}}
<ul>
<li>: Checks if an element meets any <a href="/en-US/docs/Web/Guide/HTML/Constraint_validation">constraint validation</a> rules applied to it.</li>
</ul></li>
<li>{{domxref(“ElementInternals.reportValidity()”)}}
<ul>
<li>: Checks if an element meets any <a href="/en-US/docs/Web/Guide/HTML/Constraint_validation">constraint validation</a> rules applied to it, and also sends a validation message to the user agent.</li>
</ul></li>
</ul>
<h2 id="examples">Examples</h2>
<p>The following example demonstrates how to create a custom form-associated element with {{domxref(“HTMLElement.attachInternals”)}}.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">class</span> CustomCheckbox <span class="kw">extends</span> HTMLElement <span class="op">{</span></a>
<a class="sourceLine" id="cb1-2" title="2">  <span class="kw">static</span> formAssociated <span class="op">=</span> <span class="kw">true</span><span class="op">;</span></a>
<a class="sourceLine" id="cb1-3" title="3"></a>
<a class="sourceLine" id="cb1-4" title="4">  <span class="at">constructor</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb1-5" title="5">    <span class="kw">super</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb1-6" title="6">    <span class="kw">this</span>.<span class="at">internals_</span> <span class="op">=</span> <span class="kw">this</span>.<span class="at">attachInternals</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb1-7" title="7">  <span class="op">}</span></a>
<a class="sourceLine" id="cb1-8" title="8"></a>
<a class="sourceLine" id="cb1-9" title="9">  <span class="co">/* ... */</span></a>
<a class="sourceLine" id="cb1-10" title="10"></a>
<a class="sourceLine" id="cb1-11" title="11">  <span class="va">window</span>.<span class="va">customElements</span>.<span class="at">define</span>(<span class="st">&quot;custom-checkbox&quot;</span><span class="op">,</span> CustomCheckbox)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-12" title="12"><span class="op">}</span>)()<span class="op">;</span></a>
<a class="sourceLine" id="cb1-13" title="13"></a>
<a class="sourceLine" id="cb1-14" title="14"><span class="kw">let</span> element <span class="op">=</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;custom-checkbox&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-15" title="15"><span class="va">console</span>.<span class="at">log</span>(<span class="va">element</span>.<span class="va">internals_</span>.<span class="at">form</span>)<span class="op">;</span></a></code></pre></div>
<h2 id="specifications">Specifications</h2>
<p>{{Specifications}}</p>
<h2 id="browser-compatibility">Browser compatibility</h2>
<p>{{Compat}}</p>
<h2 id="polyfills">Polyfills</h2>
<ul>
<li><a href="https://www.npmjs.com/package/element-internals-polyfill">ElementInternals polyfill</a></li>
</ul>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="https://web.dev/more-capable-form-controls/">More capable form controls</a></li>
<li><a href="https://css-tricks.com/creating-custom-form-controls-with-elementinternals/">Creating custom form controls with ElementInternals</a></li>
</ul>

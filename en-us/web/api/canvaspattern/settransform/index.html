<p>{{APIRef(“Canvas API”)}}</p>
<p>The <strong><code>CanvasPattern.setTransform()</code></strong> method uses an {{domxref(“SVGMatrix”)}} or {{domxref(“DOMMatrix”)}} object as the pattern’s transformation matrix and invokes it on the pattern.</p>
<h2 id="syntax">Syntax</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">void</span> <span class="va">pattern</span>.<span class="at">setTransform</span>(matrix)<span class="op">;</span></a></code></pre></div>
<h3 id="parameters">Parameters</h3>
<ul>
<li><code>matrix</code>
<ul>
<li>: An {{domxref(“SVGMatrix”)}} or {{domxref(“DOMMatrix”)}} to use as the pattern’s transformation matrix.</li>
</ul></li>
</ul>
<h2 id="examples">Examples</h2>
<h3 id="using-the-settransform-method">Using the <code>setTransform</code> method</h3>
<p>This is just a simple code snippet which uses the <code>setTransform</code> method to create a {{domxref(“CanvasPattern”)}} with the specified pattern transformation from an {{domxref(“SVGMatrix”)}}. The pattern gets applied if you set it as the current {{domxref(“CanvasRenderingContext2D.fillStyle”, “fillStyle”)}} and gets drawn onto the canvas when using the {{domxref(“CanvasRenderingContext2D.fillRect”, “fillRect()”)}} method, for example.</p>
<h4 id="html">HTML</h4>
<div class="sourceCode" id="cb2"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">&lt;canvas</span><span class="ot"> id=</span><span class="st">&quot;canvas&quot;</span><span class="kw">&gt;&lt;/canvas&gt;</span></a>
<a class="sourceLine" id="cb2-2" title="2"><span class="kw">&lt;svg</span><span class="ot"> id=</span><span class="st">&quot;svg1&quot;</span><span class="kw">&gt;&lt;/svg&gt;</span></a></code></pre></div>
<h4 id="javascript">JavaScript</h4>
<div class="sourceCode" id="cb3"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="kw">var</span> canvas <span class="op">=</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&#39;canvas&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-2" title="2"><span class="kw">var</span> ctx <span class="op">=</span> <span class="va">canvas</span>.<span class="at">getContext</span>(<span class="st">&#39;2d&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-3" title="3"></a>
<a class="sourceLine" id="cb3-4" title="4"><span class="kw">var</span> svg1 <span class="op">=</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&#39;svg1&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-5" title="5"><span class="kw">var</span> matrix <span class="op">=</span> <span class="va">svg1</span>.<span class="at">createSVGMatrix</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb3-6" title="6"></a>
<a class="sourceLine" id="cb3-7" title="7"><span class="kw">var</span> img <span class="op">=</span> <span class="kw">new</span> <span class="at">Image</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb3-8" title="8"><span class="va">img</span>.<span class="at">src</span> <span class="op">=</span> <span class="st">&#39;canvas_createpattern.png&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb3-9" title="9"></a>
<a class="sourceLine" id="cb3-10" title="10"><span class="va">img</span>.<span class="at">onload</span> <span class="op">=</span> <span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb3-11" title="11">  <span class="kw">var</span> pattern <span class="op">=</span> <span class="va">ctx</span>.<span class="at">createPattern</span>(img<span class="op">,</span> <span class="st">&#39;repeat&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-12" title="12">  <span class="va">pattern</span>.<span class="at">setTransform</span>(<span class="va">matrix</span>.<span class="at">rotate</span>(<span class="op">-</span><span class="dv">45</span>).<span class="at">scale</span>(<span class="fl">1.5</span>))<span class="op">;</span></a>
<a class="sourceLine" id="cb3-13" title="13">  <span class="va">ctx</span>.<span class="at">fillStyle</span> <span class="op">=</span> pattern<span class="op">;</span></a>
<a class="sourceLine" id="cb3-14" title="14">  <span class="va">ctx</span>.<span class="at">fillRect</span>(<span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">400</span><span class="op">,</span> <span class="dv">400</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-15" title="15"><span class="op">};</span></a></code></pre></div>
<p>Note that newer browser versions started to support {{domxref(“DOMMatrix”)}} as an input to <code>setTransform()</code>, so for example you could replace the <code>SVGMatrix</code> in the above example with the following:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1"><span class="kw">const</span> matrix <span class="op">=</span> <span class="kw">new</span> <span class="at">DOMMatrix</span>([<span class="dv">1</span><span class="op">,</span> <span class="fl">.2</span><span class="op">,</span> <span class="fl">.8</span><span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0</span>])<span class="op">;</span></a></code></pre></div>
<h4 id="editable-demo">Editable demo</h4>
<p>Here’s an editable demo of the code snippet above. Try changing the argument to <code>SetTransform()</code> to see the effect it had.</p>
<p><code>html hidden &lt;canvas id="canvas" width="400" height="200" class="playable-canvas"&gt;&lt;/canvas&gt; &lt;svg id="svg1" style="display:none"&gt;&lt;/svg&gt; &lt;div class="playable-buttons"&gt;   &lt;input id="edit" type="button" value="Edit" /&gt;   &lt;input id="reset" type="button" value="Reset" /&gt; &lt;/div&gt; &lt;textarea id="code" class="playable-code" style="height:120px"&gt; var img = new Image(); img.src = 'canvas_createpattern.png'; img.onload = function() {   var pattern = ctx.createPattern(img, 'repeat');   pattern.setTransform(matrix.rotate(-45).scale(1.5));   ctx.fillStyle = pattern;   ctx.fillRect(0, 0, 400, 400); };&lt;/textarea&gt;</code></p>
<p>```js hidden var canvas = document.getElementById(‘canvas’); var ctx = canvas.getContext(‘2d’); var textarea = document.getElementById(‘code’); var reset = document.getElementById(‘reset’); var edit = document.getElementById(‘edit’); var code = textarea.value;</p>
<p>var svg1 = document.getElementById(‘svg1’); var matrix = svg1.createSVGMatrix();</p>
<p>function drawCanvas() { ctx.clearRect(0, 0, canvas.width, canvas.height); eval(textarea.value); }</p>
<p>reset.addEventListener(‘click’, function() { textarea.value = code; drawCanvas(); });</p>
<p>edit.addEventListener(‘click’, function() { textarea.focus(); })</p>
<p>textarea.addEventListener(‘input’, drawCanvas); window.addEventListener(‘load’, drawCanvas); ```</p>
<p>{{ EmbedLiveSample(‘Editable_demo’, 700, 400) }}</p>
<h2 id="specifications">Specifications</h2>
<p>{{Specifications}}</p>
<h2 id="browser-compatibility">Browser compatibility</h2>
<p>{{Compat}}</p>
<h2 id="see-also">See also</h2>
<ul>
<li>The interface defining this method: {{domxref(“CanvasPattern”)}}</li>
<li>{{domxref(“SVGMatrix”)}}</li>
<li>{{domxref(“DOMMatrix”)}}</li>
</ul>

<p>{{GamesSidebar}}</p>
<p>{{PreviousNext(“Games/Workflows/2D_Breakout_game_Phaser/The_score”, “Games/Workflows/2D_Breakout_game_Phaser/Extra_lives”)}}</p>
<p>This is the <strong>12th step</strong> out of 16 of the <a href="/en-US/docs/Games/Tutorials/2D_breakout_game_Phaser">Gamedev Phaser tutorial</a>. You can find the source code as it should look after completing this lesson at <a href="https://github.com/end3r/Gamedev-Phaser-Content-Kit/blob/gh-pages/demos/lesson12.html">Gamedev-Phaser-Content-Kit/demos/lesson12.html</a>.</p>
<p>Implementing winning in our game is quite easy: if you happen to destroy all the bricks, then you win.</p>
<h2 id="how-to-win">How to win?</h2>
<p>Add the following new code into your <code>ballHitBrick()</code> function:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">function</span> <span class="at">ballHitBrick</span>(ball<span class="op">,</span> brick) <span class="op">{</span></a>
<a class="sourceLine" id="cb1-2" title="2">    <span class="va">brick</span>.<span class="at">kill</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb1-3" title="3">    score <span class="op">+=</span> <span class="dv">10</span><span class="op">;</span></a>
<a class="sourceLine" id="cb1-4" title="4">    <span class="va">scoreText</span>.<span class="at">setText</span>(<span class="st">&#39;Points: &#39;</span><span class="op">+</span>score)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-5" title="5"></a>
<a class="sourceLine" id="cb1-6" title="6">    var count_alive <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></a>
<a class="sourceLine" id="cb1-7" title="7">    <span class="cf">for</span> (i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> <span class="va">bricks</span>.<span class="va">children</span>.<span class="at">length</span><span class="op">;</span> i<span class="op">++</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb1-8" title="8">      <span class="cf">if</span> (<span class="va">bricks</span>.<span class="at">children</span>[i].<span class="at">alive</span> <span class="op">==</span> <span class="kw">true</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb1-9" title="9">        count_alive<span class="op">++;</span></a>
<a class="sourceLine" id="cb1-10" title="10">      <span class="op">}</span></a>
<a class="sourceLine" id="cb1-11" title="11">    <span class="op">}</span></a>
<a class="sourceLine" id="cb1-12" title="12">    <span class="cf">if</span> (count_alive <span class="op">==</span> <span class="dv">0</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb1-13" title="13">      <span class="at">alert</span>(<span class="st">&#39;You won the game, congratulations!&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-14" title="14">      <span class="va">location</span>.<span class="at">reload</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb1-15" title="15">    <span class="op">}</span></a>
<a class="sourceLine" id="cb1-16" title="16"><span class="op">}</span></a></code></pre></div>
<p>We loop through the bricks in the group using <code>bricks.children</code>, checking for the aliveness of each with each brick’s <code>.alive()</code>method. If there are no more bricks left alive, then we show a winning message, restarting the game once the alert is dismissed.</p>
<h2 id="compare-your-code">Compare your code</h2>
<p>You can check the finished code for this lesson in the live demo below, and play with it to understand better how it works:</p>
<p>{{JSFiddleEmbed(“https://jsfiddle.net/u8waa4Lx/1/”,"“,”400")}}</p>
<h2 id="next-steps">Next steps</h2>
<p>Both losing and winning are implemented, so the core gameplay of our game is finished. Now let’s add something extra — we’ll give the player three <a href="/en-US/docs/Games/Tutorials/2D_breakout_game_Phaser/Extra_lives">lives</a> instead of one.</p>
<p>{{PreviousNext(“Games/Workflows/2D_Breakout_game_Phaser/The_score”, “Games/Workflows/2D_Breakout_game_Phaser/Extra_lives”)}}</p>

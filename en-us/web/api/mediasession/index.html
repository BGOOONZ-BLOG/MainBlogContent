<p>{{SeeCompatTable}}{{APIRef(“Media Session API”)}}</p>
<p>The <strong><code>MediaSession</code></strong> interface of the <a href="/en-US/docs/Web/API/Media_Session_API">Media Session API</a> allows a web page to provide custom behaviors for standard media playback interactions, and to report metadata that can be sent by the user agent to the device or operating system for presentation in standardized user interface elements.</p>
<p>For example, a smartphone might have a standard panel in its lock screen that provides controls for media playback and information display. A browser on the device can use <code>MediaSession</code> to make browser playback controllable from that standard/global user interface.</p>
<h2 id="properties">Properties</h2>
<ul>
<li>{{domxref(“MediaSession.metadata”, “metadata”)}}
<ul>
<li>: Returns an instance of {{domxref(“MediaMetadata”)}}, which contains rich media metadata for display in a platform UI.</li>
</ul></li>
<li>{{domxref(“MediaSession.playbackState”, “playbackState”)}}
<ul>
<li>: Indicates whether the current media session is playing. Valid values are <code>none</code>, <code>paused</code>, or <code>playing</code>.</li>
</ul></li>
</ul>
<h2 id="methods">Methods</h2>
<ul>
<li>{{domxref(“MediaSession.setActionHandler”, “setActionHandler()”)}}
<ul>
<li>: Sets an action handler for a media session action, such as play or pause.</li>
</ul></li>
<li>{{domxref(“MediaSession.setPositionState”, “setPositionState()”)}}
<ul>
<li>: Sets the current playback position and speed of the media currently being presented.</li>
</ul></li>
</ul>
<h2 id="examples">Examples</h2>
<p>The following example creates a new media session and assigns action handlers to it:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="cf">if</span> (<span class="st">&#39;mediaSession&#39;</span> <span class="kw">in</span> navigator) <span class="op">{</span></a>
<a class="sourceLine" id="cb1-2" title="2">  <span class="va">navigator</span>.<span class="va">mediaSession</span>.<span class="at">metadata</span> <span class="op">=</span> <span class="kw">new</span> <span class="at">MediaMetadata</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb1-3" title="3">    <span class="dt">title</span><span class="op">:</span> <span class="st">&#39;Unforgettable&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb1-4" title="4">    <span class="dt">artist</span><span class="op">:</span> <span class="st">&#39;Nat King Cole&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb1-5" title="5">    <span class="dt">album</span><span class="op">:</span> <span class="st">&#39;The Ultimate Collection (Remastered)&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb1-6" title="6">    <span class="dt">artwork</span><span class="op">:</span> [</a>
<a class="sourceLine" id="cb1-7" title="7">      <span class="op">{</span> <span class="dt">src</span><span class="op">:</span> <span class="st">&#39;https://dummyimage.com/96x96&#39;</span><span class="op">,</span>   <span class="dt">sizes</span><span class="op">:</span> <span class="st">&#39;96x96&#39;</span><span class="op">,</span>   <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;image/png&#39;</span> <span class="op">},</span></a>
<a class="sourceLine" id="cb1-8" title="8">      <span class="op">{</span> <span class="dt">src</span><span class="op">:</span> <span class="st">&#39;https://dummyimage.com/128x128&#39;</span><span class="op">,</span> <span class="dt">sizes</span><span class="op">:</span> <span class="st">&#39;128x128&#39;</span><span class="op">,</span> <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;image/png&#39;</span> <span class="op">},</span></a>
<a class="sourceLine" id="cb1-9" title="9">      <span class="op">{</span> <span class="dt">src</span><span class="op">:</span> <span class="st">&#39;https://dummyimage.com/192x192&#39;</span><span class="op">,</span> <span class="dt">sizes</span><span class="op">:</span> <span class="st">&#39;192x192&#39;</span><span class="op">,</span> <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;image/png&#39;</span> <span class="op">},</span></a>
<a class="sourceLine" id="cb1-10" title="10">      <span class="op">{</span> <span class="dt">src</span><span class="op">:</span> <span class="st">&#39;https://dummyimage.com/256x256&#39;</span><span class="op">,</span> <span class="dt">sizes</span><span class="op">:</span> <span class="st">&#39;256x256&#39;</span><span class="op">,</span> <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;image/png&#39;</span> <span class="op">},</span></a>
<a class="sourceLine" id="cb1-11" title="11">      <span class="op">{</span> <span class="dt">src</span><span class="op">:</span> <span class="st">&#39;https://dummyimage.com/384x384&#39;</span><span class="op">,</span> <span class="dt">sizes</span><span class="op">:</span> <span class="st">&#39;384x384&#39;</span><span class="op">,</span> <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;image/png&#39;</span> <span class="op">},</span></a>
<a class="sourceLine" id="cb1-12" title="12">      <span class="op">{</span> <span class="dt">src</span><span class="op">:</span> <span class="st">&#39;https://dummyimage.com/512x512&#39;</span><span class="op">,</span> <span class="dt">sizes</span><span class="op">:</span> <span class="st">&#39;512x512&#39;</span><span class="op">,</span> <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;image/png&#39;</span> <span class="op">},</span></a>
<a class="sourceLine" id="cb1-13" title="13">    ]</a>
<a class="sourceLine" id="cb1-14" title="14">  <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-15" title="15"></a>
<a class="sourceLine" id="cb1-16" title="16">  <span class="va">navigator</span>.<span class="va">mediaSession</span>.<span class="at">setActionHandler</span>(<span class="st">&#39;play&#39;</span><span class="op">,</span> <span class="kw">function</span>() <span class="op">{</span> <span class="co">/* Code excerpted. */</span> <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-17" title="17">  <span class="va">navigator</span>.<span class="va">mediaSession</span>.<span class="at">setActionHandler</span>(<span class="st">&#39;pause&#39;</span><span class="op">,</span> <span class="kw">function</span>() <span class="op">{</span> <span class="co">/* Code excerpted. */</span> <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-18" title="18">  <span class="va">navigator</span>.<span class="va">mediaSession</span>.<span class="at">setActionHandler</span>(<span class="st">&#39;stop&#39;</span><span class="op">,</span> <span class="kw">function</span>() <span class="op">{</span> <span class="co">/* Code excerpted. */</span> <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-19" title="19">  <span class="va">navigator</span>.<span class="va">mediaSession</span>.<span class="at">setActionHandler</span>(<span class="st">&#39;seekbackward&#39;</span><span class="op">,</span> <span class="kw">function</span>() <span class="op">{</span> <span class="co">/* Code excerpted. */</span> <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-20" title="20">  <span class="va">navigator</span>.<span class="va">mediaSession</span>.<span class="at">setActionHandler</span>(<span class="st">&#39;seekforward&#39;</span><span class="op">,</span> <span class="kw">function</span>() <span class="op">{</span> <span class="co">/* Code excerpted. */</span> <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-21" title="21">  <span class="va">navigator</span>.<span class="va">mediaSession</span>.<span class="at">setActionHandler</span>(<span class="st">&#39;seekto&#39;</span><span class="op">,</span> <span class="kw">function</span>() <span class="op">{</span> <span class="co">/* Code excerpted. */</span> <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-22" title="22">  <span class="va">navigator</span>.<span class="va">mediaSession</span>.<span class="at">setActionHandler</span>(<span class="st">&#39;previoustrack&#39;</span><span class="op">,</span> <span class="kw">function</span>() <span class="op">{</span> <span class="co">/* Code excerpted. */</span> <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-23" title="23">  <span class="va">navigator</span>.<span class="va">mediaSession</span>.<span class="at">setActionHandler</span>(<span class="st">&#39;nexttrack&#39;</span><span class="op">,</span> <span class="kw">function</span>() <span class="op">{</span> <span class="co">/* Code excerpted. */</span> <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-24" title="24">  <span class="va">navigator</span>.<span class="va">mediaSession</span>.<span class="at">setActionHandler</span>(<span class="st">&#39;skipad&#39;</span><span class="op">,</span> <span class="kw">function</span>() <span class="op">{</span> <span class="co">/* Code excerpted. */</span> <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-25" title="25"><span class="op">}</span></a></code></pre></div>
<p>The following example sets up two functions for playing and pausing, then uses them as callbacks with the relevant action handlers.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">const</span> actionHandlers <span class="op">=</span> [</a>
<a class="sourceLine" id="cb2-2" title="2">  <span class="co">// play</span></a>
<a class="sourceLine" id="cb2-3" title="3">  [</a>
<a class="sourceLine" id="cb2-4" title="4">    <span class="st">&#39;play&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-5" title="5">    <span class="kw">async</span> <span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb2-6" title="6">      <span class="co">// play our audio</span></a>
<a class="sourceLine" id="cb2-7" title="7">      <span class="cf">await</span> <span class="va">audioEl</span>.<span class="at">play</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb2-8" title="8">      <span class="co">// set playback state</span></a>
<a class="sourceLine" id="cb2-9" title="9">      <span class="va">navigator</span>.<span class="va">mediaSession</span>.<span class="at">playbackState</span> <span class="op">=</span> <span class="st">&quot;playing&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb2-10" title="10">      <span class="co">// update our status element</span></a>
<a class="sourceLine" id="cb2-11" title="11">      <span class="at">updateStatus</span>(allMeta[index]<span class="op">,</span> <span class="st">&#39;Action: play  |  Track is playing...&#39;</span>)</a>
<a class="sourceLine" id="cb2-12" title="12">    <span class="op">}</span></a>
<a class="sourceLine" id="cb2-13" title="13">  ]<span class="op">,</span></a>
<a class="sourceLine" id="cb2-14" title="14">  [</a>
<a class="sourceLine" id="cb2-15" title="15">    <span class="st">&#39;pause&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-16" title="16">    () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-17" title="17">      <span class="co">// pause out audio</span></a>
<a class="sourceLine" id="cb2-18" title="18">      <span class="va">audioEl</span>.<span class="at">pause</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb2-19" title="19">      <span class="co">// set playback state</span></a>
<a class="sourceLine" id="cb2-20" title="20">      <span class="va">navigator</span>.<span class="va">mediaSession</span>.<span class="at">playbackState</span> <span class="op">=</span> <span class="st">&quot;paused&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb2-21" title="21">      <span class="co">// update our status element</span></a>
<a class="sourceLine" id="cb2-22" title="22">      <span class="at">updateStatus</span>(allMeta[index]<span class="op">,</span> <span class="st">&#39;Action: pause  |  Track has been paused...&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-23" title="23">    <span class="op">}</span></a>
<a class="sourceLine" id="cb2-24" title="24">  ]<span class="op">,</span></a>
<a class="sourceLine" id="cb2-25" title="25">]</a>
<a class="sourceLine" id="cb2-26" title="26"></a>
<a class="sourceLine" id="cb2-27" title="27"><span class="cf">for</span> (<span class="kw">const</span> [action<span class="op">,</span> handler] <span class="kw">of</span> actionHandlers) <span class="op">{</span></a>
<a class="sourceLine" id="cb2-28" title="28">  <span class="cf">try</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-29" title="29">    <span class="va">navigator</span>.<span class="va">mediaSession</span>.<span class="at">setActionHandler</span>(action<span class="op">,</span> handler)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-30" title="30">  <span class="op">}</span> <span class="cf">catch</span> (error) <span class="op">{</span></a>
<a class="sourceLine" id="cb2-31" title="31">    <span class="va">console</span>.<span class="at">log</span>(<span class="vs">`The media session action &quot;</span><span class="sc">${</span>action<span class="sc">}</span><span class="vs">&quot; is not supported yet.`</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-32" title="32">  <span class="op">}</span></a>
<a class="sourceLine" id="cb2-33" title="33"><span class="op">}</span></a></code></pre></div>
<h2 id="specifications">Specifications</h2>
<p>{{Specifications}}</p>
<h2 id="browser-compatibility">Browser compatibility</h2>
<p>{{Compat}}</p>

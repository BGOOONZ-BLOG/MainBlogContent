<!DOCTYPE html>
<html lang="en" dir="ltr" typeof="bibo:Document " prefix="bibo: http://purl.org/ontology/bibo/ w3p: http://www.w3.org/2001/02pd/rec54#">
<head><meta lang="" property="dc:language" content="en">
    <meta charset="utf-8">
    <meta content="width=device-width,initial-scale=1" name="viewport">
    <title>Embedding Tabular Metadata in HTML</title>
    
    
    
    
    
    <style>
      td, th { padding-left: 1em; padding-right: 1em; }
      tbody tr th { text-align: left; }
      ol.algorithm {
        counter-reset: numsection;
        list-style-type: none;
      }
      ol.algorithm > li {
        margin: 1em -1em;
        padding-right: 1em;
        text-indent: -1em;
      }
      ol.algorithm > li:before {
        font-weight: bold;
        counter-increment: numsection;
        content: counters(numsection, ".") " ";
      }
      ol.algorithm>li p, ol.algorithm>li div {text-indent: 0em}
      ol.algorithm>li>p:first-child {position: relative; display: inline;}
      pre {overflow: auto;}
      dd a.externalDFN, p a.externalDFN {border-bottom:  1px solid #99c; font-style: italic;}

      dl.typography dt { font-weight: normal}
      dl.typography dd { margin-bottom: 0.3em; margin-top: 0.2em;}
      dl.typography a.externalDFN { border-bottom:  1px solid #99c; font-style: italic; }
      /* Style script blocks to be visable */
      div.example script {
          display:block;
      }
    </style>
  <style>/*****************************************************************
 * ReSpec 3 CSS
 * Robin Berjon - http://berjon.com/
 *****************************************************************/

/* --- INLINES --- */
em.rfc2119 { 
    text-transform:     lowercase;
    font-variant:       small-caps;
    font-style:         normal;
    color:              #900;
}

h1 acronym, h2 acronym, h3 acronym, h4 acronym, h5 acronym, h6 acronym, a acronym,
h1 abbr, h2 abbr, h3 abbr, h4 abbr, h5 abbr, h6 abbr, a abbr {
    border: none;
}

dfn {
    font-weight:    bold;
}

a.internalDFN {
    color:  inherit;
    border-bottom:  1px solid #99c;
    text-decoration:    none;
}

a.externalDFN {
    color:  inherit;
    border-bottom:  1px dotted #ccc;
    text-decoration:    none;
}

a.bibref {
    text-decoration:    none;
}

cite .bibref {
    font-style: normal;
}

code {
    color:  #C83500;
}

/* --- TOC --- */
.toc a, .tof a {
    text-decoration:    none;
}

a .secno, a .figno {
    color:  #000;
}

ul.tof, ol.tof {
    list-style: none outside none;
}

.caption {
    margin-top: 0.5em;
    font-style:   italic;
}

/* --- TABLE --- */
table.simple {
    border-spacing: 0;
    border-collapse:    collapse;
    border-bottom:  3px solid #005a9c;
}

.simple th {
    background: #005a9c;
    color:  #fff;
    padding:    3px 5px;
    text-align: left;
}

.simple th[scope="row"] {
    background: inherit;
    color:  inherit;
    border-top: 1px solid #ddd;
}

.simple td {
    padding:    3px 10px;
    border-top: 1px solid #ddd;
}

.simple tr:nth-child(even) {
    background: #f0f6ff;
}

/* --- DL --- */
.section dd > p:first-child {
    margin-top: 0;
}

.section dd > p:last-child {
    margin-bottom: 0;
}

.section dd {
    margin-bottom:  1em;
}

.section dl.attrs dd, .section dl.eldef dd {
    margin-bottom:  0;
}

@media print {
    .removeOnSave {
        display: none;
    }
}
</style><style>/* --- EXAMPLES --- */
div.example-title {
    min-width: 7.5em;
    color: #b9ab2d;
}
div.example-title span {
    text-transform: uppercase;
}
aside.example, div.example, div.illegal-example {
    padding: 0.5em;
    margin: 1em 0;
    position: relative;
    clear: both;
}
div.illegal-example { color: red }
div.illegal-example p { color: black }
aside.example, div.example {
    padding: .5em;
    border-left-width: .5em;
    border-left-style: solid;
    border-color: #e0cb52;
    background: #fcfaee;
}

aside.example div.example {
    border-left-width: .1em;
    border-color: #999;
    background: #fff;
}
aside.example div.example div.example-title {
    color: #999;
}
</style><style>/* --- ISSUES/NOTES --- */
div.issue-title, div.note-title , div.ednote-title, div.warning-title {
    padding-right:  1em;
    min-width: 7.5em;
    color: #b9ab2d;
}
div.issue-title { color: #e05252; }
div.note-title, div.ednote-title { color: #2b2; }
div.warning-title { color: #f22; }
div.issue-title span, div.note-title span, div.ednote-title span, div.warning-title span {
    text-transform: uppercase;
}
div.note, div.issue, div.ednote, div.warning {
    margin-top: 1em;
    margin-bottom: 1em;
}
.note > p:first-child, .ednote > p:first-child, .issue > p:first-child, .warning > p:first-child { margin-top: 0 }
.issue, .note, .ednote, .warning {
    padding: .5em;
    border-left-width: .5em;
    border-left-style: solid;
}
div.issue, div.note , div.ednote,  div.warning {
    padding: 1em 1.2em 0.5em;
    margin: 1em 0;
    position: relative;
    clear: both;
}
span.note, span.ednote, span.issue, span.warning { padding: .1em .5em .15em; }

.issue {
    border-color: #e05252;
    background: #fbe9e9;
}
.note, .ednote {
    border-color: #52e052;
    background: #e9fbe9;
}

.warning {
    border-color: #f11;
    border-right-width: .2em;
    border-top-width: .2em;
    border-bottom-width: .2em;
    border-style: solid;
    background: #fbe9e9;
}

.warning-title:before{
    content: "âš "; /*U+26A0 WARNING SIGN*/
    font-size: 3em;
    float: left;
    height: 100%;
    padding-right: .3em;
    vertical-align: top;
    margin-top: -0.5em;
}

li.task-list-item {
    list-style: none;
}

input.task-list-item-checkbox {
    margin: 0 0.35em 0.25em -1.6em;
    vertical-align: middle;
}
</style><style>/* HIGHLIGHTS */
code.prettyprint {
    color:  inherit;
}

/* this from google-code-prettify */
.pln{color:#000}@media screen{.str{color:#080}.kwd{color:#008}.com{color:#800}.typ{color:#606}.lit{color:#066}.pun,.opn,.clo{color:#660}.tag{color:#008}.atn{color:#606}.atv{color:#080}.dec,.var{color:#606}.fun{color:red}}@media print,projection{.str{color:#060}.kwd{color:#006;font-weight:bold}.com{color:#600;font-style:italic}.typ{color:#404;font-weight:bold}.lit{color:#044}.pun,.opn,.clo{color:#440}.tag{color:#006;font-weight:bold}.atn{color:#404}.atv{color:#060}}ol.linenums{margin-top:0;margin-bottom:0}li.L0,li.L1,li.L2,li.L3,li.L5,li.L6,li.L7,li.L8{list-style-type:none}li.L1,li.L3,li.L5,li.L7,li.L9{background:#eee}
</style><style>/* --- Best Practices --- */
div.practice {
    border: solid #bebebe 1px;
    margin: 2em 1em 1em 2em;
}

span.practicelab {
    margin: 1.5em 0.5em 1em 1em;
    font-weight: bold;
    font-style: italic;
    background: #dfffff;
    position: relative;
    padding: 0 0.5em;
    top: -1.5em;
}

p.practicedesc {
    margin: 1.5em 0.5em 1em 1em;
}

@media screen {
    p.practicedesc {
        position: relative;
        top: -2em;
        padding: 0;
        margin: 1.5em 0.5em -1em 1em;
    }
}
</style><link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/W3C-WG-NOTE"><!--[if lt IE 9]><script src='https://www.w3.org/2008/site/js/html5shiv.js'></script><![endif]--><script id="initialUserConfig" type="application/json">{
  "specStatus": "WG-NOTE",
  "shortName": "csvw-html",
  "publishDate": "2016-02-25",
  "edDraftURI": "http://w3c.github.io/csvw/html-note/",
  "editors": [
    {
      "name": "Gregg Kellogg",
      "url": "http://greggkellogg.net/",
      "company": "Kellogg Associates",
      "companyURL": "http://kellogg-assoc.com/",
      "w3cid": "44770"
    }
  ],
  "wg": "CSV on the Web Working Group",
  "wgURI": "http://www.w3.org/2013/csvw/",
  "wgPublicList": "public-csv-wg",
  "wgPatentURI": "http://www.w3.org/2004/01/pp-impl/68238/status",
  "otherLinks": [
    {
      "key": "Repository",
      "data": [
        {
          "value": "We are on Github",
          "href": "https://github.com/w3c/csvw"
        },
        {
          "value": "File a bug",
          "href": "https://github.com/w3c/csvw"
        }
      ]
    }
  ],
  "alternateFormats": [
    {
      "uri": "csvw-html.epub",
      "label": "ePub"
    }
  ],
  "inlineCSS": true,
  "issueBase": "https://github.com/w3c/csvw/issues/",
  "noIDLIn": true,
  "noLegacyStyle": false
}</script></head>
  <body class="h-entry" role="document" id="respecDocument"><div class="head" role="contentinfo" id="respecHeader">
  <p>
      
        
            <a class="logo" href="http://www.w3.org/"><img width="72" height="48" src="https://www.w3.org/Icons/w3c_home" alt="W3C"></a>
            
            
        
      
  </p>
  <h1 class="title p-name" id="title" property="dcterms:title">Embedding Tabular Metadata in HTML</h1>
  
  <h2 id="w3c-working-group-note-25-february-2016"><abbr title="World Wide Web Consortium">W3C</abbr> Working Group Note <time property="dcterms:issued" class="dt-published" datetime="2016-02-25">25 February 2016</time></h2>
  <dl>
    
      <dt>This version:</dt>
      <dd><a class="u-url" href="http://www.w3.org/TR/2016/NOTE-csvw-html-20160225/">http://www.w3.org/TR/2016/NOTE-csvw-html-20160225/</a></dd>
      <dt>Latest published version:</dt>
      <dd><a href="http://www.w3.org/TR/csvw-html/">http://www.w3.org/TR/csvw-html/</a></dd>
    
    
      <dt>Latest editor's draft:</dt>
      <dd><a href="http://w3c.github.io/csvw/html-note/">http://w3c.github.io/csvw/html-note/</a></dd>
    
    
    
    
    
    
    
    <dt>Editor:</dt>
    <dd class="p-author h-card vcard" property="bibo:editor" resource="_:editor0" data-editor-id="44770"><span property="rdf:first" typeof="foaf:Person"><meta property="foaf:name" content="Gregg Kellogg"><a class="u-url url p-name fn" property="foaf:homepage" href="http://greggkellogg.net/">Gregg Kellogg</a>, <a property="foaf:workplaceHomepage" class="p-org org h-org h-card" href="http://kellogg-assoc.com/">Kellogg Associates</a></span>
<span property="rdf:rest" resource="rdf:nil"></span>
</dd>

    
    
      
        
          <dt>Repository:</dt>
          
             
                
                  <dd>
                    <a href="https://github.com/w3c/csvw">
                      We are on Github
                    </a>
                  </dd>
                
             
                
                  <dd>
                    <a href="https://github.com/w3c/csvw">
                      File a bug
                    </a>
                  </dd>
                
             
          
        
      
    
  </dl>
  
  
    <p>
      
        This document is also available in this non-normative format:
      
      <a rel="alternate" href="csvw-html.epub">ePub</a>
    </p>
  
  
  
    
      <p class="copyright">
        <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> Â©
        2016
        
        <a href="http://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>Â®</sup>
        (<a href="http://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>,
        <a href="http://www.ercim.eu/"><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>,
        <a href="http://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>). 
        
        <abbr title="World Wide Web Consortium">W3C</abbr> <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
        <a href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and
        
          
            <a rel="license" href="http://www.w3.org/Consortium/Legal/copyright-documents">document use</a>
          
        
        rules apply.
      </p>
    
  
  <hr title="Separator for header">
</div>
    <section id="abstract" class="introductory" property="dc:abstract"><h2 id="h-abstract" resource="#h-abstract"><span property="xhv:role" resource="xhv:heading">Abstract</span></h2>
      <p>The <cite><a href="https://www.w3.org/TR/tabular-data-model/">Model for Tabular Data and Metadata on the Web</a></cite> describes mechanisms for extracting metadata from CSV documents starting with either a <cite><a href="https://www.w3.org/TR/tabular-data-model/#dfn-tabular-data-file" class="externalDFN">tabular data file</a></cite>, or a metadata description. In the case of starting with a CSV document, a procedure is followed to locate metadata describing that CSV (see <cite><a href="https://www.w3.org/TR/tabular-data-model/#locating-metadata">Locating Metadata</a></cite> in [<cite><a class="bibref" href="#bib-tabular-data-model">tabular-data-model</a></cite>]). Alternatively, processing may begin with a metadata file directly, which references the <cite><a href="https://www.w3.org/TR/tabular-data-model/#dfn-tabular-data-file" class="externalDFN">tabular data file(s)</a></cite>. However, in some cases, it is preferred to publish datasets using HTML rather than starting with either CSV or metadata files.</p>
      <p>Secondly, tabular data is often contained within HTML in the form of <cite><a href="http://www.w3.org/TR/html5/tabular-data.html#tabular-data">HTML table elements</a></cite> (see [<cite><a class="bibref" href="#bib-html5">html5</a></cite>]). This document describes a means of identifying such tables from [<cite><a class="bibref" href="#bib-tabular-metadata">tabular-metadata</a></cite>] and extracting annotated tabular data from HTML tables.</p>
      <div class="note"><div class="note-title" aria-level="3" role="heading" id="h-note1"><span>Note</span></div><p class="">This document does not attempt to address the full range of ways in which tabular datasets can be used within browser based applications, e.g. related Javascript efforts such as IndexedDB and Web Components. It is concerned primarily with providing additional information about tabular data. Discussion of deeper integration into Web-based apps is encouraged via the <a href="http://www.w3.org/community/csvw/">CSVW Community Group</a>.</p></div>
    </section><section id="sotd" class="introductory"><h2 id="h-sotd" resource="#h-sotd"><span property="xhv:role" resource="xhv:heading">Status of This Document</span></h2>
  
    
      
        <p>
          <em>This section describes the status of this document at the time of its publication. Other documents may supersede this document. A list of current <abbr title="World Wide Web Consortium">W3C</abbr> publications and the latest revision of this technical report can be found in the <a href="http://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr> technical reports index</a> at http://www.w3.org/TR/.</em>
        </p>
        
          
          
      <p>
        The <a href="http://www.w3.org/2013/csvw">CSV on the Web Working Group</a> was <a href="http://www.w3.org/2013/05/lcsv-charter.html">chartered</a> to produce a recommendation "Access methods for CSV Metadata" as well as recommendations for "Metadata vocabulary for CSV data" and "Mapping mechanism to transforming CSV into various formats (e.g., RDF, JSON, or XML)". This non-normative document describes extensions for discovering [<cite><a class="bibref" href="#bib-tabular-metadata">tabular-metadata</a></cite>] within HTML documents, and for extracting <cite><a href="https://www.w3.org/TR/tabular-data-model/#dfn-annotated-table" class="externalDFN">annotated tables</a></cite> from HTML tables. The normative standards are:
      </p>
      <ul>
        <li><a href="https://www.w3.org/TR/tabular-data-model/">Model for Tabular Data and Metadata on the Web</a></li>
        <li><a href="https://www.w3.org/TR/tabular-metadata/">Metadata Vocabulary for Tabular Data</a></li>
        <li><a href="https://www.w3.org/TR/csv2json/">Generating JSON from Tabular Data on the Web</a></li>
        <li><a href="https://www.w3.org/TR/csv2rdf/">Generating RDF from Tabular Data on the Web</a></li>
      </ul>
    
          
          
          <p>
            This document was published by the <a href="http://www.w3.org/2013/csvw/">CSV on the Web Working Group</a> as a Working Group Note.
            
            
              If you wish to make comments regarding this document, please send them to
              <a href="mailto:public-csv-wg@w3.org">public-csv-wg@w3.org</a>
              (<a href="mailto:public-csv-wg-request@w3.org?subject=subscribe">subscribe</a>,
              <a href="http://lists.w3.org/Archives/Public/public-csv-wg/">archives</a>).
            
            
            
            
            
              
              All comments are welcome.
              
            
          </p>
          
          
          
          
            <p>
              Publication as a Working Group Note does not imply endorsement by the <abbr title="World Wide Web Consortium">W3C</abbr>
              Membership. This is a draft document and may be updated, replaced or obsoleted by other
              documents at any time. It is inappropriate to cite this document as other than work in
              progress.
            </p>
          
          
          
          <p>
            
              This document was produced by
              
              a group
               operating under the
              <a id="sotd_patent" property="w3p:patentRules" href="http://www.w3.org/Consortium/Patent-Policy-20040205/">5 February 2004 <abbr title="World Wide Web Consortium">W3C</abbr> Patent
              Policy</a>.
            
            
            
              
                <abbr title="World Wide Web Consortium">W3C</abbr> maintains a <a href="http://www.w3.org/2004/01/pp-impl/68238/status" rel="disclosure">public list of any patent
                disclosures</a>
              
              made in connection with the deliverables of
              
              the group; that page also includes
              
              instructions for disclosing a patent. An individual who has actual knowledge of a patent
              which the individual believes contains
              <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#def-essential">Essential
              Claim(s)</a> must disclose the information in accordance with
              <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure">section
              6 of the <abbr title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>.
            
            
          </p>
          
            <p>This document is governed by the <a id="w3c_process_revision" href="http://www.w3.org/2015/Process-20150901/">1 September 2015 <abbr title="World Wide Web Consortium">W3C</abbr> Process Document</a>.
            </p>
          
          
        
      
    
  
</section><section id="toc"><h2 class="introductory" id="h-toc" resource="#h-toc"><span property="xhv:role" resource="xhv:heading">Table of Contents</span></h2><ul class="toc" role="directory"><li class="tocline"><a href="#embedding-tabular-metadata-within-html-documents" class="tocxref"><span class="secno">1. </span>Embedding Tabular Metadata within HTML Documents</a><ul class="toc"><li class="tocline"><a href="#embedding-metadata-in-a-script-element" class="tocxref"><span class="secno">1.1 </span>Embedding Metadata in a <code>script</code> Element</a></li><li class="tocline"><a href="#linking-to-metadata" class="tocxref"><span class="secno">1.2 </span>Linking to Metadata</a></li></ul></li><li class="tocline"><a href="#extracting-table-data" class="tocxref"><span class="secno">2. </span>Extracting Tabular Data from HTML Tables</a><ul class="toc"><li class="tocline"><a href="#extracting-html-tables" class="tocxref"><span class="secno">2.1 </span>Extracting HTML Tables</a></li><li class="tocline"><a href="#html-example" class="tocxref"><span class="secno">2.2 </span>Example</a></li></ul></li><li class="tocline"><a href="#extracting-tabular-data-from-embedded-csv" class="tocxref"><span class="secno">3. </span>Extracting Tabular Data from embedded CSV</a><ul class="toc"><li class="tocline"><a href="#csv-example" class="tocxref"><span class="secno">3.1 </span>Example</a></li></ul></li><li class="tocline"><a href="#references" class="tocxref"><span class="secno">A. </span>References</a><ul class="toc"><li class="tocline"><a href="#informative-references" class="tocxref"><span class="secno">A.1 </span>Informative references</a></li></ul></li></ul></section>
    
    <section id="embedding-tabular-metadata-within-html-documents" typeof="bibo:Chapter" resource="#embedding-tabular-metadata-within-html-documents" property="bibo:hasPart">
      <!--OddPage--><h2 id="h-embedding-tabular-metadata-within-html-documents" resource="#h-embedding-tabular-metadata-within-html-documents"><span property="xhv:role" resource="xhv:heading"><span class="secno">1. </span>Embedding Tabular Metadata within HTML Documents</span></h2>
      <p>Metadata may be exposed in an HTML document in a couple of different ways.</p>
      <section id="embedding-metadata-in-a-script-element" typeof="bibo:Chapter" resource="#embedding-metadata-in-a-script-element" property="bibo:hasPart">
        <h3 id="h-embedding-metadata-in-a-script-element" resource="#h-embedding-metadata-in-a-script-element"><span property="xhv:role" resource="xhv:heading"><span class="secno">1.1 </span>Embedding Metadata in a <code>script</code> Element</span></h3>
        <p>This section describes mechanisms similar to <a href="http://www.w3.org/TR/json-ld/#embedding-json-ld-in-html-documents">Embedding JSON-LD in HTML Documents</a> (see [<cite><a class="bibref" href="#bib-json-ld">json-ld</a></cite>]) for <dfn data-lt-nodefault="" data-dfn-type="dfn" id="dfn-embedded-metadata">embedding metadata</dfn> within an HTML document.</p>
        <p>HTML <code>script</code> elements can be used to embed data blocks in documents (see <cite><a href="http://www.w3.org/TR/html5/scripting-1.html#scripting-1">Scripting</a></cite> in [<cite><a class="bibref" href="#bib-html5">html5</a></cite>]). Metadata [<cite><a class="bibref" href="#bib-tabular-metadata">tabular-metadata</a></cite>] describing one or more <cite><a href="https://www.w3.org/TR/tabular-data-model/#dfn-tabular-data-file" class="externalDFN">tabular data files</a></cite> can be embedded in HTML, which can be used as an alternative way to publish datasets.</p>
        <p>The content should be placed in a <cite><a href="https://www.w3.org/TR/html5/scripting-1.html#the-script-element"><code>script</code> element</a></cite> with the <code>type</code> set to <code>application/csvm+json</code>. The character encoding of the embedded metadata will match the HTML documents encoding.</p>
        <div class="example"><div class="example-title"><span>Example 1</span><span style="text-transform: none">: Tabular Metadata embedded in HTML</span></div><pre class="example highlight prettyprint prettyprinted" style=""><span class="tag">&lt;html&gt;</span><span class="pln">
  </span><span class="tag">&lt;head&gt;</span><span class="pln">
    </span><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"application/csvm+json"</span><span class="tag">&gt;</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
      </span><span class="str">"@context"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"http://www.w3.org/ns/csvw"</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"tables"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[{</span><span class="pln">
        </span><span class="str">"url"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"countries.csv"</span><span class="pun">,</span><span class="pln">
        </span><span class="str">"tableSchema"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
          </span><span class="str">"columns"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[{</span><span class="pln">
            </span><span class="str">"name"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"countryCode"</span><span class="pun">,</span><span class="pln">
            </span><span class="str">"titles"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"countryCode"</span><span class="pun">,</span><span class="pln">
            </span><span class="str">"datatype"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"string"</span><span class="pun">,</span><span class="pln">
            </span><span class="str">"propertyUrl"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"http://www.geonames.org/ontology{#_name}"</span><span class="pln">
          </span><span class="pun">},</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="str">"name"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"latitude"</span><span class="pun">,</span><span class="pln">
            </span><span class="str">"titles"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"latitude"</span><span class="pun">,</span><span class="pln">
            </span><span class="str">"datatype"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"number"</span><span class="pln">
          </span><span class="pun">},</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="str">"name"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"longitude"</span><span class="pun">,</span><span class="pln">
            </span><span class="str">"titles"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"longitude"</span><span class="pun">,</span><span class="pln">
            </span><span class="str">"datatype"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"number"</span><span class="pln">
          </span><span class="pun">},</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="str">"name"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"name"</span><span class="pun">,</span><span class="pln">
            </span><span class="str">"titles"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"name"</span><span class="pun">,</span><span class="pln">
            </span><span class="str">"datatype"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"string"</span><span class="pln">
          </span><span class="pun">}],</span><span class="pln">
          </span><span class="str">"aboutUrl"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"countries.csv{#countryCode}"</span><span class="pun">,</span><span class="pln">
          </span><span class="str">"propertyUrl"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"http://schema.org/{_name}"</span><span class="pun">,</span><span class="pln">
          </span><span class="str">"primaryKey"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"countryCode"</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
      </span><span class="pun">},</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="str">"url"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"country_slice.csv"</span><span class="pun">,</span><span class="pln">
        </span><span class="str">"tableSchema"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
          </span><span class="str">"columns"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[{</span><span class="pln">
            </span><span class="str">"name"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"countryRef"</span><span class="pun">,</span><span class="pln">
            </span><span class="str">"titles"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"countryRef"</span><span class="pun">,</span><span class="pln">
            </span><span class="str">"valueUrl"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"countries.csv{#countryRef}"</span><span class="pln">
          </span><span class="pun">},</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="str">"name"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"year"</span><span class="pun">,</span><span class="pln">
            </span><span class="str">"titles"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"year"</span><span class="pun">,</span><span class="pln">
            </span><span class="str">"datatype"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"gYear"</span><span class="pln">
          </span><span class="pun">},</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="str">"name"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"population"</span><span class="pun">,</span><span class="pln">
            </span><span class="str">"titles"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"population"</span><span class="pun">,</span><span class="pln">
            </span><span class="str">"datatype"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"integer"</span><span class="pln">
          </span><span class="pun">}],</span><span class="pln">
          </span><span class="str">"foreignKeys"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[{</span><span class="pln">
            </span><span class="str">"columnReference"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"countryRef"</span><span class="pun">,</span><span class="pln">
            </span><span class="str">"reference"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
              </span><span class="str">"resource"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"countries.csv"</span><span class="pun">,</span><span class="pln">
              </span><span class="str">"columnReference"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"countryCode"</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
          </span><span class="pun">}]</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
      </span><span class="pun">}]</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="tag">&lt;/script&gt;</span><span class="pln">
    ...
  </span><span class="tag">&lt;/head&gt;</span><span class="pln">
  </span><span class="tag">&lt;body&gt;</span><span class="pln">
    ...
  </span><span class="tag">&lt;/body&gt;</span><span class="pln">
</span><span class="tag">&lt;/html&gt;</span></pre></div>
        <p>Depending on how the HTML document is served, <code>script</code> content may need to be escaped. See <cite><a href="https://www.w3.org/TR/html5/scripting-1.html#restrictions-for-contents-of-script-elements">Restrictions for contents of <code>script</code> elements</a></cite> in [<cite><a class="bibref" href="#bib-html5">html5</a></cite>] for more information.</p>
      <p>Processing embedded metadata is the same as processing <cite><a href="https://www.w3.org/TR/tabular-data-model/#overriding-metadata">Overriding Metadata</a></cite> where the retrieved document type is <code>text/html</code> or <code>application/xhtml+xml</code> instead of a JSON document type. The base URI of the encapsulating HTML document provides a "Base URI Embedded in Content" per [<cite><a class="bibref" href="#bib-RFC3986">RFC3986</a></cite>] <cite><a href="https://tools.ietf.org/html/rfc3986#section-5.1.1">section 5.1.1</a></cite>; metadata is extracted from the first <code>script</code> element having <code>@type</code> <code>application/csvm+json</code>. Metadata documents parsed from an HTML DOM will be a stream of character data rather than a stream of UTF-8 encoded bytes. No decoding is necessary if the HTML document has already been parsed into DOM. Each matching <code>script</code> data block is considered to be it's own metadata document.</p>
      </section>
      <section id="linking-to-metadata" typeof="bibo:Chapter" resource="#linking-to-metadata" property="bibo:hasPart">
        <h3 id="h-linking-to-metadata" resource="#h-linking-to-metadata"><span property="xhv:role" resource="xhv:heading"><span class="secno">1.2 </span>Linking to Metadata</span></h3>
        <p>An alternative to <a href="#dfn-embedded-metadata" class="internalDFN" data-link-type="dfn">embedding metadata</a> within a <code>script</code> element is linking to the metadata using an HTTP Link header and/or an HTML <code>link</code> element using the equivalent mechanism described for CSV files by <cite><a href="https://www.w3.org/TR/tabular-data-model/#link-header" class="sectionRef">Link Header</a></cite> in [<cite><a class="bibref" href="#bib-tabular-data-model">tabular-data-model</a></cite>]. <dfn data-dfn-type="dfn" id="dfn-linked-metadata">Linked metadata</dfn> provides an alternate mechanism for referencing metadata that would otherwise be discovered by <cite><a href="https://www.w3.org/TR/tabular-data-model/#locating-metadata">Locating Metadata</a> as defined in [<cite><a class="bibref" href="#bib-tabular-data-model">tabular-data-model</a></cite>]</cite>. See <cite><a href="https://www.w3.org/TR/html5/document-metadata.html#the-link-element">The <code>link</code> element</a></cite> in [<cite><a class="bibref" href="#bib-html5">html5</a></cite>] for more information.</p>
        <div class="example"><div class="example-title"><span>Example 2</span><span style="text-transform: none">: Linking to Metadata</span></div><pre class="example highlight prettyprint prettyprinted" style=""><span class="pln">HTTP</span><span class="pun">/</span><span class="lit">1.1</span><span class="pln"> </span><span class="lit">200</span><span class="pln"> OK
</span><span class="typ">Link</span><span class="pun">:</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln">metadata</span><span class="pun">.</span><span class="pln">jsonld</span><span class="pun">&gt;;</span><span class="pln"> rel</span><span class="pun">=</span><span class="str">"describedby"</span><span class="pln">
</span><span class="typ">Content</span><span class="pun">-</span><span class="typ">Type</span><span class="pun">:</span><span class="pln"> text</span><span class="pun">/</span><span class="pln">html

</span><span class="str">&lt;html&gt;</span><span class="pln">
  </span><span class="str">&lt;head&gt;</span><span class="pln">
    </span><span class="pun">&lt;</span><span class="pln">link rel</span><span class="pun">=</span><span class="str">"describedby"</span><span class="pln"> type</span><span class="pun">=</span><span class="str">"application/csvm+json"</span><span class="pln"> href</span><span class="pun">=</span><span class="str">"metadata.json"</span><span class="pun">/&gt;</span><span class="pln">
    </span><span class="pun">...</span><span class="pln">
  </span><span class="pun">&lt;/</span><span class="pln">head</span><span class="pun">&gt;</span><span class="pln">
</span><span class="pun">&lt;/</span><span class="pln">html</span><span class="pun">&gt;</span></pre></div>
        <p>The preceding example shows an HTTP response for an HTML document containing a <code>link</code> element referencing external metadata, along with an HTTP Link header referencing the same metadata.</p>
        <div class="practice">
          <p><span class="practicelab" id="bp-html-and-http-link-references-must-be-consistent">Best Practice 1: HTML and HTTP Link references must be consistent</span></p>
          <p class="practicedesc">If using both HTML <code>link</code> and HTTP Link it is important to reference the same metadata URI.</p>
        </div>
        <div class="practice">
          <p><span class="practicelab" id="bp-prefer-embedded-metadata">Best Practice 2: Prefer embedded metadata</span></p>
          <p class="practicedesc">To avoid inconsistencies, do not both <a href="#dfn-embedded-metadata" class="internalDFN" data-link-type="dfn">embed metadata</a> and <a href="#dfn-linked-metadata" class="internalDFN" data-link-type="dfn">link metadata</a> as differences in the embedded representation and the linked representation can cause processing inconsistencies.</p>
        </div>
    </section>
  </section>
    <section id="extracting-table-data" typeof="bibo:Chapter" resource="#extracting-table-data" property="bibo:hasPart">
      <!--OddPage--><h2 id="h-extracting-table-data" resource="#h-extracting-table-data"><span property="xhv:role" resource="xhv:heading"><span class="secno">2. </span>Extracting Tabular Data from HTML Tables</span></h2>
      <p>This section describes a mechanism for locating tabular data within an HTML document, extracting tabular data from an identified <cite><a href="http://www.w3.org/TR/html5/tabular-data.html#tabular-data">table element</a></cite>, and processing the tabular data to create <cite><a href="https://www.w3.org/TR/tabular-data-model/#dfn-annotated-table" class="externalDFN">annotated tables</a></cite>.</p>
      <p>In addition to <a href="https://www.w3.org/TR/tabular-data-model/#dfn-tabular-data-file" class="externalDFN">tabular data files</a>, a metadata <a href="https://www.w3.org/TR/tabular-data-model/#dfn-table-id" class="externalDFN">table id</a> may reference an HTML table within an HTML document. A reference within an HTML document is described using a document-relative <em>fragment identifier</em> which is defined using the <code>@id</code> attribute on an <cite><a href="http://www.w3.org/TR/html5/tabular-data.html#tabular-data">HTML <code>table</code> element</a></cite>.</p>
      <div class="practice">
        <p><span class="practicelab" id="bp-include-metadata-and-referenced-html-tables-in-a-single-html-document">Best Practice 3: Include metadata and referenced HTML tables in a single HTML document</span></p>
        <p class="practicedesc">HTML documents which are self contained, including both embedded metadata which references HTML tables contained within the same document, are preferred to HTML tables or CSV files defined externally.</p>
      </div>
      <p>Consideration must be given to the generation of URLs. The standard forms of both JSON [<cite><a class="bibref" href="#bib-csv2json">csv2json</a></cite>] and RDF [<cite><a class="bibref" href="#bib-csv2rdf">csv2rdf</a></cite>] generate URLs by appending a fragment identifier to the table URL to identify rows. Also, unless an explicit <a href="https://www.w3.org/TR/tabular-data-model/#dfn-cell-property-url" class="externalDFN">propertyUrl</a> is defined, RDF properties are also generated using a fragment of the table URL.</p>
      <div class="practice">
        <p><span class="practicelab" id="bp-avoid-automatically-generated-urls">Best Practice 4: Avoid automatically generated URLs</span></p>
        <p class="practicedesc">Explicitly define <a href="https://www.w3.org/TR/tabular-data-model/#dfn-cell-about-url" class="externalDFN">aboutUrl</a>, <a href="https://www.w3.org/TR/tabular-data-model/#dfn-cell-property-url" class="externalDFN">propertyUrl</a>, and <a href="https://www.w3.org/TR/tabular-data-model/#dfn-cell-value-url" class="externalDFN">valueUrl</a>, where appropriate, to avoid using automatically generated URL fragments which conflict with using fragments to identify tables.</p>
      </div>

      <section id="extracting-html-tables" typeof="bibo:Chapter" resource="#extracting-html-tables" property="bibo:hasPart">
        <h3 id="h-extracting-html-tables" resource="#h-extracting-html-tables"><span property="xhv:role" resource="xhv:heading"><span class="secno">2.1 </span>Extracting HTML Tables</span></h3>
        <p>Raw tabular data may be extracted from HTML tables with use of the <a href="https://www.w3.org/TR/tabular-metadata/#dfn-dialect-description" class="externalDFN">dialect description</a> as with CSV tables.</p>
        <ul>
          <li><p>Table rows are numbered starting from <code>1</code>, as with CSV files.</p></li>
          <li><p>The in scope <a href="http://www.w3.org/TR/html5/dom.html#language" class="externalDFN">language</a> of the table element is used as the <a href="https://www.w3.org/TR/tabular-metadata/#cell-language">lang</a> inherited property for <a href="https://www.w3.org/TR/tabular-data-model/#dfn-embedding-metadata" class="externalDFN">embedded metadata</a>.</p></li>
          <li><p>Rows containing only <code>th</code> elements have their <a href="http://www.w3.org/TR/html5/infrastructure.html#textcontent" class="externalDFN">text content</a> used as the <a href="https://www.w3.org/TR/tabular-data-model/#dfn-column-titles" class="externalDFN">column titles</a> in the <a href="https://www.w3.org/TR/tabular-data-model/#dfn-embedding-metadata" class="externalDFN">embedded metadata</a>.</p></li>
          <li><p>Rows containing  <code>td</code> are used as <a href="https://www.w3.org/TR/tabular-data-model/#dfn-row-content" class="externalDFN">row content</a> with the <a href="http://www.w3.org/TR/html5/infrastructure.html#textcontent" class="externalDFN">text content</a> of each <code>td</code> element used as the <a href="https://www.w3.org/TR/tabular-data-model/#dfn-cell-string-value" class="externalDFN">cell string value</a>; such rows may also contain <code>th</code> elements which are treated as data elements.</p></li>
          <li><p><code>caption</code> elements within a <code>table</code> element are ignored.</p></li>
          <li><p><code>th</code> and <code>td</code> elements contained within <code>thead</code>, <code>tbody</code>, or <code>tfoot</code> elements are processed as if they were child elements of the <code>table</code> element.</p></li>
        </ul>
        <p>Processing extracted tables is otherwise handled in a similar manner to CSV as defined in <cite><a href="https://www.w3.org/TR/tabular-data-model/#parsing">Parsing Tabular Data</a></cite> in [<cite><a class="bibref" href="#bib-tabular-data-model">tabular-data-model</a></cite>].</p>
        <div class="note"><div class="note-title" aria-level="4" role="heading" id="h-note2"><span>Note</span></div><p class="">Processors using a <cite><a href="https://www.w3.org/DOM/">Document Object Model Model</a></cite> [<cite><a class="bibref" href="#bib-DOM">DOM</a></cite>] may have their content coerced to a normalized including optional elements such as <code>tbody</code>.</p></div>
        <div class="practice">
          <p><span class="practicelab" id="bp-header-rows-proceed-content-rows">Best Practice 5: Header rows proceed content rows</span></p>
          <p class="practicedesc">Tables should be organized with the first rows containing only <code>th</code> elements to describe column headers. Subsequent rows should contain only <code>td</code> elements to describe table data.</p>
        </div>
        <div class="practice">
          <p><span class="practicelab" id="bp-avoid-use-of-colspan-and-rowspan-attributes">Best Practice 6: Avoid use of <code>@colspan</code> and <code>@rowspan</code> attributes</span></p>
          <p class="practicedesc">The processing algorithm for tabular data does not account for differences in column counts and row counts that might be present in HTML tables using the <code>@colspan</code> and/or <code>@rowspan</code> attributes; use of these attributes should be avoided. Note that a header row containing <code>@colspan</code>, or a data column containing <code>@rowspan</code> may be ignored using appropriate <a href="https://www.w3.org/TR/tabular-metadata/#dfn-dialect-description" class="externalDFN">dialect descriptions</a>.</p>
        </div>
      </section>
      <section id="html-example" typeof="bibo:Chapter" resource="#html-example" property="bibo:hasPart">
        <h3 id="h-html-example" resource="#h-html-example"><span property="xhv:role" resource="xhv:heading"><span class="secno">2.2 </span>Example</span></h3>
        <p>The following tables are identified using <a href="#countries"><code>#countries</code></a> and <a href="#country_slice"><code>#country_slice</code></a>:</p>
        <table id="countries">
          <caption>Countries</caption>
          <tbody><tr><th>countryCode</th><th>latitude</th><th>longitude</th><th>name</th></tr>
          <tr><td>AD</td><td>42.5</td><td>1.6</td><td>Andorra</td></tr>
          <tr><td>AE</td><td>23.4</td><td>53.8</td><td>United Arab Emirates</td></tr>
          <tr><td>AF</td><td>33.9</td><td>67.7</td><td>Afghanistan</td></tr>
        </tbody></table>
        <table id="country_slice">
          <caption>Country Slice</caption>
          <tbody><tr><th>countryRef</th><th>year</th><th>population</th></tr>
          <tr><td>AF</td><td>1960</td><td>9616353</td></tr>
          <tr><td>AF</td><td>1961</td><td>9799379</td></tr>
          <tr><td>AF</td><td>1962</td><td>9989846</td></tr>
        </tbody></table>
        <div class="example"><div class="example-title"><span>Example 3</span><span style="text-transform: none">: Referenced HTML tables</span></div><pre class="example highlight prettyprint prettyprinted" style=""><span class="tag">&lt;table</span><span class="pln"> </span><span class="atn">id</span><span class="pun">=</span><span class="atv">"countries"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;caption&gt;</span><span class="pln">Countries</span><span class="tag">&lt;/caption&gt;</span><span class="pln">
  </span><span class="tag">&lt;tr&gt;&lt;th&gt;</span><span class="pln">countryCode</span><span class="tag">&lt;/th&gt;&lt;th&gt;</span><span class="pln">latitude</span><span class="tag">&lt;/th&gt;&lt;th&gt;</span><span class="pln">longitude</span><span class="tag">&lt;/th&gt;&lt;th&gt;</span><span class="pln">name</span><span class="tag">&lt;/th&gt;&lt;/tr&gt;</span><span class="pln">
  </span><span class="tag">&lt;tr&gt;&lt;td&gt;</span><span class="pln">AD</span><span class="tag">&lt;/td&gt;&lt;td&gt;</span><span class="pln">42.5</span><span class="tag">&lt;/td&gt;&lt;td&gt;</span><span class="pln">1.6</span><span class="tag">&lt;/td&gt;&lt;td&gt;</span><span class="pln">Andorra</span><span class="tag">&lt;/td&gt;&lt;/tr&gt;</span><span class="pln">
  </span><span class="tag">&lt;tr&gt;&lt;td&gt;</span><span class="pln">AE</span><span class="tag">&lt;/td&gt;&lt;td&gt;</span><span class="pln">23.4</span><span class="tag">&lt;/td&gt;&lt;td&gt;</span><span class="pln">53.8</span><span class="tag">&lt;/td&gt;&lt;td&gt;</span><span class="pln">United Arab Emirates</span><span class="tag">&lt;/td&gt;&lt;/tr&gt;</span><span class="pln">
  </span><span class="tag">&lt;tr&gt;&lt;td&gt;</span><span class="pln">AF</span><span class="tag">&lt;/td&gt;&lt;td&gt;</span><span class="pln">33.9</span><span class="tag">&lt;/td&gt;&lt;td&gt;</span><span class="pln">67.7</span><span class="tag">&lt;/td&gt;&lt;td&gt;</span><span class="pln">Afghanistan</span><span class="tag">&lt;/td&gt;&lt;/tr&gt;</span><span class="pln">
</span><span class="tag">&lt;/table&gt;</span><span class="pln">
</span><span class="tag">&lt;table</span><span class="pln"> </span><span class="atn">id</span><span class="pun">=</span><span class="atv">"country_slice"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;caption&gt;</span><span class="pln">Country Slice</span><span class="tag">&lt;/caption&gt;</span><span class="pln">
  </span><span class="tag">&lt;tr&gt;&lt;th&gt;</span><span class="pln">countryRef</span><span class="tag">&lt;/th&gt;&lt;th&gt;</span><span class="pln">year</span><span class="tag">&lt;/th&gt;&lt;th&gt;</span><span class="pln">population</span><span class="tag">&lt;/th&gt;&lt;/tr&gt;</span><span class="pln">
  </span><span class="tag">&lt;tr&gt;&lt;td&gt;</span><span class="pln">AF</span><span class="tag">&lt;/td&gt;&lt;td&gt;</span><span class="pln">1960</span><span class="tag">&lt;/td&gt;&lt;td&gt;</span><span class="pln">9616353</span><span class="tag">&lt;/td&gt;&lt;/tr&gt;</span><span class="pln">
  </span><span class="tag">&lt;tr&gt;&lt;td&gt;</span><span class="pln">AF</span><span class="tag">&lt;/td&gt;&lt;td&gt;</span><span class="pln">1961</span><span class="tag">&lt;/td&gt;&lt;td&gt;</span><span class="pln">9799379</span><span class="tag">&lt;/td&gt;&lt;/tr&gt;</span><span class="pln">
  </span><span class="tag">&lt;tr&gt;&lt;td&gt;</span><span class="pln">AF</span><span class="tag">&lt;/td&gt;&lt;td&gt;</span><span class="pln">1962</span><span class="tag">&lt;/td&gt;&lt;td&gt;</span><span class="pln">9989846</span><span class="tag">&lt;/td&gt;&lt;/tr&gt;</span><span class="pln">
</span><span class="tag">&lt;/table&gt;</span></pre></div>
        <p>The metadata is describe here in a <code>script</code> element:</p>
        <div class="example"><div class="example-title"><span>Example 4</span></div><pre class="example"><script type="application/csvm+json">
{
  "@context": "http://www.w3.org/ns/csvw",
  "tables": [{
    "url": "#countries",
    "tableSchema": {
      "columns": [{
        "name": "countryCode",
        "titles": "countryCode",
        "datatype": "string",
        "propertyUrl": "http://www.geonames.org/ontology{#_name}"
      }, {
        "name": "latitude",
        "titles": "latitude",
        "datatype": "number"
      }, {
        "name": "longitude",
        "titles": "longitude",
        "datatype": "number"
      }, {
        "name": "name",
        "titles": "name",
        "datatype": "string"
      }],
      "aboutUrl": "http://example.org/#countries-{countryCode}",
      "propertyUrl": "http://schema.org/{_name}",
      "primaryKey": "countryCode"
    }
  }, {
    "url": "#country_slice",
    "tableSchema": {
      "columns": [{
        "name": "countryRef",
        "titles": "countryRef",
        "propertyUrl": "http://dbpedia.org/ontology/locationCountry",
        "valueUrl": "http://example.org/#countries-{countryRef}"
      }, {
        "name": "year",
        "titles": "year",
        "propertyUrl": "http://dbpedia.org/property/urbanAreaDate",
        "datatype": "gYear"
      }, {
        "name": "population",
        "titles": "population",
        "propertyUrl": "http://www.geonames.org/ontology/population",
        "datatype": "integer"
      }],
      "foreignKeys": [{
        "columnReference": "countryRef",
        "reference": {
          "resource": "#countries",
          "columnReference": "countryCode"
        }
      }]
    }
  }]
}
</script></pre></div>
        <p>Generating Minimal JSON from this document should result in the following:</p>
        <div class="example"><div class="example-title"><span>Example 5</span><span style="text-transform: none">: Minimal JSON output</span></div><pre class="example">[
  {
    "@id": "http://example.org/#countries-AD",
    "http://www.geonames.org/ontology#countryCode": "AD",
    "schema:latitude": 42.5,
    "schema:longitude": 1.6,
    "schema:name": "Andorra"
  },
  {
    "@id": "http://example.org/#countries-AE",
    "http://www.geonames.org/ontology#countryCode": "AE",
    "schema:latitude": 23.4,
    "schema:longitude": 53.8,
    "schema:name": "United Arab Emirates"
  },
  {
    "@id": "http://example.org/#countries-AF",
    "http://www.geonames.org/ontology#countryCode": "AF",
    "schema:latitude": 33.9,
    "schema:longitude": 67.7,
    "schema:name": "Afghanistan"
  },
  {
    "http://dbpedia.org/ontology/locationCountry": "http://example.org/#countries-AF",
    "http://dbpedia.org/property/urbanAreaDate": "1960",
    "http://www.geonames.org/ontology/population": 9616353
  },
  {
    "http://dbpedia.org/ontology/locationCountry": "http://example.org/#countries-AF",
    "http://dbpedia.org/property/urbanAreaDate": "1961",
    "http://www.geonames.org/ontology/population": 9799379
  },
  {
    "http://dbpedia.org/ontology/locationCountry": "http://example.org/#countries-AF",
    "http://dbpedia.org/property/urbanAreaDate": "1962",
    "http://www.geonames.org/ontology/population": 9989846
  }
]</pre></div>
        <p>Generating Minimal RDF from this document should result in the following:</p>
        <div class="example"><div class="example-title"><span>Example 6</span><span style="text-transform: none">: Minimal RDF output</span></div><pre class="example">@prefix geonames: &lt;http://www.geonames.org/ontology#&gt; .
@prefix schema: &lt;http://schema.org/&gt; .
@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .

&lt;http://example.org/#countries-AD&gt; schema:latitude 4.25e1;
   schema:longitude 1.6e0;
   schema:name "Andorra";
   geonames:countryCode "AD" .

&lt;http://example.org/#countries-AE&gt; schema:latitude 2.34e1;
   schema:longitude 5.38e1;
   schema:name "United Arab Emirates";
   geonames:countryCode "AE" .

&lt;http://example.org/#countries-AF&gt; schema:latitude 3.39e1;
   schema:longitude 6.77e1;
   schema:name "Afghanistan";
   geonames:countryCode "AF" .

 [
     &lt;http://dbpedia.org/ontology/locationCountry&gt; &lt;http://example.org/#countries-AF&gt;;
     &lt;http://dbpedia.org/property/urbanAreaDate&gt; "1962"^^xsd:gYear;
     &lt;http://www.geonames.org/ontology/population&gt; 9989846
 ] .

 [
     &lt;http://dbpedia.org/ontology/locationCountry&gt; &lt;http://example.org/#countries-AF&gt;;
     &lt;http://dbpedia.org/property/urbanAreaDate&gt; "1961"^^xsd:gYear;
     &lt;http://www.geonames.org/ontology/population&gt; 9799379
 ] .

 [
     &lt;http://dbpedia.org/ontology/locationCountry&gt; &lt;http://example.org/#countries-AF&gt;;
     &lt;http://dbpedia.org/property/urbanAreaDate&gt; "1960"^^xsd:gYear;
     &lt;http://www.geonames.org/ontology/population&gt; 9616353
 ] .</pre></div>
      </section>
    </section>
    <section id="extracting-tabular-data-from-embedded-csv" typeof="bibo:Chapter" resource="#extracting-tabular-data-from-embedded-csv" property="bibo:hasPart">
      <!--OddPage--><h2 id="h-extracting-tabular-data-from-embedded-csv" resource="#h-extracting-tabular-data-from-embedded-csv"><span property="xhv:role" resource="xhv:heading"><span class="secno">3. </span>Extracting Tabular Data from embedded CSV</span></h2>
      <p>This section describes a mechanism for locating tabular data within an HTML document, extracting tabular data from an identified <cite><a href="https://www.w3.org/TR/html5/scripting-1.html#the-script-element"><code>script</code> element</a></cite>, and processing the tabular data to create <cite><a href="https://www.w3.org/TR/tabular-data-model/#dfn-annotated-table" class="externalDFN">annotated tables</a></cite>.</p>
      <p>In addition to <a href="#dfn-embedded-metadata" class="internalDFN" data-link-type="dfn">embedded metadata</a>, CSV data may also be embedded within HTML using a <cite><a href="https://www.w3.org/TR/html5/scripting-1.html#the-script-element"><code>script</code> element</a></cite>. The general provisions and access patterns described in <a href="#extracting-table-data" class="sectionRef sec-ref">section <span class="secno">2.</span> <span class="sec-title">Extracting Tabular Data from HTML Tables</span></a> apply for embedded CSV data.</p>
      <section id="csv-example" typeof="bibo:Chapter" resource="#csv-example" property="bibo:hasPart">
        <h3 id="h-csv-example" resource="#h-csv-example"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.1 </span>Example</span></h3>
        <p>The following CSV <code>script</code> elements are identified using <a href="#countries"><code>#countries</code></a> and <a href="#country_slice"><code>#country_slice</code></a>:</p>
        <div class="example"><div class="example-title"><span>Example 7</span><span style="text-transform: none">: Referenced CSV data</span></div><pre class="example highlight prettyprint prettyprinted" style=""><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">id</span><span class="pun">=</span><span class="atv">"countries"</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"text/csv"</span><span class="tag">&gt;</span><span class="pln">
countryCode</span><span class="pun">,</span><span class="pln">latitude</span><span class="pun">,</span><span class="pln">longitude</span><span class="pun">,</span><span class="pln">name
AD</span><span class="pun">,</span><span class="lit">42.5</span><span class="pun">,</span><span class="lit">1.6</span><span class="pun">,</span><span class="typ">Andorra</span><span class="pln">
AE</span><span class="pun">,</span><span class="lit">23.4</span><span class="pun">,</span><span class="lit">53.8</span><span class="pun">,</span><span class="str">"United Arab Emirates"</span><span class="pln">
AF</span><span class="pun">,</span><span class="lit">33.9</span><span class="pun">,</span><span class="lit">67.7</span><span class="pun">,</span><span class="typ">Afghanistan</span><span class="pln">
</span><span class="tag">&lt;/script&gt;</span><span class="pln">

</span><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">id</span><span class="pun">=</span><span class="atv">"country_slice"</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"text/csv"</span><span class="tag">&gt;</span><span class="pln">
countryRef</span><span class="pun">,</span><span class="pln">year</span><span class="pun">,</span><span class="pln">population
AF</span><span class="pun">,</span><span class="lit">1960</span><span class="pun">,</span><span class="lit">9616353</span><span class="pln">
AF</span><span class="pun">,</span><span class="lit">1961</span><span class="pun">,</span><span class="lit">9799379</span><span class="pln">
AF</span><span class="pun">,</span><span class="lit">1962</span><span class="pun">,</span><span class="lit">9989846</span><span class="pln">
</span><span class="tag">&lt;/script&gt;</span></pre></div>
        <p>The metadata shown in <a href="#html-example" class="sectionRef sec-ref">section <span class="secno">2.2</span> <span class="sec-title">Example</span></a> can be used to access embedded CSV as well as HTML tables.</p>
      </section>
    </section>
  

<section id="references" class="appendix" typeof="bibo:Chapter" resource="#references" property="bibo:hasPart"><!--OddPage--><h2 id="h-references" resource="#h-references"><span property="xhv:role" resource="xhv:heading"><span class="secno">A. </span>References</span></h2><section id="informative-references" typeof="bibo:Chapter" resource="#informative-references" property="bibo:hasPart"><h3 id="h-informative-references" resource="#h-informative-references"><span property="xhv:role" resource="xhv:heading"><span class="secno">A.1 </span>Informative references</span></h3><dl class="bibliography" resource=""><dt id="bib-DOM">[DOM]</dt><dd>Anne van Kesteren; Aryeh Gregor; Ms2ger; Alex Russell; Robin Berjon. <a href="http://www.w3.org/TR/dom/" property="dc:references"><cite>W3C DOM4</cite></a>. 19 November 2015. W3C Recommendation. URL: <a href="http://www.w3.org/TR/dom/" property="dc:references">http://www.w3.org/TR/dom/</a>
</dd><dt id="bib-RFC3986">[RFC3986]</dt><dd>T. Berners-Lee; R. Fielding; L. Masinter. <a href="https://tools.ietf.org/html/rfc3986" property="dc:references"><cite>Uniform Resource Identifier (URI): Generic Syntax</cite></a>. January 2005. Internet Standard. URL: <a href="https://tools.ietf.org/html/rfc3986" property="dc:references">https://tools.ietf.org/html/rfc3986</a>
</dd><dt id="bib-csv2json">[csv2json]</dt><dd>Jeremy Tandy; Ivan Herman. <a href="http://www.w3.org/TR/csv2json/" property="dc:references"><cite>Generating JSON from Tabular Data on the Web</cite></a>. 17 December 2015. W3C Recommendation. URL: <a href="http://www.w3.org/TR/csv2json/" property="dc:references">http://www.w3.org/TR/csv2json/</a>
</dd><dt id="bib-csv2rdf">[csv2rdf]</dt><dd>Jeremy Tandy; Ivan Herman; Gregg Kellogg. <a href="http://www.w3.org/TR/csv2rdf/" property="dc:references"><cite>Generating RDF from Tabular Data on the Web</cite></a>. 17 December 2015. W3C Recommendation. URL: <a href="http://www.w3.org/TR/csv2rdf/" property="dc:references">http://www.w3.org/TR/csv2rdf/</a>
</dd><dt id="bib-html5">[html5]</dt><dd>Ian Hickson; Robin Berjon; Steve Faulkner; Travis Leithead; Erika Doyle Navara; Edward O'Connor; Silvia Pfeiffer. <a href="http://www.w3.org/TR/html5/" property="dc:references"><cite>HTML5</cite></a>. 28 October 2014. W3C Recommendation. URL: <a href="http://www.w3.org/TR/html5/" property="dc:references">http://www.w3.org/TR/html5/</a>
</dd><dt id="bib-json-ld">[json-ld]</dt><dd>Manu Sporny; Gregg Kellogg; Markus Lanthaler. <a href="http://www.w3.org/TR/json-ld/" property="dc:references"><cite>JSON-LD 1.0</cite></a>. 16 January 2014. W3C Recommendation. URL: <a href="http://www.w3.org/TR/json-ld/" property="dc:references">http://www.w3.org/TR/json-ld/</a>
</dd><dt id="bib-tabular-data-model">[tabular-data-model]</dt><dd>Jeni Tennison; Gregg Kellogg. <a href="http://www.w3.org/TR/tabular-data-model/" property="dc:references"><cite>Model for Tabular Data and Metadata on the Web</cite></a>. 17 December 2015. W3C Recommendation. URL: <a href="http://www.w3.org/TR/tabular-data-model/" property="dc:references">http://www.w3.org/TR/tabular-data-model/</a>
</dd><dt id="bib-tabular-metadata">[tabular-metadata]</dt><dd>Jeni Tennison; Gregg Kellogg. <a href="http://www.w3.org/TR/tabular-metadata/" property="dc:references"><cite>Metadata Vocabulary for Tabular Data</cite></a>. 17 December 2015. W3C Recommendation. URL: <a href="http://www.w3.org/TR/tabular-metadata/" property="dc:references">http://www.w3.org/TR/tabular-metadata/</a>
</dd></dl></section></section></body></html>
<p>{{ ApiRef(“Battery API”) }}</p>
<p>The <strong><code>getBattery()</code></strong> method provides information about the system’s battery. It returns a battery promise, which is resolved in a {{domxref(“BatteryManager”)}} object providing also some new events you can handle to monitor the battery status. This implements the <a href="/en-US/docs/Web/API/Battery_Status_API">Battery Status API</a>; see that documentation for additional details, a guide to using the API, and sample code.</p>
<blockquote>
<p><strong>Note:</strong> In some browsers access to this feature is controlled by the {{HTTPHeader(“Feature-Policy”)}} directive {{HTTPHeader(“Feature-Policy/battery”,“battery”)}}.</p>
</blockquote>
<h2 id="syntax">Syntax</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="va">navigator</span>.<span class="at">getBattery</span>()</a></code></pre></div>
<h3 id="return-value">Return value</h3>
<p>A {{JSxRef(“Promise”)}} which, when resolved, calls its fulfillment handler with a single parameter: a {{DOMxRef(“BatteryManager”)}} object which you can use to get information about the battery’s state.</p>
<h2 id="exceptions">Exceptions</h2>
<p>This method doesn’t throw true exceptions; instead, it rejects the returned promise, passing into it a {{domxref(“DOMException”)}} whose <code>name</code> is one of the following:</p>
<ul>
<li><p><code>SecurityError</code></p>
<ul>
<li><p>: The User Agent does not expose battery information to insecure contexts and this method was called from insecure context.</p>
<blockquote>
<p><strong>Note:</strong> Old versions of some User Agents might allow use of this feature in insecure contexts.</p>
</blockquote></li>
</ul></li>
<li><p><code>NotAllowedError</code></p>
<ul>
<li>: No User Agent currently throws this exception, but the specification describes the following behaviors: &gt; This document is not allowed to use this feature. &gt; For example, it might not be explicitly allowed or restricted via {{HTTPHeader(“Feature-Policy”)}} {{HTTPHeader(“Feature-Policy/battery”, “battery”)}} feature.</li>
</ul></li>
</ul>
<h2 id="example">Example</h2>
<p>This example fetches the current charging state of the battery and establishes a handler for the {{Event(“chargingchange”)}} event, so that the charging state is recorded whenever it changes.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">let</span> batteryIsCharging <span class="op">=</span> <span class="kw">false</span><span class="op">;</span></a>
<a class="sourceLine" id="cb2-2" title="2"></a>
<a class="sourceLine" id="cb2-3" title="3"><span class="va">navigator</span>.<span class="at">getBattery</span>().<span class="at">then</span>(<span class="kw">function</span>(battery) <span class="op">{</span></a>
<a class="sourceLine" id="cb2-4" title="4">  batteryIsCharging <span class="op">=</span> <span class="va">battery</span>.<span class="at">charging</span><span class="op">;</span></a>
<a class="sourceLine" id="cb2-5" title="5"></a>
<a class="sourceLine" id="cb2-6" title="6">  <span class="va">battery</span>.<span class="at">addEventListener</span>(<span class="st">&#39;chargingchange&#39;</span><span class="op">,</span> <span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb2-7" title="7">    batteryIsCharging <span class="op">=</span> <span class="va">battery</span>.<span class="at">charging</span><span class="op">;</span></a>
<a class="sourceLine" id="cb2-8" title="8">  <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-9" title="9"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>For more examples and details, see <a href="/en-US/docs/Web/API/Battery_Status_API">Battery Status API</a>.</p>
<h2 id="specifications">Specifications</h2>
<p>{{Specifications}}</p>
<h2 id="browser-compatibility">Browser compatibility</h2>
<p>{{Compat}}</p>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="/en-US/docs/Web/API/Battery_Status_API">Battery Status API</a></li>
<li><code>Feature-Policy</code> {{HTTPHeader(“Feature-Policy/battery”, “battery”)}} feature</li>
</ul>

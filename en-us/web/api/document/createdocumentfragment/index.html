<p>{{APIRef(“DOM WHATWG”)}}</p>
<p>Creates a new empty {{domxref(“DocumentFragment”)}} into which DOM nodes can be added to build an offscreen DOM tree.</p>
<h2 id="syntax">Syntax</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">var</span> fragment <span class="op">=</span> <span class="va">document</span>.<span class="at">createDocumentFragment</span>()<span class="op">;</span></a></code></pre></div>
<h3 id="value">Value</h3>
<p>A newly created, empty, {{domxref(“DocumentFragment”)}} object, which is ready to have nodes inserted into it.</p>
<h2 id="usage-notes">Usage notes</h2>
<p><code>DocumentFragment</code>s are DOM {{domxref(“Node”)}} objects which are never part of the main DOM tree. The usual use case is to create the document fragment, append elements to the document fragment and then append the document fragment to the DOM tree. In the DOM tree, the document fragment is replaced by all its children.</p>
<p>Since the document fragment is <em>in memory</em> and not part of the main DOM tree, appending children to it does not cause page <a href="https://developers.google.com/speed/articles/reflow?csw=1">reflow</a> (computation of element’s position and geometry). Historically, using document fragments could result in <a href="http://ejohn.org/blog/dom-documentfragments/">better performance</a>.</p>
<p>You can also use the <code>DocumentFragment</code> constructor to create a new fragment:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">let</span> fragment <span class="op">=</span> <span class="kw">new</span> <span class="at">DocumentFragment</span>()<span class="op">;</span></a></code></pre></div>
<h2 id="example">Example</h2>
<p>This example creates a list of major web browsers in a <code>DocumentFragment</code>, then adds the new DOM subtree to the document to be displayed.</p>
<h3 id="html">HTML</h3>
<div class="sourceCode" id="cb3"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb3-1" title="1"><span class="kw">&lt;ul</span><span class="ot"> id=</span><span class="st">&quot;ul&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb3-2" title="2"><span class="kw">&lt;/ul&gt;</span></a></code></pre></div>
<h3 id="javascript">JavaScript</h3>
<div class="sourceCode" id="cb4"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1"><span class="kw">var</span> element  <span class="op">=</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&#39;ul&#39;</span>)<span class="op">;</span> <span class="co">// assuming ul exists</span></a>
<a class="sourceLine" id="cb4-2" title="2"><span class="kw">var</span> fragment <span class="op">=</span> <span class="va">document</span>.<span class="at">createDocumentFragment</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb4-3" title="3"><span class="kw">var</span> browsers <span class="op">=</span> [<span class="st">&#39;Firefox&#39;</span><span class="op">,</span> <span class="st">&#39;Chrome&#39;</span><span class="op">,</span> <span class="st">&#39;Opera&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb4-4" title="4">    <span class="st">&#39;Safari&#39;</span><span class="op">,</span> <span class="st">&#39;Internet Explorer&#39;</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb4-5" title="5"></a>
<a class="sourceLine" id="cb4-6" title="6"><span class="va">browsers</span>.<span class="at">forEach</span>(<span class="kw">function</span>(browser) <span class="op">{</span></a>
<a class="sourceLine" id="cb4-7" title="7">    <span class="kw">var</span> li <span class="op">=</span> <span class="va">document</span>.<span class="at">createElement</span>(<span class="st">&#39;li&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-8" title="8">    <span class="va">li</span>.<span class="at">textContent</span> <span class="op">=</span> browser<span class="op">;</span></a>
<a class="sourceLine" id="cb4-9" title="9">    <span class="va">fragment</span>.<span class="at">appendChild</span>(li)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-10" title="10"><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-11" title="11"></a>
<a class="sourceLine" id="cb4-12" title="12"><span class="va">element</span>.<span class="at">appendChild</span>(fragment)<span class="op">;</span></a></code></pre></div>
<h3 id="result">Result</h3>
<p>{{EmbedLiveSample(“Example”, 600, 140)}}</p>
<h2 id="specifications">Specifications</h2>
<p>{{Specifications}}</p>
<h2 id="browser-compatibility">Browser compatibility</h2>
<p>{{Compat}}</p>
<h2 id="see-also">See also</h2>
<ul>
<li>{{domxref(“DOMImplementation.createDocument”, “document.implementation.createDocument()”)}}</li>
<li>{{domxref(“documentFragment”)}}</li>
</ul>

<p>{{APIRef(“WebRTC”)}}</p>
<p>The <strong><code>RTCDataChannel.onclose</code></strong> property is an <a href="/en-US/docs/Web/Events/Event_handlers">event handler</a> which specifies a function to be called by the browser when the {{DOMxRef(“RTCDataChannel.close_event”, “close”)}} event is received by the {{domxref(“RTCDataChannel”)}}. This is a simple {{domxref(“Event”)}} which indicates that the data channel has closed down.</p>
<h2 id="syntax">Syntax</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="va">RTCDataChannel</span>.<span class="at">onclose</span> <span class="op">=</span> <span class="kw">function</span><span class="op">;</span></a></code></pre></div>
<h3 id="value">Value</h3>
<p>A function which the browser will call to handle the {{DOMxRef(“RTCDataChannel.close_event”, “close”)}} event. The function receives as its sole input parameter the event itself, as an object of type {{domxref(“Event”)}}.</p>
<h2 id="example">Example</h2>
<p>In this sample from a hypothetical instant messaging client, a data channel is created, then handlers for the {{DOMxRef(“RTCDataChannel.open_event”, “open”)}} and {{DOMxRef(“RTCDataChannel.close_event”, “close”)}} events are set up to enable and disable user interface objects based on the state of the channel. This way, the message entry field and the send button are only enabled for use when the connection is actually open.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">let</span> pc <span class="op">=</span> <span class="kw">new</span> <span class="at">RTCPeerConnection</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb2-2" title="2"><span class="kw">let</span> dc <span class="op">=</span> <span class="va">pc</span>.<span class="at">createDataChannel</span>(<span class="st">&quot;MessageChannel&quot;</span>)}}<span class="op">;</span></a>
<a class="sourceLine" id="cb2-3" title="3"></a>
<a class="sourceLine" id="cb2-4" title="4"><span class="va">dc</span>.<span class="at">onopen</span> <span class="op">=</span> <span class="kw">function</span>(event) <span class="op">{</span></a>
<a class="sourceLine" id="cb2-5" title="5">  <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;messageBox&quot;</span>).<span class="at">disabled</span> <span class="op">=</span> <span class="kw">false</span><span class="op">;</span></a>
<a class="sourceLine" id="cb2-6" title="6">  <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;sendButton&quot;</span>).<span class="at">disabled</span> <span class="op">=</span> <span class="kw">false</span><span class="op">;</span></a>
<a class="sourceLine" id="cb2-7" title="7"><span class="op">};</span></a>
<a class="sourceLine" id="cb2-8" title="8"></a>
<a class="sourceLine" id="cb2-9" title="9"><span class="va">dc</span>.<span class="at">onclose</span> <span class="op">=</span> <span class="kw">function</span>(event) <span class="op">{</span></a>
<a class="sourceLine" id="cb2-10" title="10">  <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;messageBox&quot;</span>).<span class="at">disabled</span> <span class="op">=</span> <span class="kw">true</span><span class="op">;</span></a>
<a class="sourceLine" id="cb2-11" title="11">  <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;sendButton&quot;</span>).<span class="at">disabled</span> <span class="op">=</span> <span class="kw">true</span><span class="op">;</span></a>
<a class="sourceLine" id="cb2-12" title="12"><span class="op">}</span></a>
<a class="sourceLine" id="cb2-13" title="13"></a>
<a class="sourceLine" id="cb2-14" title="14"><span class="co">/* Now negotiate the connection, etc... */</span></a></code></pre></div>
<h2 id="specifications">Specifications</h2>
<p>{{Specifications}}</p>
<h2 id="browser-compatibility">Browser compatibility</h2>
<p>{{Compat}}</p>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="/en-US/docs/Web/API/WebRTC_API">WebRTC</a></li>
<li>The {{DOMxRef(“RTCDataChannel.close_event”, “close”)}} event and its type, {{domxref(“Event”)}}.</li>
<li>{{domxref(“RTCDataChannel.onopen”)}}</li>
<li>The {{DOMxRef(“RTCDataChannel.open_event”, “open”)}} event and its type, {{domxref(“Event”)}}.</li>
</ul>

<p>{{APIRef(“WebRTC”)}}{{deprecated_header}}</p>
<p>The obsolete <strong><code>addstream</code></strong> event is sent to an {{domxref(“RTCPeerConnection”)}} when new media, in the form of a {{domxref(“MediaStream”)}} object, has been added to it.</p>
<blockquote>
<p><strong>Warning:</strong> This event has been removed from the WebRTC specification. You should instead watch for the {{domxref(“RTCPeerConnection.track_event”, “track”)}} event, which is sent for each media track added to the <code>RTCPeerConnection</code>.</p>
</blockquote>
<table class="properties">
<tbody>
<tr>
<th scope="row">
Bubbles
</th>
<td>
No
</td>
</tr>
<tr>
<th scope="row">
Cancelable
</th>
<td>
No
</td>
</tr>
<tr>
<th scope="row">
Interface
</th>
<td>
{{DOMxRef(“MediaStreamEvent”)}}
</td>
</tr>
<tr>
<th scope="row">
Event handler property
</th>
<td>
{{DOMxRef(“RTCPeerconnection.onaddstream”)}}
</td>
</tr>
</tbody>
</table>
<p>You can, similarly, watch for streams to be removed from the connection by monitoring the {{domxref(“RTCPeerConnection.removestream_event”, “removestream”)}} event.</p>
<h2 id="examples">Examples</h2>
<p>This example looks to determine if the user’s browser supports the {{domxref(“RTCPeerConnection.track_event”, “track”)}} event. If it does, a <code>track</code> event listener is set up; otherwise, an <code>addstream</code> event listener is set up. <code>pc</code> is an <code>RTCPeerConnection</code>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="cf">if</span> (<span class="va">pc</span>.<span class="at">addTrack</span> <span class="op">!==</span> <span class="kw">undefined</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb1-2" title="2">  <span class="va">pc</span>.<span class="at">ontrack</span> <span class="op">=</span> ev <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb1-3" title="3">    <span class="va">ev</span>.<span class="va">streams</span>.<span class="at">forEach</span>(stream <span class="kw">=&gt;</span> <span class="at">doAddStream</span>(stream))<span class="op">;</span></a>
<a class="sourceLine" id="cb1-4" title="4">  <span class="op">}</span></a>
<a class="sourceLine" id="cb1-5" title="5"><span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb1-6" title="6">  <span class="va">pc</span>.<span class="at">onaddstream</span> <span class="op">=</span> ev <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb1-7" title="7">    <span class="at">doAddStream</span>(<span class="va">ev</span>.<span class="at">stream</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-8" title="8">  <span class="op">}</span></a>
<a class="sourceLine" id="cb1-9" title="9"><span class="op">}</span></a></code></pre></div>
<p>This calls a function <code>doAddStream()</code> once for each stream being added to the {{domxref(“RTCPeerConnection”)}}, regardless of whether the browser sends <code>addstream</code> or <code>track</code>.</p>
<p>You can also use the {{domxref(“EventTarget.addEventListener”, “addEventListener()”)}} method to set an event listener:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="va">pc</span>.<span class="at">addEventListener</span>(<span class="st">&quot;addstream&quot;</span><span class="op">,</span> ev <span class="kw">=&gt;</span> <span class="at">doAddStream</span>(<span class="va">ev</span>.<span class="at">stream</span>)<span class="op">,</span> <span class="kw">false</span>)<span class="op">;</span></a></code></pre></div>
<h2 id="browser-compatibility">Browser compatibility</h2>
<p>{{Compat}}</p>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="/en-US/docs/Web/API/WebRTC_API">WebRTC API</a></li>
<li>{{domxref(“RTCPeerConnection.onaddstream”)}}</li>
<li>{{domxref(“RTCPeerConnection.addStream()”)}}</li>
<li>{{domxref(“MediaStreamEvent”)}}</li>
</ul>

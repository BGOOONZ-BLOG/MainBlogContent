<!doctype html>
<html lang="en">
 <head>

  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">


  <title>SVG Marker Level 1</title>


  <link href="../default.css" rel="stylesheet" type="text/css">


  <link href="https://www.w3.org/StyleSheets/TR/W3C-ED" rel="stylesheet" type="text/css">


  <meta content="Bikeshed 1.0.0" name="generator">
  <style>
dl.attrdef-list dl { margin-top: 1em }
dl.attrdef-list > dt { font-weight: normal }

/* Attribute definition tables */
table.attrdef { border-left-color: #888; border-left-width: 0; background-color: #eee; font-size: 90% }
table.attrdef th, table.attrdef td { border-bottom-color: #ccc }

table.attrdef th:first-child,
table.attrdef td:first-child { width: 16em; padding-left: 0 !important }

table.attrdef th:first-child + th,
table.attrdef td:first-child + td { width: auto }

table.attrdef th:first-child + th + th,
table.attrdef td:first-child + td + td { width: 6em }

table.attrdef th:first-child + th + th + th,
table.attrdef td:first-child + td + td + td { width: 6em; padding-right: 0 !important }
</style>



 </head>


 <body class="h-entry">

  <div class="head">

   <p data-fill-with="logo"></p>

   <h1 class="p-name no-ref" id="title">SVG Marker Level 1</h1>

   <h2 class="no-num no-toc no-ref heading settled" id="subtitle"><span class="content">Editor’s Draft,
    <time class="dt-updated" datetime="2015-02-14">14 February 2015</time></span></h2>

   <div data-fill-with="spec-metadata">
    <dl>
     <dt>This version:
     <dd><a class="u-url" href="http://dev.w3.org/fxtf/motion-1/">http://dev.w3.org/fxtf/motion-1/</a>
     <dt>Feedback:
     <dd><span><a href="mailto:www-svg@w3.org?subject=%5Bsvg-markers%5D%20feedback">www-svg@w3.org</a> with subject line “<kbd>[svg-markers] <var>… message topic …</var></kbd>” (<a href="http://lists.w3.org/Archives/Public/www-svg/" rel="discussion">archives</a>)</span>
     <dt>Issue Tracking:
     <dd><a href="#issues-index">Inline In Spec</a>
     <dt class="editor">Editor:
     <dd class="editor">
      <div class="p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:cam@mcc.id.au">Cameron McCormack</a> (<span class="p-org org">Mozilla Corporation</span>)</div>
    </dl>
   </div>

   <div data-fill-with="warning"></div>

   <p class="copyright" data-fill-with="copyright"><a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 2015 <a href="http://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a href="http://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>, <a href="http://www.ercim.eu/"><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>, <a href="http://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>). W3C <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>, <a href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a href="http://www.w3.org/Consortium/Legal/copyright-documents">document use</a> rules apply.
</p>

   <hr title="Separator for header">
</div>


  <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>

  <div class="p-summary" data-fill-with="abstract">
   <p>Markers are graphical objects that are painted at particular positions along a <a data-link-type="element" href="https://svgwg.org/svg2-draft/paths.html#elementdef-path">path</a>, <a data-link-type="element" href="https://svgwg.org/svg2-draft/shapes.html#elementdef-line">line</a>, <a data-link-type="element" href="https://svgwg.org/svg2-draft/shapes.html#elementdef-polyline">polyline</a> or <a data-link-type="element" href="https://svgwg.org/svg2-draft/shapes.html#elementdef-polygon">polygon</a> element.</p>

</div>


  <h2 class="no-num no-toc no-ref heading settled" id="status"><span class="content">Status of this document</span></h2>

  <div data-fill-with="status">
   <p>
	<em>This section describes the status of this document at the time of
	its publication. Other documents may supersede this document. A list of
	current W3C publications and the latest revision of this technical report
	can be found in the <a href="http://www.w3.org/TR/">W3C technical reports
	index at http://www.w3.org/TR/.</a></em>

</p>
   <p>
	This document is the 14 February 2015 <strong>Editor’s Draft</strong> of SVG Marker Level 1.

</p>
   <p>
	Comments on this Editor’s Draft are welcome. Comments can be sent to
	<a href="mailto:www-svg@w3.org?Subject=%5Bsvg-markers%5D%20PUT%20SUBJECT%20HERE">www-svg@w3.org</a>,
	the public email list for issues related to vector graphics on the Web. This list is
	<a href="http://lists.w3.org/Archives/Public/www-svg/">archived</a> and senders must agree to have their message
	publicly archived from their first posting. To subscribe send an email to
	<a href="mailto:www-svg-request@w3.org?Subject=subscribe">www-svg-request@w3.org</a> with the word <code>subscribe</code>
	in the subject line.

</p>
   <p>
	This document has been produced by the <a href="http://www.w3.org/Graphics/SVG/WG">SVG Working Group</a> as part of the
	<a href="http://www.w3.org/Graphics/Activity">Graphics Activity</a> within the
	<a href="http://www.w3.org/Interaction/">W3C Interaction Domain</a>. The goals of the W3C SVG Working Group are discussed in the
	<a href="https://www.w3.org/Graphics/SVG/svg-2019.html">W3C SVG Charter</a>. The W3C SVG Working Group maintains a
	public Web page, <a href="http://www.w3.org/Graphics/SVG/">http://www.w3.org/Graphics/SVG/</a>, that contains further
	background information. The authors of this document are the SVG Working Group participants.

</p>
   <p>
	This document was produced by a group operating under
	the <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/">5 February 2004 W3C Patent Policy</a>.
	W3C maintains a <a href="http://www.w3.org/2004/01/pp-impl/19480/status" rel="disclosure">public list of any patent disclosures</a>
	made in connection with the deliverables of each group;
	these pages also includes instructions for disclosing a patent.
	An individual who has actual knowledge of a patent which the individual believes contains
	<a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#def-essential">Essential Claim(s)</a>
	must disclose the information in accordance with <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure">section 6 of the W3C Patent Policy</a>.

</p>
   <p>
	A list of current W3C Recommendations and other technical documents can be found at
	<a href="http://www.w3.org/TR/">http://www.w3.org/TR/</a>. W3C publications may be updated, replaced, or
	obsoleted by other documents at any time.
</p></div>

  <div data-fill-with="at-risk"></div>


  <h2 class="no-num no-toc no-ref heading settled" id="contents"><span class="content">Table of contents</span></h2>

  <div data-fill-with="table-of-contents" role="navigation">
   <ul class="toc" role="directory">
    <li><a href="#introduction"><span class="secno">1</span> <span class="content">Introduction</span></a>
    <li><a href="#MarkerElement"><span class="secno">2</span> <span class="content">The <span data-lt="marker">marker</span> element</span></a>
    <li><a href="#MarkerReferences"><span class="secno">3</span> <span class="content">Referencing <span data-lt="marker">marker</span> elements</span></a>
    <li><a href="#VertexMarkerProperties"><span class="secno">4</span> <span class="content">Vertex markers: the <span class="property" data-lt="marker-start">marker-start</span>,
<span class="property" data-lt="marker-mid">marker-mid</span> and <span class="property" data-lt="marker-end">marker-end</span> properties</span></a>
    <li><a href="#SegmentMarkers"><span class="secno">5</span> <span class="content">Segment markers: the <span class="property" data-lt="marker-segment">marker-segment</span> property</span></a>
    <li><a href="#RepeatingMarkers"><span class="secno">6</span> <span class="content">Repeating markers: the <span class="property" data-lt="marker-pattern">marker-pattern</span> property</span></a>
    <li><a href="#MarkerShorthand"><span class="secno">7</span> <span class="content">Marker shorthand: the <span class="property" data-lt="marker">marker</span> property</span></a>
    <li><a href="#MarkerKnockout"><span class="secno">8</span> <span class="content">Knocking out the stroke: the <span class="property" data-lt="marker-knockout-left">marker-knockout-left</span> and <span class="property" data-lt="marker-knockout-right">marker-knockout-right</span> properties</span></a>
    <li><a href="#MarkerAlgorithm"><span class="secno">9</span> <span class="content">Details on how markers are rendered</span></a>
    <li><a href="#conformance"><span class="secno"></span> <span class="content">
Conformance</span></a>
     <ul class="toc">
      <li><a href="#conventions"><span class="secno"></span> <span class="content">
Document conventions</span></a>
      <li><a href="#conformance-classes"><span class="secno"></span> <span class="content">
Conformance classes</span></a>
      <li><a href="#partial"><span class="secno"></span> <span class="content">
Partial implementations</span></a>
      <li><a href="#experimental"><span class="secno"></span> <span class="content">
Experimental implementations</span></a>
      <li><a href="#testing"><span class="secno"></span> <span class="content">
Non-experimental implementations</span></a>
     </ul>
    <li><a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ul class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
      <li><a href="#informative"><span class="secno"></span> <span class="content">Informative References</span></a>
     </ul>
    <li><a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
    <li><a href="#property-index"><span class="secno"></span> <span class="content">Property Index</span></a>
    <li><a href="#issues-index"><span class="secno"></span> <span class="content">Issues Index</span></a>
   </ul></div>

  <main>





   <h2 class="heading settled" data-level="1" id="introduction"><span class="secno">1. </span><span class="content">Introduction</span><a class="self-link" href="#introduction"></a></h2>


   <p>A marker is a graphical object that is painted at particular positions along
a <a data-link-type="element" href="https://svgwg.org/svg2-draft/paths.html#elementdef-path">path</a>, <a data-link-type="element" href="https://svgwg.org/svg2-draft/shapes.html#elementdef-line">line</a>, <a data-link-type="element" href="https://svgwg.org/svg2-draft/shapes.html#elementdef-polyline">polyline</a> or <a data-link-type="element" href="https://svgwg.org/svg2-draft/shapes.html#elementdef-polygon">polygon</a>
element, together known as the <dfn data-dfn-type="dfn" data-noexport="" external="" id="markable-elements">markable elements<a class="self-link" href="#markable-elements"></a></dfn>.  There are four ways
markers can be placed on these elements:</p>


   <ul>

    <li>The <a class="property" data-link-type="propdesc" href="#propdef-marker-start">marker-start</a> and <a class="property" data-link-type="propdesc" href="#propdef-marker-end">marker-end</a> properties
  can be used to place markers at the first and last vertex, and the
  <a class="property" data-link-type="propdesc" href="#propdef-marker-mid">marker-mid</a> property can be used to place markers at every
  other vertex (aside from the first and last).  The <a class="property" data-link-type="propdesc" href="#propdef-marker-start">marker-start</a> and
  <a class="property" data-link-type="propdesc" href="#propdef-marker-end">marker-end</a> can be used for example to add arrowheads to paths.
  Markers placed using these properties are known as
  <dfn data-dfn-type="dfn" data-noexport="" id="vertex-markers">vertex markers<a class="self-link" href="#vertex-markers"></a></dfn>.


    <li>The <a class="property" data-link-type="propdesc" href="#propdef-marker-segment">marker-segment</a> property can be used to place markers
  at the center of every path segment. These markers are known as
  <dfn data-dfn-type="dfn" data-noexport="" external="" id="segment-markers">segment markers<a class="self-link" href="#segment-markers"></a></dfn>.


    <li>The <a class="property" data-link-type="propdesc" href="#propdef-marker-pattern">marker-pattern</a> property can be used to define
  a regular repeating pattern of markers to place along the length of the
  path.  Markers placed with <a class="property" data-link-type="propdesc" href="#propdef-marker-pattern">marker-pattern</a> are known as
  <dfn data-dfn-type="dfn" data-noexport="" external="" id="repeating-markers">repeating markers<a class="self-link" href="#repeating-markers"></a></dfn>.


    <li>A child <a data-link-type="element" href="#elementdef-marker">marker</a> element with a <a data-link-type="element-attr" href="#element-attrdef-marker-position">position</a> attribute
  can be used to place a marker at a particular location along the path.
  Such markers are known as <dfn data-dfn-type="dfn" data-noexport="" external="" id="positioned-markers">positioned markers<a class="self-link" href="#positioned-markers"></a></dfn>.
</ul>


   <p class="issue" id="issue-5ac2c309"><a class="self-link" href="#issue-5ac2c309"></a>There are probably better terms to use than "vertex" and
"segment" markers.  At least, "vertex" would go more naturally with "edge",
but we should use more natural sounding names.</p>


   <p>The graphics for a marker are defined by a <a data-link-type="element" href="#elementdef-marker">marker</a> element.
The <a class="property" data-link-type="propdesc" href="#propdef-marker-start">marker-start</a>, <a class="property" data-link-type="propdesc" href="#propdef-marker-end">marker-end</a>, <a class="property" data-link-type="propdesc" href="#propdef-marker-mid">marker-mid</a>,
<a class="property" data-link-type="propdesc" href="#propdef-marker-segment">marker-segment</a> and <a class="property" data-link-type="propdesc" href="#propdef-marker-pattern">marker-pattern</a> properties, together known
as the <dfn data-dfn-type="dfn" data-noexport="" id="marker-properties">marker properties<a class="self-link" href="#marker-properties"></a></dfn>, reference
<a data-link-type="element" href="#elementdef-marker">marker</a> elements.</p>


   <p>Markers can be animated, and as with <a data-link-type="element" href="https://svgwg.org/svg2-draft/struct.html#elementdef-use">use</a> elements, the animated
effects will show on all current uses of the markers within the document.</p>


   <p>Markers on a given element are painted in the following order, from
bottom to top:</p>



   <ul>
    <li data-md="">
     <p>any marker specified by <a class="property" data-link-type="propdesc" href="#propdef-marker-start">marker-start</a></p>


    <li data-md="">
     <p>alternating <a class="property" data-link-type="propdesc" href="#propdef-marker-mid">marker-mid</a> and <a class="property" data-link-type="propdesc" href="#propdef-marker-segment">marker-segment</a> markers, in order of their position along the path</p>


    <li data-md="">
     <p>any <a data-link-type="dfn" href="#repeating-markers">repeating markers</a>, in order of their position along the path</p>


    <li data-md="">
     <p>any <a data-link-type="dfn" href="#positioned-markers">positioned markers</a>, in document order of the <a data-link-type="element" href="#elementdef-marker">marker</a> element children</p>

</ul>

   <h2 class="heading settled" data-level="2" id="MarkerElement"><span class="secno">2. </span><span class="content">The <a data-link-type="element" href="#elementdef-marker">marker</a> element</span><a class="self-link" href="#MarkerElement"></a></h2>


   <table class="definition-table elementdef">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn data-dfn-type="element" data-export="" id="elementdef-marker">marker<a class="self-link" href="#elementdef-marker"></a></dfn>
     <tr>
      <th>Categories:
      <td><a data-link-type="dfn" dfn="" href="https://svgwg.org/svg2-draft/struct.html#container-element">Container element</a>
     <tr>
      <th>Contexts:
      <td>none
     <tr>
      <th>Content model:
      <td>Any number of the following statements, in order:
       <ul>
        <li><a data-link-type="dfn" href="https://svgwg.org/svg2-draft/animate.html#animation-element">animation elements</a>
        <li><a data-link-type="dfn">descriptive elements</a>
        <li><a data-link-type="dfn">paint server elements</a>
        <li><a data-link-type="dfn">shape elements</a>
        <li><a data-link-type="dfn">structural elements</a>
        <li><a data-link-type="element" href="https://svgwg.org/svg2-draft/linking.html#elementdef-a">a</a>, <a data-link-type="element" href="http://dev.w3.org/fxtf/masking/#elementdef-clippath">clipPath</a>, <a data-link-type="element" href="https://svgwg.org/svg2-draft/interact.html#elementdef-cursor">cursor</a>, <a data-link-type="element" href="http://dev.w3.org/fxtf/filters/#elementdef-filter">filter</a>, <a data-link-type="element" href="https://svgwg.org/svg2-draft/embedded.html#ForeignObjectElement">foreignObject</a>, <a data-link-type="element" href="https://svgwg.org/svg2-draft/embedded.html#elementdef-image">image</a>, <a data-link-type="element" href="#elementdef-marker">marker</a>, <a data-link-type="element" href="http://dev.w3.org/fxtf/masking/#elementdef-mask">mask</a>, <a data-link-type="element" href="https://svgwg.org/svg2-draft/interact.html#elementdef-script">script</a>, <a data-link-type="element" href="https://svgwg.org/svg2-draft/styling.html#elementdef-style">style</a>, <a data-link-type="element" href="https://svgwg.org/svg2-draft/struct.html#elementdef-switch">switch</a>, <a data-link-type="element" href="https://svgwg.org/svg2-draft/text.html#elementdef-text">text</a>, <a data-link-type="element" href="https://svgwg.org/svg2-draft/linking.html#elementdef-view">view</a>
       </ul>
     <tr>
      <th>Attributes:
      <td>
       <ul>
        <li><a data-link-type="element-attr" href="#element-attrdef-marker-refx">refX</a>
        <li><a data-link-type="element-attr" href="#element-attrdef-marker-refy">refY</a>
        <li><a data-link-type="element-attr" href="#element-attrdef-marker-orient">orient</a>
        <li><a data-link-type="element-attr" href="#element-attrdef-marker-viewbox">viewBox</a>
        <li><a data-link-type="element-attr" href="#element-attrdef-marker-preserveaspectratio">preserveAspectRatio</a>
        <li><a data-link-type="element-attr" href="#element-attrdef-marker-markerunits">markerUnits</a>
        <li><a data-link-type="element-attr" href="#element-attrdef-marker-markerwidth">markerWidth</a>
        <li><a data-link-type="element-attr" href="#element-attrdef-marker-markerheight">markerHeight</a>
        <li><a data-link-type="element-attr" href="#element-attrdef-marker-position">position</a>
        <li><a data-link-type="element-attr" href="#element-attrdef-marker-href">href</a>
       </ul>
     <tr>
      <th>DOM Interfaces:
      <td><a class="idl-code" data-link-type="interface" href="https://svgwg.org/svg2-draft/painting.html#InterfaceSVGMarkerElement">SVGMarkerElement</a></table>




   <p>The <a data-link-type="element" href="#elementdef-marker">marker</a> element defines the graphics that are to
be used for drawing markers on a <a data-link-type="dfn" href="#markable-elements">markable element</a>.</p>


   <p id="MarkerAttributes"><em>Attribute definitions:</em></p>


   <dl class="attrdef-list">

    <dt>

     <table class="attrdef">

      <tbody>
       <tr>

        <th>Name


        <th>Value


        <th>Initial value


        <th>Animatable




       <tr>

        <td><dfn data-dfn-for="marker" data-dfn-type="element-attr" data-export="" id="element-attrdef-marker-markerunits">markerUnits<a class="self-link" href="#element-attrdef-marker-markerunits"></a></dfn>


        <td>strokeWidth | userSpaceOnUse


        <td>strokeWidth


        <td>yes




     </table>


    <dd>

     <p>The <a data-link-type="element-attr" href="#element-attrdef-marker-markerunits">markerUnits</a> attribute defines the coordinate system for
  attributes <a data-link-type="element-attr" href="#element-attrdef-marker-markerwidth">markerWidth</a>, <a data-link-type="element-attr" href="#element-attrdef-marker-markerheight">markerHeight</a> and the
  contents of the <a data-link-type="element" href="#elementdef-marker">marker</a>.  Values have the
  following meanings:</p>

     <dl>

      <dt><dfn class="css" data-dfn-for="markerUnits" data-dfn-type="value" data-export="" id="valdef-markerunits-strokewidth">strokeWidth<a class="self-link" href="#valdef-markerunits-strokewidth"></a></dfn>


      <dd><a data-link-type="element-attr" href="#element-attrdef-marker-markerwidth">markerWidth</a>, <a data-link-type="element-attr" href="#element-attrdef-marker-markerheight">markerHeight</a> and the contents
    of the <a data-link-type="element" href="#elementdef-marker">marker</a> represent values in a coordinate system
    which has a single unit equal the size in user units of the
    current stroke width (see the <a class="property" data-link-type="propdesc" href="https://svgwg.org/svg2-draft/painting.html#StrokeWidthProperty">stroke-width</a> property) in
    place for the graphic object referencing the marker.



      <dt><dfn class="css" data-dfn-for="markerUnits" data-dfn-type="value" data-export="" id="valdef-markerunits-userspaceonuse">userSpaceOnUse<a class="self-link" href="#valdef-markerunits-userspaceonuse"></a></dfn>


      <dd><a data-link-type="element-attr" href="#element-attrdef-marker-markerwidth">markerWidth</a>, <a data-link-type="element-attr" href="#element-attrdef-marker-markerheight">markerHeight</a> and the contents
    of the <a data-link-type="element" href="#elementdef-marker">marker</a> represent values in the current
    user coordinate system in place for the graphic object
    referencing the marker (i.e., the user coordinate system for
    the element referencing the <a data-link-type="element" href="#elementdef-marker">marker</a> element via a
    <a class="property" data-link-type="propdesc" href="#propdef-marker">marker</a>).


     </dl>


    <dt>

     <table class="attrdef">

      <tbody>
       <tr>

        <th>Name


        <th>Value


        <th>Initial value


        <th>Animatable




       <tr>

        <td><dfn data-dfn-for="marker" data-dfn-type="element-attr" data-export="" id="element-attrdef-marker-markerwidth">markerWidth<a class="self-link" href="#element-attrdef-marker-markerwidth"></a></dfn>,
      <dfn data-dfn-for="marker" data-dfn-type="element-attr" data-export="" id="element-attrdef-marker-markerheight">markerHeight<a class="self-link" href="#element-attrdef-marker-markerheight"></a></dfn>


        <td><a class="production css" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#length-value">&lt;length></a> | <a class="production css" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#percentage-value">&lt;percentage></a> | <a class="production css" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#number-value">&lt;number></a>


        <td>3


        <td>yes




     </table>


    <dd>
  The <a data-link-type="element-attr" href="#element-attrdef-marker-markerwidth">markerWidth</a> and
  <a data-link-type="element-attr" href="#element-attrdef-marker-markerheight">markerHeight</a> attributes
  represent the size of the viewport into which the marker is to
  be fitted according to the <a data-link-type="element-attr" href="#element-attrdef-marker-viewbox">viewBox</a> and
  <a data-link-type="element-attr" href="#element-attrdef-marker-preserveaspectratio">preserveAspectRatio</a>
  attributes.  A value of zero for either
  attribute results in nothing being rendered for the marker.  A negative value
  for either attribute is an error (see
  <a href="implnote.html#ErrorProcessing">Error processing</a>).


    <dt>

     <table class="attrdef">

      <tbody>
       <tr>

        <th>Name


        <th>Value


        <th>Initial value


        <th>Animatable




       <tr>

        <td><dfn data-dfn-for="marker" data-dfn-type="element-attr" data-export="" id="element-attrdef-marker-refx">refX<a class="self-link" href="#element-attrdef-marker-refx"></a></dfn>


        <td><a class="production css" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#length-value">&lt;length></a> | <a class="production css" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#percentage-value">&lt;percentage></a> | <a class="production css" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#number-value">&lt;number></a> | left | center | right


        <td>0


        <td>yes




       <tr>

        <td><dfn data-dfn-for="marker" data-dfn-type="element-attr" data-export="" id="element-attrdef-marker-refy">refY<a class="self-link" href="#element-attrdef-marker-refy"></a></dfn>


        <td><a class="production css" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#length-value">&lt;length></a> | <a class="production css" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#percentage-value">&lt;percentage></a> | <a class="production css" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#number-value">&lt;number></a> | top | center | bottom


        <td>0


        <td>yes




     </table>


    <dd>

     <p class="note" role="note">New in SVG 2: geometric keywords (matches use in <a data-link-type="element" href="https://svgwg.org/svg2-draft/struct.html#elementdef-symbol">symbol</a>).</p>

     <p class="annotation">We will add top/center/bottom, left/center/right keywords to
  refX/refY on marker/symbol. Resolved at
  <a href="http://www.w3.org/2014/08/26-svg-minutes.html#item07">LondonF2F</a>.
  Values inspired by <a class="property" data-link-type="propdesc" href="http://dev.w3.org/csswg/css-backgrounds-3/#background-position">background-position</a>.</p>

     <p>The <a data-link-type="element-attr" href="#element-attrdef-marker-refx">refX</a> and <a data-link-type="element-attr" href="#element-attrdef-marker-refy">refY</a>
  attributes define the reference point of the marker which is to be placed exactly
  at the marker’s position on the <a data-link-type="dfn" href="#markable-elements">markable element</a>.  They are interpreted as
  being in the coordinate system of the marker contents, after application of the
  <a data-link-type="element-attr" href="#element-attrdef-marker-viewbox">viewBox</a> and <a data-link-type="element-attr" href="#element-attrdef-marker-preserveaspectratio">preserveAspectRatio</a>
  attributes.</p>


    <dt>

     <table class="attrdef">

      <tbody>
       <tr>

        <th>Name


        <th>Value


        <th>Initial value


        <th>Animatable




       <tr>

        <td><dfn data-dfn-for="marker" data-dfn-type="element-attr" data-export="" id="element-attrdef-marker-orient">orient<a class="self-link" href="#element-attrdef-marker-orient"></a></dfn>


        <td>auto | auto-start-reverse | <a class="production css" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#angle-value">&lt;angle></a> | <a class="production css" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#number-value">&lt;number></a>


        <td>0


        <td>yes (non-additive)




     </table>


    <dd>

     <p>The <a data-link-type="element-attr" href="#element-attrdef-marker-orient">orient</a> attribute indicates how the marker
  is rotated when it is placed at its position on the <a data-link-type="dfn" href="#markable-elements">markable element</a>.
  Values have the following meaning:</p>

     <dl>

      <dt><span class="css">auto</span>


      <dd>

       <p>A value of <span class="css">auto</span>
      indicates that the marker is oriented such that its positive
      x-axis is pointing in the direction of the path at the point
      it is placed.</p>



       <p class="issue" id="issue-54a953b7"><a class="self-link" href="#issue-54a953b7"></a>This needs to reference a definition for how
      directionality of a given start/mid/end vertex is calculated.
      Part of that (which should be moved somewhere more appropriate) is in
      the <a href="implnote.html#PathElementImplementationNotes">path element implementation notes</a>.
      Some wording from SVG 1.1 appears to have been lost, compare with <a href="http://www.w3.org/TR/SVG11/painting.html#OrientAttribute">this</a>.
      <br><br>
      Here’s an example that is a bit unclear currently:
      <code style="white-space:pre">
&lt;svg>
  &lt;marker id="m" orient="auto" overflow="visible">
    &lt;rect x="-1" y="-0.5" width="1" height="1" fill="green"/>
  &lt;/marker>
  &lt;path d="M50,0C50,50 50,100 50,100" marker-end="url(#m)" stroke-width="100" stroke="red"/>
&lt;/svg>
    </code>
    <br>
    The second control point and the endpoint coincide, should this mean that the direction of the endpoint is a) <em>unknown [aka default to 0 degrees]</em> or
    b) <em>that you have to look at the previous segment(s)/command(s) until a direction can be established</em>?
      </p>



       <p>If the marker is a <a data-link-type="dfn" href="#segment-markers">segment marker</a>, then
      the direction the marker is oriented is, if considering the
      incoming and outgoing directions as unit vectors, in the
      direction of the sum of these two vectors.  If this sum
      is zero, then the marker is oriented in the incoming direction.</p>



       <p>If the marker is on the first or last vertex of a closed subpath, then the
      incoming direction taken from the final path segment and the outgoing
      direction is taken from:</p>



       <ul>

        <li>the first path segment of the <em>following</em> subpath,
        if the following subpath does not begin with a
        <a href="paths.html#PathDataMovetoCommands">moveto</a> command, and


        <li>the first path segment of the <em>current</em> subpath,
        if the following subpath does begin with a
        <a href="paths.html#PathDataMovetoCommands">moveto</a> command
        or if there is no following subpath.


       </ul>




     </dl>


     <dl>

      <dt><span class="css">auto-start-reverse</span>


      <dd>

       <p>A value of <span class="css">auto-start-reverse</span>
      means the same as <span class="css">auto</span> except that
      for a marker placed by <a class="property" data-link-type="propdesc" href="#propdef-marker-start">marker-start</a>, the orientation is 180°
      different from the orientation as determined by <span class="css">auto</span>.</p>



       <p class="note" role="note">This allows a single arrowhead marker to be defined
      that can be used for both the start and end of a path, point in the right
      directions.</p>




     </dl>


     <dl>

      <dt><a class="production css" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#angle-value">&lt;angle></a>


      <dt><a class="production css" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#number-value">&lt;number></a>


      <dd>

       <p>An <a class="production css" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#angle-value">&lt;angle></a> value represents the angle the marker’s
      positive x-axis makes with the positive x-axis in the user space
      of the <a data-link-type="dfn" href="#markable-elements">markable element</a>, and a <a class="production css" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#number-value">&lt;number></a> value
      with no unit represents an angle in degrees.  For example, if a value of
      <span class="css">0</span> is given, then the marker will be drawn
      such that its x-axis will align with the x-axis of the user
      space of the graphic object referencing the marker.
      A value of <span class="css">90deg</span> will result in the
      marker being drawn with its positive x-axis in the direction
      of the positive y-axis of the <a data-link-type="dfn" href="#markable-elements">markable element</a>’s user space.</p>




     </dl>


     <p>The orientation occurs after the marker has been fitted into its
  viewport.  See the <a href="#MarkerAlgorithm">Details on how markers are rendered</a>
  section below for an illustrative example.</p>


    <dt>

     <table class="attrdef">

      <tbody>
       <tr>

        <th>Name


        <th>Value


        <th>Initial value


        <th>Animatable




       <tr>

        <td><dfn data-dfn-for="marker" data-dfn-type="element-attr" data-export="" id="element-attrdef-marker-position">position<a class="self-link" href="#element-attrdef-marker-position"></a></dfn>


        <td><a class="production css" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#length-value">&lt;length></a> | <a class="production css" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#percentage-value">&lt;percentage></a> | <a class="production css" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#number-value">&lt;number></a>


        <td>as if not specified


        <td>yes




     </table>


    <dd>

     <p>If the <a data-link-type="element" href="#elementdef-marker">marker</a> element is a child of a <a data-link-type="dfn" href="#markable-elements">markable element</a>,
  then the presence of a  attribute indicates that the marker is
  a <a data-link-type="dfn" href="#positioned-markers">positioned marker</a> and that it will be painted at the specified
  distance along the path.  If the value is negative or greater than the length
  of the path, then no marker will be painted.  If this attribute is specified on
  a <a data-link-type="element" href="#elementdef-marker">marker</a> that is not a child of a <a data-link-type="dfn" href="#markable-elements">markable element</a>, then
  it has no effect beyond being exposed in the DOM.</p>

     <p class="issue" id="issue-bf9b4a29"><a class="self-link" href="#issue-bf9b4a29"></a>Should a negative or greater than path length value be
  an "in error" / "unsupported" value?</p>


    <dt>

     <table class="attrdef">

      <tbody>
       <tr>

        <th>Name


        <th>Value


        <th>Initial value


        <th>Animatable




       <tr>

        <td><dfn data-dfn-for="marker" data-dfn-type="element-attr" data-export="" id="element-attrdef-marker-href">href<a class="self-link" href="#element-attrdef-marker-href"></a></dfn>


        <td>URL <a data-link-type="biblio" href="#biblio-url">[URL]</a>


        <td>as if not specified


        <td>yes




     </table>


    <dd>

     <p>When a <a data-link-type="element" href="#elementdef-marker">marker</a> element is being used as a <a data-link-type="dfn" href="#positioned-markers">positioned marker</a>,
  the <a data-link-type="element-attr" href="#element-attrdef-marker-href">href</a> attribute indicates that the <a data-link-type="element" href="#elementdef-marker">marker</a>
  referenced by the attribute is to be used as the definition of the marker.  The
  graphical content of the referencing <a data-link-type="element" href="#elementdef-marker">marker</a> element and any of
  its attributes that affect marker processing are ignored.  Authors must not
  place any child graphical content in the referencing <a data-link-type="element" href="#elementdef-marker">marker</a> or
  specify the <a data-link-type="element-attr" href="#element-attrdef-marker-viewbox">viewBox</a>, <a data-link-type="element-attr" href="#element-attrdef-marker-preserveaspectratio">preserveAspectRatio</a>, <a data-link-type="element-attr" href="#element-attrdef-marker-refx">refX</a>,
  <a data-link-type="element-attr" href="#element-attrdef-marker-refy">refY</a>, <a data-link-type="element-attr" href="#element-attrdef-marker-markerunits">markerUnits</a>, <a data-link-type="element-attr" href="#element-attrdef-marker-markerwidth">markerWidth</a>, <a data-link-type="element-attr" href="#element-attrdef-marker-markerheight">markerHeight</a>
  or <a data-link-type="element-attr" href="#element-attrdef-marker-orient">orient</a> attributes on it.</p>


     <p class="issue" id="issue-e0c9c0c2"><a class="self-link" href="#issue-e0c9c0c2"></a>We should say something about referencing <a data-link-type="element" href="#elementdef-marker">marker</a>
  elements that have an <a data-link-type="element-attr" href="#element-attrdef-marker-href">href</a> with the <a data-link-type="dfn" href="#marker-properties">marker properties</a>.
  I suspect we should just allow this.  Whether we want to allow the full
  element-referencing thing that you can do with gradients, with selective
  overriding of attributes, I’m not sure.</p>


    <dt>

     <table class="attrdef">

      <tbody>
       <tr>

        <th>Name


        <th>Value


        <th>Initial value


        <th>Animatable




       <tr>

        <td><dfn data-dfn-for="marker" data-dfn-type="element-attr" data-export="" id="element-attrdef-marker-viewbox">viewBox<a class="self-link" href="#element-attrdef-marker-viewbox"></a></dfn>


        <td>see prose


        <td>see prose


        <td>see prose




     </table>


    <dd>

     <p>The <a data-link-type="element-attr" href="#element-attrdef-marker-viewbox">viewBox</a> attribute is defined be SVG. See ‘<a href="http://www.w3.org/TR/2011/REC-SVG11-20110816/coords.html#PreserveAspectRatioAttribute">The viewBox attribute</a>’ <a data-link-type="biblio" href="#biblio-svg11">[SVG11]</a>.</p>


    <dt>

     <table class="attrdef">

      <tbody>
       <tr>

        <th>Name


        <th>Value


        <th>Initial value


        <th>Animatable




       <tr>

        <td><dfn data-dfn-for="marker" data-dfn-type="element-attr" data-export="" id="element-attrdef-marker-preserveaspectratio">preserveAspectRatio<a class="self-link" href="#element-attrdef-marker-preserveaspectratio"></a></dfn>


        <td>see prose


        <td>see prose


        <td>see prose




     </table>


    <dd>

     <p>The <a data-link-type="element-attr" href="#element-attrdef-marker-preserveaspectratio">preserveAspectRatio</a> attribute is defined be SVG. See ‘<a href="http://www.w3.org/TR/2011/REC-SVG11-20110816/coords.html#PreserveAspectRatioAttribute">The preserveAspectRatio attribute</a>’ <a data-link-type="biblio" href="#biblio-svg11">[SVG11]</a>.</p>

</dl>


   <p>The contents of the <a data-link-type="element" href="#elementdef-marker">marker</a> are relative to a new
coordinate system. The <a data-link-type="element-attr" href="#element-attrdef-marker-markerunits">markerUnits</a> attribute
determines an initial scale factor for transforming the graphics in the marker
into the user coordinate system for the referencing element. An additional set of
transformations might occur if there is a <a data-link-type="element-attr" href="#element-attrdef-marker-viewbox">viewBox</a>
attribute, in which case the coordinate system for the contents of the
<a data-link-type="element" href="#elementdef-marker">marker</a> will be transformed due to the processing of attributes
<a data-link-type="element-attr" href="#element-attrdef-marker-viewbox">viewBox</a> and <a data-link-type="element-attr" href="#element-attrdef-marker-preserveaspectratio">preserveAspectRatio</a>.
If there is no <a data-link-type="element-attr" href="#element-attrdef-marker-viewbox">viewBox</a>
attribute, then the assumed default value for the <a data-link-type="element-attr" href="#element-attrdef-marker-viewbox">viewBox</a>
attribute has the origin of the viewBox coincident with the origin
of the viewport and the width/height of the viewBox the same as the
width/height of the viewport.</p>


   <p>The <a href="styling.html#UAStyleSheet">user agent style sheet</a> sets
the <a class="property" data-link-type="propdesc" href="http://dev.w3.org/csswg/css-overflow-3/#propdef-overflow">overflow</a> property for <a data-link-type="element" href="#elementdef-marker">marker</a> elements to
<a class="css" data-link-type="maybe" href="http://dev.w3.org/csswg/css-overflow-3/#valdef-overflow-hidden">hidden</a>, which causes a rectangular clipping
path to be created at the bounds of marker’s viewport.  Unless the
<a class="property" data-link-type="propdesc" href="http://dev.w3.org/csswg/css-overflow-3/#propdef-overflow">overflow</a> property is overridden, any graphics within the marker which
goes outside of the marker’s viewport will be clipped.</p>


   <p><a href="styling.html#SVGStylingProperties">Properties</a> inherit into the
<a data-link-type="element" href="#elementdef-marker">marker</a> element from its ancestors; properties do <em>not</em>
inherit from the element referencing the <a data-link-type="element" href="#elementdef-marker">marker</a> element.</p>


   <p class="note" role="note">Note: By using the <span class="css">context-stroke</span> value for the <a class="property" data-link-type="propdesc" href="https://svgwg.org/svg2-draft/painting.html#FillProperty">fill</a> or <a class="property" data-link-type="propdesc" href="https://svgwg.org/svg2-draft/painting.html#StrokeProperty">stroke</a>
on elements in its definition, a single marker can be designed to match the
style of the element referencing the marker.</p>


   <p><a data-link-type="element" href="#elementdef-marker">marker</a> elements are only rendered directly
when they are used as children of a <a data-link-type="dfn" href="#markable-elements">markable element</a>
and have a <a data-link-type="element-attr" href="#element-attrdef-marker-position">position</a> attribute specified.  This causes the
marker to be painted as a <a data-link-type="dfn" href="#positioned-markers">positioned marker</a>.  All other
<a data-link-type="element" href="#elementdef-marker">marker</a> elements are not rendered directly
and must be referenced by one of the <a data-link-type="dfn" href="#marker-properties">marker properties</a>
to be rendered.  The <a class="property" data-link-type="propdesc" href="http://dev.w3.org/csswg/css2/visuren.html#propdef-display">display</a> property does not apply to the
<a data-link-type="element" href="#elementdef-marker">marker</a> element; thus, <a data-link-type="element" href="#elementdef-marker">marker</a> elements are not
directly rendered even if the <a class="property" data-link-type="propdesc" href="http://dev.w3.org/csswg/css2/visuren.html#propdef-display">display</a> property is
set to a value other than <a class="css" data-link-type="maybe" href="http://dev.w3.org/csswg/css-display-3/#valdef-display-none">none</a>, and
<a data-link-type="element" href="#elementdef-marker">marker</a> elements are available for referencing even when the
<a class="property" data-link-type="propdesc" href="http://dev.w3.org/csswg/css2/visuren.html#propdef-display">display</a> property on the <a data-link-type="element" href="#elementdef-marker">marker</a> element or any of its
ancestors is set to <a class="css" data-link-type="maybe" href="http://dev.w3.org/csswg/css-display-3/#valdef-display-none">none</a>.  <a data-link-type="element" href="#elementdef-marker">marker</a>
elements that are used as <a data-link-type="dfn" href="#positioned-markers">positioned markers</a> can simultaneously be referenced
by the <a data-link-type="dfn" href="#marker-properties">marker properties</a> to be used as
<a data-link-type="dfn" href="#segment-markers">segment markers</a> and <a data-link-type="dfn" href="#repeating-markers">repeating markers</a>.</p>


   <p><a href="interact.html#EventAttributes">Event attributes</a> and
<a href="svgdom.html#EventListeners">event listeners</a> attached
to the contents of a <a data-link-type="element" href="#elementdef-marker">marker</a> element are not processed;
only the rendering aspects of <a data-link-type="element" href="#elementdef-marker">marker</a> elements are
processed.</p>


   <p class="issue" id="issue-64826a7c"><a class="self-link" href="#issue-64826a7c"></a>Make interaction work on <a data-link-type="dfn" href="#positioned-markers">positioned markers</a>.</p>


   <div class="example">

    <p>The following example shows the use of <a data-link-type="dfn" href="#positioned-markers">positioned markers</a> to
  place symbols at particular distances along a path.</p>


    <pre><code class="html">&lt;svg xmlns="http://www.w3.org/2000/svg"
     width="600" height="200" viewBox="0 0 600 200">

   &lt;defs>
     &lt;marker id="Square" markerWidth="10" markerHeight="10"
             refX="5" refY="5" orient="auto">
       &lt;path d="M 5,1 L 9,5 5,9 1,5 z" fill="#6a9100"/>
     &lt;/marker>
     &lt;marker id="Circle" markerWidth="10" markerHeight="10"
             refX="5" refY="5" orient="auto">
       &lt;circle cx="5" cy="5" r="2" fill="dodgerblue"/>
     &lt;/marker>
   &lt;/defs>

   &lt;path d="M 100,50 C 100,250 500,-50 300,150"
         fill="none" stroke="deeppink" stroke-width="3">
     &lt;marker href="#Square" position="0"/>
     &lt;marker href="#Square" position="100%"/>
     &lt;marker href="#Circle" position="50px"/>
     &lt;marker href="#Circle" position="calc(100% - 50px)"/>
     &lt;marker refX="5" refY="5" position="50%">
       &lt;!-- the cross -->
       &lt;path d="M 3,3 L 7,7 M 3,7 L 7,3"
             fill="none" stroke="black" stroke-width="2"/>
     &lt;/marker>
   &lt;/path>
&lt;/svg>
</code></pre>


    <div class="figure">
    <img alt="Image showing the use of positioned markers." class="bordered" src="images/markers-positioned.svg">

     <p class="caption">Child <a data-link-type="element" href="#elementdef-marker">marker</a> elements are used to position
    two square and two circular markers.  The cross marker is defined inline
    and does not need an ID.</p>


    </div>
</div>



   <h2 class="heading settled" data-level="3" id="MarkerReferences"><span class="secno">3. </span><span class="content">Referencing <a data-link-type="element" href="#elementdef-marker">marker</a> elements</span><a class="self-link" href="#MarkerReferences"></a></h2>


   <p>A number of marker properties allow specifying a <a data-link-type="element" href="#elementdef-marker">marker</a> using a <a class="production css" data-link-type="type" href="#DataTypeMarkerRef">&lt;marker-ref></a> value.</p>


   <div class="definition">
  <dfn class="css" data-dfn-type="type" data-export="" id="DataTypeMarkerRef">&lt;marker-ref><a class="self-link" href="#DataTypeMarkerRef"></a></dfn> =<br>

    <div style="margin-left: 2em">
    <a class="production css" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#url-value">&lt;url></a> |<br>
    child |<br>
    <a class="production css" data-link-type="type" href="#typedef-child-selector">&lt;child-selector></a>
  </div>
</div>


   <p>where:</p>


   <div class="definition">
  <dfn class="css" data-dfn-type="type" data-export="" id="typedef-child-selector">&lt;child-selector><a class="self-link" href="#typedef-child-selector"></a></dfn> =

    <div style="margin-left: 4em">select(<a href="http://www.w3.org/TR/selectors4/#compound">compound selector</a>#)</div>
</div>


   <p>Values have the following meaning</p>


   <dl>

    <dt><a class="production css" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#url-value">&lt;url></a>

    <dd>Indicates that the <a data-link-type="element" href="#elementdef-marker">marker</a> element referenced
  by the <a class="production css" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#url-value">&lt;url></a> value will be used.
  If the <a href="linking.html#URLReference">URL reference</a> is not valid
  (e.g., it points to an object that is undefined or the object is not
  a <a data-link-type="element" href="#elementdef-marker">marker</a> element), then the marker reference is also not
  valid.


    <dt><span class="css">child</span>

    <dd>Indicates that the last child <a data-link-type="element" href="#elementdef-marker">marker</a> element of the
  element where the property is specified will be used.
  If there is no such element, then the reference is not valid.


    <dt><a class="production css" data-link-type="type" href="#typedef-child-selector">&lt;child-selector></a>

    <dd>Indicates that the first matching descendent <a data-link-type="element" href="#elementdef-marker">marker</a>
  specified by the <a class="production css" data-link-type="type" href="#typedef-child-selector">&lt;child-selector></a>, applied in the context of the
  element where the property is specified, will be used.
  If no element matches any of the selectors contained in the
  <a class="production css" data-link-type="type" href="#typedef-child-selector">&lt;child-selector></a>>, or the first match is not a <a data-link-type="element" href="#elementdef-marker">marker</a>, then the reference is not valid.
</dl>


   <h2 class="heading settled" data-level="4" id="VertexMarkerProperties"><span class="secno">4. </span><span class="content">Vertex markers: the <a class="property" data-link-type="propdesc" href="#propdef-marker-start">marker-start</a>,
<a class="property" data-link-type="propdesc" href="#propdef-marker-mid">marker-mid</a> and <a class="property" data-link-type="propdesc" href="#propdef-marker-end">marker-end</a> properties</span><a class="self-link" href="#VertexMarkerProperties"></a></h2>


   <table class="definition propdef">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="css" data-dfn-type="property" data-export="" id="propdef-marker-start">marker-start<a class="self-link" href="#propdef-marker-start"></a></dfn>, <dfn class="css" data-dfn-type="property" data-export="" id="propdef-marker-mid">marker-mid<a class="self-link" href="#propdef-marker-mid"></a></dfn>, <dfn class="css" data-dfn-type="property" data-export="" id="propdef-marker-end">marker-end<a class="self-link" href="#propdef-marker-end"></a></dfn>
     <tr>
      <th>Value:
      <td class="prod">none <a data-link-type="grammar" href="http://dev.w3.org/csswg/css-values-3/#comb-one">|</a> <a class="production css" data-link-type="type" href="#DataTypeMarkerRef">&lt;marker-ref></a>
     <tr>
      <th>Initial:
      <td>none
     <tr>
      <th>Applies to:
      <td><a data-link-type="dfn" href="#markable-elements">markable elements</a>
     <tr>
      <th>Inherited:
      <td>yes
     <tr>
      <th>Percentages:
      <td>n/a
     <tr>
      <th>Media:
      <td>visual
     <tr>
      <th>Computed value:
      <td>as specified, but with <a class="production css" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#url-value">&lt;url></a> values (that are part of a <a class="production css" data-link-type="type" href="#DataTypeMarkerRef">&lt;marker-ref></a>) made absolute
     <tr>
      <th>Animatable:
      <td>yes</table>


   <p>The <a class="property" data-link-type="propdesc" href="#propdef-marker-start">marker-start</a> and <a class="property" data-link-type="propdesc" href="#propdef-marker-end">marker-end</a> properties are used
to specify the marker that will be drawn at the first and last vertices
of the given <a data-link-type="dfn" href="#markable-elements">markable element</a>, respectively.  <a class="property" data-link-type="propdesc" href="#propdef-marker-mid">marker-mid</a>
is used to specify the marker that will be drawn at all other vertices
(i.e., every vertex except the first and last).
Possible values for <a class="property" data-link-type="propdesc" href="#propdef-marker-start">marker-start</a>, <a class="property" data-link-type="propdesc" href="#propdef-marker-mid">marker-mid</a> and
<a class="property" data-link-type="propdesc" href="#propdef-marker-end">marker-end</a> are:</p>


   <dl>

    <dt><dfn class="css" data-dfn-for="marker-start" data-dfn-type="value" data-export="" id="valdef-marker-start-none">none<a class="self-link" href="#valdef-marker-start-none"></a></dfn>

    <dd>Indicates that no marker symbol will be drawn at the given
  vertex or vertices.


    <dt><dfn class="css" data-dfn-for="marker-start" data-dfn-type="value" data-export="" id="valdef-marker-start-marker-ref">&lt;marker-ref><a class="self-link" href="#valdef-marker-start-marker-ref"></a></dfn>

    <dd>Indicates that the <a data-link-type="element" href="#elementdef-marker">marker</a> element referenced
  by the <a class="production css" data-link-type="type" href="#DataTypeMarkerRef">&lt;marker-ref></a> value will be drawn at the given vertex or
  vertices.
  If the reference is not valid, then no marker will be drawn at the given
  vertex or vertices.
</dl>


   <p>For <a data-link-type="element" href="https://svgwg.org/svg2-draft/shapes.html#elementdef-polygon">polygon</a> elements, the last vertex is the same as the first
vertex, and for <a data-link-type="element" href="https://svgwg.org/svg2-draft/paths.html#elementdef-path">path</a> elements that end with a closed subpath, the last
vertex is the same as the first vertex of that final subpath.
In this case, if the value of <a class="property" data-link-type="propdesc" href="#propdef-marker-end">marker-end</a> is not
<a class="css" data-link-type="maybe" href="#valdef-marker-start-none">none</a>, then it is possible that two markers
will be rendered on that final vertex.</p>


   <p class="note" role="note">Note: <a class="property" data-link-type="propdesc" href="#propdef-marker-start">marker-start</a> and <a class="property" data-link-type="propdesc" href="#propdef-marker-end">marker-end</a>
refer to the first and last vertex of the entire path, not each subpath.</p>


   <div class="example">

    <p>The following example shows a triangular marker symbol used as a
  <a data-link-type="dfn" href="#vertex-markers">vertex marker</a> to form an arrowhead at the end of two paths.</p>


    <pre><code class="html">&lt;svg xmlns="http://www.w3.org/2000/svg"
     width="275" height="200" viewBox="0 0 275 200">
  &lt;defs>
    &lt;marker id="Triangle" viewBox="0 0 10 10" refX="1" refY="5"
            markerUnits="strokeWidth" markerWidth="4" markerHeight="3"
            orient="auto">
      &lt;path d="M 0 0 L 10 5 L 0 10 z" fill="context-stroke"/>
    &lt;/marker>
  &lt;/defs>

  &lt;g fill="none" stroke-width="10" marker-end="url(#Triangle)">
    &lt;path stroke="crimson" d="M 100,75 C 125,50 150,50 175,75"/>
    &lt;path stroke="olivedrab" d="M 175,125 C 150,150 125,150 100,125"/>
  &lt;/g>
&lt;/svg>
</code></pre>


    <div class="figure">
    <img alt="Image showing the use of an automatically oriented marker." class="bordered" src="images/marker-rendering.svg">

     <p class="caption">The triangle is placed at the end of the path and
    oriented automatically so that it points in the right direction.
    The use of <span class="css">context-stroke</span> ensures
    the fill of the triangle matches the stroke of each <a data-link-type="element" href="https://svgwg.org/svg2-draft/paths.html#elementdef-path">path</a>.</p>


    </div>
</div>


   <h2 class="heading settled" data-level="5" id="SegmentMarkers"><span class="secno">5. </span><span class="content">Segment markers: the <a class="property" data-link-type="propdesc" href="#propdef-marker-segment">marker-segment</a> property</span><a class="self-link" href="#SegmentMarkers"></a></h2>


   <table class="definition propdef">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="css" data-dfn-type="property" data-export="" id="propdef-marker-segment">marker-segment<a class="self-link" href="#propdef-marker-segment"></a></dfn>
     <tr>
      <th>Value:
      <td class="prod">none <a data-link-type="grammar" href="http://dev.w3.org/csswg/css-values-3/#comb-one">|</a> <a class="production css" data-link-type="type" href="#DataTypeMarkerRef">&lt;marker-ref></a>
     <tr>
      <th>Initial:
      <td>none
     <tr>
      <th>Applies to:
      <td><a data-link-type="dfn" href="#markable-elements">markable elements</a>
     <tr>
      <th>Inherited:
      <td>yes
     <tr>
      <th>Percentages:
      <td>n/a
     <tr>
      <th>Media:
      <td>visual
     <tr>
      <th>Computed value:
      <td>as specified, but with <a class="production css" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#url-value">&lt;url></a> values (that are part of a <a class="production css" data-link-type="type" href="#DataTypeMarkerRef">&lt;marker-ref></a>) made absolute
     <tr>
      <th>Animatable:
      <td>yes</table>


   <p class="note" role="note">Note: New in SVG 2. Added to allow automatically placing marker symbols
on path edges, as is common in for example line graphs.</p>


   <p>The <a class="property" data-link-type="propdesc" href="#propdef-marker-segment">marker-segment</a> property is used to specify the marker that will
be drawn at the center of each length path segment.  Possible values
are:</p>


   <dl>

    <dt><dfn class="css" data-dfn-for="marker-segment" data-dfn-type="value" data-export="" id="valdef-marker-segment-none">none<a class="self-link" href="#valdef-marker-segment-none"></a></dfn>

    <dd>Indicates that no marker symbol will be drawn at the given
  vertex or vertices.


    <dt><dfn class="css" data-dfn-for="marker-segment" data-dfn-type="value" data-export="" id="valdef-marker-segment-marker-ref">&lt;marker-ref><a class="self-link" href="#valdef-marker-segment-marker-ref"></a></dfn>

    <dd>Indicates that the <a data-link-type="element" href="#elementdef-marker">marker</a> element referenced
  by the <a class="production css" data-link-type="type" href="#DataTypeMarkerRef">&lt;marker-ref></a> value will be drawn at the center
  of each path segment.
  If the reference is not valid, then no marker will be drawn at the path
  segment centers.
</dl>


   <div class="example">

    <p>The following example shows the use of both <a data-link-type="dfn" href="#vertex-markers">vertex markers</a> and
  <a data-link-type="dfn" href="#segment-markers">segment markers</a> to construct a line graph.</p>


    <pre><code class="html">&lt;svg xmlns="http://www.w3.org/2000/svg" width="400" height="200">

  &lt;marker id="Circle" markerWidth="8" markerHeight="8" refX="4" refY="4"
          markerUnits="userSpaceOnUse">
    &lt;circle cx="4" cy="4" r="3" fill="deeppink"/>
  &lt;/marker>

  &lt;marker id="Cross" markerWidth="10" markerHeight="10" refX="0" refY="0"
          viewBox="-5 -5 10 10" markerUnits="userSpaceOnUse"
          fill="none">
    &lt;path d="M -4,-4 L 4,4 M -4,4 L 4,-4" stroke="white" stroke-width="4"/>
    &lt;path d="M -4,-4 L 4,4 M -4,4 L 4,-4" stroke="black" stroke-width="2"/>
  &lt;/marker>

  &lt;!-- grid lines -->
  &lt;path stroke="#888" d="M 40,20 360,20 M 40,40 360,40 M 40,60 360,60
                         M 40,80 360,80 M 40,100 360,100 M 40,120 360,120
                         M 40,140 360,140 M 40,160 360,160 M 40,180 360,180"/>

  &lt;!-- the graph line -->
  &lt;polyline points="50,100 100,20 150,50 200,130 250,80 300,170 350,100"
            fill="none" stroke="deeppink" stroke-width="2"
            marker="url(#Circle)" marker-segment="url(#Cross)"/>
&lt;/svg>
</code></pre>


    <div class="figure">
    <img alt="Image showing the use of segment markers." class="bordered" src="images/markers-segment.svg">

     <p class="caption">Segment markers are used to place crosses at the center
    of each line segment in the line graph.</p>


    </div>
</div>


   <h2 class="heading settled" data-level="6" id="RepeatingMarkers"><span class="secno">6. </span><span class="content">Repeating markers: the <a class="property" data-link-type="propdesc" href="#propdef-marker-pattern">marker-pattern</a> property</span><a class="self-link" href="#RepeatingMarkers"></a></h2>


   <table class="definition propdef">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="css" data-dfn-type="property" data-export="" id="propdef-marker-pattern">marker-pattern<a class="self-link" href="#propdef-marker-pattern"></a></dfn>
     <tr>
      <th>Value:
      <td class="prod"><a class="production css" data-link-type="type" href="#typedef-marker-gap">&lt;marker-gap></a><a data-link-type="grammar" href="http://dev.w3.org/csswg/css-values-3/#mult-opt">?</a> <a class="production css" data-link-type="type" href="#typedef-marker-ref-group">&lt;marker-ref-group></a> [ <a class="production css" data-link-type="type" href="#typedef-marker-gap">&lt;marker-gap></a> <a class="production css" data-link-type="type" href="#typedef-marker-gap">&lt;marker-gap></a> ]<a data-link-type="grammar" href="http://dev.w3.org/csswg/css-values-3/#mult-zero-plus">*</a> <a class="production css" data-link-type="type" href="#typedef-marker-gap">&lt;marker-gap></a><a data-link-type="grammar" href="http://dev.w3.org/csswg/css-values-3/#mult-opt">?</a>
     <tr>
      <th>Initial:
      <td>none
     <tr>
      <th>Applies to:
      <td><a data-link-type="dfn" href="#markable-elements">markable elements</a>
     <tr>
      <th>Inherited:
      <td>yes
     <tr>
      <th>Percentages:
      <td>n/a
     <tr>
      <th>Media:
      <td>visual
     <tr>
      <th>Computed value:
      <td>as specified, but with <a class="production css" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#url-value">&lt;url></a> values (that are part of a <a class="production css" data-link-type="type" href="#DataTypeMarkerRef">&lt;marker-ref></a>) made absolute
     <tr>
      <th>Animatable:
      <td>yes</table>


   <p>where:</p>


   <pre class="prod"><dfn data-dfn-type="type" data-export="" id="typedef-marker-gap">&lt;marker-gap><a class="self-link" href="#typedef-marker-gap"></a></dfn> = <a class="production" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#length-value">&lt;length></a> <a data-link-type="grammar" href="http://dev.w3.org/csswg/css-values-3/#comb-one">|</a> <a class="production" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#percentage-value">&lt;percentage></a> <a data-link-type="grammar" href="http://dev.w3.org/csswg/css-values-3/#comb-one">|</a> <a class="production" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#number-value">&lt;number></a></pre>

   <pre class="prod"><dfn data-dfn-type="type" data-export="" id="typedef-marker-ref-group">&lt;marker-ref-group><a class="self-link" href="#typedef-marker-ref-group"></a></dfn> = <a data-link-type="maybe" href="#valdef-marker-pattern-none">none</a> <a data-link-type="grammar" href="http://dev.w3.org/csswg/css-values-3/#comb-one">|</a> <a class="production" data-link-type="type" href="#DataTypeMarkerRef">&lt;marker-ref></a><a data-link-type="grammar" href="http://dev.w3.org/csswg/css-values-3/#mult-one-plus">+</a></pre>


   <p class="note" role="note">Note: New in SVG 2. Added to allow markers to be placed along a path
at positions unrelated to the segments used to form the path.</p>


   <p>The <a class="property" data-link-type="propdesc" href="#propdef-marker-pattern">marker-pattern</a> property is used to specify a pattern
of markers and gaps to be repeated along the length of the <a data-link-type="dfn" href="#markable-elements">markable element</a>.
Values have the following meanings:</p>


   <dl>

    <dt><dfn class="css" data-dfn-for="marker-pattern" data-dfn-type="value" data-export="" id="valdef-marker-pattern-none">none<a class="self-link" href="#valdef-marker-pattern-none"></a></dfn>

    <dd>Indicates that no marker will be painted at the current
  position along the path.


    <dt><a class="production css" data-link-type="type" href="#typedef-marker-gap">&lt;marker-gap></a>

    <dd>Indicates the length of a gap in the repeated
  pattern of markers.


    <dt><a class="production css" data-link-type="type" href="#DataTypeMarkerRef">&lt;marker-ref></a>

    <dd>A reference to a <a data-link-type="element" href="#elementdef-marker">marker</a> that will be placed at the
  current position along the path.  If the reference is not valid, then no
  marker for that <a class="production css" data-link-type="type" href="#DataTypeMarkerRef">&lt;marker-ref></a> will be painted.
</dl>


   <p>If a value other than <a class="css" data-link-type="maybe" href="#valdef-marker-pattern-none">none</a> is given,
and the sum of the <a class="production css" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#length-value">&lt;length></a>s, <a class="production css" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#percentage-value">&lt;percentage></a>s
and <a class="production css" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#number-value">&lt;number></a>s is not positive, then it is an
<a href="http://www.w3.org/TR/SVG2/intro.html#TermInvalidValue">invalid value</a>.</p>
   <p></p>


   <p>Unlike <a data-link-type="dfn" href="#vertex-markers">vertex markers</a>, the orientation of an ''orient="auto"''
<a data-link-type="dfn" href="#repeating-markers">repeating marker</a> that happens to lie on a vertex does not take into
account the incoming and outgoing directions.  Instead, it is simply oriented
such that its positive x-axis is aligned with the direction of the path
at its position.</p>


   <div class="example">

    <p>The following example shows the use of the <a class="property" data-link-type="propdesc" href="#propdef-marker-pattern">marker-pattern</a> property
  to specify a repeating pattern of two different markers spaced along a
  path.</p>


    <pre><code class="html">&lt;svg xmlns="http://www.w3.org/2000/svg" width="600" height="200">

  &lt;marker id="DoubleDash" markerWidth="8" markerHeight="12" refX="0" refY="0"
          viewBox="-4 -6 8 12" markerUnits="userSpaceOnUse" orient="auto">
    &lt;rect x="-3" y="-5" width="2" height="10"/>
    &lt;rect x="1" y="-5" width="2" height="10"/>
  &lt;/marker>
  &lt;marker id="SingleDash" markerWidth="4" markerHeight="12" refX="0" refY="0"
          viewBox="-2 -6 4 12" markerUnits="userSpaceOnUse" orient="auto">
    &lt;rect x="-1" y="-5" width="2" height="10"/>
  &lt;/marker>

  &lt;path d="M 50,100 S 100,132 150,86 200,173 250,76 300,81
                      350,136 400,87 450,166 500,87 550,96"
        stroke="deeppink" stroke-width="2" fill="none"
        marker-pattern="40 url(#DoubleDash) 40 url(#SingleDash)"/>
&lt;/svg>
</code></pre>


    <div class="figure">
    <img alt="Image showing the use of repeating markers." class="bordered" src="images/markers-repeating.svg">

     <p class="caption">Markers specified with the <a class="property" data-link-type="propdesc" href="#propdef-marker-pattern">marker-pattern</a> property
    are placed along the path at fixed distances, not relative to the path
    vertices.</p>


    </div>
</div>



   <h2 class="heading settled" data-level="7" id="MarkerShorthand"><span class="secno">7. </span><span class="content">Marker shorthand: the <a class="property" data-link-type="propdesc" href="#propdef-marker">marker</a> property</span><a class="self-link" href="#MarkerShorthand"></a></h2>


   <table class="definition propdef">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="css" data-dfn-type="property" data-export="" id="propdef-marker">marker<a class="self-link" href="#propdef-marker"></a></dfn>
     <tr>
      <th>Value:
      <td class="prod">
       <div>[ none <a data-link-type="grammar" href="http://dev.w3.org/csswg/css-values-3/#comb-one">|</a> <a class="production css" data-link-type="type" href="#DataTypeMarkerRef">&lt;marker-ref></a> ]<a data-link-type="grammar" href="http://dev.w3.org/csswg/css-values-3/#mult-num-range">{1,4}</a> [ / <a class="property" data-link-type="propdesc" href="#propdef-marker-pattern">marker-pattern</a> ]<a data-link-type="grammar" href="http://dev.w3.org/csswg/css-values-3/#mult-opt">?</a> </div>
       <div style="margin-left: 2em"> <a data-link-type="grammar" href="http://dev.w3.org/csswg/css-values-3/#comb-one">|</a> <a class="production css" data-link-type="type" href="#DataTypeMarkerRef">&lt;marker-ref></a><a data-link-type="grammar" href="http://dev.w3.org/csswg/css-values-3/#mult-num-range">{0,4}</a> [ <a class="production css" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#length-value">&lt;length></a> <a data-link-type="grammar" href="http://dev.w3.org/csswg/css-values-3/#comb-one">|</a> <a class="production css" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#percentage-value">&lt;percentage></a> <a data-link-type="grammar" href="http://dev.w3.org/csswg/css-values-3/#comb-one">|</a> <a class="production css" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#number-value">&lt;number></a> ] [ <a class="production css" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#length-value">&lt;length></a> <a data-link-type="grammar" href="http://dev.w3.org/csswg/css-values-3/#comb-one">|</a> <a class="production css" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#percentage-value">&lt;percentage></a> <a data-link-type="grammar" href="http://dev.w3.org/csswg/css-values-3/#comb-one">|</a> <a class="production css" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#number-value">&lt;number></a> <a data-link-type="grammar" href="http://dev.w3.org/csswg/css-values-3/#comb-one">|</a> <a class="production css" data-link-type="type" href="#DataTypeMarkerRef">&lt;marker-ref></a> ]<a data-link-type="grammar" href="http://dev.w3.org/csswg/css-values-3/#mult-zero-plus">*</a></div>
     <tr>
      <th>Initial:
      <td>none
     <tr>
      <th>Applies to:
      <td><a data-link-type="dfn" href="#markable-elements">markable elements</a>
     <tr>
      <th>Inherited:
      <td>no
     <tr>
      <th>Percentages:
      <td>see individual properties
     <tr>
      <th>Media:
      <td>visual
     <tr>
      <th>Computed value:
      <td>see individual properties
     <tr>
      <th>Animatable:
      <td>see individual properties</table>


   <p>The <a class="property" data-link-type="propdesc" href="#propdef-marker">marker</a> property sets values for the
<a class="property" data-link-type="propdesc" href="#propdef-marker-start">marker-start</a>, <a class="property" data-link-type="propdesc" href="#propdef-marker-mid">marker-mid</a>, <a class="property" data-link-type="propdesc" href="#propdef-marker-end">marker-end</a>,
<a class="property" data-link-type="propdesc" href="#propdef-marker-segment">marker-segment</a> and <a class="property" data-link-type="propdesc" href="#propdef-marker-pattern">marker-pattern</a> properties.
Values for have the following meanings:</p>


   <dl>

    <dt><a class="css" data-link-type="maybe" href="#valdef-marker-pattern-none">none</a> | <a class="production css" data-link-type="type" href="#DataTypeMarkerRef">&lt;marker-ref></a>

    <dd>Sets <a class="property" data-link-type="propdesc" href="#propdef-marker-start">marker-start</a>, <a class="property" data-link-type="propdesc" href="#propdef-marker-mid">marker-mid</a> and <a class="property" data-link-type="propdesc" href="#propdef-marker-end">marker-end</a>
  to the specified value, and sets <a class="property" data-link-type="propdesc" href="#propdef-marker-segment">marker-segment</a> and
  <a class="property" data-link-type="propdesc" href="#propdef-marker-pattern">marker-pattern</a> to <a class="css" data-link-type="maybe" href="#valdef-marker-pattern-none">none</a>.


    <dt>[ <a class="css" data-link-type="maybe" href="#valdef-marker-pattern-none">none</a> | <a class="production css" data-link-type="type" href="#DataTypeMarkerRef">&lt;marker-ref></a> ]{2}

    <dd>Sets <a class="property" data-link-type="propdesc" href="#propdef-marker-start">marker-start</a> and <a class="property" data-link-type="propdesc" href="#propdef-marker-end">marker-end</a> to the two
  values specified, and sets <a class="property" data-link-type="propdesc" href="#propdef-marker-mid">marker-mid</a>, <a class="property" data-link-type="propdesc" href="#propdef-marker-segment">marker-segment</a> and
  <a class="property" data-link-type="propdesc" href="#propdef-marker-pattern">marker-pattern</a> to <a class="css" data-link-type="maybe" href="#valdef-marker-pattern-none">none</a>.


    <dt>[ <a class="css" data-link-type="maybe" href="#valdef-marker-pattern-none">none</a> | <a class="production css" data-link-type="type" href="#DataTypeMarkerRef">&lt;marker-ref></a> ]{3}

    <dd>Sets <a class="property" data-link-type="propdesc" href="#propdef-marker-start">marker-start</a>, <a class="property" data-link-type="propdesc" href="#propdef-marker-mid">marker-mid</a> and <a class="property" data-link-type="propdesc" href="#propdef-marker-end">marker-end</a> to
  the three values specified, and sets <a class="property" data-link-type="propdesc" href="#propdef-marker-segment">marker-segment</a> and
  <a class="property" data-link-type="propdesc" href="#propdef-marker-pattern">marker-pattern</a> to <a class="css" data-link-type="maybe" href="#valdef-marker-pattern-none">none</a>.


    <dt>[ <a class="css" data-link-type="maybe" href="#valdef-marker-pattern-none">none</a> | <a class="production css" data-link-type="type" href="#DataTypeMarkerRef">&lt;marker-ref></a> ]{4}

    <dd>Sets <a class="property" data-link-type="propdesc" href="#propdef-marker-start">marker-start</a>, <a class="property" data-link-type="propdesc" href="#propdef-marker-segment">marker-segment</a>, <a class="property" data-link-type="propdesc" href="#propdef-marker-mid">marker-mid</a>
  and <a class="property" data-link-type="propdesc" href="#propdef-marker-end">marker-end</a> to the four <a class="production css" data-link-type="type" href="#DataTypeMarkerRef">&lt;marker-ref></a> values
  specified, and sets <a class="property" data-link-type="propdesc" href="#propdef-marker-pattern">marker-pattern</a> to
  <a class="css" data-link-type="maybe" href="#valdef-marker-pattern-none">none</a>.


    <dt>[ <a class="css" data-link-type="maybe" href="#valdef-marker-pattern-none">none</a> | <a class="production css" data-link-type="type" href="#DataTypeMarkerRef">&lt;marker-ref></a> ]{1,4} / <a class="property" data-link-type="propdesc" href="#propdef-marker-pattern">marker-pattern</a>

    <dd>Sets <a class="property" data-link-type="propdesc" href="#propdef-marker-start">marker-start</a>, <a class="property" data-link-type="propdesc" href="#propdef-marker-segment">marker-segment</a>, <a class="property" data-link-type="propdesc" href="#propdef-marker-mid">marker-mid</a>
  and <a class="property" data-link-type="propdesc" href="#propdef-marker-end">marker-end</a> to the four <a class="production css" data-link-type="type" href="#DataTypeMarkerRef">&lt;marker-ref></a> values
  specified before the slash, and sets <a class="property" data-link-type="propdesc" href="#propdef-marker-pattern">marker-pattern</a> to
  the value after the slash.


    <dt>anything else

    <dd>Sets <a class="property" data-link-type="propdesc" href="#propdef-marker-start">marker-start</a>, <a class="property" data-link-type="propdesc" href="#propdef-marker-segment">marker-segment</a>, <a class="property" data-link-type="propdesc" href="#propdef-marker-mid">marker-mid</a>
  and <a class="property" data-link-type="propdesc" href="#propdef-marker-end">marker-end</a> to <a class="css" data-link-type="maybe" href="#valdef-marker-start-none">none</a>,
  and sets <a class="property" data-link-type="propdesc" href="#propdef-marker-pattern">marker-pattern</a> to the specified value.
</dl>


   <h2 class="heading settled" data-level="8" id="MarkerKnockout"><span class="secno">8. </span><span class="content">Knocking out the stroke: the <a class="property" data-link-type="propdesc" href="#propdef-marker-knockout-left">marker-knockout-left</a> and <a class="property" data-link-type="propdesc" href="#propdef-marker-knockout-right">marker-knockout-right</a> properties</span><a class="self-link" href="#MarkerKnockout"></a></h2>


   <p class="issue" id="issue-16e703f2"><a class="self-link" href="#issue-16e703f2"></a>The marker knockout properties are still under heavy development
and are subject to change. Feedback on how authors might prefer to specify marker
knockout shapes is welcome.</p>


   <table class="definition propdef">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="css" data-dfn-type="property" data-export="" id="propdef-marker-knockout-left">marker-knockout-left<a class="self-link" href="#propdef-marker-knockout-left"></a></dfn>, <dfn class="css" data-dfn-type="property" data-export="" id="propdef-marker-knockout-right">marker-knockout-right<a class="self-link" href="#propdef-marker-knockout-right"></a></dfn>
     <tr>
      <th>Value:
      <td class="prod"><a class="production css" data-link-type="type" href="#typedef-knockout-offset">&lt;knockout-offset></a> <a data-link-type="grammar" href="http://dev.w3.org/csswg/css-values-3/#comb-one">|</a> <a class="production css" data-link-type="type" href="#typedef-knockout-shape">&lt;knockout-shape></a> [ at <a class="production css" data-link-type="type" href="#typedef-knockout-offset">&lt;knockout-offset></a> ]<a data-link-type="grammar" href="http://dev.w3.org/csswg/css-values-3/#mult-opt">?</a>
     <tr>
      <th>Initial:
      <td>0
     <tr>
      <th>Applies to:
      <td><a data-link-type="element" href="#elementdef-marker">marker</a>
     <tr>
      <th>Inherited:
      <td>no
     <tr>
      <th>Percentages:
      <td>see prose
     <tr>
      <th>Media:
      <td>visual
     <tr>
      <th>Computed value:
      <td>as specified
     <tr>
      <th>Animatable:
      <td>yes</table>


   <p>where:</p>


   <pre class="prod"><dfn data-dfn-type="type" data-export="" id="typedef-knockout-offset">&lt;knockout-offset><a class="self-link" href="#typedef-knockout-offset"></a></dfn> = <a class="production" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#length-value">&lt;length></a> <a data-link-type="grammar" href="http://dev.w3.org/csswg/css-values-3/#comb-one">|</a> <a class="production" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#percentage-value">&lt;percentage></a> <a data-link-type="grammar" href="http://dev.w3.org/csswg/css-values-3/#comb-one">|</a> <a class="production" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#number-value">&lt;number></a></pre>


   <pre class="prod"><dfn data-dfn-type="type" data-export="" id="typedef-knockout-shape">&lt;knockout-shape><a class="self-link" href="#typedef-knockout-shape"></a></dfn> =[ <a class="production" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#length-value">&lt;length></a> <a data-link-type="grammar" href="http://dev.w3.org/csswg/css-values-3/#comb-one">|</a> <a class="production" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#percentage-value">&lt;percentage></a> <a data-link-type="grammar" href="http://dev.w3.org/csswg/css-values-3/#comb-one">|</a> <a class="production" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#number-value">&lt;number></a> ] inverted<a data-link-type="grammar" href="http://dev.w3.org/csswg/css-values-3/#mult-opt">?</a> circle <a data-link-type="grammar" href="http://dev.w3.org/csswg/css-values-3/#comb-one">|</a>
[ <a class="production" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#length-value">&lt;length></a> <a data-link-type="grammar" href="http://dev.w3.org/csswg/css-values-3/#comb-one">|</a> <a class="production" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#percentage-value">&lt;percentage></a> <a data-link-type="grammar" href="http://dev.w3.org/csswg/css-values-3/#comb-one">|</a> <a class="production" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#number-value">&lt;number></a> ]<a data-link-type="grammar" href="http://dev.w3.org/csswg/css-values-3/#mult-num">{2}</a> inverted<a data-link-type="grammar" href="http://dev.w3.org/csswg/css-values-3/#mult-opt">?</a> ellipse <a data-link-type="grammar" href="http://dev.w3.org/csswg/css-values-3/#comb-one">|</a>
[ <a class="production" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#length-value">&lt;length></a> <a data-link-type="grammar" href="http://dev.w3.org/csswg/css-values-3/#comb-one">|</a> <a class="production" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#percentage-value">&lt;percentage></a> <a data-link-type="grammar" href="http://dev.w3.org/csswg/css-values-3/#comb-one">|</a> <a class="production" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#number-value">&lt;number></a> ]<a data-link-type="grammar" href="http://dev.w3.org/csswg/css-values-3/#mult-num-range">{1,2}</a> inverted<a data-link-type="grammar" href="http://dev.w3.org/csswg/css-values-3/#mult-opt">?</a> [ rectangle <a data-link-type="grammar" href="http://dev.w3.org/csswg/css-values-3/#comb-one">|</a> triangle ]
</pre>



   <p class="note" role="note">Note: New in SVG 2.  Added to allow authors to specify
parts of a stroke that should be clipped away when a marker is
placed on a path.  This helps with arrowheads, where the stroke
must not be visible behind the pointy end, and with hollow markers
as seen in metro maps, where the center of a marker is transparent
and the stroke should not show through.</p>


   <p>When specified on a <a data-link-type="element" href="#elementdef-marker">marker</a> element, the
<a class="property" data-link-type="propdesc" href="#propdef-marker-knockout-left">marker-knockout-left</a> and <a class="property" data-link-type="propdesc" href="#propdef-marker-knockout-right">marker-knockout-right</a> properties
together specify a shape to clip away when when painting the stroke of an
element that uses the marker.  <a class="property" data-link-type="propdesc" href="#propdef-marker-knockout-left">marker-knockout-left</a> specifies the
left side of the shape and <a class="property" data-link-type="propdesc" href="#propdef-marker-knockout-right">marker-knockout-right</a> the right side.
These two sides are joined together with straight lines.</p>


   <p>The <a class="production css" data-link-type="type" href="#typedef-knockout-offset">&lt;knockout-offset></a> part of the value, if specified,
is the offset from the marker position, outwards, along the tangent,
that the knockout shape side is placed at.  This is the <em>knockout shape
side position</em>.  If it is omitted, then the offset is assumed to be zero.
The value can be negative.  Percentage values refer to the width of the marker
contents viewport.</p>


   <p>The <a class="production css" data-link-type="type" href="#typedef-knockout-shape">&lt;knockout-shape></a> part of the value, if specified,
is the left or right side of the knockout shape. Values have the
following meanings:</p>


   <dl>

    <dt>[ <a class="production css" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#length-value">&lt;length></a> | <a class="production css" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#percentage-value">&lt;percentage></a> | <a class="production css" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#number-value">&lt;number></a> ]{2} inverted? ellipse

    <dd>

     <p>The knockout shape side is an arc.  The lengths or percentages specified
    are the x-radius and y-radius of the ellipse from which the arc is taken.
    A length is interpreted as being in the marker contents coordinate system.
    If the first value is a percentage, then it refers to the width of the
    marker contents viewport, and if the second value is a percentage then
    it refers to the height of the marker contents viewport.</p>



     <p>If the <span class="css">inverted</span> keyword is not specified,
    then the arc is constructed by placing the center of the ellipse at the knockout
    shape side position.  First we consider only the 180° arc of the ellipse which
    points in the direction of the start of the start of the path, if this is
    the left knockout shape side, or the end of the path if this is the right knockout
    shape side.  If the y-radius is less than or equal to half of the stroke width of
    the path the marker is on, then this 180° arc is the final knockout shape side.
    Otherwise, we intersect the arc with the two lines that are offset, by half
    of the stroke width, from the tangent to the marker orientation.
    The resulting arc with its start and end points on these two lines is the
    final knockout shape side.</p>



     <p>If the <span class="css">inverted</span> keyword <em>is</em> specified,
    then the arc is constructed by placing the center of the ellipse at a distance
    of two times its x-radius along the tangent to the marker orientation,
    in the direction of the start of the path if this is the left knockout shape
    side, or the end of the path if this is the right knockout shape side.
    We consider only the 180° arc of the ellipse that is pointing in the opposite
    direction.  If the y-radius is less or equal to half of the stroke width
    of the path the marker is on, then this 180° arc is the final knockout shape
    side.  Otherwise, we intersect the arc with the two lines that are offset,
    by half of the stroke width, from the tangent to the marker orientation.
    The resulting arc with its side and end points on these two lines
    is the final knockout shape side.</p>




    <dt>[ <a class="production css" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#length-value">&lt;length></a> | <a class="production css" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#percentage-value">&lt;percentage></a> | <a class="production css" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#number-value">&lt;number></a> ] inverted? circle

    <dd>

     <p>The knockout shape side is an arc.  The shape is computed in the same
    way as the <a class="css" data-link-type="maybe" href="http://dev.w3.org/csswg/css-images-3/#valdef-ending-shape-ellipse">ellipse</a> shape, but with
    both radii of the ellipse being the specified length or percentage,
    and with a percentage referring to the size of the marker contents viewport.</p>




    <dt>[ <a class="production css" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#length-value">&lt;length></a> | <a class="production css" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#percentage-value">&lt;percentage></a> | <a class="production css" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#number-value">&lt;number></a> ]{1,2} inverted? rectangle

    <dd>

     <p>The knockout shape side comprises one or two rectangles.  These
    rectangles are aligned such that their top and bottom edges are
    parallel to the tangent to the marker orientation.
    The length or percentage is a width and the second, if specified,
    is a height.  Percentage values here refer to the width and height
    of the marker contents viewport, respectively.</p>



     <p>If the <span class="css">inverted</span> keyword is not specified,
    then the knockout shape side is a single rectangle.  The width of the
    rectangle is the specified width value.  The height of the rectangle is the maximum
    of the stroke width of the path on which the marker exists and the specified
    height value, if it is specified.  If it is not specified, then the height of the
    rectangle is just the stroke width.
    The rectangle is posisioned such that the center of its right hand edge
    is positioned at the knockout shape side position
    and the extent of its width is in the direction of the start of the path,
    if this is the left knockout shape side, or the end of the path if this
    is the right knockout shape side.</p>



     <p>If the <span class="css">inverted</span> keyword is specified,
    then the knockout shape side comprises two rectangles.  If the specified
    height is greater than or equal to the stroke width, then the height
    of these rectangles is zero; otherwise, their heights are half of the
    difference between the stroke width and the specified height.  The
    top edge of one of the rectangles is half of the stroke width away
    from the marker orientation tangent line, with its bottom edge closer to the tangent line.
    The other rectangle has its bottom edge half of the stroke width
    away from the tangent line and its top edge closer to the tangent line.
    The right edges of the rectangles are aligned with each other and
    also with the line perpendicular to the marker orientation tangent line.
    The extent of the widths of the rectangles is in the direction
    of the start of the path, if this is the left knockout shape side,
    or the end of the path if this is the right knockout shape side.</p>




    <dt>[ <a class="production css" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#length-value">&lt;length></a> | <a class="production css" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#percentage-value">&lt;percentage></a> | <a class="production css" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#number-value">&lt;number></a> ]{1,2} inverted? [ rectangle | triangle ]

    <dd>

     <p>The knockout shape side comprises one or two rectangles.  These
    rectangles are aligned such that their top and bottom edges are
    parallel to the tangent to the marker orientation.
    The length or percentage is a width and the second, if specified,
    is a height.  Percentage values here refer to the width and height
    of the marker contents viewport, respectively.</p>



     <p>If the <span class="css">inverted</span> keyword is not specified,
    then the knockout shape side is a single rectangle.  The width of the
    rectangle is the specified width value.  The height of the rectangle is the maximum
    of the stroke width of the path on which the marker exists and the specified
    height value, if it is specified.  If it is not specified, then the height of the
    rectangle is just the stroke width.
    The rectangle is positioned such that the center of its right hand edge
    is positioned at the knockout shape side position
    and the extent of its width is in the direction of the start of the path,
    if this is the left knockout shape side, or the end of the path if this
    is the right knockout shape side.</p>



     <p>If the <span class="css">inverted</span> keyword is specified,
    then the knockout shape side comprises two rectangles.  If the specified
    height is greater than or equal to the stroke width, then the height
    of these rectangles is zero; otherwise, their heights are half of the
    difference between the stroke width and the specified height.  The
    top edge of one of the rectangles is half of the stroke width away
    from the marker orientation tangent line, with its bottom edge closer to the tangent line.
    The other rectangle has its bottom edge half of the stroke width
    away from the tangent line and its top edge closer to the tangent line.
    The right edges of the rectangles are aligned with each other and
    also with the line perpendicular to the marker orientation tangent line.
    The extent of the widths of the rectangles is in the direction
    of the start of the path, if this is the left knockout shape side,
    or the end of the path if this is the right knockout shape side.</p>




    <dt>[ <a class="production css" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#length-value">&lt;length></a> | <a class="production css" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#percentage-value">&lt;percentage></a> | <a class="production css" data-link-type="type" href="http://dev.w3.org/csswg/css-values-3/#number-value">&lt;number></a> ]{1,2} inverted? triangle

    <dd>

     <p class="issue" id="issue-2f43b42f"><a class="self-link" href="#issue-2f43b42f"></a>...</p>


</dl>


   <p class="issue" id="issue-da9e2f46"><a class="self-link" href="#issue-da9e2f46"></a>A diagram showing the construction of these shapes
would be helpful.</p>


   <p class="issue" id="issue-daa2c080"><a class="self-link" href="#issue-daa2c080"></a>Need to define how the two shape sides are joined together.
It’s taking the top and bottom points from both shapes, drawing vertical
lines to the edge of the stroke shape, then drawing two horizontal lines
to join them together.</p>


   <p>The two knockout shape sides must not intersect, although they may
touch.  If they do intersect, then no knockout is performed for that
marker when painting the stroke.</p>


   <p class="note" role="note">Note: For example, using <span class="css">8px inverted triangle at -4px</span> for <a class="property" data-link-type="propdesc" href="#propdef-marker-knockout-left">marker-knockout-left</a> and
<span class="css">8px triangle</span> for <a class="property" data-link-type="propdesc" href="#propdef-marker-knockout-right">marker-knockout-right</a>
is allowed, as the two straight lines that form the left shape side do not intersect
with either of the two straight lines that form the right shape side.
However, using <span class="css">8px triangle at -4px</span> for
both properties would obviously cause an intersection, and so would not
be allowed.</p>
   <p></p>


   <div class="figure">
  <img alt="Image showing various marker knockout shapes." class="bordered" src="images/knockout-shapes.svg" style="max-width: none">

    <p class="caption">An illustration of the use of inverted and non-inverted circle,
  rectangle and triangle knockout shapes, at both 0px and 10px offsets.
  The value beneath each pink stroke is used for both <a class="property" data-link-type="propdesc" href="#propdef-marker-knockout-left">marker-knockout-left</a>
  and <a class="property" data-link-type="propdesc" href="#propdef-marker-knockout-right">marker-knockout-right</a>.  (The marker itself here has no
  content and does not render anything.)</p>
</div>


   <div class="issue" id="issue-010548b8"><a class="self-link" href="#issue-010548b8"></a>

    <p>While this is nice for straight line segments, if the
  path is curved at the marker position then it might be preferable to
  have the knockout shapes aligned with the tangent at the knockout shape
  side position, rather than with the marker orientation.  Especially
  if the knockout is being used as a fancy dash pattern.  Then we would
  likely want to join the left and right sides of the shape with a curved
  shape (along the stroke) and not just a rectangle.  If we allow this,
  then computing that shape is going to be hard, and will mean that
  determining whether the left and right sides of the knockout shape
  intersect, and determining what the intersections of all of the knockout shapes
  on a path are, is also going to be hard.  Perhaps that can be handled by
  extending dashing line caps with these shapes rather than here?  Regardless of
  whether it is handled by marker knockouts or new line caps, it’s going
  to be non-trivial to compute the right shapes.</p>


    <p>Another thing to note is that knockouts here are like setting up
  a clipping path to remove parts of the stroke when it’s painted.  That
  means that if the stroke intersects itself over the knockout areas,
  it’s going to be knocked out of all bits of the stroke that go
  through those areas.  That may or may not be fine depending on
  your use cases.</p>
</div>



   <h2 class="heading settled" data-level="9" id="MarkerAlgorithm"><span class="secno">9. </span><span class="content">Details on how markers are rendered</span><a class="self-link" href="#MarkerAlgorithm"></a></h2>


   <p>Markers are drawn after the given object is filled and stroked.</p>


   <p>For each marker that is drawn, a temporary new user coordinate
system is established so that the marker will be positioned and sized
correctly, as follows:</p>


   <ul>

    <li>The axes of the temporary new user coordinate system are aligned
  according to the <a data-link-type="element-attr" href="#element-attrdef-marker-orient">orient</a> attribute on the
  <a data-link-type="element" href="#elementdef-marker">marker</a> element and the slope of the curve at the given vertex.
  (Note: if there is a discontinuity at a vertex, the slope is the
  average of the slopes of the two segments of the curve that join
  at the given vertex. If a slope cannot be determined, the slope is
  assumed to be zero.)


    <li>A temporary new coordinate system is established by attribute
  <a data-link-type="element-attr" href="#element-attrdef-marker-markerunits">markerUnits</a>. If
  <a data-link-type="element-attr" href="#element-attrdef-marker-markerunits">markerUnits</a> equals
  <a class="css" data-link-type="maybe" href="#valdef-markerunits-strokewidth">strokeWidth</a>, then the temporary new
  user coordinate system is the result of scaling the current
  user coordinate system by the current value of property
  <a class="property" data-link-type="propdesc" href="https://svgwg.org/svg2-draft/painting.html#StrokeWidthProperty">stroke-width</a>. If <a data-link-type="element-attr" href="#element-attrdef-marker-markerunits">markerUnits</a> equals
  <a class="css" data-link-type="maybe" href="#valdef-markerunits-userspaceonuse">userSpaceOnUse</a>, then no extra scale transformation is applied.


    <li>An additional set of transformations might occur if the
  <a data-link-type="element" href="#elementdef-marker">marker</a> element includes a <a data-link-type="element-attr" href="#element-attrdef-marker-viewbox">viewBox</a> attribute, in
  which case additional transformations are set up to produce the necessary
  result due to attributes <a data-link-type="element-attr" href="#element-attrdef-marker-viewbox">viewBox</a> and
  <a data-link-type="element-attr" href="#element-attrdef-marker-preserveaspectratio">preserveAspectRatio</a>.


    <li>If the <a class="property" data-link-type="propdesc" href="http://dev.w3.org/csswg/css-overflow-3/#propdef-overflow">overflow</a> property on the <a data-link-type="element" href="#elementdef-marker">marker</a> element
  indicates that the marker needs to be clipped to its viewport, then an
  implicit clipping path is established at the bounds of the viewport.
</ul>


   <p>The rendering effect of a marker is as if the contents of the
referenced <a data-link-type="element" href="#elementdef-marker">marker</a> element were deeply cloned
into a separate non-exposed DOM tree for each instance of the
marker. Because the cloned DOM tree is non-exposed, the SVG DOM
does not show the cloned instance of the marker.</p>


   <p>For user agents that support <a href="styling.html#StylingWithCSS">Styling
with CSS</a>, the conceptual deep cloning of the referenced
<a data-link-type="element" href="#elementdef-marker">marker</a> element into a non-exposed DOM tree also
copies any property values resulting from
<a href="http://www.w3.org/TR/2011/REC-CSS2-20110607/cascade.html">the CSS cascade</a>
([<a href="refs.html#ref-CSS21">CSS21</a>], chapter 6) and
property inheritance on the referenced element and its contents. CSS 2.1
selectors can be applied to the original (i.e., referenced) elements
because they are part of the formal document structure. CSS 2.1 selectors
cannot be applied to the (conceptually) cloned DOM tree because its
contents are not part of the formal document structure.</p>


   <div class="example">

    <p>For illustrative purposes, we’ll repeat the marker example shown earlier:</p>


    <pre><code class="html">&lt;?xml version="1.0" standalone="no"?>
&lt;svg width="4in" height="2in"
     viewBox="0 0 4000 2000"
     xmlns="http://www.w3.org/2000/svg">
  &lt;defs>
    &lt;marker id="Triangle"
      viewBox="0 0 10 10" refX="0" refY="5"
      markerUnits="strokeWidth"
      markerWidth="4" markerHeight="3"
      orient="auto">
      &lt;path d="M 0 0 L 10 5 L 0 10 z" />
    &lt;/marker>
  &lt;/defs>
  &lt;rect x="10" y="10" width="3980" height="1980"
       fill="none" stroke="blue" stroke-width="10" />
  &lt;desc>Placing an arrowhead at the end of a path.
  &lt;/desc>
  &lt;path d="M 1000 750 L 2000 750 L 2500 1250"
        fill="none" stroke="black" stroke-width="100"
        marker-end="url(#Triangle)"  />
&lt;/svg>
</code></pre>
</div>


   <div class="example">

    <p>The rendering effect of the above file will be visually identical to
  the following:</p>


    <pre><code class="html">&lt;?xml version="1.0" standalone="no"?>
&lt;svg width="4in" height="2in"
     viewBox="0 0 4000 2000"
     xmlns="http://www.w3.org/2000/svg">
  &lt;desc>File which produces the same effect
      as the marker example file, but without
      using markers.
  &lt;/desc>
  &lt;rect x="10" y="10" width="3980" height="1980"
       fill="none" stroke="blue" stroke-width="10" />
  &lt;!-- The path draws as before, but without the marker properties -->
  &lt;path d="M 1000 750 L 2000 750 L 2500 1250"
        fill="none" stroke="black" stroke-width="100"  />
  &lt;!-- The following logic simulates drawing a marker
       at final vertex of the path. -->
  &lt;!-- First off, move the origin of the user coordinate system
       so that the origin is now aligned with the end point of the path. -->
  <strong>&lt;g transform="translate(2500,1250)" ></strong>
    &lt;!-- Rotate the coordinate system 45 degrees because
         the marker specified orient="auto" and the final segment
         of the path is going in the direction of 45 degrees. -->
    <strong>&lt;g transform="rotate(45)" ></strong>
      &lt;!-- Scale the coordinate system to match the coordinate system
           indicated by the 'markerUnits' attributes, which in this case has
           a value of 'strokeWidth'. Therefore, scale the coordinate system
           by the current value of the 'stroke-width' property, which is 100. -->
      <strong>&lt;g transform="scale(100)" ></strong>
        &lt;!-- Translate the coordinate system by
             (-refX*viewBoxToMarkerUnitsScaleX, -refY*viewBoxToMarkerUnitsScaleY)
             in order that (refX,refY) within the marker will align with the vertex.
             In this case, we use the default value for preserveAspectRatio
             ('xMidYMid meet'), which means find a uniform scale factor
             (i.e., viewBoxToMarkerUnitsScaleX=viewBoxToMarkerUnitsScaleY)
             such that the viewBox fits entirely within the viewport ('meet') and
             is center-aligned ('xMidYMid'). In this case, the uniform scale factor
             is markerHeight/viewBoxHeight=3/10=.3. Therefore, translate by
             (-refX*.3,-refY*.3)=(0*.3,-5*.3)=(0,-1.5). -->
        <strong>&lt;g transform="translate(0,-1.5)" ></strong>
          &lt;!-- There is an implicit clipping path because the user agent style
               sheet says that the 'overflow' property for markers has the value
               'hidden'. To achieve this, create a clipping path at the bounds
               of the viewport. Note that in this case the viewport extends
               0.5 units to the left and right of the viewBox due to
               a uniform scale factor, different ratios for markerWidth/viewBoxWidth
               and markerHeight/viewBoxHeight, and 'xMidYMid' alignment -->
          <strong>&lt;clipPath id="cp1" >
            &lt;rect x="-0.5" y="0" width="4" height="3" />
          &lt;/clipPath></strong>
          <strong>&lt;g clip-path="url(#cp1)" ></strong>
            &lt;!-- Scale the coordinate system by the uniform scale factor
                 markerHeight/viewBoxHeight=3/10=.3 to set the coordinate
                 system to viewBox units. -->
            <strong>&lt;g transform="scale(.3)" ></strong>
              &lt;!-- This 'g' element carries all property values that result from
                   cascading and inheritance of properties on the original 'marker' element.
                   In this example, neither fill nor stroke was specified on the 'marker'
                   element or any ancestors of the 'marker', so the initial values of
                   "black" and "none" are used, respectively. -->
             <strong>&lt;g fill="black" stroke="none" ></strong>
                &lt;!-- Expand out the contents of the 'marker' element. -->
                <strong>&lt;path d="M 0 0 L 10 5 L 0 10 z" /></strong>
              <strong>&lt;/g></strong>
            <strong>&lt;/g></strong>
          <strong>&lt;/g></strong>
        <strong>&lt;/g></strong>
      <strong>&lt;/g></strong>
    <strong>&lt;/g></strong>
  <strong>&lt;/g></strong>
&lt;/svg>
</code></pre>


    <p class="view-as-svg"><a href="images/marker-simulated.svg">View this example as SVG (SVG-enabled browsers only)</a></p>
</div>

</main>

  <h2 class="no-ref no-num heading settled" id="conformance"><span class="content">
Conformance</span><a class="self-link" href="#conformance"></a></h2>


  <h3 class="no-ref heading settled" id="conventions"><span class="content">
Document conventions</span><a class="self-link" href="#conventions"></a></h3>


  <p>Conformance requirements are expressed with a combination of
    descriptive assertions and RFC 2119 terminology. The key words "MUST",
    "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT",
    "RECOMMENDED", "MAY", and "OPTIONAL" in the normative parts of this
    document are to be interpreted as described in RFC 2119.
    However, for readability, these words do not appear in all uppercase
    letters in this specification.

    </p>
  <p>All of the text of this specification is normative except sections
    explicitly marked as non-normative, examples, and notes. <a data-link-type="biblio" href="#biblio-rfc2119">[RFC2119]</a></p>


  <p>Examples in this specification are introduced with the words "for example"
    or are set apart from the normative text with <code>class="example"</code>,
    like this:

    </p>
  <div class="example">

   <p>This is an example of an informative example.</p>


  </div>


  <p>Informative notes begin with the word "Note" and are set apart from the
    normative text with <code>class="note"</code>, like this:

    </p>
  <p class="note" role="note">Note, this is an informative note.</p>


  <p>Advisements are normative sections styled to evoke special attention and are
    set apart from other normative text with <code>&lt;strong class="advisement"></code>, like
    this:

    <strong class="advisement">
        UAs MUST provide an accessible alternative.
    </strong>

</p>
  <h3 class="no-ref heading settled" id="conformance-classes"><span class="content">
Conformance classes</span><a class="self-link" href="#conformance-classes"></a></h3>


  <p>Conformance to this specification
    is defined for three conformance classes:
    </p>
  <dl>

   <dt>style sheet

   <dd>A <a href="http://www.w3.org/TR/CSS21/conform.html#style-sheet">CSS
            style sheet</a>.

   <dt>renderer

   <dd>A <a href="http://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a>
            that interprets the semantics of a style sheet and renders
            documents that use them.

   <dt>authoring tool

   <dd>A <a href="http://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a>
            that writes a style sheet.

  </dl>


  <p>A style sheet is conformant to this specification
    if all of its statements that use syntax defined in this module are valid
    according to the generic CSS grammar and the individual grammars of each
    feature defined in this module.

    </p>
  <p>A renderer is conformant to this specification
    if, in addition to interpreting the style sheet as defined by the
    appropriate specifications, it supports all the features defined
    by this specification by parsing them correctly
    and rendering the document accordingly. However, the inability of a
    UA to correctly render a document due to limitations of the device
    does not make the UA non-conformant. (For example, a UA is not
    required to render color on a monochrome monitor.)

    </p>
  <p>An authoring tool is conformant to this specification
    if it writes style sheets that are syntactically correct according to the
    generic CSS grammar and the individual grammars of each feature in
    this module, and meet all other conformance requirements of style sheets
    as described in this module.

</p>
  <h3 class="no-ref heading settled" id="partial"><span class="content">
Partial implementations</span><a class="self-link" href="#partial"></a></h3>


  <p>So that authors can exploit the forward-compatible parsing rules to
    assign fallback values, CSS renderers <strong>must</strong>
    treat as invalid (and <a href="http://www.w3.org/TR/CSS21/conform.html#ignore">ignore
    as appropriate</a>) any at-rules, properties, property values, keywords,
    and other syntactic constructs for which they have no usable level of
    support. In particular, user agents <strong>must not</strong> selectively
    ignore unsupported component values and honor supported values in a single
    multi-value property declaration: if any value is considered invalid
    (as unsupported values must be), CSS requires that the entire declaration
    be ignored.</p>


  <h3 class="no-ref heading settled" id="experimental"><span class="content">
Experimental implementations</span><a class="self-link" href="#experimental"></a></h3>


  <p>To avoid clashes with future CSS features, the CSS2.1 specification
    reserves a <a href="http://www.w3.org/TR/CSS21/syndata.html#vendor-keywords">prefixed
    syntax</a> for proprietary and experimental extensions to CSS.

    </p>
  <p>Prior to a specification reaching the Candidate Recommendation stage
    in the W3C process, all implementations of a CSS feature are considered
    experimental. The CSS Working Group recommends that implementations
    use a vendor-prefixed syntax for such features, including those in
    W3C Working Drafts. This avoids incompatibilities with future changes
    in the draft.
    </p>


  <h3 class="no-ref heading settled" id="testing"><span class="content">
Non-experimental implementations</span><a class="self-link" href="#testing"></a></h3>


  <p>Once a specification reaches the Candidate Recommendation stage,
    non-experimental implementations are possible, and implementors should
    release an unprefixed implementation of any CR-level feature they
    can demonstrate to be correctly implemented according to spec.

    </p>
  <p>To establish and maintain the interoperability of CSS across
    implementations, the CSS Working Group requests that non-experimental
    CSS renderers submit an implementation report (and, if necessary, the
    testcases used for that implementation report) to the W3C before
    releasing an unprefixed implementation of any CSS features. Testcases
    submitted to W3C are subject to review and correction by the CSS
    Working Group.

    </p>
  <p>Further information on submitting testcases and implementation reports
    can be found from on the CSS Working Group’s website at
    <a href="http://www.w3.org/Style/CSS/Test/">http://www.w3.org/Style/CSS/Test/</a>.
    Questions should be directed to the
    <a href="http://lists.w3.org/Archives/Public/public-css-testsuite">public-css-testsuite@w3.org</a>
    mailing list.



</p>
  <h2 class="no-num heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-svg11"><a class="self-link" href="#biblio-svg11"></a>[SVG11]
   <dd>Erik Dahlström; et al. <a href="http://www.w3.org/TR/SVG11/">Scalable Vector Graphics (SVG) 1.1 (Second Edition)</a>. 16 August 2011. REC. URL: <a href="http://www.w3.org/TR/SVG11/">http://www.w3.org/TR/SVG11/</a>
   <dt id="biblio-rfc2119"><a class="self-link" href="#biblio-rfc2119"></a>[rfc2119]
   <dd>S. Bradner. <a href="https://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>. March 1997. Best Current Practice. URL: <a href="https://tools.ietf.org/html/rfc2119">https://tools.ietf.org/html/rfc2119</a>
  </dl>
  <h3 class="no-num heading settled" id="informative"><span class="content">Informative References</span><a class="self-link" href="#informative"></a></h3>
  <dl>
   <dt id="biblio-url"><a class="self-link" href="#biblio-url"></a>[URL]
   <dd>Erik Arvidsson; Michael. <a href="http://www.w3.org/TR/2012/WD-url-20120524/">URL</a>. 24 May 2012. W3C Working Draft. (Work in progress.) URL: <a href="http://www.w3.org/TR/2012/WD-url-20120524/">http://www.w3.org/TR/2012/WD-url-20120524/</a>
  </dl>
  <h2 class="no-num heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <ul class="indexlist">
   <li>&lt;child-selector>, <a href="#typedef-child-selector">3</a>
   <li>href, <a href="#element-attrdef-marker-href">2</a>
   <li>&lt;knockout-offset>, <a href="#typedef-knockout-offset">8</a>
   <li>&lt;knockout-shape>, <a href="#typedef-knockout-shape">8</a>
   <li>markable elements, <a href="#markable-elements">1</a>
   <li>marker
    <ul>
     <li>(element), <a href="#elementdef-marker">2</a>
     <li>(property), <a href="#propdef-marker">7</a>
    </ul>
   <li>marker-end, <a href="#propdef-marker-end">4</a>
   <li>&lt;marker-gap>, <a href="#typedef-marker-gap">6</a>
   <li>markerHeight, <a href="#element-attrdef-marker-markerheight">2</a>
   <li>marker-knockout-left, <a href="#propdef-marker-knockout-left">8</a>
   <li>marker-knockout-right, <a href="#propdef-marker-knockout-right">8</a>
   <li>marker-mid, <a href="#propdef-marker-mid">4</a>
   <li>marker-pattern, <a href="#propdef-marker-pattern">6</a>
   <li>marker properties, <a href="#marker-properties">1</a>
   <li>&lt;marker-ref>
    <ul>
     <li>(type), <a href="#DataTypeMarkerRef">3</a>
     <li>value for marker-start, <a href="#valdef-marker-start-marker-ref">4</a>
     <li>value for marker-segment, <a href="#valdef-marker-segment-marker-ref">5</a>
    </ul>
   <li>&lt;marker-ref-group>, <a href="#typedef-marker-ref-group">6</a>
   <li>marker-segment, <a href="#propdef-marker-segment">5</a>
   <li>marker-start, <a href="#propdef-marker-start">4</a>
   <li>markerUnits, <a href="#element-attrdef-marker-markerunits">2</a>
   <li>markerWidth, <a href="#element-attrdef-marker-markerwidth">2</a>
   <li>none
    <ul>
     <li>value for marker-start, <a href="#valdef-marker-start-none">4</a>
     <li>value for marker-segment, <a href="#valdef-marker-segment-none">5</a>
     <li>value for marker-pattern, <a href="#valdef-marker-pattern-none">6</a>
    </ul>
   <li>orient, <a href="#element-attrdef-marker-orient">2</a>
   <li>position, <a href="#element-attrdef-marker-position">2</a>
   <li>positioned markers, <a href="#positioned-markers">1</a>
   <li>preserveAspectRatio, <a href="#element-attrdef-marker-preserveaspectratio">2</a>
   <li>refX, <a href="#element-attrdef-marker-refx">2</a>
   <li>refY, <a href="#element-attrdef-marker-refy">2</a>
   <li>repeating markers, <a href="#repeating-markers">1</a>
   <li>segment markers, <a href="#segment-markers">1</a>
   <li>strokeWidth, <a href="#valdef-markerunits-strokewidth">2</a>
   <li>userSpaceOnUse, <a href="#valdef-markerunits-userspaceonuse">2</a>
   <li>vertex markers, <a href="#vertex-markers">1</a>
   <li>viewBox, <a href="#element-attrdef-marker-viewbox">2</a>
  </ul>
  <h2 class="no-num heading settled" id="property-index"><span class="content">Property Index</span><a class="self-link" href="#property-index"></a></h2>
  <table class="proptable data">
   <thead>
    <tr>
     <th scope="col">Name
     <th scope="col">Value
     <th scope="col">Initial
     <th scope="col">Applies to
     <th scope="col">Inh.
     <th scope="col">%ages
     <th scope="col">Media
     <th scope="col">Animatable
     <th scope="col">Computed value
   <tbody>
    <tr>
     <th scope="row"><a class="css" data-link-type="property" href="#propdef-marker-start">marker-start</a>
     <td>none | &lt;marker-ref>
     <td>none
     <td>markable elements
     <td>yes
     <td>n/a
     <td>visual
     <td>yes
     <td>as specified, but with &lt;url> values (that are part of a &lt;marker-ref>) made absolute
    <tr>
     <th scope="row"><a class="css" data-link-type="property" href="#propdef-marker-mid">marker-mid</a>
     <td>none | &lt;marker-ref>
     <td>none
     <td>markable elements
     <td>yes
     <td>n/a
     <td>visual
     <td>yes
     <td>as specified, but with &lt;url> values (that are part of a &lt;marker-ref>) made absolute
    <tr>
     <th scope="row"><a class="css" data-link-type="property" href="#propdef-marker-end">marker-end</a>
     <td>none | &lt;marker-ref>
     <td>none
     <td>markable elements
     <td>yes
     <td>n/a
     <td>visual
     <td>yes
     <td>as specified, but with &lt;url> values (that are part of a &lt;marker-ref>) made absolute
    <tr>
     <th scope="row"><a class="css" data-link-type="property" href="#propdef-marker-segment">marker-segment</a>
     <td>none | &lt;marker-ref>
     <td>none
     <td>markable elements
     <td>yes
     <td>n/a
     <td>visual
     <td>yes
     <td>as specified, but with &lt;url> values (that are part of a &lt;marker-ref>) made absolute
    <tr>
     <th scope="row"><a class="css" data-link-type="property" href="#propdef-marker-pattern">marker-pattern</a>
     <td>&lt;marker-gap>? &lt;marker-ref-group> [ &lt;marker-gap> &lt;marker-gap> ]* &lt;marker-gap>?
     <td>none
     <td>markable elements
     <td>yes
     <td>n/a
     <td>visual
     <td>yes
     <td>as specified, but with &lt;url> values (that are part of a &lt;marker-ref>) made absolute
    <tr>
     <th scope="row"><a class="css" data-link-type="property" href="#propdef-marker">marker</a>
     <td>[ none | &lt;marker-ref> ]{1,4} [ / marker-pattern ]?  | &lt;marker-ref>{0,4} [ &lt;length> | &lt;percentage> | &lt;number> ] [ &lt;length> | &lt;percentage> | &lt;number> | &lt;marker-ref> ]*
     <td>none
     <td>markable elements
     <td>no
     <td>see individual properties
     <td>visual
     <td>see individual properties
     <td>see individual properties
    <tr>
     <th scope="row"><a class="css" data-link-type="property" href="#propdef-marker-knockout-left">marker-knockout-left</a>
     <td>&lt;knockout-offset> | &lt;knockout-shape> [ at &lt;knockout-offset> ]?
     <td>0
     <td>marker
     <td>no
     <td>see prose
     <td>visual
     <td>yes
     <td>as specified
    <tr>
     <th scope="row"><a class="css" data-link-type="property" href="#propdef-marker-knockout-right">marker-knockout-right</a>
     <td>&lt;knockout-offset> | &lt;knockout-shape> [ at &lt;knockout-offset> ]?
     <td>0
     <td>marker
     <td>no
     <td>see prose
     <td>visual
     <td>yes
     <td>as specified
  </table>
  <h2 class="no-num heading settled" id="issues-index"><span class="content">Issues Index</span><a class="self-link" href="#issues-index"></a></h2>
  <div style="counter-reset:issue">
   <div class="issue">There are probably better terms to use than "vertex" and
"segment" markers.  At least, "vertex" would go more naturally with "edge",
but we should use more natural sounding names.<a href="#issue-5ac2c309"> ↵ </a></div>
   <div class="issue">This needs to reference a definition for how
      directionality of a given start/mid/end vertex is calculated.
      Part of that (which should be moved somewhere more appropriate) is in
      the <a href="implnote.html#PathElementImplementationNotes">path element implementation notes</a>.
      Some wording from SVG 1.1 appears to have been lost, compare with <a href="http://www.w3.org/TR/SVG11/painting.html#OrientAttribute">this</a>.
      <br><br>
      Here’s an example that is a bit unclear currently:
      <code style="white-space:pre">
&lt;svg>
  &lt;marker id="m" orient="auto" overflow="visible">
    &lt;rect x="-1" y="-0.5" width="1" height="1" fill="green"/>
  &lt;/marker>
  &lt;path d="M50,0C50,50 50,100 50,100" marker-end="url(#m)" stroke-width="100" stroke="red"/>
&lt;/svg>
    </code>
    <br>
    The second control point and the endpoint coincide, should this mean that the direction of the endpoint is a) <em>unknown [aka default to 0 degrees]</em> or
    b) <em>that you have to look at the previous segment(s)/command(s) until a direction can be established</em>?
      <a href="#issue-54a953b7"> ↵ </a></div>
   <div class="issue">Should a negative or greater than path length value be
  an "in error" / "unsupported" value?<a href="#issue-bf9b4a29"> ↵ </a></div>
   <div class="issue">We should say something about referencing <a data-link-type="element" href="#elementdef-marker">marker</a>
  elements that have an <a data-link-type="element-attr" href="#element-attrdef-marker-href">href</a> with the <a data-link-type="dfn" href="#marker-properties">marker properties</a>.
  I suspect we should just allow this.  Whether we want to allow the full
  element-referencing thing that you can do with gradients, with selective
  overriding of attributes, I’m not sure.<a href="#issue-e0c9c0c2"> ↵ </a></div>
   <div class="issue">Make interaction work on <a data-link-type="dfn" href="#positioned-markers">positioned markers</a>.<a href="#issue-64826a7c"> ↵ </a></div>
   <div class="issue">The marker knockout properties are still under heavy development
and are subject to change. Feedback on how authors might prefer to specify marker
knockout shapes is welcome.<a href="#issue-16e703f2"> ↵ </a></div>
   <div class="issue">...<a href="#issue-2f43b42f"> ↵ </a></div>
   <div class="issue">A diagram showing the construction of these shapes
would be helpful.<a href="#issue-da9e2f46"> ↵ </a></div>
   <div class="issue">Need to define how the two shape sides are joined together.
It’s taking the top and bottom points from both shapes, drawing vertical
lines to the edge of the stroke shape, then drawing two horizontal lines
to join them together.<a href="#issue-daa2c080"> ↵ </a></div>
   <div class="issue">

    <p>While this is nice for straight line segments, if the
  path is curved at the marker position then it might be preferable to
  have the knockout shapes aligned with the tangent at the knockout shape
  side position, rather than with the marker orientation.  Especially
  if the knockout is being used as a fancy dash pattern.  Then we would
  likely want to join the left and right sides of the shape with a curved
  shape (along the stroke) and not just a rectangle.  If we allow this,
  then computing that shape is going to be hard, and will mean that
  determining whether the left and right sides of the knockout shape
  intersect, and determining what the intersections of all of the knockout shapes
  on a path are, is also going to be hard.  Perhaps that can be handled by
  extending dashing line caps with these shapes rather than here?  Regardless of
  whether it is handled by marker knockouts or new line caps, it’s going
  to be non-trivial to compute the right shapes.</p>



    <p>Another thing to note is that knockouts here are like setting up
  a clipping path to remove parts of the stroke when it’s painted.  That
  means that if the stroke intersects itself over the knockout areas,
  it’s going to be knocked out of all bits of the stroke that go
  through those areas.  That may or may not be fine depending on
  your use cases.</p>

<a href="#issue-010548b8"> ↵ </a>
   </div>
  </div></body>
</html>

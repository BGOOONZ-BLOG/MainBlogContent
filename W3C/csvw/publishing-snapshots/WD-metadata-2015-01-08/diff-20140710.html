<!DOCTYPE html>
<!-- saved from url=(0053)http://www5.aptest.com/standards/htmldiff/htmldiff.pl -->
<html lang="en" dir="ltr" typeof="bibo:Document w3p:WD" prefix="bibo: http://purl.org/ontology/bibo/ w3p: http://www.w3.org/2001/02pd/rec54#"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta lang="" property="dc:language" content="en">
    <meta charset="utf-8">
    <meta content="width=device-width,initial-scale=1" name="viewport">
    <title>Metadata Vocabulary for Tabular Data</title>
    
    
    
  <style>
    td, th { padding-left: 1em; padding-right: 1em; }
    tbody tr th { text-align: left; }
  </style><style>/*****************************************************************
 * ReSpec 3 CSS
 * Robin Berjon - http://berjon.com/
 *****************************************************************/

/* --- INLINES --- */
em.rfc2119 { 
    text-transform:     lowercase;
    font-variant:       small-caps;
    font-style:         normal;
    color:              #900;
}

h1 acronym, h2 acronym, h3 acronym, h4 acronym, h5 acronym, h6 acronym, a acronym,
h1 abbr, h2 abbr, h3 abbr, h4 abbr, h5 abbr, h6 abbr, a abbr {
    border: none;
}

dfn {
    font-weight:    bold;
}

a.internalDFN {
    color:  inherit;
    border-bottom:  1px solid #99c;
    text-decoration:    none;
}

a.externalDFN {
    color:  inherit;
    border-bottom:  1px dotted #ccc;
    text-decoration:    none;
}

a.bibref {
    text-decoration:    none;
}

cite .bibref {
    font-style: normal;
}

code {
    color:  #C83500;
}

/* --- TOC --- */
.toc a, .tof a {
    text-decoration:    none;
}

a .secno, a .figno {
    color:  #000;
}

ul.tof, ol.tof {
    list-style: none outside none;
}

.caption {
    margin-top: 0.5em;
    font-style:   italic;
}

/* --- TABLE --- */
table.simple {
    border-spacing: 0;
    border-collapse:    collapse;
    border-bottom:  3px solid #005a9c;
}

.simple th {
    background: #005a9c;
    color:  #fff;
    padding:    3px 5px;
    text-align: left;
}

.simple th[scope="row"] {
    background: inherit;
    color:  inherit;
    border-top: 1px solid #ddd;
}

.simple td {
    padding:    3px 10px;
    border-top: 1px solid #ddd;
}

.simple tr:nth-child(even) {
    background: #f0f6ff;
}

/* --- DL --- */
.section dd > p:first-child {
    margin-top: 0;
}

.section dd > p:last-child {
    margin-bottom: 0;
}

.section dd {
    margin-bottom:  1em;
}

.section dl.attrs dd, .section dl.eldef dd {
    margin-bottom:  0;
}

@media print {
    .removeOnSave {
        display: none;
    }
}
</style><style>/* --- EXAMPLES --- */
div.example-title {
    min-width: 7.5em;
    color: #b9ab2d;
}
div.example-title span {
    text-transform: uppercase;   
}
aside.example, div.example, div.illegal-example {
    padding: 0.5em;
    margin: 1em 0;
    position: relative;
    clear: both;
}
div.illegal-example { color: red }
div.illegal-example p { color: black }
aside.example, div.example {
    padding: .5em;
    border-left-width: .5em;
    border-left-style: solid;
    border-color: #e0cb52;
    background: #fcfaee;    
}

aside.example div.example {
    border-left-width: .1em;
    border-color: #999;
    background: #fff;
}
aside.example div.example div.example-title {
    color: #999;
}
</style><style>/* --- ISSUES/NOTES --- */
div.issue-title, div.note-title , div.warning-title {
    padding-right:  1em;
    min-width: 7.5em;
    color: #b9ab2d;
}
div.issue-title { color: #e05252; }
div.note-title { color: #2b2; }
div.warning-title { color: #f22; }
div.issue-title span, div.note-title span, div.warning-title span {
    text-transform: uppercase;
}
div.note, div.issue, div.warning {
    margin-top: 1em;
    margin-bottom: 1em;
}
.note > p:first-child, .issue > p:first-child, .warning > p:first-child { margin-top: 0 }
.issue, .note, .warning {
    padding: .5em;
    border-left-width: .5em;
    border-left-style: solid;
}
div.issue, div.note , div.warning {
    padding: 1em 1.2em 0.5em;
    margin: 1em 0;
    position: relative;
    clear: both;
}
span.note, span.issue, span.warning { padding: .1em .5em .15em; }

.issue {
    border-color: #e05252;
    background: #fbe9e9;
}
.note {
    border-color: #52e052;
    background: #e9fbe9;
}

.warning {
    border-color: #f11;
    border-right-width: .2em;
    border-top-width: .2em;
    border-bottom-width: .2em;
    border-style: solid;
    background: #fbe9e9;
}

.warning-title:before{
    content: "&#9888;"; /*U+26A0 WARNING SIGN*/
    font-size: 3em;
    float: left;
    height: 100%;
    padding-right: .3em;
    vertical-align: top;
    margin-top: -0.5em;
}
</style><style>/* HIGHLIGHTS */
code.prettyprint {
    color:  inherit;
}

/* this from google-code-prettify */
.pln{color:#000}@media screen{.str{color:#080}.kwd{color:#008}.com{color:#800}.typ{color:#606}.lit{color:#066}.pun,.opn,.clo{color:#660}.tag{color:#008}.atn{color:#606}.atv{color:#080}.dec,.var{color:#606}.fun{color:red}}@media print,projection{.str{color:#060}.kwd{color:#006;font-weight:bold}.com{color:#600;font-style:italic}.typ{color:#404;font-weight:bold}.lit{color:#044}.pun,.opn,.clo{color:#440}.tag{color:#006;font-weight:bold}.atn{color:#404}.atv{color:#060}}ol.linenums{margin-top:0;margin-bottom:0}li.L0,li.L1,li.L2,li.L3,li.L5,li.L6,li.L7,li.L8{list-style-type:none}li.L1,li.L3,li.L5,li.L7,li.L9{background:#eee}
</style><link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/W3C-WD"><!--[if lt IE 9]><script src='https://www.w3.org/2008/site/js/html5shiv.js'></script><![endif]--><style type="text/css">
.diff-old-a {
  font-size: smaller;
  color: red;
}

.diff-new { background-color: yellow; }
.diff-chg { background-color: lime; }
.diff-new:before,
.diff-new:after
    { content: "\2191" }
.diff-chg:before, .diff-chg:after
    { content: "\2195" }
.diff-old { text-decoration: line-through; background-color: #FBB; }
.diff-old:before,
.diff-old:after
    { content: "\2193" }
:focus { border: thin red solid}
</style>
</head>

  
<body class="h-entry" role="document" id="respecDocument">
<div class="head" role="contentinfo" id="respecHeader">
<p>
<a href="http://www.w3.org/">
<img width="72" height="48" src="./diff-20150710_files/w3c_home" alt="W3C">
</a>
</p>
<h1 class="title p-name" id="title" property="dcterms:title">
Metadata
Vocabulary
for
Tabular
Data
</h1>
<h2 id="w3c-working-draft-08-january-2015">
<abbr title="World Wide Web Consortium">
W3C
</abbr>
<del class="diff-old">First
Public
</del>
Working
Draft
<del class="diff-old">10
July
2014
</del>
<time property="dcterms:issued" class="dt-published" datetime="2015-01-08">
<ins class="diff-chg">08
January
2015
</ins>
</time>
</h2>
<dl>
<dt>
This
version:
</dt>
<dd>
<del class="diff-old">http://www.w3.org/TR/2014/WD-tabular-metadata-20140710/
</del>
<a class="u-url" href="http://www.w3.org/TR/2015/WD-tabular-metadata-20150108/">
<ins class="diff-chg">http://www.w3.org/TR/2015/WD-tabular-metadata-20150108/
</ins>
</a>
</dd>
<dt>
Latest
published
version:
</dt>
<dd>
<a href="http://www.w3.org/TR/tabular-metadata/">
http://www.w3.org/TR/tabular-metadata/
</a>
</dd>
<dt>
Latest
editor's
draft:
</dt>
<dd>
<a href="http://w3c.github.io/csvw/metadata/">
http://w3c.github.io/csvw/metadata/
</a>
</dd>
<dt>
<ins class="diff-new">Previous
version:
</ins></dt><dd><a rel="dcterms:replaces" href="http://www.w3.org/TR/2014/WD-tabular-metadata-20140710/"><ins class="diff-new">
http://www.w3.org/TR/2014/WD-tabular-metadata-20140710/
</ins></a></dd><dt>
Editors:
</dt>
<dd class="p-author h-card vcard" property="bibo:editor" resource="_:editor0">
<span property="rdf:first" typeof="foaf:Person">
<meta property="foaf:name" content="Rufus Pollock">
<a class="u-url url p-name fn" property="foaf:homepage" href="http://rufuspollock.org/">
Rufus
Pollock
</a>,
<a property="foaf:workplaceHomepage" class="p-org org h-org h-card" href="https://okfn.org/">
Open
Knowledge
</a>
</span>
<span property="rdf:rest" resource="_:editor1">
</span>
</dd>
<dd class="p-author h-card vcard" resource="_:editor1">
<span property="rdf:first" typeof="foaf:Person">
<span property="foaf:name" class="p-name fn">
Jeni
Tennison
</span>,
<a property="foaf:workplaceHomepage" class="p-org org h-org h-card" href="http://theodi.org/">
Open
Data
Institute
</a>
</span>
<span property="rdf:rest" resource="rdf:nil">
</span>
</dd>
<dt>
Repository:
</dt>
<dd>
<a href="https://github.com/w3c/csvw">
We
are
on
Github
</a>
</dd>
<dd>
<a href="https://github.com/w3c/csvw">
File
a
bug
</a>
</dd>
<dt>
Changes:
</dt>
<dd>
<a href="http://www5.aptest.com/standards/htmldiff/diff-20140710.html">
<ins class="diff-new">Diff
to
previous
version
</ins></a></dd><dd>
<a href="https://github.com/w3c/csvw/commits/gh-pages">
Commit
history
</a>
</dd>
</dl>
<p class="copyright">
<a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">
Copyright
</a>
<del class="diff-old">©
2014
</del>
<ins class="diff-chg">�
2015
</ins>
<a href="http://www.w3.org/">
<abbr title="World Wide Web Consortium">
W3C
</abbr>
</a>
<sup>
<del class="diff-old">®
</del>
<ins class="diff-chg">�
</ins>
</sup>
(
<a href="http://www.csail.mit.edu/">
<abbr title="Massachusetts Institute of Technology">
MIT
</abbr>
</a>,
<a href="http://www.ercim.eu/">
<abbr title="European Research Consortium for Informatics and Mathematics">
ERCIM
</abbr>
</a>,
<a href="http://www.keio.ac.jp/">
Keio
</a>,
<a href="http://ev.buaa.edu.cn/">
Beihang
</a>
),
All
Rights
Reserved.
<abbr title="World Wide Web Consortium">
W3C
</abbr>
<a href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">
liability
</a>,
<a href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">
trademark
</a>
and
<a href="http://www.w3.org/Consortium/Legal/copyright-documents">
document
use
</a>
rules
apply.
</p>
<hr>
</div>
<section id="abstract" class="introductory" property="dc:abstract">
<h2 id="h-abstract" resource="#h-abstract">
<span property="xhv:role" resource="xhv:heading">
Abstract
</span>
</h2>
<p>
Validation,
conversion,
display
and
search
of
tabular
data
on
the
web
requires
additional
metadata
that
describes
how
the
data
should
be
interpreted.
This
document
defines
a
vocabulary
for
metadata
that
annotates
tabular
data.
This
can
be
used
to
provide
metadata
at
various
levels,
from
collections
of
data
from
CSV
documents
and
how
they
relate
to
each
other
down
to
individual
cells
within
a
table.
</p>
</section>
<section id="sotd" class="introductory">
<h2 id="h-sotd" resource="#h-sotd">
<span property="xhv:role" resource="xhv:heading">
Status
of
This
Document
</span>
</h2>
<p>
<em>
This
section
describes
the
status
of
this
document
at
the
time
of
its
publication.
Other
documents
may
supersede
this
document.
A
list
of
current
<abbr title="World Wide Web Consortium">
W3C
</abbr>
publications
and
the
latest
revision
of
this
technical
report
can
be
found
in
the
<a href="http://www.w3.org/TR/">
<abbr title="World Wide Web Consortium">
W3C
</abbr>
technical
reports
index
</a>
at
http://www.w3.org/TR/.
</em>
</p>
<p>
The
CSV
on
the
Web
Working
Group
was
chartered
to
produce
a
Recommendation
"Access
methods
for
CSV
Metadata"
as
well
as
Recommendations
for
"Metadata
vocabulary
for
CSV
data"
and
"Mapping
mechanism
to
transforming
CSV
into
various
Formats
(e.g.,
RDF,
JSON,
or
XML)".
This
document
aims
to
primarily
satisfy
the
second
of
those
Recommendations.
</p>
<p>
This
document
was
published
by
the
<a href="http://www.w3.org/2013/csvw/">
CSV
on
the
Web
Working
Group
</a>
as
a
<del class="diff-old">First
Public
</del>
Working
Draft.
This
document
is
intended
to
become
a
<abbr title="World Wide Web Consortium">
W3C
</abbr>
Recommendation.
If
you
wish
to
make
comments
regarding
this
document,
please
send
them
to
<a href="mailto:public-csv-wg@w3.org">
public-csv-wg@w3.org
</a>
(
<a href="mailto:public-csv-wg-request@w3.org?subject=subscribe">
subscribe
</a>,
<a href="http://lists.w3.org/Archives/Public/public-csv-wg/">
archives
</a>
).
All
comments
are
welcome.
</p>
<p>
Publication
as
a
<del class="diff-old">First
Public
</del>
Working
Draft
does
not
imply
endorsement
by
the
<abbr title="World Wide Web Consortium">
W3C
</abbr>
Membership.
This
is
a
draft
document
and
may
be
updated,
replaced
or
obsoleted
by
other
documents
at
any
time.
It
is
inappropriate
to
cite
this
document
as
other
than
work
in
progress.
</p>
<p>
This
document
was
produced
by
a
group
operating
under
the
<a id="sotd_patent" property="w3p:patentRules" href="http://www.w3.org/Consortium/Patent-Policy-20040205/">
5
February
2004
<abbr title="World Wide Web Consortium">
W3C
</abbr>
Patent
Policy
</a>.
<abbr title="World Wide Web Consortium">
W3C
</abbr>
maintains
a
<a href="http://www.w3.org/2004/01/pp-impl/68238/status" rel="disclosure">
public
list
of
any
patent
disclosures
</a>
made
in
connection
with
the
deliverables
of
the
group;
that
page
also
includes
instructions
for
disclosing
a
patent.
An
individual
who
has
actual
knowledge
of
a
patent
which
the
individual
believes
contains
<a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#def-essential">
Essential
Claim(s)
</a>
must
disclose
the
information
in
accordance
with
<a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure">
section
6
of
the
<abbr title="World Wide Web Consortium">
W3C
</abbr>
Patent
Policy
</a>.
</p>
<p>
<ins class="diff-new">This
document
is
governed
by
the
</ins><a id="w3c_process_revision" href="http://www.w3.org/2014/Process-20140801/"><ins class="diff-new">
1
August
2014
</ins><abbr title="World Wide Web Consortium"><ins class="diff-new">
W3C
</ins></abbr><ins class="diff-new">
Process
Document
</ins></a>.</p>
</section>
<section id="toc">
<h2 class="introductory" id="h-toc" resource="#h-toc">
<span property="xhv:role" resource="xhv:heading">
Table
of
Contents
</span>
</h2>
<ul class="toc" role="directory" id="respecContents">
<li class="tocline">
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#introduction" class="tocxref">
<span class="secno">
1.
</span>
Introduction
</a>
</li>
<li class="tocline">
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#annotating-tables" class="tocxref">
<span class="secno">
2.
</span>
<del class="diff-old">Processing
Tables
2.1
</del>
Annotating
Tables
</a>
<ul class="toc">
<li class="tocline">
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#direct-annotations" class="tocxref">
<span class="secno">
<del class="diff-old">2.1.1
</del>
<ins class="diff-chg">2.1
</ins>
</span>
Direct
Annotations
</a>
</li>
<li class="tocline">
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#inherited-properties" class="tocxref">
<span class="secno">
<del class="diff-old">2.1.2
</del>
<ins class="diff-chg">2.2
</ins>
</span>
Inherited
Properties
</a>
</li>
</ul>
</li>
<li class="tocline">
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#metadata-format" class="tocxref">
<span class="secno">
<del class="diff-old">2.2
</del>
<ins class="diff-chg">3.
</ins>
</span>
<del class="diff-old">Displaying
Tables
</del>
<ins class="diff-chg">Metadata
Format
</ins>
</a>
<ul class="toc">
<li class="tocline">
<del class="diff-old">2.2.1
Bidirectional
Tables
2.3
Validating
Tables
</del>
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#property-syntax" class="tocxref">
<span class="secno">
<del class="diff-old">2.4
</del>
<ins class="diff-chg">3.1
</ins>
</span>
<del class="diff-old">Converting
Tables
</del>
<ins class="diff-chg">Property
Syntax
</ins>
</a>
</li>
<li class="tocline">
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#top-level-properties" class="tocxref">
<span class="secno">
<del class="diff-old">3.
</del>
<ins class="diff-chg">3.2
</ins>
</span>
<del class="diff-old">Metadata
Format
</del>
<ins class="diff-chg">Top-Level
Properties
</ins>
</a>
<ul class="toc">
<li class="tocline">
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#importing-metadata" class="tocxref">
<span class="secno">
<del class="diff-old">3.1
</del>
<ins class="diff-chg">3.2.1
</ins>
</span>
<del class="diff-old">Syntax
</del>
<ins class="diff-chg">Importing
Metadata
</ins>
</a>
</li>
<del class="diff-old">3.2
Top-Level
Properties
</del>
</ul>
</li>
<li class="tocline">
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#common-properties" class="tocxref">
<span class="secno">
3.3
</span>
Common
Properties
</a>
</li>
<li class="tocline">
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#table-groups" class="tocxref">
<span class="secno">
<del class="diff-old">3.3.1
</del>
<ins class="diff-chg">3.4
</ins>
</span>
<del class="diff-old">Dublin
Core
Terms
</del>
<ins class="diff-chg">Table
Groups
</ins>
</a>
<ul class="toc">
<li class="tocline">
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#required-properties" class="tocxref">
<span class="secno">
<del class="diff-old">3.3.2
</del>
<ins class="diff-chg">3.4.1
</ins>
</span>
<del class="diff-old">Links
</del>
<ins class="diff-chg">Required
Properties
</ins>
</a>
</li>
<li class="tocline">
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#optional-properties" class="tocxref">
<span class="secno">
<del class="diff-old">3.3.3
</del>
<ins class="diff-chg">3.4.2
</ins>
</span>
<del class="diff-old">Other
</del>
<ins class="diff-chg">Optional
</ins>
Properties
</a>
</li>
</ul>
</li>
<li class="tocline">
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#tables" class="tocxref">
<span class="secno">
<del class="diff-old">3.4
</del>
<ins class="diff-chg">3.5
</ins>
</span>
Tables
</a>
<ul class="toc">
<li class="tocline">
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#required-properties-1" class="tocxref">
<span class="secno">
<del class="diff-old">3.4.1
</del>
<ins class="diff-chg">3.5.1
</ins>
</span>
Required
Properties
</a>
</li>
<li class="tocline">
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#optional-properties-1" class="tocxref">
<span class="secno">
<del class="diff-old">3.4.2
</del>
<ins class="diff-chg">3.5.2
</ins>
</span>
Optional
Properties
</a>
</li>
</ul>
</li>
<li class="tocline">
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dialect-descriptions" class="tocxref">
<span class="secno">
<del class="diff-old">3.5
</del>
<ins class="diff-chg">3.6
</ins>
</span>
<del class="diff-old">Schemas
</del>
<ins class="diff-chg">Dialect
Descriptions
</ins>
</a>
</li>
<li class="tocline">
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#template-specifications" class="tocxref">
<span class="secno">
<del class="diff-old">3.6
</del>
<ins class="diff-chg">3.7
</ins>
</span>
<del class="diff-old">Columns
</del>
<ins class="diff-chg">Template
Specifications
</ins>
</a>
<ul class="toc">
<li class="tocline">
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#required-properties-2" class="tocxref">
<span class="secno">
<del class="diff-old">3.6.1
</del>
<ins class="diff-chg">3.7.1
</ins>
</span>
Required
Properties
</a>
</li>
<li class="tocline">
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#optional-properties-2" class="tocxref">
<span class="secno">
<del class="diff-old">3.6.2
</del>
<ins class="diff-chg">3.7.2
</ins>
</span>
Optional
Properties
</a>
</li>
<li class="tocline">
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#example" class="tocxref">
<span class="secno">
<ins class="diff-new">3.7.3
</ins></span><ins class="diff-new">
Example
</ins></a></li>
</ul>
</li>
<li class="tocline">
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#schemas" class="tocxref">
<span class="secno">
<del class="diff-old">3.7
</del>
<ins class="diff-chg">3.8
</ins>
</span>
<del class="diff-old">Rows
</del>
<ins class="diff-chg">Schemas
</ins>
</a>
<ul class="toc">
<li class="tocline">
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#examples" class="tocxref">
<span class="secno">
<del class="diff-old">3.7.1
</del>
<ins class="diff-chg">3.8.1
</ins>
</span>
<del class="diff-old">Required
Properties
</del>
<ins class="diff-chg">Examples
</ins></a><ul class="toc"><li class="tocline"><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#foreign-key-reference-between-resources" class="tocxref"><span class="secno"><ins class="diff-chg">
3.8.1.1
</ins></span><ins class="diff-chg">
Foreign
Key
Reference
Between
Resources
</ins>
</a>
</li>
<li class="tocline">
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#foreign-key-reference-between-schemas" class="tocxref">
<span class="secno">
<del class="diff-old">3.7.2
</del>
<ins class="diff-chg">3.8.1.2
</ins>
</span>
<del class="diff-old">Optional
Properties
</del>
<ins class="diff-chg">Foreign
Key
Reference
Between
Schemas
</ins>
</a>
</li>
</ul>
</li>
</ul>
</li>
<li class="tocline">
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#columns" class="tocxref">
<span class="secno">
<del class="diff-old">3.8
</del>
<ins class="diff-chg">3.9
</ins>
</span>
<del class="diff-old">Cells
</del>
<ins class="diff-chg">Columns
</ins>
</a>
<ul class="toc">
<li class="tocline">
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#required-properties-3" class="tocxref">
<span class="secno">
<del class="diff-old">3.8.1
</del>
<ins class="diff-chg">3.9.1
</ins>
</span>
Required
Properties
</a>
</li>
<li class="tocline">
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#optional-properties-3" class="tocxref">
<span class="secno">
<del class="diff-old">3.8.2
</del>
<ins class="diff-chg">3.9.2
</ins>
</span>
Optional
Properties
</a>
</li>
</ul>
</li>
<li class="tocline">
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#inherited-properties-1" class="tocxref">
<span class="secno">
<del class="diff-old">3.8.3
</del>
<ins class="diff-chg">3.10
</ins>
</span>
Inherited
Properties
</a>
</li>
<li class="tocline">
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#datatypes" class="tocxref">
<span class="secno">
<del class="diff-old">3.8.4
</del>
<ins class="diff-chg">3.11
</ins>
</span>
Datatypes
</a>
<ul class="toc">
<li class="tocline">
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#length-constraints" class="tocxref">
<span class="secno">
<del class="diff-old">3.8.4.1
</del>
<ins class="diff-chg">3.11.1
</ins>
</span>
Length
Constraints
</a>
</li>
<li class="tocline">
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#value-constraints" class="tocxref">
<span class="secno">
<del class="diff-old">3.8.4.2
</del>
<ins class="diff-chg">3.11.2
</ins>
</span>
Value
Constraints
</a>
</li>
</ul>
</li>
<li class="tocline">
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#parsing-cells" class="tocxref">
<span class="secno">
<del class="diff-old">3.8.5
</del>
<ins class="diff-chg">3.12
</ins>
</span>
Parsing
cells
</a>
<ul class="toc">
<li class="tocline">
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#formats-for-strings" class="tocxref">
<span class="secno">
<del class="diff-old">3.8.5.1
</del>
<ins class="diff-chg">3.12.1
</ins>
</span>
Formats
for
strings
</a>
</li>
<li class="tocline">
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#formats-for-numeric-types" class="tocxref">
<span class="secno">
<del class="diff-old">3.8.5.2
</del>
<ins class="diff-chg">3.12.2
</ins>
</span>
Formats
for
numeric
types
</a>
</li>
<li class="tocline">
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#formats-for-booleans" class="tocxref">
<span class="secno">
<del class="diff-old">3.8.5.3
</del>
<ins class="diff-chg">3.12.3
</ins>
</span>
Formats
for
booleans
</a>
</li>
<li class="tocline">
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#formats-for-dates-and-times" class="tocxref">
<span class="secno">
<del class="diff-old">3.8.5.4
</del>
<ins class="diff-chg">3.12.4
</ins>
</span>
Formats
for
dates
and
times
</a>
</li>
<li class="tocline">
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#formats-for-durations" class="tocxref">
<span class="secno">
<del class="diff-old">3.8.5.5
</del>
<ins class="diff-chg">3.12.5
</ins>
</span>
Formats
for
durations
</a>
</li>
</ul>
</li>
</ul>
</li>
<li class="tocline">
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#processing-tables" class="tocxref">
<span class="secno">
<del class="diff-old">3.8.6
</del>
<ins class="diff-chg">4.
</ins>
</span>
<del class="diff-old">Additional
Constraints
</del>
<ins class="diff-chg">Processing
Tables
</ins></a><ul class="toc"><li class="tocline"><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#displaying-tables" class="tocxref"><span class="secno"><ins class="diff-chg">
4.1
</ins></span><ins class="diff-chg">
Displaying
Tables
</ins></a><ul class="toc"><li class="tocline"><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#bidirectional-tables" class="tocxref"><span class="secno"><ins class="diff-chg">
4.1.1
</ins></span><ins class="diff-chg">
Bidirectional
Tables
</ins>
</a>
</li>
</ul>
</li>
<li class="tocline">
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#validating-tables" class="tocxref">
<span class="secno">
<ins class="diff-new">4.2
</ins></span><ins class="diff-new">
Validating
Tables
</ins></a></li><li class="tocline"><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#converting-tables" class="tocxref"><span class="secno"><ins class="diff-new">
4.3
</ins></span><ins class="diff-new">
Converting
Tables
</ins></a></li>
</ul>
</li>
<li class="tocline">
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#acknowledgements" class="tocxref">
<span class="secno">
A.
</span>
Acknowledgements
</a>
</li>
<li class="tocline">
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#iana-considerations" class="tocxref">
<span class="secno">
B.
</span>
IANA
Considerations
</a>
<ul class="toc">
<li class="tocline">
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#registration-of-application-csvm-json" class="tocxref">
<span class="secno">
B.1
</span>
Registration
of
<code>
application/csvm+json
</code>
</a>
</li>
</ul>
</li>
<li class="tocline">
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#security-considerations" class="tocxref">
<span class="secno">
C.
</span>
<ins class="diff-new">Security
Considerations
</ins></a></li><li class="tocline"><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#json-ld-context" class="tocxref"><span class="secno"><ins class="diff-new">
D.
</ins></span>
JSON-LD
Context
</a>
</li>
<li class="tocline">
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#references" class="tocxref">
<span class="secno">
<del class="diff-old">D.
</del>
<ins class="diff-chg">E.
</ins>
</span>
References
</a>
<ul class="toc">
<li class="tocline">
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#normative-references" class="tocxref">
<span class="secno">
<del class="diff-old">D.1
</del>
<ins class="diff-chg">E.1
</ins>
</span>
Normative
references
</a>
</li>
<li class="tocline">
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#informative-references" class="tocxref">
<span class="secno">
<ins class="diff-new">E.2
</ins></span><ins class="diff-new">
Informative
references
</ins></a></li>
</ul>
</li>
</ul>
</section>
<section id="introduction" typeof="bibo:Chapter" resource="#introduction" property="bibo:hasPart">
<h2 id="h-introduction" resource="#h-introduction">
<span property="xhv:role" resource="xhv:heading">
<span class="secno">
1.
</span>
Introduction
</span>
</h2>
<p>
Interpreting
tabular
data
that
is
available
on
the
web,
particularly
as
CSV,
usually
requires
additional
metadata.
As
an
example,
say
that
the
following
CSV
file
were
available
at
<code>
http://example.org/tree-ops.csv
</code>
</p>
<del class="diff-old">      GID,On Street,Species,Trim Cycle,Inventory Date
1,ADDISON AV,Celtis australis,Large Tree Routine Prune,10/18/2010
2,EMERSON ST,Liquidambar styraciflua,Large Tree Routine Prune,6/2/2010
</del>
      <div class="example"><div class="example-title"><span>Example 1</span></div><pre class="example">GID,On Street,Species,Trim Cycle,Inventory Date
<ins class="diff-chg">1,ADDISON AV,Celtis australis,Large Tree Routine Prune,10/18/2010
2,EMERSON ST,Liquidambar styraciflua,Large Tree Routine Prune,6/2/2010
</ins>
3,EMERSON
ST,Liquidambar
styraciflua,Large
Tree
Routine
Prune,6/2/2010
</pre>
</div>
<p>
A
human
consumer
of
this
data
might
be
able
to
figure
out
the
meaning
of
the
different
columns,
particularly
if
there
were
some
additional
human-readable
documentation
made
available.
Automated
processors
would
have
a
much
harder
time;
realistically
they
would
be
limited
to
displaying
the
information
in
a
table.
Making
available
machine-readable
metadata
helps
with
the
interpretation
of
the
tabular
data.
For
example,
say
that
the
following
metadata
file
were
available
at
<code>
<del class="diff-old">http://example.org/trees-ops.csv.csvm
</del>
<ins class="diff-chg">http://example.org/trees-ops.csv-metadata.json
</ins>
</code>:
</p>
<del class="diff-old">      
  
  
    
  
  
  
  
    
    
  
  
  
  
    
      
      
      
        
        
      
      
      
      
      
    
      
      
      
      
    
      
      
      
      
    
      
      
      
      
    
      
      
      
      
      
    
      
  
</del>
      <div class="example"><div class="example-title"><span>Example 2</span></div><pre class="example highlight prettyprint prettyprinted"><span class="pun">{</span><span class="pln">
  </span><span class="str">"@id"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"tree-ops.csv"</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"@context"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="str">"http://www.w3.org/ns/csvw"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="str">"@language"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"en"</span><span class="pun">}],</span><span class="pln">
  </span><span class="str">"dc:title"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Tree Operations"</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"dc:keywords"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="str">"tree"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"street"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"maintenance"</span><span class="pun">],</span><span class="pln">
  </span><span class="str">"dc:publisher"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[{</span><span class="pln">
    </span><span class="str">"sch:name"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Example Municipality"</span><span class="pun">,</span><span class="pln">
    </span><span class="str">"sch:web"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"http://example.org"</span><span class="pln">
  </span><span class="pun">}],</span><span class="pln">
  </span><span class="str">"dc:license"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"http://opendefinition.org/licenses/cc-by/"</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"dc:modified"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"2010-12-31"</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"schema"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="str">"columns"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[{</span><span class="pln">
      </span><span class="str">"name"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"GID"</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"title"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
        </span><span class="str">"GID"</span><span class="pun">,</span><span class="pln">
        </span><span class="str">"Generic Identifier"</span><span class="pln">
      </span><span class="pun">],</span><span class="pln">
      </span><span class="str">"dc:description"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"An identifier for the operation on a tree."</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"datatype"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"string"</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"required"</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pln">
    </span><span class="pun">},</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="str">"name"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"on-street"</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"title"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"On Street"</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"dc:description"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"The street that the tree is on."</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"datatype"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"string"</span><span class="pln">
    </span><span class="pun">},</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="str">"name"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"species"</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"title"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Species"</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"dc:description"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"The species of the tree."</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"datatype"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"string"</span><span class="pln">
    </span><span class="pun">},</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="str">"name"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"trim-cycle"</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"title"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Trim Cycle"</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"dc:description"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"The operation performed on the tree."</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"datatype"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"string"</span><span class="pln">
    </span><span class="pun">},</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="str">"name"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"inventory-date"</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"title"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Inventory Date"</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"dc:description"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"The date of the operation that was performed."</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"datatype"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"date"</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"format"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"M/D/YYYY"</span><span class="pln">
    </span><span class="pun">}],</span><span class="pln">
    </span><span class="str">"primaryKey"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"GID"</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span>
<span class="pun">
}
</span>
</pre>
</div>
<p>
Given
the
location
of
the
CSV
file,
this
metadata
<del class="diff-old">file
</del>
<ins class="diff-chg">document
</ins>
can
be
located
by
appending
<del class="diff-old">.csvm
</del>
<code>
<ins class="diff-chg">-metadata.json
</ins>
</code>
to
the
URL
(as
described
in
<a href="http://www.w3.org/TR/tabular-data-model/#standard-file-metadata">
Model
for
Tabular
Data
and
Metadata
on
the
Web
</a>
).
It
provides
information
for
different
types
of
applications:
</p>
<ul>
<li>
<strong>
Viewers
</strong>
can
use
the
indicated
metadata
to
provide
a
more
user-friendly
or
human-readable
view
of
the
CSV
file,
which
might
include
displaying
it
in
a
table
or
as
graphs
or
charts.
</li>
<li>
<strong>
Data
entry
tools
</strong>
can
use
the
metadata
to
prompt
people
to
supply
information
that
is
added
to
a
CSV
file
</li>
<li>
<strong>
Validators
</strong>
can
check
that
the
labels
of
the
columns
in
the
metadata
file
match
those
in
the
CSV
file,
that
the
values
in
the
columns
are
of
the
right
type
and
in
the
right
format,
and
that
values
in
the
<code>
GID
</code>
column
are
all
present
and
unique.
</li>
<li>
<strong>
Converters
</strong>
can
use
the
metadata
to
map
the
CSV
data
into
other
formats
such
as
JSON,
RDF
and
XML,
or
into
databases
or
statistical
applications,
in
intelligent
ways.
</li>
<li>
<strong>
Data
Aggregators
</strong>
can
use
the
indicated
metadata,
such
as
descriptions,
titles,
modification
dates
and
licences,
to
enable
more
intelligent
retrieval
of
relevant
data
on
the
web.
</li>
</ul>
<p>
The
<a href="http://www.w3.org/TR/tabular-data-model/">
Model
for
Tabular
Data
and
Metadata
on
the
Web
</a>
specification
defines
an
<a href="http://www.w3.org/TR/tabular-data-model/#annotated-tabular-data-model">
Annotated
Tabular
Data
Model
</a>
in
which
tables,
columns,
rows
and
cells
can
be
annotated
with
properties
and
values,
and
a
<a href="http://www.w3.org/TR/tabular-data-model/#grouped-tabular-data-model">
Grouped
Tabular
Data
Model
</a>
in
which
a
group
of
tables
is
annotated.
That
specification
also
describes
<a href="http://www.w3.org/TR/tabular-data-model/#locating-metadata">
how
to
locate
metadata
</a>
about
a
given
CSV
file.
</p>
<p>
This
document
defines
the
format
and
structure
of
metadata
documents,
and
how
these
are
interpreted
to
create
an
Annotated
Tabular
Data
Model.
It
also
defines
how
to
validate
tabular
data
based
on
some
of
these
annotations.
This
metadata
can
be
expressed
as
an
RDF
graph.
However,
all
applications
that
conform
to
this
specification
(including
validators
and
applications
that
read
or
convert
tabular
data)
<em class="rfc2119" title="MUST">
MUST
</em>
read
the
JSON-based
format
described
in
this
document.
</p>
<div class="issue">
<div class="issue-title" aria-level="3" role="heading" id="h-issue1">
<a href="https://github.com/w3c/csvw/issues/80">
<span>
Issue
<del class="diff-old">1
</del>
<ins class="diff-chg">80
</ins>
</span>
</a>
</div>
<p class="">
<del class="diff-old">We
</del>
<ins class="diff-chg">Metadata
documents
</ins>
are
<del class="diff-old">aiming
</del>
<ins class="diff-chg">[
</ins><cite><a class="bibref" href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#bib-JSON-LD"><ins class="diff-chg">
JSON-LD
</ins></a></cite><ins class="diff-chg">
]
documents,
however
the
aim
is
</ins>
for
the
<del class="diff-old">JSON
format
</del>
<ins class="diff-chg">documents
</ins>
to
be
<del class="diff-old">interpretable
as
JSON-LD,
but
</del>
<ins class="diff-chg">useable
</ins>
without
any
<del class="diff-old">requirement
to
include
context
within
</del>
<ins class="diff-chg">extra
processing.
To
be
valid,
a
metadata
document
</ins><em class="rfc2119" title="MUST"><ins class="diff-chg">
MUST
</ins></em><ins class="diff-chg">
use
a
</ins><cite><a href="http://www.w3.org/TR/json-ld/#the-context"><ins class="diff-chg">
JSON-LD
Context
</ins></a></cite>,<ins class="diff-chg">
either
explicitly
via
</ins>
the
<code>
<ins class="diff-new">@context
</ins></code><ins class="diff-new">
entry,
or
through
the
use
of
an
HTTP
Link
header
(see
</ins><cite><a href="http://www.w3.org/TR/json-ld/#interpreting-json-as-json-ld"><ins class="diff-new">
Interpreting
</ins>
JSON
<del class="diff-old">itself
(to
save
people
from
having
to
do
boilerplate).
</del>
<ins class="diff-chg">as
JSON-LD
</ins></a></cite><ins class="diff-chg">
in
[
</ins><cite><a class="bibref" href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#bib-JSON-LD"><ins class="diff-chg">
JSON-LD
</ins></a></cite><ins class="diff-chg">
]).
The
default
location
for
this
context
is
</ins><code><ins class="diff-chg">
http://www.w3.org/ns/csvw
</ins></code>.<ins class="diff-chg">
CSVW
aware
processors
</ins><em class="rfc2119" title="SHOULD"><ins class="diff-chg">
SHOULD
</ins></em><ins class="diff-chg">
assume
a
context
at
this
location
if
one
is
not
provided
with
the
metadata
document.
</ins>
We
invite
comments
on
the
utility
of
this
approach:
is
it
useful
for
CSV
metadata
to
be
interpretable
as
JSON-LD?
<del class="diff-old">Is
it
helpful
to
be
able
to
map
it
to
RDF?
Would
it
</del>
</p>
</div>
<div class="issue">
<div class="issue-title" aria-level="3" role="heading" id="h-issue2">
<a href="https://github.com/w3c/csvw/issues/81">
<span>
<ins class="diff-chg">Issue
81
</ins></span></a></div><p class=""><ins class="diff-chg">
Should
JSON-LD
keywords
</ins>
be
<del class="diff-old">better
</del>
<ins class="diff-chg">aliased?
The
sense
is
</ins>
to
<del class="diff-old">rename
some
of
the
JSON-LD
keywords,
such
as
</del>
<ins class="diff-chg">alias
</ins>
<code>
@id
</code>
<del class="diff-old">and
</del>
<ins class="diff-chg">as
</ins>
<code>
<del class="diff-old">@type
</del>
<ins class="diff-chg">url
</ins>
</code>
<del class="diff-old">?
</del>
<ins class="diff-chg">and
not
alias
the
others.
We
invite
comments
on
the
utility
of
this
approach.
</ins>
</p>
</div>
</section>
<section id="annotating-tables" typeof="bibo:Chapter" resource="#annotating-tables" property="bibo:hasPart">
<h2 id="h-annotating-tables" resource="#h-annotating-tables">
<del class="diff-old">2.
Processing
Tables
This
section
describes
how
particular
types
of
applications
should
use
the
metadata
supplied
about
a
CSV
file
when
they
process
that
CSV
file.
</del>
<span property="xhv:role" resource="xhv:heading">
<span class="secno">
<del class="diff-old">2.1
</del>
<ins class="diff-chg">2.
</ins>
</span>
Annotating
Tables
</span>
</h2>
<p>
The
metadata
defined
in
this
specification
is
used
to
annotate
an
existing
<a href="http://www.w3.org/TR/tabular-data-model/#dfn-annotated-table">
annotated
table
</a>
<ins class="diff-new">or
</ins><a href="http://www.w3.org/TR/tabular-data-model/#dfn-group-of-tables"><ins class="diff-new">
group
of
tables
</ins></a>,
as
defined
in
[
<cite>
<a class="bibref" href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#bib-tabular-data-model">
tabular-data-model
</a>
</cite>
].
Annotated
tables
form
the
basis
for
all
further
processing,
such
as
validating
or
displaying
the
<del class="diff-old">table.
</del>
<ins class="diff-chg">tables.
</ins>
All
compliant
applications
<em class="rfc2119" title="MUST">
MUST
</em>
create
annotated
tables
based
on
the
algorithm
defined
here.
</p>
<p>
Metadata
documents
contain
descriptions
of
<ins class="diff-new">groups
of
tables,
</ins>
tables,
columns,
rows,
cells
and
regions
which
are
used
to
create
<del class="diff-old">annotations.
</del>
<ins class="diff-chg">annotations
on
a
tabular
data
model.
</ins>
There
are
two
types
of
description
objects:
</p>
<ul>
<li>
descriptions
that
appear
within
a
schema,
and
that
may
apply
across
multiple
<del class="diff-old">CSV
</del>
<ins class="diff-chg">tabular
data
</ins>
files
<ins class="diff-new">�
these
are
used
to
describe
the
general
structure
of
a
tabular
data
file
</ins>
</li>
<li>
descriptions
of
particular
<ins class="diff-new">groups
of
tables,
</ins>
tables,
columns,
rows,
cells
and
regions
within
a
single
<del class="diff-old">CSV
</del>
<ins class="diff-chg">tabular
data
</ins>
file
<ins class="diff-new">�
these
are
used
for
notes
or
flags
on
particular
data
</ins>
</li>
</ul>
<p>
The
description
objects
themselves
contain
a
number
of
properties.
These
are:
</p>
<ul>
<li>
properties
that
are
used
to
identify
the
<del class="diff-old">table,
column,
row
</del>
<ins class="diff-chg">table
</ins>
or
<del class="diff-old">cell
</del>
<ins class="diff-chg">column
</ins>
that
the
annotations
should
appear
on;
these
match
up
to
properties
on
those
objects
in
the
core
tabular
data
model
defined
in
[
<cite>
<a class="bibref" href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#bib-tabular-data-model">
tabular-data-model
</a>
</cite>
]
and
do
not
form
additional
annotations
</li>
<li>
properties
that
map
directly
to
annotations
that
appear
directly
on
the
<ins class="diff-new">group
of
tables,
</ins>
table,
column,
row
or
cell
whose
description
they
appear
on,
such
as
the
<code>
name
</code>
of
a
column
or
the
<code>
<del class="diff-old">provenance
</del>
<ins class="diff-chg">dc:provenance
</ins>
</code>
of
a
table
</li>
<li>
properties
that
are
specified
on
the
description
of
a
<del class="diff-old">table,
column
</del>
<ins class="diff-chg">group
of
tables,
table
</ins>
or
<del class="diff-old">row
</del>
<ins class="diff-chg">column
</ins>
to
provide
a
default
value
for
the
equivalent
annotation
on
each
of
the
cells
that
appear
in
that
<del class="diff-old">table,
column
</del>
<ins class="diff-chg">table
</ins>
or
<del class="diff-old">row
</del>
<ins class="diff-chg">column
</ins>
</li>
</ul>
<p>
For
example,
in
the
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-column-description" class="internalDFN">
column
description
</a>
</p>
<del class="diff-old">        
  
  
  
  
  
</del>
      <div class="example"><div class="example-title"><span>Example 3</span></div><pre class="example highlight prettyprint prettyprinted"><span class="pun">{</span><span class="pln">
  </span><span class="str">"name"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"inventory-date"</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"title"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Inventory Date"</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"dc:description"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"The date of the operation that was performed."</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"datatype"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"date"</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"format"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"M/D/YYYY"</span><span class="pln">
</span>
<span class="pun">
}
</span>
</pre>
</div>
<p>
the
properties
<code>
name
</code>,
<code>
title
</code>
and
<code>
<del class="diff-old">description
</del>
<ins class="diff-chg">dc:description
</ins>
</code>
are
<a title="direct annotation" href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-direct-annotation" class="internalDFN">
direct
annotations
</a>
that
become
<code>
name
</code>,
<code>
title
</code>
and
<code>
<del class="diff-old">description
</del>
<ins class="diff-chg">dc:description
</ins>
</code>
properties
on
the
column
in
the
data
model.
The
<code>
datatype
</code>
and
<code>
format
</code>
properties
are
<a title="inherited property" href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-inherited-property" class="internalDFN">
inherited
properties
</a>
that
become
<code>
datatype
</code>
and
<code>
format
</code>
properties
on
the
cells
within
the
column.
</p>
<section id="direct-annotations" typeof="bibo:Chapter" resource="#direct-annotations" property="bibo:hasPart">
<h3 id="h-direct-annotations" resource="#h-direct-annotations">
<span property="xhv:role" resource="xhv:heading">
<span class="secno">
<del class="diff-old">2.1.1
</del>
<ins class="diff-chg">2.1
</ins>
</span>
Direct
Annotations
</span>
</h3>
<p>
<dfn title="direct annotation" id="dfn-direct-annotation">
Direct
annotations
</dfn>
are
properties
on
the
description
object
for
a
given
table,
column,
row
or
cell
which
map
directly
to
properties
on
the
described
table,
column,
row
or
cell.
The
name
of
the
annotation
is
the
same
as
the
name
of
the
property
on
the
annotation.
The
value
of
the
annotation
is
the
same
as
the
value
of
the
property
on
the
description
object.
</p>
</section>
<section id="inherited-properties" typeof="bibo:Chapter" resource="#inherited-properties" property="bibo:hasPart">
<h3 id="h-inherited-properties" resource="#h-inherited-properties">
<span property="xhv:role" resource="xhv:heading">
<span class="secno">
<del class="diff-old">2.1.2
</del>
<ins class="diff-chg">2.2
</ins>
</span>
Inherited
Properties
</span>
</h3>
<p>
A
cell
may
be
assigned
annotations
based
on
properties
on
the
description
objects
for
the
<ins class="diff-new">group
of
tables,
</ins>
table,
column
or
row
that
it
appears
in.
These
properties
are
known
as
<dfn title="inherited property" id="dfn-inherited-property">
inherited
properties
</dfn>
and
are
listed
in
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#inherited-properties-1" class="sectionRef sec-ref">
section
<span class="secno">
<del class="diff-old">3.8
</del>
<ins class="diff-chg">3.10
</ins>
</span>
<span class="sec-title">
<del class="diff-old">Cells
</del>
<ins class="diff-chg">Inherited
Properties
</ins>
</span>
</a>.
To
ascertain
a
value
for
these
annotations,
an
application
<em class="rfc2119" title="MUST">
MUST
</em>
identify
the
relevant
property
in
the
descriptions
of
the
<del class="diff-old">table,
column
and
row.
</del>
<ins class="diff-chg">table
or
column.
</ins>
</p>
<p>
Applications
<em class="rfc2119" title="MUST">
MUST
</em>
raise
an
error
if
the
value
of
a
property
in
a
<del class="diff-old">column
or
row
</del>
<ins class="diff-chg">table
</ins>
description
is
not
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-compatible-with" class="internalDFN">
compatible
with
</a>
the
value
of
that
property
on
the
<del class="diff-old">table.
</del>
<ins class="diff-chg">group
of
tables.
</ins>
Applications
<em class="rfc2119" title="MUST">
MUST
</em>
raise
an
error
if
the
value
of
a
property
<del class="diff-old">on
</del>
<ins class="diff-chg">in
</ins>
a
<del class="diff-old">row
</del>
<ins class="diff-chg">column
description
</ins>
is
not
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-compatible-with" class="internalDFN">
compatible
with
</a>
the
<del class="diff-old">values
</del>
<ins class="diff-chg">value
</ins>
of
that
property
on
<del class="diff-old">all
the
columns
in
</del>
the
table.
<del class="diff-old">Application
</del>
<ins class="diff-chg">Applications
</ins><em class="rfc2119" title="MUST">
MUST
</em>
raise
an
error
if
the
value
of
a
property
on
a
cell
is
not
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-compatible-with" class="internalDFN">
compatible
with
</a>
the
values
of
that
property
on
<del class="diff-old">both
</del>
the
column
<del class="diff-old">and
the
row
</del>
that
the
cell
is
associated
with.
</p>
<p>
A
value
for
a
cell,
column
or
<del class="diff-old">row
</del>
<ins class="diff-chg">table
</ins>
is
<dfn id="dfn-compatible-with">
compatible
with
</dfn>
with
a
value
on
a
<del class="diff-old">row,
column
or
</del>
<ins class="diff-chg">column,
</ins>
table
<ins class="diff-new">or
group
of
tables
</ins>
if
they
are
the
same
value
or
if
the
first
value
is
a
sub-value
of
the
second
value.
The
definitions
of
individual
inherited
properties
indicate
what
values
count
as
sub-values
of
others.
</p>
</section>
</section>
<del class="diff-old">2.2
Displaying
Tables
Issue
2
We
intend
to
include
other
sections
here
about:
displaying
metadata
about
tables,
columns,
rows,
cells
and
regions
what
headings
to
use
for
columns
when
displaying
tabular
content
how
to
format
values
in
cells
Much
of
this
is
likely
to
be
non-normative.
We
invite
comment
on
whether
it's
useful
to
provide
this
kind
of
guidance.
2.2.1
Bidirectional
Tables
There
are
two
levels
of
bidirectionality
to
consider
when
displaying
tables:
the
directionality
of
the
table
(ie
whether
the
columns
should
be
arranged
left-to-right
or
right-to-left)
and
the
directionality
of
the
content
of
individual
cells.
The
table-direction
property
provides
information
about
the
desired
display
of
the
table.
If
table-direction=ltr
then
the
first
column
SHOULD
be
displayed
on
the
left
and
the
last
column
on
the
right.
If
table-direction=rtl
then
the
first
column
SHOULD
be
displayed
on
the
right
and
the
last
column
on
the
left.
If
table-direction=default
then
tables
SHOULD
be
displayed
with
attention
to
the
bidirectionality
of
the
content
of
the
file.
Specifically,
the
values
of
the
cells
in
the
table
should
be
scanned
breadth
first:
from
the
first
cell
in
the
first
column
through
to
the
last
cell
in
the
first
column,
down
to
the
last
cell
in
the
last
column.
If
the
first
character
in
the
table
with
a
strong
type
as
defined
in
[
UNICODE-BIDI
]
indicates
a
RTL
directionality,
the
table
should
be
displayed
with
the
first
column
on
the
right
and
the
last
column
on
the
left.
Otherwise,
the
table
should
be
displayed
with
the
first
column
on
the
left
and
the
last
column
on
the
right.
Characters
such
as
whitespace,
quotes,
commas
and
numbers
do
not
have
a
strong
type,
and
therefore
are
skipped
when
identifying
the
character
that
determines
the
directionality
of
the
table.
Implementations
SHOULD
enable
user
preferences
to
override
the
indicated
metadata
about
the
directionality
of
the
table.
Once
the
directionality
of
the
table
has
been
determined,
each
cell
within
the
table
should
be
considered
as
a
separate
paragraph
,
as
defined
by
the
UBA
in
[
UNICODE-BIDI
].
The
default
directionality
for
the
cell
is
determined
by
looking
at
the
text-direction
property
,
which
is
an
inherited
property
.
Thus,
as
defined
by
the
UBA
,
if
a
cell
contains
no
characters
with
a
strong
type
(if
it's
a
number
or
date
for
example)
then
the
way
the
cell
is
displayed
should
be
determined
by
the
text-direction
property
of
the
cell.
However,
when
the
cell
contains
characters
with
a
strong
type
(such
as
letters)
then
they
MUST
be
displayed
according
to
the
Unicode
Bidirectional
Algorithm
as
described
in
[
UNICODE-BIDI
].
2.3
Validating
Tables
Issue
3
We
intend
to
detail
how
to
validate
a
CSV
file
against
metadata.
This
would
be
normative:
compliant
validators
would
have
to
report
the
errors
and
warnings
that
we
define.
We
invite
comment
on
whether
this
is
a
useful
thing
to
specify.
2.4
Converting
Tables
Conversions
of
tabular
data
to
other
formats
operate
over
a
annotated
table
constructed
as
defined
in
section
2.1
Annotating
Tables
.
The
mechanics
of
these
conversions
to
other
formats
are
defined
in
other
specifications.
Conversion
specifications
MUST
define
a
default
mapping
from
an
annotated
table
that
lacks
any
annotations
(ie
that
is
equivalent
to
an
un-annotated
table).
Conversion
specifications
MUST
use
the
</del>
<section id="metadata-format" typeof="bibo:Chapter" resource="#metadata-format" property="bibo:hasPart">
<h2 id="h-metadata-format" resource="#h-metadata-format">
<del class="diff-old">name
of
a
column
as
the
basis
for
naming
machine-readable
fields
in
the
target
format,
such
as
the
name
of
the
equivalent
element
or
attribute
in
XML,
property
in
JSON
or
property
URI
in
RDF.
Conversion
specifications
MAY
use
any
of
the
properties
defined
in
this
specification
to
adjust
the
mapping
of
an
annotated
table
into
another
format.
Conversion
specifications
MAY
define
additional
properties,
not
defined
in
this
specification,
which
are
specifically
used
when
converting
to
the
target
format
of
the
conversion.
For
example,
a
conversion
to
XML
might
specify
a
element-or-attribute
property
on
columns
that
determines
whether
a
particular
column
is
represented
through
an
element
or
an
attribute
in
the
data.
Conversion
specifications
SHOULD
specify
format-specific
properties
specifying
external
processing
steps
to
provide
more
control
to
people
defining
conversions.
If
these
are
specified,
the
conversion
specification
MUST
specify
at
what
point
in
the
processing
this
external
processing
takes
place,
and
what
it
takes
place
on.
Examples
might
be:
the
URL
of
an
XSLT
file
that
is
used
to
process
XML
after
it
is
generated
a
string
containing
a
SPARQL
CONSTRUCT
pattern
that
is
executed
on
RDF
after
it
is
generated
properties
that
contain
definitions
of
Javascript
callback
functions
that
are
used
when
processing
particular
columns
or
individual
rows
</del>
<span property="xhv:role" resource="xhv:heading">
<span class="secno">
3.
</span>
Metadata
Format
</span>
</h2>
<p>
This
section
defines
a
set
of
properties
and
permitted
values
for
annotating
tabular
data,
and
how
these
annotations
should
be
interpreted
by
applications.
</p>
<del class="diff-old">Issue
4
We
intend
to
support
metadata
for
packages.
In
this
version
of
this
specification,
we
are
scoping
to
single
metadata
files
defining
single
CSV
files.
3.1
Syntax
</del>
<p>
A
metadata
document
is
a
JSON
document
which
holds
an
object
at
the
top
level.
This
object
is
a
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-description-object" class="internalDFN">
description
object
</a>
of
<ins class="diff-new">either
a
table
group
or
</ins>
a
<ins class="diff-new">single
</ins>
table.
A
<dfn id="dfn-description-object">
description
object
</dfn>
is
a
JSON
object
that
describes
a
component
of
<del class="diff-old">a
table
</del>
<ins class="diff-chg">the
tabular
data
model
</ins>
(a
<ins class="diff-new">table
group,
a
</ins>
table,
a
column,
a
row
or
a
cell)
and
has
one
or
more
properties
are
mapped
into
properties
on
that
component.
</p>
<section id="property-syntax" typeof="bibo:Chapter" resource="#property-syntax" property="bibo:hasPart">
<h3 id="h-property-syntax" resource="#h-property-syntax">
<span property="xhv:role" resource="xhv:heading">
<span class="secno">
<ins class="diff-new">3.1
</ins></span><ins class="diff-new">
Property
Syntax
</ins></span></h3><p>
There
are
different
types
of
properties
on
description
objects:
</p>
<dl>
<dt>
<dfn title="array property" id="dfn-array-property">
<ins class="diff-chg">array
properties
</ins></dfn></dt><dd><p><ins class="diff-chg">
These
hold
an
array
of
one
or
more
objects,
which
are
usually
</ins><a title="description object" href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-description-object" class="internalDFN"><ins class="diff-chg">
description
objects
</ins></a>.</p><p><ins class="diff-chg">
For
example,
the
</ins><code><ins class="diff-chg">
resources
</ins></code><ins class="diff-chg">
property
is
an
array
property.
A
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-table-group-description" class="internalDFN"><ins class="diff-chg">
table
group
description
</ins></a><ins class="diff-chg">
might
contain:
</ins></p>            <pre>"resources": [{
<ins class="diff-chg">
  "@id": "https://example.org/countries.csv",
  "schema": "https://example.org/countries.json"
}, {
  "@id": "https://example.org/country_slice.csv",
  "schema": "https://example.org/country_slice.json"
}]
</ins></pre><p><ins class="diff-chg">
in
which
case
the
</ins><code><ins class="diff-chg">
resources
</ins></code><ins class="diff-chg">
property
has
a
value
that
is
an
array
of
two
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-table-description" class="internalDFN"><ins class="diff-chg">
table
description
</ins></a><ins class="diff-chg">
objects.
</ins></p></dd><dt><dfn title="link property" id="dfn-link-property">
link
properties
</dfn>
</dt>
<dd>
<p>
These
hold
one
or
more
references
to
other
resources
by
URL.
Their
values
may
be:
</p>
<ul>
<li>
<strong>
strings
</strong>
<del class="diff-old">—
</del>
<ins class="diff-chg">�
</ins>
resolved
as
URLs
against
the
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-base-url" class="internalDFN">
base
URL
</a>
</li>
<li>
<strong>
arrays
</strong>
<del class="diff-old">—
</del>
<ins class="diff-chg">�
</ins>
lists
of
strings
which
are
resolved
as
URLs
against
the
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-base-url" class="internalDFN">
base
URL
</a>
</li>
</ul>
<p>
For
example,
the
<code>
<del class="diff-old">hasVersion
</del>
<ins class="diff-chg">dc:hasVersion
</ins>
</code>
property
is
a
link
property.
A
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-table-description" class="internalDFN">
table
description
</a>
might
contain:
</p>
<div class="example">
<div class="example-title">
<span>
Example
4
</span>
</div>
<pre class="example highlight prettyprint prettyprinted"><span class="str">
<del class="diff-old">"hasVersion"
</del>
<ins class="diff-chg">"dc:hasVersion"
</ins>
</span>
<span class="pun">:
</span>
<span class="pln">
</span>
<span class="str">
"example-2014-01-03.csv"
</span>
</pre>
</div>
<p>
in
which
case
the
<code>
<del class="diff-old">hasVersion
</del>
<ins class="diff-chg">dc:hasVersion
</ins>
</code>
property
on
the
table
would
have
a
single
value,
a
link
to
<code>
example-2014-01-03.csv
<del class="diff-old">,
or
it
</del>
</code>.
<ins class="diff-chg">Alternatively,
the
metadata
document
</ins>
might
contain:
</p>
<del class="diff-old">            
  
  
  
</del>
            <div class="example"><div class="example-title"><span>Example 5</span></div><pre class="example highlight prettyprint prettyprinted"><span class="str">"dc:hasVersion"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
  </span><span class="str">"example-2014-01-03.csv"</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"example-2014-01-17.csv"</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"example-2014-01-25.csv"</span><span class="pln">
</span>
<span class="pun">
]
</span>
</pre>
</div>
<p>
in
which
case
the
<code>
<del class="diff-old">hasVersion
</del>
<ins class="diff-chg">dc:hasVersion
</ins>
</code>
property
on
the
table
would
<del class="diff-old">have
</del>
<ins class="diff-chg">be
an
array
of
</ins>
three
values,
links
to
other
versions
of
the
table.
</p>
</dd>
<dt>
<del class="diff-old">internal
</del>
<dfn title="URI template property" id="dfn-uri-template-property">
<ins class="diff-chg">URI
template
properties
</ins></dfn></dt><dd><p><ins class="diff-chg">
A
URI
template
property
contains
a
[
</ins><cite><a class="bibref" href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#bib-URI-TEMPLATE"><ins class="diff-chg">
URI-TEMPLATE
</ins></a></cite><ins class="diff-chg">
]
which
can
be
used
to
generate
a
URI.
These
URI
templates
are
expanded
in
the
context
of
each
row
by
combining
the
template
with
a
set
of
variables
with
values.
The
variables
that
are
set
are:
</ins></p><dl><dt><code><ins class="diff-chg">
_row
</ins></code></dt><dd><code><ins class="diff-chg">
_row
</ins></code><ins class="diff-chg">
is
set
to
the
row
number
of
the
row
that
is
currently
being
processed
</ins><div class="issue"><div class="issue-title" aria-level="4" role="heading" id="h-issue3"><a href="https://github.com/w3c/csvw/issues/32"><span><ins class="diff-chg">
Issue
32
</ins></span></a></div><div class=""><ins class="diff-chg">
Where
does
row
numbering
begin?
</ins></div></div></dd><dt><ins class="diff-chg">
column
names
</ins></dt><dd><ins class="diff-chg">
a
variable
is
set
for
each
column
within
the
schema;
the
name
of
the
variable
is
the
percent-encoded
name
of
the
column
and
the
value
is
the
canonical
representation
of
the
value
of
the
cell
in
that
column
in
the
row
that
is
currently
being
processed
</ins></dd></dl><p><ins class="diff-chg">
For
example,
the
</ins><code><ins class="diff-chg">
urlTemplate
</ins></code><ins class="diff-chg">
property
holds
a
URI
template
that
is
used
to
generate
a
URL
identifier
for
each
row,
which
might
look
like:
</ins></p><div class="example"><div class="example-title"><span><ins class="diff-chg">
Example
6
</ins></span></div><pre class="example highlight prettyprint prettyprinted"><span class="str"><ins class="diff-chg">
"urlTemplate"
</ins></span><span class="pun">:</span><span class="pln"></span><span class="str"><ins class="diff-chg">
"http://example.org/example.csv#row={_row}"
</ins></span></pre></div><p><ins class="diff-chg">
The
identifiers
that
are
generated
for
the
rows
would
then
look
like
</ins><code><ins class="diff-chg">
http://example.org/example.csv#row=1
</ins></code>,<code><ins class="diff-chg">
http://example.org/example.csv#row=2
</ins></code><ins class="diff-chg">
and
so
on.
</ins></p><p><ins class="diff-chg">
Alternatively,
with
the
CSV
and
metadata
in
the
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#introduction" class="sectionRef sec-ref"><ins class="diff-chg">
section
</ins><span class="secno"><ins class="diff-chg">
1.
</ins></span><span class="sec-title"><ins class="diff-chg">
Introduction
</ins></span></a>,<ins class="diff-chg">
the
</ins><code><ins class="diff-chg">
urlTemplate
</ins></code><ins class="diff-chg">
might
look
like:
</ins></p><div class="example"><div class="example-title"><span><ins class="diff-chg">
Example
7
</ins></span></div><pre class="example highlight prettyprint prettyprinted"><span class="str"><ins class="diff-chg">
"urlTemplate"
</ins></span><span class="pun">:</span><span class="pln"></span><span class="str"><ins class="diff-chg">
"http://example.org/tree/{on%2Dstreet}/{GID}"
</ins></span></pre></div><p><ins class="diff-chg">
This
would
generate
URIs
such
as
</ins><code><ins class="diff-chg">
http://example.org/tree/ADDISON%20AV/1
</ins></code><ins class="diff-chg">
and
</ins><code><ins class="diff-chg">
http://example.org/tree/EMERSON%20ST/2
</ins></code>.</p><p><ins class="diff-chg">
Once
the
URI
has
been
generated,
it
is
resolved
against
the
location
of
the
resource
(eg
the
CSV
file)
to
create
an
absolute
URI.
For
example,
given
a
</ins><code><ins class="diff-chg">
urlTemplate
</ins></code><ins class="diff-chg">
within
a
schema
such
as:
</ins></p>            <pre>"urlTemplate": "#row={_row}"
</pre><p><ins class="diff-chg">
and
given
a
CSV
file
at
</ins><code><ins class="diff-chg">
http://example.com/temp.csv
</ins></code>,<ins class="diff-chg">
the
URL
for
the
first
row
will
be
</ins><code><ins class="diff-chg">
http://example.com/temp.csv#row=1
</ins></code>.</p></dd><dt><dfn title="column reference property" id="dfn-column-reference-property"><ins class="diff-chg">
column
</ins>
reference
properties
</dfn>
</dt>
<dd>
<p>
These
hold
one
or
more
references
to
other
<ins class="diff-new">column
</ins>
description
objects.
The
referenced
description
object
must
have
an
<code>
<del class="diff-old">@id
property
whose
value
looks
like
_:
</del>
name
<del class="diff-old">.
Internal
</del>
</code>
<ins class="diff-chg">property.
Column
</ins>
reference
properties
can
then
reference
<del class="diff-old">other
</del>
<ins class="diff-chg">column
</ins>
description
objects
through
values
that
are:
</p>
<ul>
<li>
<strong>
strings
</strong>
<del class="diff-old">—
in
the
format
_:
name
</del>
<ins class="diff-chg">�
</ins>
which
<em class="rfc2119" title="MUST">
MUST
</em>
match
the
<code>
<del class="diff-old">@id
</del>
<ins class="diff-chg">name
</ins>
</code>
on
<del class="diff-old">another
</del>
<ins class="diff-chg">a
column
</ins>
description
object
within
the
metadata
document
</li>
<li>
<strong>
arrays
</strong>
<del class="diff-old">—
</del>
<ins class="diff-chg">�
</ins>
lists
of
strings
as
above
</li>
</ul>
<p>
For
example,
the
<code>
primaryKey
</code>
property
is
an
<del class="diff-old">internal
</del>
<ins class="diff-chg">column
</ins>
reference
property
on
the
schema.
It
has
to
hold
references
to
columns
defined
elsewhere
in
the
schema,
and
the
descriptions
of
those
columns
must
have
<code>
<del class="diff-old">@id
</del>
<ins class="diff-chg">name
</ins>
</code>
properties.
It
can
hold
a
single
reference,
like
this:
</p>
<del class="diff-old">            
  
    
    
  
  
</del>
            <div class="example"><div class="example-title"><span>Example 8</span></div><pre class="example highlight prettyprint prettyprinted"><span class="str">"schema"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="str">"columns"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[{</span><span class="pln">
    </span><span class="str">"name"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"GID"</span><span class="pln">
  </span><span class="pun">},</span><span class="pln"> </span><span class="pun">...</span><span class="pln"> </span><span class="pun">],</span><span class="pln">
  </span><span class="str">"primaryKey"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"GID"</span><span class="pln">
</span>
<span class="pun">
}
</span>
</pre>
</div>
<p>
or
it
can
contain
an
array
of
references,
like
this:
</p>
<del class="diff-old">            
  
    
    
  
    
    
  
  
</del>
            <div class="example"><div class="example-title"><span>Example 9</span></div><pre class="example highlight prettyprint prettyprinted"><span class="str">"schema"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="str">"columns"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[{</span><span class="pln">
    </span><span class="str">"name"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"givenName"</span><span class="pln">
  </span><span class="pun">},</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="str">"name"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"familyName"</span><span class="pln">
  </span><span class="pun">},</span><span class="pln"> </span><span class="pun">...</span><span class="pln"> </span><span class="pun">],</span><span class="pln">
  </span><span class="str">"primaryKey"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="str">"givenName"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"familyName"</span><span class="pln"> </span><span class="pun">]</span><span class="pln">
</span>
<span class="pun">
}
</span>
</pre>
</div>
</dd>
<dt>
<dfn title="object property" id="dfn-object-property">
object
properties
</dfn>
</dt>
<dd>
<p>
These
hold
one
or
more
objects
or
references
to
objects
by
URL.
Their
values
may
be:
</p>
<ul>
<li>
<strong>
strings
</strong>
<del class="diff-old">—
</del>
<ins class="diff-chg">�
</ins>
resolved
as
URLs
against
the
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-base-url" class="internalDFN">
base
URL
</a>
</li>
<li>
<strong>
objects
</strong>
<del class="diff-old">—
</del>
<ins class="diff-chg">�
</ins>
interpreted
as
structured
objects
</li>
<li>
<strong>
arrays
</strong>
<del class="diff-old">—
</del>
<ins class="diff-chg">�
</ins>
lists
of
strings
and/or
<ins class="diff-new">objects,
interpreted
as
URLs
or
structured
</ins>
objects
</li>
</ul>
<p>
Object
properties
are
often
used
when
the
values
can
be
or
should
be
values
within
controlled
vocabularies,
or
structured
information
which
may
be
held
elsewhere.
For
example,
the
<code>
<del class="diff-old">creator
</del>
<ins class="diff-chg">dc:creator
</ins>
</code>
of
a
table
<del class="diff-old">is
</del>
<ins class="diff-chg">should
be
</ins>
an
object
property.
It
could
be
provided
as
a
URL
that
indicates
the
creator,
like
this:
</p>
<div class="example">
<div class="example-title">
<span>
Example
<del class="diff-old">8
</del>
<ins class="diff-chg">10
</ins>
</span>
</div>
<pre class="example highlight prettyprint prettyprinted"><span class="str">
<del class="diff-old">"creator"
</del>
<ins class="diff-chg">"dc:creator"
</ins>
</span>
<span class="pun">:
</span>
<span class="pln">
</span>
<span class="str">
"http://ons.gov.uk"
</span>
</pre>
</div>
<p>
or
a
structured
object,
like
this:
</p>
<del class="diff-old">            
  
  
  
</del>
            <div class="example"><div class="example-title"><span>Example 11</span></div><pre class="example highlight prettyprint prettyprinted"><span class="str">"dc:creator"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="str">"sch:name"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Office of National Statistics"</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"sch:url"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"http://ons.gov.uk"</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"sch:email"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"info@ons.gsi.gov.uk"</span><span class="pln">
</span>
<span class="pun">
}
</span>
</pre>
</div>
<p>
<ins class="diff-new">or
an
array
of
URLs,
like
this:
</ins></p><div class="example"><div class="example-title"><span><ins class="diff-new">
Example
12
</ins></span></div><pre class="example highlight prettyprint prettyprinted"><span class="str"><ins class="diff-new">
"dc:creator"
</ins></span><span class="pun">:</span><span class="pln"></span><span class="pun"><ins class="diff-new">
[
</ins></span><span class="pln"></span><span class="str"><ins class="diff-new">
"http://ons.gov.uk"
</ins></span><span class="pun">,</span><span class="pln"></span><span class="str"><ins class="diff-new">
"https://www.gov.uk/government/organisations/department-for-transport"
</ins></span><span class="pln"></span><span class="pun"><ins class="diff-new">
]
</ins></span></pre></div><p><ins class="diff-new">
or
an
array
of
structured
objects:
</ins></p>            <div class="example"><div class="example-title"><span>Example 13</span></div><pre class="example highlight prettyprint prettyprinted"><span class="str">"dc:creator"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[{</span><span class="pln">
  </span><span class="str">"sch:name"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Office of National Statistics"</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"sch:url"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"http://ons.gov.uk"</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"sch:email"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"info@ons.gsi.gov.uk"</span><span class="pln">
</span><span class="pun">},</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="str">"sch:name"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Department for Transport"</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"sch:url"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"https://www.gov.uk/government/organisations/department-for-transport"</span><span class="pln">
</span><span class="pun"><ins class="diff-new">
}]
</ins></span></pre></div><p><ins class="diff-new">
or
an
array
that
mixes
URLs
and
objects:
</ins></p>            <div class="example"><div class="example-title"><span>Example 14</span></div><pre class="example highlight prettyprint prettyprinted"><span class="str">"dc:creator"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[{</span><span class="pln">
  </span><span class="str">"sch:name"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Office of National Statistics"</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"sch:url"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"http://ons.gov.uk"</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"sch:email"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"info@ons.gsi.gov.uk"</span><span class="pln">
</span><span class="pun"><ins class="diff-new">
},
</ins></span><span class="pln"></span><span class="str"><ins class="diff-new">
"https://www.gov.uk/government/organisations/department-for-transport"
</ins></span><span class="pln"></span><span class="pun"><ins class="diff-new">
]
</ins></span></pre></div>
</dd>
<dt>
<dfn title="natural language property" id="dfn-natural-language-property">
natural
language
properties
</dfn>
</dt>
<dd>
<p>
These
hold
natural
language
strings.
Their
values
may
be:
</p>
<ul>
<li>
<strong>
strings
</strong>
<del class="diff-old">—
</del>
<ins class="diff-chg">�
</ins>
interpreted
as
natural
language
strings
in
the
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-default-language" class="internalDFN">
default
language
</a>
</li>
<li>
<strong>
arrays
</strong>
<del class="diff-old">—
</del>
<ins class="diff-chg">�
</ins>
interpreted
as
alternative
natural
language
strings
in
the
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-default-language" class="internalDFN">
default
language
</a>
</li>
<li>
<strong>
objects
</strong>
whose
properties
<em class="rfc2119" title="MUST">
MUST
</em>
be
language
codes
as
defined
by
[
<cite>
<del class="diff-old">RFC3066
</del>
<a class="bibref" href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#bib-BCP47">
<ins class="diff-chg">BCP47
</ins>
</a>
</cite>
]
and
whose
values
are
either
strings
or
arrays,
providing
natural
language
strings
in
that
language
</li>
</ul>
<p>
Natural
language
properties
are
used
for
things
like
descriptions
and
titles.
For
example,
the
<code>
title
</code>
property
provides
a
natural
language
label
for
a
column.
If
it's
a
plain
string
like
this:
</p>
<div class="example">
<div class="example-title">
<span>
Example
<del class="diff-old">10
</del>
<ins class="diff-chg">15
</ins>
</span>
</div>
<pre class="example highlight prettyprint prettyprinted"><span class="str">
"title"
</span>
<span class="pun">:
</span>
<span class="pln">
</span>
<span class="str">
"Project
title"
</span>
</pre>
</div>
<p>
then
that
string
is
assumed
to
be
in
the
language
provided
through
the
<code>
@language
</code>
property
of
the
nearest
<code>
@context
</code>
(or
have
no
assumed
language,
if
there
is
no
such
property).
Multiple
alternative
values
can
be
given
in
an
array:
</p>
<del class="diff-old">            
  
  
</del>
            <div class="example"><div class="example-title"><span>Example 16</span></div><pre class="example highlight prettyprint prettyprinted"><span class="str">"title"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
  </span><span class="str">"Project title"</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"Project"</span><span class="pln">
</span>
<span class="pun">
]
</span>
</pre>
</div>
<p>
It's
also
possible
to
provide
multiple
values
in
different
languages,
using
an
object
structure.
For
example:
</p>
<del class="diff-old">            
  
  
</del>
            <div class="example"><div class="example-title"><span>Example 17</span></div><pre class="example highlight prettyprint prettyprinted"><span class="str">"title"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="str">"en"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Project title"</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"fr"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Titre du projet"</span><span class="pln">
</span>
<span class="pun">
<ins class="diff-chg">}
</ins></span></pre></div><p><ins class="diff-chg">
and
within
such
an
object,
the
values
of
the
properties
can
themselves
be
arrays:
</ins></p>            <div class="example"><div class="example-title"><span>Example 18</span></div><pre class="example highlight prettyprint prettyprinted"><span class="str">"title"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="str">"en"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="str">"Project title"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Project"</span><span class="pln"> </span><span class="pun">],</span><span class="pln">
  </span><span class="str">"fr"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Titre du projet"</span><span class="pln">
</span>
<span class="pun">
}
</span>
</pre>
</div>
<div class="issue">
<div class="issue-title" aria-level="4" role="heading" id="h-issue4">
<a href="https://github.com/w3c/csvw/issues/49">
<span>
Issue
<del class="diff-old">5
</del>
<ins class="diff-chg">49
</ins>
</span>
</a>
</div>
<p class="">
We
invite
comment
on
whether
it
would
be
useful
to
enable
some
markup
in
natural
language
strings,
for
example
by
stating
that
they
are
interpreted
as
HTML
or
Markdown.
</p>
</div>
</dd>
<dt>
<dfn title="atomic property" id="dfn-atomic-property">
atomic
properties
</dfn>
</dt>
<dd>
<p>
These
hold
atomic
values.
Their
values
may
be:
</p>
<ul>
<li>
<strong>
numbers
</strong>
<del class="diff-old">—
</del>
<ins class="diff-chg">�
</ins>
interpreted
as
integers
or
doubles
</li>
<li>
<strong>
booleans
</strong>
<del class="diff-old">—
</del>
<ins class="diff-chg">�
</ins>
interpreted
as
booleans
(
<code>
true
</code>
or
<code>
false
</code>
)
</li>
<li>
<strong>
strings
</strong>
<del class="diff-old">—
</del>
<ins class="diff-chg">�
</ins>
interpreted
as
defined
by
the
property
</li>
<li>
<strong>
arrays
</strong>
<del class="diff-old">—
</del>
<ins class="diff-chg">�
</ins>
lists
of
numbers,
booleans
or
strings
</li>
</ul>
<div class="note">
<div class="note-title" aria-level="4" role="heading" id="h-note1">
<span>
Note
</span>
</div>
<p class="">
JSON
does
not
have
date
or
time
types.
Where
a
property
takes
a
date
as
a
value,
this
<em class="rfc2119" title="MUST">
MUST
</em>
be
a
string
in
the
format
<code>
YYYY-MM-DD
</code>.
</p>
</div>
</dd>
</dl>
</section>
<section id="top-level-properties" typeof="bibo:Chapter" resource="#top-level-properties" property="bibo:hasPart">
<h3 id="h-top-level-properties" resource="#h-top-level-properties">
<span property="xhv:role" resource="xhv:heading">
<span class="secno">
3.2
</span>
Top-Level
Properties
</span>
</h3>
<p>
The
top-level
object
<ins class="diff-chg">(whether
it
is
a
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-table-group-description" class="internalDFN"><ins class="diff-chg">
table
group
description
</ins></a><ins class="diff-chg">
or
a
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-table-description" class="internalDFN"><ins class="diff-chg">
table
description
</ins></a><ins class="diff-chg">
)
</ins><em class="rfc2119" title="MAY">
MAY
</em>
have
a
<code>
@context
</code>
property.
This
holds
an
object
that
provides
metadata
for
interpreting
other
properties,
namely:
</p>
<dl>
<dt>
<code>
@language
</code>
</dt>
<dd>
<p>
indicates
the
default
language
for
the
values
of
properties
in
the
<del class="diff-old">description;
</del>
<ins class="diff-chg">metadata
document;
</ins>
if
present,
its
value
<em class="rfc2119" title="MUST">
MUST
</em>
be
a
language
code
[
<cite>
<del class="diff-old">RFC3066
</del>
<a class="bibref" href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#bib-BCP47">
<ins class="diff-chg">BCP47
</ins>
</a>
</cite>
]
which
is
the
<dfn id="dfn-default-language">
default
language
</dfn>
for
the
values
of
other
properties
in
the
metadata
document
</p>
<div class="note">
<div class="note-title" aria-level="4" role="heading" id="h-note2">
<span>
Note
</span>
</div>
<p class="">
Note
that
the
<code>
@language
</code>
property
of
the
<code>
@context
</code>
object,
which
gives
the
default
language
used
within
the
metadata
file,
is
distinct
from
the
<code>
language
</code>
property
on
a
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-description-object" class="internalDFN">
description
object
</a>,
which
gives
the
language
used
in
the
data
within
<del class="diff-old">the
table.
</del>
<ins class="diff-chg">a
group
of
tables,
table
or
column.
</ins>
</p>
</div>
</dd>
<dt>
<code>
@base
</code>
</dt>
<dd>
<p>
indicates
the
base
URL
against
which
other
URLs
within
the
description
are
resolved;
if
present,
its
value
<em class="rfc2119" title="MUST">
MUST
</em>
be
a
URL
which
is
resolved
against
the
<del class="diff-old">base
URL
</del>
<ins class="diff-chg">location
</ins>
of
the
metadata
document
<del class="diff-old">(the
location
from
which
it
was
retrieved)
</del>
to
provide
the
<dfn id="dfn-base-url">
base
URL
</dfn>
for
other
URLs
in
the
metadata
<ins class="diff-new">document;
if
unspecified,
the
base
URL
used
for
interpreting
relative
URLs
within
the
metadata
document
is
the
location
of
the
metadata
</ins>
document
<ins class="diff-new">itself
</ins>
</p>
<div class="note">
<div class="note-title" aria-level="4" role="heading" id="h-note3">
<span>
Note
</span>
</div>
<p class="">
Note
that
the
<code>
@base
</code>
property
of
the
<code>
@context
</code>
object
provides
the
base
URL
used
for
URLs
within
the
metadata
document,
not
the
URLs
that
appear
within
the
<del class="diff-old">table.
</del>
<ins class="diff-chg">group
of
tables
or
table
it
describes.
</ins>
</p>
</div>
</dd>
</dl>
<section id="importing-metadata" typeof="bibo:Chapter" resource="#importing-metadata" property="bibo:hasPart">
<h4 id="h-importing-metadata" resource="#h-importing-metadata">
<span property="xhv:role" resource="xhv:heading">
<span class="secno">
<del class="diff-old">3.3
</del>
<ins class="diff-chg">3.2.1
</ins>
</span>
<del class="diff-old">Common
Properties
</del>
<ins class="diff-chg">Importing
Metadata
</ins></span></h4>
<p>
The
<del class="diff-old">properties
listed
here
may
be
applied
</del>
<ins class="diff-chg">top-level
object
(whether
it
is
a
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-table-group-description" class="internalDFN"><ins class="diff-chg">
table
group
description
</ins></a><ins class="diff-chg">
or
a
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-table-description" class="internalDFN"><ins class="diff-chg">
table
description
</ins></a><ins class="diff-chg">
)
</ins><em class="rfc2119" title="MAY"><ins class="diff-chg">
MAY
</ins></em><ins class="diff-chg">
also
have
an
</ins><code><ins class="diff-chg">
import
</ins></code><ins class="diff-chg">
property.
This
is
a
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-link-property" class="internalDFN"><ins class="diff-chg">
link
property
</ins></a><ins class="diff-chg">
which
references
one
or
more
other
metadata
files
</ins>
to
<del class="diff-old">any
structure
within
</del>
<ins class="diff-chg">be
imported
into
</ins>
the
<del class="diff-old">tabular
data
model:
tables,
columns,
rows
or
cells.
</del>
<ins class="diff-chg">original
metadata
file.
</ins>
</p>
<del class="diff-old">Issue
6
We
invite
comment
on
whether
there
</del>
<p>
<ins class="diff-chg">If
the
</ins><code><ins class="diff-chg">
import
</ins></code><ins class="diff-chg">
property
contains
an
array,
imports
</ins>
are
<del class="diff-old">other
standard
</del>
<ins class="diff-chg">carried
out
in
sequence:
the
first
</ins>
metadata
<del class="diff-old">vocabularies
that
should
be
reused
within
this
specification.
</del>
<ins class="diff-chg">file
referenced
is
imported
into
the
original
metadata
file;
the
second
is
imported
into
the
result
and
so
on.
If
a
referenced
metadata
file
has
already
been
imported
(or
was
the
original
metadata
file)
it
is
ignored.
</ins>
</p>
<del class="diff-old">3.3.1
Dublin
Core
Terms
</del>
<p>
<del class="diff-old">Descriptions
MAY
contain
any
properties
defined
by
[
DC-TERMS
]
to
describe
</del>
<ins class="diff-chg">If
</ins>
the
<del class="diff-old">table.
This
specification
does
not
define
</del>
<ins class="diff-chg">top-level
object
of
</ins>
any
<del class="diff-old">application
behaviour
associated
with
these
properties
being
present,
except
that
validation
</del>
of
<ins class="diff-new">the
</ins>
metadata
files
<del class="diff-old">MUST
check
that,
if
they
</del>
are
<del class="diff-old">present,
</del>
<a title="table description" href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-table-description" class="internalDFN">
<ins class="diff-chg">table
descriptions
</ins></a>,<ins class="diff-chg">
these
are
treated
as
if
</ins>
they
<del class="diff-old">adhere
to
the
syntax
defined
here.
Property
Type
Details
abstract
natural
language
property
</del>
<ins class="diff-chg">were
</ins><a title="table group description" href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-table-group-description" class="internalDFN"><ins class="diff-chg">
table
group
descriptions
</ins>
</a>
<ins class="diff-chg">containing
a
single
table
description
(ie
having
a
single
</ins>
<code>
<del class="diff-old">accessRights
</del>
<ins class="diff-chg">resource
</ins>
</code>
<del class="diff-old">object
</del>
property
<del class="diff-old">accrualMethod
</del>
<ins class="diff-chg">whose
value
is
the
same
as
the
original
table
description).
</ins></p><p><ins class="diff-chg">
An
imported
description
</ins>
object
<del class="diff-old">property
accrualPeriodicity
</del>
<ins class="diff-chg">B
is
</ins><dfn id="dfn-imported"><ins class="diff-chg">
imported
</ins></dfn><ins class="diff-chg">
into
an
original
description
</ins>
object
<ins class="diff-new">A
by
merging
each
</ins>
property
<del class="diff-old">accrualPolicy
object
</del>
<ins class="diff-chg">of
B
into
A.
If
the
</ins>
property
<del class="diff-old">alternative
natural
language
</del>
<ins class="diff-chg">from
B
does
not
exist
on
A,
it
is
simply
added
to
A.
If
A
does
have
the
property,
the
way
the
values
are
merged
depends
on
the
type
of
the
property,
as
follows:
</ins></p><ul><li><ins class="diff-chg">
If
the
</ins>
property
<del class="diff-old">audience
object
</del>
<ins class="diff-chg">is
an
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-array-property" class="internalDFN"><ins class="diff-chg">
array
</ins>
property
<del class="diff-old">available
atomic
</del>
</a>,
<ins class="diff-chg">the
way
in
which
values
are
merged
depends
on
the
property;
see
the
relevant
</ins>
property
<del class="diff-old">dates
</del>
<ins class="diff-chg">for
this
definition.
</ins></li><li><ins class="diff-chg">
If
the
property
is
a
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-link-property" class="internalDFN"><ins class="diff-chg">
link
property
</ins></a>,<ins class="diff-chg">
then
if
the
property
only
accepts
single
values,
the
value
from
A
overrides
that
from
B,
otherwise
the
result
is
an
array
of
links:
those
from
A
followed
by
those
from
B
that
were
not
already
a
value
</ins>
in
<ins class="diff-new">A.
</ins></li><li><ins class="diff-new">
If
</ins>
the
<del class="diff-old">format
YYYY-MM-DD
bibliographicCitation
natural
language
</del>
property
<del class="diff-old">conformsTo
object
</del>
<ins class="diff-chg">is
a
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-uri-template-property" class="internalDFN"><ins class="diff-chg">
URI
template
</ins>
property
<del class="diff-old">contributor
object
</del>
</a>,
<ins class="diff-chg">the
value
from
A
overrides
that
from
B.
</ins></li><li><ins class="diff-chg">
If
the
</ins>
property
<del class="diff-old">coverage
</del>
<ins class="diff-chg">is
a
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-column-reference-property" class="internalDFN"><ins class="diff-chg">
column
reference
property
</ins></a>,<ins class="diff-chg">
the
value
from
A
overrides
that
from
B.
</ins></li><li><ins class="diff-chg">
If
the
property
is
an
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-object-property" class="internalDFN">
object
property
<del class="diff-old">created
atomic
</del>
</a>,
<ins class="diff-chg">then
if
the
</ins>
property
<del class="diff-old">dates
in
</del>
<ins class="diff-chg">only
accepts
single
objects:
</ins><ol><li><ins class="diff-chg">
if
the
value
of
</ins>
the
<del class="diff-old">format
YYYY-MM-DD
creator
object
</del>
property
<del class="diff-old">date
atomic
</del>
<ins class="diff-chg">in
A
is
a
string
or
the
value
from
B
is
a
string
then
the
value
from
A
overrides
that
from
B
</ins></li><li><ins class="diff-chg">
otherwise
(if
both
values
as
objects)
the
objects
are
merged
as
described
here
</ins></li></ol><ins class="diff-chg">
If
the
</ins>
property
<del class="diff-old">dates
</del>
<ins class="diff-chg">accepts
arrays,
the
result
is
an
array
of
objects
or
strings:
those
from
A
followed
by
those
from
B
that
were
not
already
a
value
</ins>
in
<ins class="diff-new">A.
</ins></li><li><ins class="diff-new">
If
</ins>
the
<del class="diff-old">format
YYYY-MM-DD
dateAccepted
atomic
</del>
property
<ins class="diff-new">is
a
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-natural-language-property" class="internalDFN"><ins class="diff-new">
natural
language
property
</ins></a>,<ins class="diff-new">
the
result
is
an
object
whose
properties
are
language
codes
and
where
the
values
of
those
properties
are
arrays.
The
suitable
language
code
for
the
values
is
either
explicit
within
the
existing
value
or
determined
through
the
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-default-language" class="internalDFN"><ins class="diff-new">
default
language
</ins>
</a>
<del class="diff-old">dates
</del>
in
the
<del class="diff-old">format
YYYY-MM-DD
</del>
<ins class="diff-chg">metadata
document;
if
it
can't
be
determined
the
language
code
</ins>
<code>
<del class="diff-old">dateCopyrighted
</del>
<ins class="diff-chg">und
</ins>
</code>
<ins class="diff-chg">should
be
used.
The
arrays
should
provide
the
values
from
A
followed
by
those
from
B
that
were
not
already
a
value
in
A.
</ins></li><li><ins class="diff-chg">
If
the
property
is
an
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-atomic-property" class="internalDFN">
atomic
property
<del class="diff-old">dates
</del>
</a>,
<ins class="diff-chg">then
if
the
property
only
accepts
single
values,
the
value
from
A
overrides
that
from
B;
otherwise
the
result
is
an
array
of
values:
those
from
A
followed
by
those
from
B
that
were
not
already
a
value
</ins>
in
<ins class="diff-new">A.
</ins></li></ul><p><ins class="diff-new">
If
the
type
of
</ins>
the
<del class="diff-old">format
YYYY-MM-DD
dateSubmitted
atomic
</del>
property
<del class="diff-old">dates
</del>
<ins class="diff-chg">cannot
be
determined,
because
it
is
not
defined
</ins>
in
<ins class="diff-new">this
specification
(ie
because
it
is
an
extension
property),
the
type
of
</ins>
the
<del class="diff-old">format
YYYY-MM-DD
description
natural
language
</del>
property
<del class="diff-old">educationLevel
object
</del>
<ins class="diff-chg">is
determined
based
on
its
values
in
A
and
B,
as
follows,
and
merged
accordingly:
</ins></p><ul><li><ins class="diff-chg">
If
the
value
of
the
</ins>
property
<del class="diff-old">extent
object
</del>
<ins class="diff-chg">in
A
and
the
value
of
the
</ins>
property
<del class="diff-old">format
object
</del>
<ins class="diff-chg">in
B
are
both
objects,
they
are
treated
as
if
the
</ins>
property
<del class="diff-old">hasFormat
</del>
<ins class="diff-chg">is
an
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-object-property" class="internalDFN">
object
property
</a>
<del class="diff-old">hasPart
link
property
hasVersion
link
property
identifier
atomic
</del>
<ins class="diff-chg">that
only
accepts
single
objects.
</ins></li><li><ins class="diff-chg">
If
one
of
the
values
is
an
array
and
the
other
is
an
object,
they
are
treated
as
if
the
</ins>
property
<del class="diff-old">a
URL
instructionalMethod
</del>
<ins class="diff-chg">is
an
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-object-property" class="internalDFN">
object
property
</a>
<del class="diff-old">isFormatOf
link
</del>
<ins class="diff-chg">that
accepts
arrays.
</ins></li><li><ins class="diff-chg">
If
the
value
of
the
</ins>
property
<del class="diff-old">isPartOf
link
</del>
<ins class="diff-chg">in
A
and
the
value
of
the
</ins>
property
<del class="diff-old">isReferencedBy
link
</del>
<ins class="diff-chg">in
B
are
atomic
values,
they
are
treated
as
if
the
</ins>
property
<del class="diff-old">isReplacedBy
link
</del>
<ins class="diff-chg">is
an
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-atomic-property" class="internalDFN"><ins class="diff-chg">
atomic
</ins>
property
</a>
<del class="diff-old">isRequiredBy
link
</del>
<ins class="diff-chg">that
only
accepts
single
values.
</ins></li><li><ins class="diff-chg">
If
one
of
the
values
is
an
array
and
the
other
is
an
atomic
value,
they
are
treated
as
if
the
</ins>
property
<del class="diff-old">issued
</del>
<ins class="diff-chg">is
an
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-atomic-property" class="internalDFN">
atomic
property
</a>
<ins class="diff-new">that
accepts
arrays.
</ins></li></ul></section></section><section id="common-properties" typeof="bibo:Chapter" resource="#common-properties" property="bibo:hasPart"><h3 id="h-common-properties" resource="#h-common-properties">
<del class="diff-old">dates
in
the
format
YYYY-MM-DD
</del>
<span property="xhv:role" resource="xhv:heading">
<span class="secno">
<ins class="diff-chg">3.3
</ins></span><ins class="diff-chg">
Common
Properties
</ins></span>
</h3>
<p>
<ins class="diff-new">Descriptions
of
groups
of
tables,
tables,
schemas,
columns,
rows
and
cells
</ins><em class="rfc2119" title="MAY"><ins class="diff-new">
MAY
</ins></em><ins class="diff-new">
contain
any
properties
whose
names
are
either
absolute
URLs
or
prefixed
names.
For
example,
a
table
description
may
contain
</ins>
<code>
<del class="diff-old">isVersionOf
</del>
<ins class="diff-chg">dc:description
</ins></code>,<code><ins class="diff-chg">
dcat:keyword
</ins>
</code>
<del class="diff-old">link
property
</del>
<ins class="diff-chg">or
</ins>
<code>
<del class="diff-old">language
</del>
<ins class="diff-chg">schema:copyrightHolder
</ins>
</code>
<del class="diff-old">atomic
property
</del>
<ins class="diff-chg">properties
to
provide
</ins>
a
<del class="diff-old">language
code
</del>
<ins class="diff-chg">description,
keywords
or
the
name
of
the
copyright
holder,
</ins>
as
defined
<del class="diff-old">by
</del>
<ins class="diff-chg">in
</ins><a href="http://dublincore.org/documents/2010/10/11/dcmi-terms/#elements-description"><ins class="diff-chg">
Dublin
Core
Terms
</ins></a>,<a href="http://www.w3.org/TR/vocab-dcat/#Property:dataset_keyword"><ins class="diff-chg">
DCAT
</ins></a><ins class="diff-chg">
or
</ins><a href="http://schema.org/copyrightHolder"><ins class="diff-chg">
schema.org
</ins></a>.</p><p><ins class="diff-chg">
The
same
prefixes
are
pre-defined
as
for
</ins>
[
<cite>
<del class="diff-old">RFC3066
</del>
<a class="bibref" href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#bib-rdfa-core">
<ins class="diff-chg">rdfa-core
</ins>
</a>
</cite>
<del class="diff-old">];
this
is
an
inherited
property
license
object
property
</del>
<ins class="diff-chg">]
within
the
</ins><a href="http://www.w3.org/2011/rdfa-context/rdfa-1.1"><ins class="diff-chg">
RDFa
1.1
Initial
Context
</ins>
</a>
<ins class="diff-new">and
</ins><em class="rfc2119" title="MUST NOT"><ins class="diff-new">
MUST
NOT
</ins></em><ins class="diff-new">
be
overridden.
Properties
from
other
vocabularies
</ins><em class="rfc2119" title="MUST"><ins class="diff-new">
MUST
</ins></em><ins class="diff-new">
be
defined
using
full
URLs.
</ins></p><div class="note">
<div class="note-title" aria-level="4" role="heading" id="h-note4">
<span>
<ins class="diff-chg">Note
</ins></span>
</div>
<p class="">
<ins class="diff-chg">Forbidding
the
declaration
of
new
prefixes
ensures
consistent
processing
between
JSON-LD-aware
and
non-JSON-LD-aware
processors.
</ins></p>
<del class="diff-old">mediator
</del>
</div>
</section>
<section id="table-groups" typeof="bibo:Chapter" resource="#table-groups" property="bibo:hasPart">
<h3 id="h-table-groups" resource="#h-table-groups">
<span property="xhv:role" resource="xhv:heading">
<span class="secno">
<ins class="diff-chg">3.4
</ins></span><ins class="diff-chg">
Table
Groups
</ins></span>
</h3>
<p>
<ins class="diff-chg">A
</ins><dfn id="dfn-table-group-description"><ins class="diff-chg">
table
group
description
</ins></dfn><ins class="diff-chg">
is
a
JSON
</ins>
object
<del class="diff-old">property
</del>
<ins class="diff-chg">that
describes
a
group
of
tables.
</ins></p><section id="required-properties" typeof="bibo:Chapter" resource="#required-properties" property="bibo:hasPart"><h4 id="h-required-properties" resource="#h-required-properties">
<span property="xhv:role" resource="xhv:heading">
<span class="secno">
<ins class="diff-chg">3.4.1
</ins></span><ins class="diff-chg">
Required
Properties
</ins></span>
</h4>
<dl>
<dt id="table-group-resources">
<code>
<del class="diff-old">medium
</del>
<ins class="diff-chg">resources
</ins>
</code>
<del class="diff-old">object
</del>
</dt>
<dd>
<ins class="diff-chg">An
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-array-property" class="internalDFN"><ins class="diff-chg">
array
</ins>
property
</a>
<del class="diff-old">modified
atomic
property
</del>
<ins class="diff-chg">of
</ins><a title="table description" href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-table-description" class="internalDFN"><ins class="diff-chg">
table
descriptions
</ins>
</a>
<del class="diff-old">dates
</del>
<ins class="diff-chg">for
the
tables
</ins>
in
the
<del class="diff-old">format
YYYY-MM-DD
provenance
object
property
publisher
object
property
references
link
property
</del>
<ins class="diff-chg">group.
When
an
array
of
table
descriptions
B
is
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-imported" class="internalDFN"><ins class="diff-chg">
imported
</ins>
</a>
<ins class="diff-chg">into
an
original
array
of
table
descriptions
A,
each
table
description
within
B
is
combined
into
the
original
array
A
by:
</ins><ul><li><ins class="diff-chg">
if
there
is
a
table
description
with
the
same
</ins>
<code>
<del class="diff-old">relation
</del>
<ins class="diff-chg">@id
</ins>
</code>
<del class="diff-old">link
property
</del>
<ins class="diff-chg">in
A,
the
table
description
from
B
is
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-imported" class="internalDFN"><ins class="diff-chg">
imported
</ins>
</a>
<ins class="diff-new">into
the
matching
table
description
in
A
</ins></li><li><ins class="diff-new">
otherwise,
the
table
description
from
B
is
appended
to
the
array
of
table
descriptions
A
</ins></li></ul></dd></dl></section><section id="optional-properties" typeof="bibo:Chapter" resource="#optional-properties" property="bibo:hasPart"><h4 id="h-optional-properties" resource="#h-optional-properties">
<span property="xhv:role" resource="xhv:heading">
<span class="secno">
<ins class="diff-chg">3.4.2
</ins></span><ins class="diff-chg">
Optional
Properties
</ins></span>
</h4>
<p>
<ins class="diff-chg">The
description
of
a
group
of
tables
</ins><em class="rfc2119" title="MAY"><ins class="diff-chg">
MAY
</ins></em><ins class="diff-chg">
also
contain:
</ins></p><dl><dt id="table-group-schema">
<code>
<del class="diff-old">replaces
</del>
<ins class="diff-chg">schema
</ins>
</code>
<del class="diff-old">link
</del>
</dt>
<dd>
<ins class="diff-chg">An
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-object-property" class="internalDFN"><ins class="diff-chg">
object
</ins>
property
</a>
<del class="diff-old">requires
link
property
</del>
<ins class="diff-chg">that
provides
a
single
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-schema-description" class="internalDFN"><ins class="diff-chg">
schema
description
</ins>
</a>
<ins class="diff-new">as
described
in
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#schemas" class="sectionRef sec-ref"><ins class="diff-new">
section
</ins><span class="secno"><ins class="diff-new">
3.8
</ins></span><span class="sec-title"><ins class="diff-new">
Schemas
</ins></span>
<del class="diff-old">rights
</del>
</a>,
<ins class="diff-chg">for
all
the
tables
in
the
group.
This
may
be
provided
as
an
embedded
</ins>
object
<del class="diff-old">property
</del>
<ins class="diff-chg">within
the
JSON
metadata
or
as
a
URL
reference
to
a
separate
JSON
schema
document.
</ins></dd><dt id="table-group-direction">
<code>
<del class="diff-old">rightsHolder
</del>
<ins class="diff-chg">table-direction
</ins>
</code>
<del class="diff-old">object
</del>
</dt>
<dd>
<p>
<ins class="diff-chg">An
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-atomic-property" class="internalDFN"><ins class="diff-chg">
atomic
</ins>
property
</a>
<ins class="diff-chg">that
</ins><em class="rfc2119" title="MUST"><ins class="diff-chg">
MUST
</ins></em><ins class="diff-chg">
have
a
single
string
value
that
is
one
of
</ins>
<code>
<del class="diff-old">source
link
property
</del>
<ins class="diff-chg">"rtl"
</ins></code>,
<code>
<del class="diff-old">spatial
</del>
<ins class="diff-chg">"ltr"
</ins>
</code>
<del class="diff-old">object
property
</del>
<ins class="diff-chg">or
</ins>
<code>
<del class="diff-old">subject
</del>
<ins class="diff-chg">"default"
</ins></code>.<ins class="diff-chg">
Indicates
whether
the
tables
in
the
group
should
be
displayed
with
the
first
column
on
the
right,
on
the
left,
or
based
on
the
first
character
in
the
table
that
has
a
specific
direction.
See
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#bidirectional-tables" class="sectionRef sec-ref"><ins class="diff-chg">
section
</ins><span class="secno"><ins class="diff-chg">
4.1.1
</ins></span><span class="sec-title"><ins class="diff-chg">
Bidirectional
Tables
</ins></span>
<del class="diff-old">object
property
</del>
</a>
<ins class="diff-new">for
more
details.
</ins></p><div class="issue">
<del class="diff-old">tableOfContents
</del>
<div class="issue-title" aria-level="5" role="heading" id="h-issue5">
<a href="https://github.com/w3c/csvw/issues/51">
<span>
<ins class="diff-chg">Issue
51
</ins></span>
<del class="diff-old">natural
language
property
</del>
</a>
</div>
<p class="">
<ins class="diff-chg">This
should
be
a
defined
controlled
vocabulary
in
JSON-LD,
so
that
the
values
map
on
to
URIs
in
the
RDF
version
rather
than
strings.
We
invite
comment
on
how
to
configure
the
JSON-LD
context
to
enable
these
values
to
be
interpreted
in
this
way.
</ins></p>
</div>
</dd>
<dt id="table-group-dialect">
<code>
<del class="diff-old">temporal
</del>
<ins class="diff-chg">dialect
</ins>
</code>
</dt>
<dd>
<ins class="diff-chg">An
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-object-property" class="internalDFN">
object
property
</a>
<ins class="diff-chg">that
provides
a
single
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-dialect-description" class="internalDFN"><ins class="diff-chg">
dialect
description
</ins></a>.<ins class="diff-chg">
If
provided,
</ins>
<code>
<del class="diff-old">title
</del>
<ins class="diff-chg">dialect
</ins>
</code>
<ins class="diff-new">provides
hints
to
processors
about
how
to
parse
the
referenced
files
for
to
create
tabular
data
models
for
the
tables
in
the
group.
This
may
be
provided
as
an
embedded
object
or
as
a
URL
reference.
See
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dialect-descriptions" class="sectionRef sec-ref"><ins class="diff-new">
section
</ins><span class="secno"><ins class="diff-new">
3.6
</ins></span><span class="sec-title"><ins class="diff-new">
Dialect
Descriptions
</ins></span>
<del class="diff-old">natural
language
property
</del>
</a>
<ins class="diff-chg">for
more
details.
</ins></dd><dt id="table-group-templates">
<code>
<del class="diff-old">type
</del>
<ins class="diff-chg">templates
</ins>
</code>
<del class="diff-old">object
</del>
</dt>
<dd>
<ins class="diff-chg">An
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-array-property" class="internalDFN"><ins class="diff-chg">
array
</ins>
property
</a>
<del class="diff-old">valid
atomic
property
</del>
<ins class="diff-chg">of
</ins><a title="template specification" href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-template-specification" class="internalDFN"><ins class="diff-chg">
template
specifications
</ins>
</a>
<del class="diff-old">dates
in
</del>
<ins class="diff-chg">that
provide
mechanisms
to
transform
</ins>
the
<del class="diff-old">format
YYYY-MM-DD
</del>
<ins class="diff-chg">tabular
data
into
other
formats.
See
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#template-specifications" class="sectionRef sec-ref"><ins class="diff-chg">
section
</ins>
<span class="secno">
<del class="diff-old">3.3.2
</del>
<ins class="diff-chg">3.7
</ins>
</span>
<del class="diff-old">Links
Description
MAY
include
properties
</del>
<span class="sec-title">
<ins class="diff-chg">Template
Specifications
</ins></span></a>
for
<del class="diff-old">registered
link
relations
,
prefixed
by
link:
.
This
specification
does
not
define
any
application
behaviour
associated
with
these
properties
being
present,
except
that
validation
</del>
<ins class="diff-chg">more
details.
When
an
array
</ins>
of
<del class="diff-old">metadata
files
MUST
check
that,
if
they
are
present,
they
have
values
that
are
URLs
or
arrays
</del>
<ins class="diff-chg">template
specifications
B
is
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-imported" class="internalDFN"><ins class="diff-chg">
imported
</ins></a><ins class="diff-chg">
into
an
original
array
</ins>
of
<del class="diff-old">URLs.
The
following
properties
are
particularly
relevant
to
tabular
data:
</del>
<ins class="diff-chg">template
specifications
A,
each
template
specification
within
B
is
combined
into
the
original
array
A
by:
</ins>
<ul>
<li>
<del class="diff-old">link:alternate
link:canonical
link:collection
link:duplicate
link:glossary
link:help
link:icon
link:last
link:latest-version
link:next
link:original
link:predecessor-version
link:prev
or
link:previous
link:preview
link:profile
link:related
link:search
link:self
</del>
<ins class="diff-chg">if
there
is
a
template
specification
with
the
same
</ins>
<code>
<del class="diff-old">link:start
</del>
<ins class="diff-chg">targetFormat
</ins>
</code>
<ins class="diff-chg">and
</ins>
<code>
<del class="diff-old">link:successor-version
</del>
<ins class="diff-chg">templateFormat
</ins>
</code>
<ins class="diff-chg">in
A,
the
template
specification
from
B
is
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-imported" class="internalDFN"><ins class="diff-chg">
imported
</ins></a><ins class="diff-chg">
into
the
matching
template
specification
in
A
</ins>
</li>
<li>
<del class="diff-old">link:terms-of-service
</del>
<ins class="diff-chg">otherwise,
the
template
specification
from
B
is
appended
to
the
array
of
template
specifications
A
</ins>
</li>
</ul>
</dd>
<dt id="table-group-ld-type">
<code>
<del class="diff-old">link:up
</del>
<ins class="diff-chg">@type
</ins>
</code>
</dt>
<dd>
<ins class="diff-chg">If
included,
</ins>
<code>
<del class="diff-old">link:version-history
</del>
<ins class="diff-chg">@type
</ins>
</code>
<em class="rfc2119" title="MUST">
<ins class="diff-chg">MUST
</ins></em><ins class="diff-chg">
be
set
to
</ins>
<code>
<del class="diff-old">link:working-copy
</del>
<ins class="diff-chg">"TableGroup"
</ins></code>.<ins class="diff-chg">
Publishers
</ins><em class="rfc2119" title="MAY"><ins class="diff-chg">
MAY
</ins></em><ins class="diff-chg">
include
this
to
provide
additional
information
to
JSON-LD
based
toolchains.
</ins></dd></dl><p><ins class="diff-chg">
The
description
</ins><em class="rfc2119" title="MAY"><ins class="diff-chg">
MAY
</ins></em><ins class="diff-chg">
contain
any
common
properties
as
defined
in
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#common-properties" class="sectionRef sec-ref"><ins class="diff-chg">
section
</ins><span class="secno"><ins class="diff-chg">
3.3
</ins></span><span class="sec-title"><ins class="diff-chg">
Common
Properties
</ins></span>
</a>
<ins class="diff-chg">to
provide
extra
metadata
about
the
set
of
tables
as
a
whole.
</ins></p><p><ins class="diff-chg">
The
description
</ins><em class="rfc2119" title="MAY"><ins class="diff-chg">
MAY
</ins></em><ins class="diff-chg">
contain
any
of
the
properties
defined
in
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#inherited-properties" class="sectionRef sec-ref"><ins class="diff-chg">
section
</ins><span class="secno"><ins class="diff-chg">
2.2
</ins></span><span class="sec-title"><ins class="diff-chg">
Inherited
Properties
</ins></span>
<del class="diff-old">link:working-copy-of
</del>
</a>
<ins class="diff-chg">to
describe
cells
within
the
tables.
</ins></p><div class="issue">
<div class="issue-title" aria-level="5" role="heading" id="h-issue6">
<a href="https://github.com/w3c/csvw/issues/22">
<span>
<del class="diff-old">Note
</del>
<ins class="diff-chg">Issue
22
</ins>
</span>
</a>
</div>
<p class="">
<del class="diff-old">Unlike
the
Dublin
Core
terms,
link
relations
are
an
ever-expanding
list
and
there
may
eventually
be
clashes
between
link
relation
terms
and
those
defined
above.
That's
why
</del>
<ins class="diff-chg">This
issue
relates
to
</ins>
the
<del class="diff-old">above
list
uses
QNames
for
all
link
relations,
so
</del>
<ins class="diff-chg">use
of
type
vs
datatype
as
a
column
property.
(This
issue
seems
moot
now
</ins>
that
<del class="diff-old">they
look
like
link:
relation
rather
than
plain
relation
.
</del>
<ins class="diff-chg">neither
are
included.)
</ins>
</p>
</div>
</section>
<del class="diff-old">3.3.3
Other
Properties
</del>
</section>
<section id="tables" typeof="bibo:Chapter" resource="#tables" property="bibo:hasPart">
<h3 id="h-tables" resource="#h-tables">
<del class="diff-old">text-direction
</del>
<span property="xhv:role" resource="xhv:heading">
<del class="diff-old">One
of
"rtl"
or
"ltr"
(the
default).
Indicates
whether
the
text
within
cells
should
be
displayed
by
default
as
left-to-right
or
right-to-left
text.
See
section
</del>
<span class="secno">
<del class="diff-old">2.2.1
</del>
<ins class="diff-chg">3.5
</ins>
</span>
<del class="diff-old">Bidirectional
</del>
Tables
</span>
<del class="diff-old">for
more
details.
3.4
Tables
</del>
</h3>
<p>
A
<dfn id="dfn-table-description">
table
description
</dfn>
is
a
JSON
object
that
describes
a
table
within
a
CSV
file.
</p>
<div class="issue">
<div class="issue-title" aria-level="4" role="heading" id="h-issue7">
<a href="https://github.com/w3c/csvw/issues/50">
<span>
Issue
<del class="diff-old">7
</del>
<ins class="diff-chg">50
</ins>
</span>
</a>
</div>
<p class="">
A
CSV
file
might
not
be
the
same
as
the
table
that
it
contains.
For
example,
a
given
CSV
file
might
contain
two
tables
(in
different
regions
of
the
CSV
file),
or
might
contain
a
table
that
isn't
positioned
at
the
top
left
of
the
CSV
file.
We
invite
comment
about
whether
we
should
assume
that
pre-processing
is
used
to
extract
tables
where
there
isn't
a
1:1
correspondence
between
CSV
file
and
table,
or
not.
</p>
</div>
<section id="required-properties-1" typeof="bibo:Chapter" resource="#required-properties-1" property="bibo:hasPart">
<h4 id="h-required-properties-1" resource="#h-required-properties-1">
<span property="xhv:role" resource="xhv:heading">
<span class="secno">
<del class="diff-old">3.4.1
</del>
<ins class="diff-chg">3.5.1
</ins>
</span>
Required
Properties
</span>
</h4>
<dl>
<dt id="table-id">
<code>
@id
</code>
</dt>
<dd>
<p>
This
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-link-property" class="internalDFN">
<ins class="diff-new">link
property
</ins></a>
gives
the
<ins class="diff-new">single
</ins>
URL
of
the
CSV
file
that
the
table
is
held
in,
relative
to
the
location
of
the
metadata
document.
</p>
</dd>
</dl>
</section>
<section id="optional-properties-1" typeof="bibo:Chapter" resource="#optional-properties-1" property="bibo:hasPart">
<h4 id="h-optional-properties-1" resource="#h-optional-properties-1">
<span property="xhv:role" resource="xhv:heading">
<span class="secno">
<del class="diff-old">3.4.2
</del>
<ins class="diff-chg">3.5.2
</ins>
</span>
Optional
Properties
</span>
</h4>
<p>
The
description
of
a
table
<em class="rfc2119" title="MAY">
MAY
</em>
also
contain:
</p>
<dl>
<del class="diff-old">@type
If
included,
@type
MUST
be
set
to
"Table"
.
Publishers
MAY
include
this
to
provide
additional
information
to
JSON-LD
based
toolchains.
table-direction
One
of
"rtl"
,
"ltr"
or
"default"
.
Indicates
whether
the
table
should
be
displayed
with
the
first
column
on
the
right,
on
the
left,
or
based
on
the
first
character
in
the
table
that
has
a
specific
direction.
See
section
2.2.1
Bidirectional
Tables
for
more
details.
Issue
8
This
should
be
a
defined
controlled
vocabulary
in
JSON-LD,
so
that
the
values
map
on
to
URIs
in
the
RDF
version
rather
than
strings.
We
invite
comment
on
how
to
configure
the
JSON-LD
context
to
enable
these
values
to
be
interpreted
in
this
way.
</del>
<dt id="table-schema">
<code>
schema
</code>
</dt>
<dd>
An
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-object-property" class="internalDFN">
object
property
</a>
that
provides
a
<ins class="diff-chg">single
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-schema-description" class="internalDFN">
schema
description
</a>
as
described
in
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#schemas" class="sectionRef sec-ref">
section
<span class="secno">
<del class="diff-old">3.5
</del>
<ins class="diff-chg">3.8
</ins>
</span>
<span class="sec-title">
Schemas
</span>
</a>.
This
may
be
provided
as
an
embedded
object
within
the
JSON
metadata
or
as
a
URL
reference
to
a
separate
JSON
schema
document.
</dd>
<dt id="table-notes">
<code>
notes
</code>
</dt>
<dd>
<p>
An
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-object-property" class="internalDFN">
object
property
<del class="diff-old">,
usually
</del>
</a>
<ins class="diff-chg">that
provides
</ins>
an
<del class="diff-old">array,
</del>
<ins class="diff-chg">array
</ins>
of
<del class="diff-old">annotation
</del>
<ins class="diff-chg">objects
representing
annotations.
This
specification
does
not
place
any
constraints
on
the
structure
of
these
</ins>
objects.
<del class="diff-old">An
annotation
object
</del>
</p>
<div class="note">
<div class="note-title" aria-level="5" role="heading" id="h-note5">
<span>
<ins class="diff-chg">Note
</ins></span></div><p class=""><ins class="diff-chg">
The
</ins><a href="http://www.w3.org/annotation/"><ins class="diff-chg">
Web
Annotation
Working
Group
</ins></a>
is
<del class="diff-old">an
object
that
holds
general
annotations
about
</del>
<ins class="diff-chg">developing
</ins>
a
<del class="diff-old">particular
column,
row,
cell
or
region
</del>
<ins class="diff-chg">vocabulary
for
expressing
annotations.
In
future
versions
</ins>
of
<del class="diff-old">the
table.
Each
annotation
object
MUST
have
an
@id
property
</del>
<ins class="diff-chg">this
specification,
we
anticipate
referencing
</ins>
that
<del class="diff-old">references
the
relevant
column,
row,
cell
</del>
<ins class="diff-chg">vocabulary.
</ins></p></div><div class="issue"><div class="issue-title" aria-level="5" role="heading" id="h-issue8"><a href="https://github.com/w3c/csvw/issues/70"><span><ins class="diff-chg">
Issue
70
</ins></span></a></div><p class=""><ins class="diff-chg">
Should
there
be
column
</ins>
or
<del class="diff-old">region
of
the
table
using
a
fragment
identifier.
It
MAY
have
any
other
common
properties
</del>
<ins class="diff-chg">level
notes
</ins>
as
<del class="diff-old">described
in
section
3.3
Common
Properties
</del>
<ins class="diff-chg">well?
</ins></p>
<del class="diff-old">.
</del>
</div>
<div class="issue">
<div class="issue-title" aria-level="5" role="heading" id="h-issue9">
<a href="https://github.com/w3c/csvw/issues/71">
<span>
Issue
<del class="diff-old">9
</del>
<ins class="diff-chg">71
</ins>
</span>
</a>
</div>
<del class="diff-old">We
intend
to
add
a
small
subset
of
properties
that
indicate
how
a
CSV
file
should
be
parsed,
specifically
those
that
mirror
the
existing
distinction
between
the
media
types
for
</del>
<p class="">
<ins class="diff-chg">The
Annotation
Model
can
indeed
become
very
complex.
</ins></p></div></dd><dt id="table-direction">
<code>
<del class="diff-old">text/csv
</del>
<ins class="diff-chg">table-direction
</ins>
</code>
<del class="diff-old">and
</del>
</dt>
<dd>
<ins class="diff-chg">As
defined
for
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#table-group-direction"><ins class="diff-chg">
table
groups
</ins></a>.</dd><dt id="table-templates">
<code>
<del class="diff-old">text/tab-separated-values
,
and
the
media
type
parameters
that
they
allow,
namely:
</del>
<ins class="diff-chg">templates
</ins></code></dt><dd><ins class="diff-chg">
As
defined
for
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#table-group-templates"><ins class="diff-chg">
table
groups
</ins></a>.</dd><dt id="table-dialect">
<code>
<del class="diff-old">separator
</del>
<ins class="diff-chg">dialect
</ins>
</code>
<del class="diff-old">to
give
the
character
used
as
the
separator
in
the
tabular
data
file
</del>
</dt>
<dd>
<ins class="diff-chg">As
defined
for
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#table-group-dialect"><ins class="diff-chg">
table
groups
</ins></a>.</dd><dt id="table-ld-type">
<code>
<del class="diff-old">encoding
</del>
<ins class="diff-chg">@type
</ins>
</code>
<del class="diff-old">to
specify
the
encoding
used
in
the
file
</del>
</dt>
<dd>
<ins class="diff-new">If
included,
</ins>
<code>
<del class="diff-old">header
</del>
<ins class="diff-chg">@type
</ins>
</code>
<em class="rfc2119" title="MUST">
<ins class="diff-new">MUST
</ins></em><ins class="diff-new">
be
set
</ins>
to
<del class="diff-old">specify
whether
or
not
a
header
line
is
present
We
invite
comment
about
whether
these
are
the
right
properties
</del>
<code>
<ins class="diff-chg">"Table"
</ins></code>.<ins class="diff-chg">
Publishers
</ins><em class="rfc2119" title="MAY"><ins class="diff-chg">
MAY
</ins></em><ins class="diff-chg">
include
this
</ins>
to
<del class="diff-old">specify.
</del>
<ins class="diff-chg">provide
additional
information
to
JSON-LD
based
toolchains.
</ins></dd></dl>
<div class="issue">
<div class="issue-title" aria-level="5" role="heading" id="h-issue10">
<span>
Issue
<del class="diff-old">10
</del>
</span>
</div>
<p class="" data-numer="52">
We
invite
comment
on
whether
we
should
include
properties
that
help
in
checking
the
integrity
of
the
file:
datapackage
includes
<code>
bytes
</code>
and
<code>
hash
</code>.
We
could
reuse
the
<a href="http://www.w3.org/TR/SRI/">
Subresource
Integrity
</a>
work
here.
</p>
</div>
<p>
The
description
<em class="rfc2119" title="MAY">
MAY
</em>
contain
any
<del class="diff-old">of
the
</del>
<ins class="diff-chg">common
</ins>
properties
<ins class="diff-new">as
</ins>
defined
in
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#common-properties" class="sectionRef sec-ref">
section
<span class="secno">
3.3
</span>
<span class="sec-title">
Common
Properties
</span>
</a>
to
<ins class="diff-new">provide
extra
metadata
about
the
table
as
a
whole.
</ins></p><p><ins class="diff-new">
The
description
</ins><em class="rfc2119" title="MAY"><ins class="diff-new">
MAY
</ins></em><ins class="diff-new">
contain
any
of
the
properties
defined
in
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#inherited-properties" class="sectionRef sec-ref"><ins class="diff-new">
section
</ins><span class="secno"><ins class="diff-new">
2.2
</ins></span><span class="sec-title"><ins class="diff-new">
Inherited
Properties
</ins></span></a><ins class="diff-new">
to
</ins>
describe
<ins class="diff-new">cells
within
</ins>
the
table.
<del class="diff-old">As
well
as
links
</del>
</p>
</section>
</section>
<section id="dialect-descriptions" typeof="bibo:Chapter" resource="#dialect-descriptions" property="bibo:hasPart">
<h3 id="h-dialect-descriptions" resource="#h-dialect-descriptions">
<span property="xhv:role" resource="xhv:heading">
<span class="secno">
<ins class="diff-chg">3.6
</ins></span><ins class="diff-chg">
Dialect
Descriptions
</ins></span></h3><p><ins class="diff-chg">
Much
of
the
tabular
data
that
is
published
on
the
web
is
messy,
and
CSV
parsers
frequently
need
</ins>
to
<del class="diff-old">other
related
tables,
</del>
<ins class="diff-chg">be
configured
in
order
to
correctly
read
in
CSV.
A
</ins><dfn id="dfn-dialect-description"><ins class="diff-chg">
dialect
description
</ins></dfn><ins class="diff-chg">
provides
hints
to
parsers
about
how
to
parse
the
file
linked
to
from
the
</ins><code><ins class="diff-chg">
@id
</ins></code><ins class="diff-chg">
property.
It
can
have
any
of
</ins>
the
following
<del class="diff-old">common
properties
are
particularly
suitable
for
tables:
</del>
<ins class="diff-chg">properties,
which
relate
to
the
flags
described
in
</ins><a href="http://www.w3.org/TR/tabular-data-model/#parsing"><ins class="diff-chg">
Section
5
Parsing
Tabular
Data
</ins></a><ins class="diff-chg">
within
[
</ins><cite><a class="bibref" href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#bib-tabular-data-model"><ins class="diff-chg">
tabular-data-model
</ins></a></cite><ins class="diff-chg">
]:
</ins>
</p>
<dl>
<dt id="dialect-encoding">
<code>
<del class="diff-old">created
</del>
<ins class="diff-chg">encoding
</ins>
</code>
</dt>
<dd>
<ins class="diff-chg">An
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-atomic-property" class="internalDFN"><ins class="diff-chg">
atomic
property
</ins></a><ins class="diff-chg">
that
sets
the
</ins><a href="http://www.w3.org/TR/tabular-data-model/#dfn-encoding"><ins class="diff-chg">
encoding
</ins></a><ins class="diff-chg">
flag
to
the
single
provided
string
value,
which
</ins><em class="rfc2119" title="MUST"><ins class="diff-chg">
MUST
</ins></em><ins class="diff-chg">
be
a
defined
[
</ins><cite><a class="bibref" href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#bib-encoding"><ins class="diff-chg">
encoding
</ins></a></cite><ins class="diff-chg">
].
</ins></dd><dt id="dialect-lineTerminator">
<code>
<del class="diff-old">creator
</del>
<ins class="diff-chg">lineTerminator
</ins>
</code>
</dt>
<dd>
<ins class="diff-chg">An
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-atomic-property" class="internalDFN"><ins class="diff-chg">
atomic
property
</ins></a><ins class="diff-chg">
that
sets
the
</ins><a href="http://www.w3.org/TR/tabular-data-model/#dfn-line-terminator"><ins class="diff-chg">
line
terminator
</ins></a><ins class="diff-chg">
flag
to
the
single
provided
string
value.
</ins></dd><dt id="dialect-quoteChar">
<code>
<del class="diff-old">description
</del>
<ins class="diff-chg">quoteChar
</ins>
</code>
</dt>
<dd>
<ins class="diff-chg">An
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-atomic-property" class="internalDFN"><ins class="diff-chg">
atomic
property
</ins></a><ins class="diff-chg">
that
sets
the
</ins><a href="http://www.w3.org/TR/tabular-data-model/#dfn-quote-character"><ins class="diff-chg">
quote
character
</ins></a><ins class="diff-chg">
flag
to
the
single
provided
value,
which
</ins><em class="rfc2119" title="MUST"><ins class="diff-chg">
MUST
</ins></em><ins class="diff-chg">
be
a
single
character.
</ins></dd><dt id="dialect-doubleQuote">
<code>
<del class="diff-old">language
</del>
<ins class="diff-chg">doubleQuote
</ins>
</code>
</dt>
<dd>
<ins class="diff-chg">A
single
boolean
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-atomic-property" class="internalDFN"><ins class="diff-chg">
atomic
property
</ins></a><ins class="diff-chg">
that,
if
</ins><code><ins class="diff-chg">
true
</ins></code>,<ins class="diff-chg">
sets
the
</ins><a href="http://www.w3.org/TR/tabular-data-model/#dfn-escape-character"><ins class="diff-chg">
escape
character
</ins></a><ins class="diff-chg">
flag
to
</ins><code><ins class="diff-chg">
"
</ins></code>.<ins class="diff-chg">
If
</ins><code><ins class="diff-chg">
false
</ins></code>,<ins class="diff-chg">
to
</ins><code><ins class="diff-chg">
\
</ins></code>.</dd><dt id="dialect-skipRows">
<code>
<del class="diff-old">license
</del>
<ins class="diff-chg">skipRows
</ins>
</code>
</dt>
<dd>
<ins class="diff-chg">An
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-atomic-property" class="internalDFN"><ins class="diff-chg">
atomic
property
</ins></a><ins class="diff-chg">
that
sets
the
</ins><a href="http://www.w3.org/TR/tabular-data-model/#dfn-skip-rows"><ins class="diff-chg">
skip
rows
</ins></a><ins class="diff-chg">
flag
to
the
single
provided
numeric
value,
which
</ins><em class="rfc2119" title="MUST"><ins class="diff-chg">
MUST
</ins></em><ins class="diff-chg">
be
a
non-negative
integer.
</ins></dd><dt id="dialect-commentPrefix">
<code>
<del class="diff-old">modified
</del>
<ins class="diff-chg">commentPrefix
</ins>
</code>
</dt>
<dd>
<ins class="diff-chg">An
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-atomic-property" class="internalDFN"><ins class="diff-chg">
atomic
property
</ins></a><ins class="diff-chg">
that
sets
the
</ins><a href="http://www.w3.org/TR/tabular-data-model/#dfn-comment-prefix"><ins class="diff-chg">
comment
prefix
</ins></a><ins class="diff-chg">
flag
to
the
single
provided
value,
which
</ins><em class="rfc2119" title="MUST"><ins class="diff-chg">
MUST
</ins></em><ins class="diff-chg">
be
a
single
character
string.
</ins></dd><dt id="dialect-header">
<code>
<del class="diff-old">provenance
</del>
<ins class="diff-chg">header
</ins>
</code>
</dt>
<dd>
<ins class="diff-chg">A
single
boolean
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-atomic-property" class="internalDFN"><ins class="diff-chg">
atomic
property
</ins></a><ins class="diff-chg">
that,
if
</ins><code><ins class="diff-chg">
true
</ins></code>,<ins class="diff-chg">
sets
the
</ins><a href="http://www.w3.org/TR/tabular-data-model/#dfn-header-row-count"><ins class="diff-chg">
header
row
count
</ins></a><ins class="diff-chg">
flag
to
</ins><code><ins class="diff-chg">
1
</ins></code>,<ins class="diff-chg">
and
if
</ins><code><ins class="diff-chg">
false
</ins></code><ins class="diff-chg">
to
</ins><code><ins class="diff-chg">
0
</ins></code>,<ins class="diff-chg">
unless
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dialect-headerRowCount">
<code>
<del class="diff-old">publisher
</del>
<ins class="diff-chg">headerRowCount
</ins>
</code>
</a>
<ins class="diff-chg">is
provided,
in
which
case
the
value
provided
for
the
</ins><code><ins class="diff-chg">
header
</ins></code><ins class="diff-chg">
property
is
ignored.
</ins></dd><dt id="dialect-headerRowCount">
<code>
<del class="diff-old">rights
</del>
<ins class="diff-chg">headerRowCount
</ins>
</code>
</dt>
<dd>
<ins class="diff-chg">An
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-atomic-property" class="internalDFN"><ins class="diff-chg">
atomic
property
</ins></a><ins class="diff-chg">
that
sets
the
</ins><a href="http://www.w3.org/TR/tabular-data-model/#dfn-header-row-count"><ins class="diff-chg">
header
row
count
</ins></a><ins class="diff-chg">
flag
to
the
single
provided
value,
which
</ins><em class="rfc2119" title="MUST"><ins class="diff-chg">
MUST
</ins></em><ins class="diff-chg">
be
a
non-negative
integer.
</ins></dd><dt id="dialect-delimiter">
<code>
<del class="diff-old">rightsHolder
</del>
<ins class="diff-chg">delimiter
</ins>
</code>
</dt>
<dd>
<ins class="diff-chg">An
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-atomic-property" class="internalDFN"><ins class="diff-chg">
atomic
property
</ins></a><ins class="diff-chg">
that
sets
the
</ins><a href="http://www.w3.org/TR/tabular-data-model/#dfn-delimiter"><ins class="diff-chg">
delimiter
</ins></a><ins class="diff-chg">
flag
to
the
single
provided
value,
which
</ins><em class="rfc2119" title="MUST"><ins class="diff-chg">
MUST
</ins></em><ins class="diff-chg">
be
a
single
character
string.
</ins></dd><dt id="dialect-skipColumns">
<code>
<del class="diff-old">source
</del>
<ins class="diff-chg">skipColumns
</ins>
</code>
</dt>
<dd>
<ins class="diff-chg">An
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-atomic-property" class="internalDFN"><ins class="diff-chg">
atomic
property
</ins></a><ins class="diff-chg">
that
sets
the
</ins><a href="http://www.w3.org/TR/tabular-data-model/#dfn-skip-columns"><ins class="diff-chg">
skip
columns
</ins></a><ins class="diff-chg">
flag
to
the
single
provided
numeric
value,
which
</ins><em class="rfc2119" title="MUST"><ins class="diff-chg">
MUST
</ins></em><ins class="diff-chg">
be
a
non-negative
integer.
</ins></dd><dt id="dialect-headerColumnCount">
<code>
<del class="diff-old">spatial
</del>
<ins class="diff-chg">headerColumnCount
</ins>
</code>
</dt>
<dd>
<ins class="diff-chg">An
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-atomic-property" class="internalDFN"><ins class="diff-chg">
atomic
property
</ins></a><ins class="diff-chg">
that
sets
the
</ins><a href="http://www.w3.org/TR/tabular-data-model/#dfn-header-column-count"><ins class="diff-chg">
header
column
count
</ins></a><ins class="diff-chg">
flag
to
the
single
provided
value,
which
</ins><em class="rfc2119" title="MUST"><ins class="diff-chg">
MUST
</ins></em><ins class="diff-chg">
be
non-negative
integer.
</ins></dd><dt id="dialect-skipBlankRows">
<code>
<del class="diff-old">subject
</del>
<ins class="diff-chg">skipBlankRows
</ins>
</code>
</dt>
<dd>
<ins class="diff-chg">An
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-atomic-property" class="internalDFN"><ins class="diff-chg">
atomic
property
</ins></a><ins class="diff-chg">
that
sets
the
</ins><a href="http://www.w3.org/TR/tabular-data-model/#dfn-skip-blank-rows"><ins class="diff-chg">
skip
blank
rows
</ins></a><ins class="diff-chg">
flag
to
the
single
provided
boolean
value.
</ins></dd><dt id="dialect-skipInitialSpace">
<code>
<del class="diff-old">temporal
</del>
<ins class="diff-chg">skipInitialSpace
</ins>
</code>
</dt>
<dd>
<ins class="diff-chg">A
single
boolean
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-atomic-property" class="internalDFN"><ins class="diff-chg">
atomic
property
</ins></a><ins class="diff-chg">
that,
if
</ins><code><ins class="diff-chg">
true
</ins></code>,<ins class="diff-chg">
sets
the
</ins><a href="http://www.w3.org/TR/tabular-data-model/#dfn-trim"><ins class="diff-chg">
trim
</ins></a><ins class="diff-chg">
flag
to
</ins><code><ins class="diff-chg">
"start"
</ins></code>.<ins class="diff-chg">
If
</ins><code><ins class="diff-chg">
false
</ins></code>,<ins class="diff-chg">
to
</ins><code><ins class="diff-chg">
false
</ins></code>.<ins class="diff-chg">
If
the
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dialect-trim"><code><ins class="diff-chg">
trim
</ins></code></a><ins class="diff-chg">
property
is
provided,
the
</ins><code><ins class="diff-chg">
skipInitialSpace
</ins></code><ins class="diff-chg">
property
is
ignored.
</ins></dd><dt id="dialect-trim"><code><ins class="diff-chg">
trim
</ins></code></dt><dd><ins class="diff-chg">
A
single
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-atomic-property" class="internalDFN"><ins class="diff-chg">
atomic
property
</ins></a><ins class="diff-chg">
that,
if
the
boolean
</ins><code><ins class="diff-chg">
true
</ins></code>,<ins class="diff-chg">
sets
the
</ins><a href="http://www.w3.org/TR/tabular-data-model/#dfn-trim"><ins class="diff-chg">
trim
</ins></a><ins class="diff-chg">
flag
to
</ins><code><ins class="diff-chg">
true
</ins></code><ins class="diff-chg">
and
if
the
boolean
</ins><code><ins class="diff-chg">
false
</ins></code><ins class="diff-chg">
to
</ins><code><ins class="diff-chg">
false
</ins></code>.<ins class="diff-chg">
If
the
value
provided
is
a
string,
sets
the
</ins><a href="http://www.w3.org/TR/tabular-data-model/#dfn-trim"><ins class="diff-chg">
trim
</ins></a><ins class="diff-chg">
flag
to
the
provided
value,
which
</ins><em class="rfc2119" title="MUST"><ins class="diff-chg">
MUST
</ins></em><ins class="diff-chg">
be
one
of
</ins><code><ins class="diff-chg">
"true"
</ins></code>,<code><ins class="diff-chg">
"false"
</ins></code>,<code><ins class="diff-chg">
"start"
</ins></code><ins class="diff-chg">
or
</ins><code><ins class="diff-chg">
"end"
</ins></code>.</dd><dt id="dialect-ld-type"><code><ins class="diff-chg">
@type
</ins></code></dt><dd><ins class="diff-chg">
If
included,
</ins><code><ins class="diff-chg">
@type
</ins></code><em class="rfc2119" title="MUST"><ins class="diff-chg">
MUST
</ins></em><ins class="diff-chg">
be
set
to
</ins><code><ins class="diff-chg">
"Dialect"
</ins></code>.<ins class="diff-chg">
Publishers
</ins><em class="rfc2119" title="MAY"><ins class="diff-chg">
MAY
</ins></em><ins class="diff-chg">
include
this
to
provide
additional
information
to
JSON-LD
based
toolchains.
</ins></dd></dl><div class="example"><p><ins class="diff-chg">
The
default
dialect
description
for
CSV
files
is:
</ins></p>          <pre>{
<ins class="diff-chg">
  "encoding": "utf-8",
  "lineTerminator": "\r\n",
  "quoteChar": "\"",
  "doubleQuote": true,
  "skipRows": 0,
  "header": true,
  "headerRowCount": 1,
  "delimiter": ",",
  "skipColumns": 0,
  "headerColumnCount": 0,
  "skipBlankRows": false,
  "skipInitialSpace": false,
  "trim": false
}
</ins></pre></div></section><section id="template-specifications" typeof="bibo:Chapter" resource="#template-specifications" property="bibo:hasPart"><h3 id="h-template-specifications" resource="#h-template-specifications"><span property="xhv:role" resource="xhv:heading"><span class="secno"><ins class="diff-chg">
3.7
</ins></span><ins class="diff-chg">
Template
Specifications
</ins></span></h3><p><ins class="diff-chg">
A
</ins><dfn id="dfn-template-specification"><ins class="diff-chg">
template
specification
</ins></dfn><ins class="diff-chg">
is
a
definition
of
how
tabular
data
can
be
transformed
into
another
format.
It
has
the
following
properties:
</ins></p><section id="required-properties-2" typeof="bibo:Chapter" resource="#required-properties-2" property="bibo:hasPart"><h4 id="h-required-properties-2" resource="#h-required-properties-2"><span property="xhv:role" resource="xhv:heading"><span class="secno"><ins class="diff-chg">
3.7.1
</ins></span><ins class="diff-chg">
Required
Properties
</ins></span></h4><p><ins class="diff-chg">
Template
specifications
</ins><em class="rfc2119" title="MUST"><ins class="diff-chg">
MUST
</ins></em><ins class="diff-chg">
have
the
following
properties:
</ins></p><dl><dt id="template-targetFormat"><code><ins class="diff-chg">
targetFormat
</ins></code></dt><dd><p><ins class="diff-chg">
A
URL
for
the
format
that
will
be
created
through
the
transformation.
If
one
has
been
defined,
this
should
be
a
URL
for
a
media
type,
in
the
form
</ins><code><ins class="diff-chg">
http://www.iana.org/assignments/media-types/
</ins><var><ins class="diff-chg">
media-type
</ins></var></code><ins class="diff-chg">
such
as
</ins><code><ins class="diff-chg">
http://www.iana.org/assignments/media-types/text/calendar
</ins></code>.<ins class="diff-chg">
Otherwise,
it
can
be
any
URL
that
describes
the
target
format.
</ins></p><div class="note"><div class="note-title" aria-level="5" role="heading" id="h-note6"><span><ins class="diff-chg">
Note
</ins></span></div><p class=""><ins class="diff-chg">
The
</ins><code><ins class="diff-chg">
targetFormat
</ins></code><ins class="diff-chg">
URL
is
intended
as
an
informative
identifier
for
the
target
format,
and
applications
</ins><em class="rfc2119" title="MAY"><ins class="diff-chg">
MAY
</ins></em><ins class="diff-chg">
NOT
access
the
URL.
</ins></p></div></dd><dt id="template-templateFormat"><code><ins class="diff-chg">
templateFormat
</ins></code></dt><dd><p><ins class="diff-chg">
A
URL
for
the
format
that
is
used
by
the
template.
If
one
has
been
defined,
this
should
be
a
URL
for
a
media
type,
in
the
form
</ins><code><ins class="diff-chg">
http://www.iana.org/assignments/media-types/
</ins><var><ins class="diff-chg">
media-type
</ins></var></code><ins class="diff-chg">
such
as
</ins><code><ins class="diff-chg">
http://www.iana.org/assignments/media-types/application/javascript
</ins></code>.<ins class="diff-chg">
Otherwise,
it
can
be
any
URL
that
describes
the
template
format.
</ins></p><div class="note"><div class="note-title" aria-level="5" role="heading" id="h-note7"><span><ins class="diff-chg">
Note
</ins></span></div><p class=""><ins class="diff-chg">
The
</ins><code><ins class="diff-chg">
templateFormat
</ins></code><ins class="diff-chg">
URL
is
intended
as
an
informative
identifier
for
the
template
format,
and
applications
</ins><em class="rfc2119" title="MAY"><ins class="diff-chg">
MAY
</ins></em><ins class="diff-chg">
NOT
access
the
URL.
The
template
formats
that
an
application
supports
are
implementation
defined.
</ins></p></div></dd></dl></section><section id="optional-properties-2" typeof="bibo:Chapter" resource="#optional-properties-2" property="bibo:hasPart"><h4 id="h-optional-properties-2" resource="#h-optional-properties-2"><span property="xhv:role" resource="xhv:heading"><span class="secno"><ins class="diff-chg">
3.7.2
</ins></span><ins class="diff-chg">
Optional
Properties
</ins></span></h4><p><ins class="diff-chg">
Template
specifications
</ins><em class="rfc2119" title="MAY"><ins class="diff-chg">
MAY
</ins></em><ins class="diff-chg">
have
the
following
properties:
</ins></p><dl><dt id="template-title">
<code>
title
</code>
</dt>
<dd>
<ins class="diff-chg">A
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-natural-language-property" class="internalDFN"><ins class="diff-chg">
natural
language
property
</ins></a><ins class="diff-chg">
that
describes
the
format
that
will
be
generated
from
the
transformation.
This
is
useful
if
the
target
format
is
a
generic
format
(such
as
</ins><code><ins class="diff-chg">
application/json
</ins></code><ins class="diff-chg">
)
and
the
transformation
is
creating
a
specific
profile
of
that
format.
</ins></dd><dt id="template-source"><code><ins class="diff-chg">
source
</ins></code></dt><dd><ins class="diff-chg">
A
single
string
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-atomic-property" class="internalDFN"><ins class="diff-chg">
atomic
property
</ins></a><ins class="diff-chg">
that
provides,
if
included,
the
format
to
which
the
tabular
data
should
be
transformed
prior
to
the
transformation
using
the
template.
If
the
value
is
</ins><code><ins class="diff-chg">
"json"
</ins></code>,<ins class="diff-chg">
the
tabular
data
should
first
be
transformed
first
to
JSON
based
on
the
simple
mapping
defined
in
</ins><a href="http://w3c.github.io/csvw/csv2json/"><ins class="diff-chg">
Generating
JSON
from
Tabular
Data
on
the
Web
</ins></a>.<ins class="diff-chg">
If
the
value
is
</ins><code><ins class="diff-chg">
"rdf"
</ins></code>,<ins class="diff-chg">
it
should
similarly
first
be
transformed
to
XML
based
on
the
simple
mapping
defined
in
</ins><a href="http://w3c.github.io/csvw/csv2rdf/"><ins class="diff-chg">
Generating
RDF
from
Tabular
Data
on
the
Web
</ins></a>.<ins class="diff-chg">
If
the
</ins><code><ins class="diff-chg">
source
</ins></code><ins class="diff-chg">
property
is
missing
or
</ins><code><ins class="diff-chg">
null
</ins></code><ins class="diff-chg">
then
the
source
of
the
transformation
is
the
annotated
tabular
data
model.
</ins></dd><dt id="template-ld-type"><code><ins class="diff-chg">
@type
</ins></code></dt><dd><ins class="diff-chg">
If
included,
</ins><code><ins class="diff-chg">
@type
</ins></code><em class="rfc2119" title="MUST"><ins class="diff-chg">
MUST
</ins></em><ins class="diff-chg">
be
set
to
</ins><code><ins class="diff-chg">
"Template"
</ins></code>.<ins class="diff-chg">
Publishers
</ins><em class="rfc2119" title="MAY"><ins class="diff-chg">
MAY
</ins></em><ins class="diff-chg">
include
this
to
provide
additional
information
to
JSON-LD
based
toolchains.
</ins></dd></dl><p><ins class="diff-chg">
The
template
specification
</ins><em class="rfc2119" title="MAY"><ins class="diff-chg">
MAY
</ins></em><ins class="diff-chg">
contain
any
common
properties
as
defined
in
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#common-properties" class="sectionRef sec-ref"><ins class="diff-chg">
section
</ins><span class="secno"><ins class="diff-chg">
3.3
</ins></span><span class="sec-title"><ins class="diff-chg">
Common
Properties
</ins></span></a><ins class="diff-chg">
to
provide
extra
metadata
about
the
transformation.
</ins></p></section><section id="example" typeof="bibo:Chapter" resource="#example" property="bibo:hasPart"><h4 id="h-example" resource="#h-example"><span property="xhv:role" resource="xhv:heading"><span class="secno"><ins class="diff-chg">
3.7.3
</ins></span><ins class="diff-chg">
Example
</ins></span></h4><p><ins class="diff-chg">
The
following
template
specification
will
enable
a
processor
that
supports
it
to
generate
an
iCalendar
document
using
a
</ins><a href="https://mustache.github.io/"><ins class="diff-chg">
Mustache
template
</ins></a><ins class="diff-chg">
based
on
the
JSON
created
from
the
simple
mapping
to
JSON.
</ins></p>          <div class="example"><div class="example-title"><span>Example 19</span></div><pre class="example">{
<ins class="diff-chg">
  "title": "iCalendar",
  "targetFormat": "http://www.iana.org/assignments/media-types/text/calendar",
  "templateFormat": "https://mustache.github.io/",
  "source": "json"
}
</ins></pre></div>
</section>
</section>
<section id="schemas" typeof="bibo:Chapter" resource="#schemas" property="bibo:hasPart">
<h3 id="h-schemas" resource="#h-schemas">
<span property="xhv:role" resource="xhv:heading">
<span class="secno">
<del class="diff-old">3.5
</del>
<ins class="diff-chg">3.8
</ins>
</span>
Schemas
</span>
</h3>
<p>
A
<dfn id="dfn-schema">
schema
</dfn>
is
a
definition
of
a
tabular
format
that
may
be
common
to
multiple
tables.
For
example,
multiple
tables
from
different
sources
may
have
the
same
columns
and
be
designed
such
that
they
can
be
aggregated
together.
</p>
<p>
A
<dfn id="dfn-schema-description">
schema
description
</dfn>
is
a
JSON
object
that
encodes
the
information
about
a
schema.
All
the
properties
of
a
schema
description
are
optional.
</p>
<dl>
<del class="diff-old">@type
If
included,
@type
MUST
be
set
to
"Schema"
.
Publishers
MAY
include
this
to
provide
additional
information
to
JSON-LD
based
toolchains.
</del>
<dt id="schema-columns">
<code>
columns
</code>
</dt>
<dd>
<p>
An
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-array-property" class="internalDFN">
array
<ins class="diff-new">property
</ins></a>
of
<a title="column description" href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-column-description" class="internalDFN">
column
descriptions
</a>
as
described
in
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#columns" class="sectionRef sec-ref">
section
<span class="secno">
<del class="diff-old">3.6
</del>
<ins class="diff-chg">3.9
</ins>
</span>
<span class="sec-title">
Columns
</span>
</a>.
These
are
matched
to
columns
in
<del class="diff-old">table
</del>
<ins class="diff-chg">tables
</ins>
that
use
the
schema
by
position:
the
first
column
description
in
the
array
applies
to
the
first
column
in
the
table,
the
second
to
the
second
and
so
on.
</p>
<p>
The
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#column-name">
<code>
name
</code>
</a>
properties
of
the
column
descriptions
<em class="rfc2119" title="MUST">
MUST
</em>
be
unique
within
a
given
table
description.
</p>
<del class="diff-old">rows
</del>
<p>
<del class="diff-old">An
</del>
<ins class="diff-chg">When
an
</ins>
array
of
<del class="diff-old">row
</del>
<ins class="diff-chg">column
</ins>
descriptions
<del class="diff-old">as
described
in
section
3.7
Rows
.
These
are
matched
to
row
by
the
value
</del>
<ins class="diff-chg">B
is
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-imported" class="internalDFN"><ins class="diff-chg">
imported
</ins></a><ins class="diff-chg">
into
an
original
array
</ins>
of
<ins class="diff-new">column
descriptions
A,
each
column
description
within
B
is
combined
into
</ins>
the
<del class="diff-old">row
in
the
row
description.
The
values
of
</del>
<ins class="diff-chg">original
array
A
by:
</ins></p><ul><li><ins class="diff-chg">
if
there
is
a
column
description
at
</ins>
the
<del class="diff-old">row
properties
MUST
be
unique
</del>
<ins class="diff-chg">same
index
</ins>
within
<del class="diff-old">a
given
table
</del>
<ins class="diff-chg">A
and
that
column
</ins>
description
<del class="diff-old">(ie
no
row
can
have
more
than
one
description).
</del>
<ins class="diff-chg">has
the
same
</ins>
<code>
<del class="diff-old">cells
An
array
of
cell
descriptions
as
described
in
section
3.8
Cells
.
These
are
matched
to
cell
by
</del>
<ins class="diff-chg">name
</ins></code>,
the
<del class="diff-old">value
of
</del>
<ins class="diff-chg">column
description
from
B
is
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-imported" class="internalDFN"><ins class="diff-chg">
imported
</ins></a><ins class="diff-chg">
into
</ins>
the
<del class="diff-old">row
and
</del>
<ins class="diff-chg">matching
</ins>
column
<del class="diff-old">properties
</del>
<ins class="diff-chg">description
</ins>
in
<ins class="diff-new">A
</ins></li><li><ins class="diff-new">
otherwise,
</ins>
the
<del class="diff-old">cell
description.
The
combination
of
values
of
the
row
and
</del>
column
<del class="diff-old">properties
MUST
be
unique
within
a
given
table
</del>
description
<del class="diff-old">(ie
no
cell
can
have
more
than
one
description).
</del>
<ins class="diff-chg">is
ignored
</ins></li></ul><p>
</p>
</dd>
<dt id="table-primaryKey">
<code>
primaryKey
</code>
</dt>
<dd>
<p>
<del class="diff-old">An
internal
</del>
<ins class="diff-chg">A
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-column-reference-property" class="internalDFN"><ins class="diff-chg">
column
</ins>
reference
property
</a>
that
holds
either
a
single
<del class="diff-old">references
</del>
<ins class="diff-chg">reference
</ins>
to
a
column
description
object
or
an
array
of
references.
</p>
<p>
Validators
<em class="rfc2119" title="MUST">
MUST
</em>
check
that
each
row
has
a
unique
combination
of
cells
in
the
indicated
columns.
For
example,
if
<code>
primaryKey
</code>
is
set
to
<code>
<del class="diff-old">["_:familyName",
"_:givenName"]
</del>
<ins class="diff-chg">["familyName",
"givenName"]
</ins>
</code>
then
every
row
must
have
a
unique
value
for
the
combination
of
the
<code>
familyName
</code>
and
<code>
givenName
</code>
columns.
</p>
<div class="issue">
<div class="issue-title" aria-level="4" role="heading" id="h-issue11">
<a href="https://github.com/w3c/csvw/issues/66">
<span>
Issue
<del class="diff-old">11
</del>
<ins class="diff-chg">66
</ins>
</span>
</a>
</div>
<p class="">
<del class="diff-old">When
referencing
columns
for
a
</del>
<ins class="diff-chg">Composite
</ins>
primary
<del class="diff-old">key,
it
</del>
<ins class="diff-chg">keys
and
foreign
key
references.
</ins></p></div></dd><dt id="table-foreignKeys"><code><ins class="diff-chg">
foreignKeys
</ins></code></dt><dd><p><ins class="diff-chg">
An
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-array-property" class="internalDFN"><ins class="diff-chg">
array
property
</ins></a><ins class="diff-chg">
of
</ins><a title="foreign key definition" href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-foreign-key-definition" class="internalDFN"><ins class="diff-chg">
foreign
key
definitions
</ins></a><ins class="diff-chg">
that
define
how
the
values
from
specified
columns
within
this
table
link
to
rows
within
this
table
or
other
tables.
A
</ins><dfn id="dfn-foreign-key-definition"><ins class="diff-chg">
foreign
key
definition
</ins></dfn>
is
a
<del class="diff-old">lot
clearer
to
</del>
<ins class="diff-chg">JSON
object
with
the
properties:
</ins></p><dl><dt id="foreign-key-columns"><code><ins class="diff-chg">
columns
</ins></code></dt><dd><ins class="diff-chg">
A
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-column-reference-property" class="internalDFN"><ins class="diff-chg">
column
reference
property
</ins></a><ins class="diff-chg">
that
holds
either
a
single
</ins>
reference
<del class="diff-old">them
by
name
rather
than
by
number.
For
JSON-LD
compatibility,
we
have
</del>
to
<del class="diff-old">assign
</del>
a
<del class="diff-old">blank
node
</del>
<ins class="diff-chg">column
description
object
within
this
schema,
or
an
array
of
references.
</ins></dd><dt id="foreign-key-reference"><code><ins class="diff-chg">
reference
</ins></code></dt><dd><p><ins class="diff-chg">
An
object
with
the
properties:
</ins></p><dl><dt id="foreign-key-reference-resource"><code><ins class="diff-chg">
resource
</ins></code></dt><dd><ins class="diff-chg">
A
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-link-property" class="internalDFN"><ins class="diff-chg">
link
property
</ins></a><ins class="diff-chg">
holding
a
URL
that
is
the
identifier
for
a
specific
resource
that
is
being
referenced.
If
this
is
present
then
</ins><code><ins class="diff-chg">
schema
</ins></code><em class="rfc2119" title="MUST NOT"><ins class="diff-chg">
MUST
NOT
</ins></em><ins class="diff-chg">
be
present.
The
metadata
document
</ins><em class="rfc2119" title="MUST"><ins class="diff-chg">
MUST
</ins></em><ins class="diff-chg">
contain
a
description
of
the
resource.
</ins></dd><dt id="foreign-key-reference-schema"><code><ins class="diff-chg">
schema
</ins></code></dt><dd><ins class="diff-chg">
A
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-link-property" class="internalDFN"><ins class="diff-chg">
link
property
</ins></a><ins class="diff-chg">
holding
a
URL
that
is
the
</ins>
identifier
<ins class="diff-new">for
a
schema
that
is
being
referenced.
If
this
is
present
then
</ins><code><ins class="diff-new">
resource
</ins></code><em class="rfc2119" title="MUST NOT"><ins class="diff-new">
MUST
NOT
</ins></em><ins class="diff-new">
be
present.
The
metadata
document
that
forms
the
basis
of
processing
</ins><em class="rfc2119" title="MUST"><ins class="diff-new">
MUST
</ins></em><ins class="diff-new">
contain
a
description
of
a
resource
that
uses
the
referenced
schema,
and
there
</ins><em class="rfc2119" title="MUST NOT"><ins class="diff-new">
MUST
NOT
</ins></em><ins class="diff-new">
be
more
than
one
such
resource.
</ins></dd><dt id="foreign-key-reference-columns"><code><ins class="diff-new">
columns
</ins></code></dt><dd><ins class="diff-new">
A
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-column-reference-property" class="internalDFN"><ins class="diff-new">
column
reference
property
</ins></a><ins class="diff-new">
that
holds
either
a
single
reference
</ins>
to
<del class="diff-old">each
</del>
<ins class="diff-chg">a
</ins>
column
<del class="diff-old">even
though
they
each
</del>
<ins class="diff-chg">description
object
within
this
schema,
or
an
array
of
references.
</ins></dd></dl></dd></dl><div class="note"><div class="note-title" aria-level="4" role="heading" id="h-note8"><span><ins class="diff-chg">
Note
</ins></span></div><p class=""><ins class="diff-chg">
It
is
not
required
for
the
resource
or
schema
referenced
from
a
</ins><code><ins class="diff-chg">
foreignKeys
</ins></code><ins class="diff-chg">
property
to
</ins>
have
a
<ins class="diff-new">similarly
defined
</ins>
<code>
<del class="diff-old">name
</del>
<ins class="diff-chg">primaryKey
</ins></code>.</p></div><p><ins class="diff-chg">
When
an
array
of
foreign
key
definitions
B
is
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-imported" class="internalDFN"><ins class="diff-chg">
imported
</ins></a><ins class="diff-chg">
into
an
original
array
of
foreign
key
definitions
A,
each
foreign
key
definition
within
B
which
does
not
appear
within
A
is
appended
to
the
original
array
A.
</ins></p><div class="issue"><div class="issue-title" aria-level="4" role="heading" id="h-issue12"><a href="https://github.com/w3c/csvw/issues/16"><span><ins class="diff-chg">
Issue
16
</ins></span></a></div><p class=""><ins class="diff-chg">
The
cross
reference
between
files
should
be
limited
to
files
from
one
publisher
-
else
they
are
just
web
links
with
no
guarantee
of
whether
the
target
of
the
link
exists
which
'foreign
key'
might
imply.
</ins></p></div></dd><dt id="schema-urlTemplate"><code><ins class="diff-chg">
urlTemplate
</ins>
</code>
</dt>
<dd>
<ins class="diff-new">A
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-uri-template-property" class="internalDFN"><ins class="diff-new">
URI
template
</ins>
property
</a>
that
<del class="diff-old">could
</del>
<em class="rfc2119" title="MAY">
<ins class="diff-chg">MAY
</ins></em>
be
used
<del class="diff-old">instead.
We
invite
comment
on
how
</del>
to
<del class="diff-old">make
this
easier
</del>
<ins class="diff-chg">create
a
unique
identifier
</ins>
for
<del class="diff-old">people
</del>
<ins class="diff-chg">each
row
when
mapping
data
</ins>
to
<del class="diff-old">use
while
maintaining
JSON-LD
compatibility.
</del>
<ins class="diff-chg">other
formats.
</ins></dd><dt id="schema-ld-type">
<code>
<ins class="diff-chg">@type
</ins></code></dt><dd><ins class="diff-chg">
If
included,
</ins><code><ins class="diff-chg">
@type
</ins></code><em class="rfc2119" title="MUST"><ins class="diff-chg">
MUST
</ins></em><ins class="diff-chg">
be
set
to
</ins><code><ins class="diff-chg">
"Schema"
</ins></code>.<ins class="diff-chg">
Publishers
</ins><em class="rfc2119" title="MAY"><ins class="diff-chg">
MAY
</ins></em><ins class="diff-chg">
include
this
to
provide
additional
information
to
JSON-LD
based
toolchains.
</ins>
</dd>
</dl>
<p>
The
description
<em class="rfc2119" title="MAY">
MAY
</em>
contain
any
<del class="diff-old">of
the
</del>
<ins class="diff-chg">common
</ins>
properties
<ins class="diff-new">as
</ins>
defined
in
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#common-properties" class="sectionRef sec-ref">
section
<span class="secno">
3.3
</span>
<span class="sec-title">
Common
Properties
</span>
</a>
to
<del class="diff-old">describe
</del>
<ins class="diff-chg">provide
extra
metadata
about
</ins>
the
<del class="diff-old">schema.
As
well
</del>
<ins class="diff-chg">schema
</ins>
as
<del class="diff-old">links
to
other
related
schemas,
</del>
<ins class="diff-chg">a
whole.
</ins></p><p><ins class="diff-chg">
The
description
</ins><em class="rfc2119" title="MAY"><ins class="diff-chg">
MAY
</ins></em><ins class="diff-chg">
contain
any
of
</ins>
the
<del class="diff-old">following
common
</del>
<a title="inherited property" href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-inherited-property" class="internalDFN">
<ins class="diff-chg">inherited
</ins>
properties
<del class="diff-old">are
particularly
suitable
</del>
</a>
<ins class="diff-chg">defined
</ins>
for
<del class="diff-old">schemas:
</del>
<ins class="diff-chg">cells
in
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#inherited-properties" class="sectionRef sec-ref"><ins class="diff-chg">
section
</ins><span class="secno"><ins class="diff-chg">
2.2
</ins></span><span class="sec-title"><ins class="diff-chg">
Inherited
Properties
</ins></span></a>.
</p>
<section id="examples" typeof="bibo:Chapter" resource="#examples" property="bibo:hasPart">
<h4 id="h-examples" resource="#h-examples">
<del class="diff-old">created
</del>
<span property="xhv:role" resource="xhv:heading">
<span class="secno">
<ins class="diff-chg">3.8.1
</ins></span><ins class="diff-chg">
Examples
</ins></span>
<del class="diff-old">creator
</del>
</h4>
<section id="foreign-key-reference-between-resources" typeof="bibo:Chapter" resource="#foreign-key-reference-between-resources" property="bibo:hasPart">
<h5 id="h-foreign-key-reference-between-resources" resource="#h-foreign-key-reference-between-resources">
<span property="xhv:role" resource="xhv:heading">
<span class="secno">
<ins class="diff-new">3.8.1.1
</ins></span><ins class="diff-new">
Foreign
Key
Reference
Between
Resources
</ins></span></h5><p><ins class="diff-new">
A
list
of
countries
is
published
at
</ins>
<code>
<del class="diff-old">description
</del>
<ins class="diff-chg">http://example.org/countries.csv
</ins>
</code>
<ins class="diff-new">with
the
structure:
</ins></p>            <div class="example"><div class="example-title"><span>Example 20</span></div><pre class="example highlight prettyprint prettyprinted"><span class="pln">countryCode</span><span class="pun">,</span><span class="pln">latitude</span><span class="pun">,</span><span class="pln">longitude</span><span class="pun">,</span><span class="pln">name
<ins class="diff-new">
AD</ins></span><span class="pun">,</span><span class="lit">42.546245</span><span class="pun">,</span><span class="lit">1.601554</span><span class="pun">,</span><span class="typ">Andorra</span><span class="pln">
AE</span><span class="pun">,</span><span class="lit">23.424076</span><span class="pun">,</span><span class="lit">53.847818</span><span class="pun">,</span><span class="str">"United Arab Emirates"</span><span class="pln">
AF
</span>
<span class="pun">,
</span>
<del class="diff-old">license
</del>
<span class="lit">
<ins class="diff-chg">33.93911
</ins></span>
<span class="pun">,
</span>
<span class="lit">
<ins class="diff-chg">67.709953
</ins></span><span class="pun">,</span>
<span class="typ">
<ins class="diff-new">Afghanistan
</ins></span></pre></div><p><ins class="diff-new">
Another
file
contains
information
about
the
population
in
some
countries
each
year,
at
</ins>
<code>
<del class="diff-old">modified
</del>
<ins class="diff-chg">http://example.com/country_slice.csv
</ins>
</code>
<ins class="diff-new">with
the
structure:
</ins></p>            <div class="example"><div class="example-title"><span>Example 21</span></div><pre class="example highlight prettyprint prettyprinted"><span class="pln">countryRef</span><span class="pun">,</span><span class="pln">year</span><span class="pun">,</span><span class="pln">population
<ins class="diff-new">
AF</ins></span><span class="pun">,</span><span class="lit">1960</span><span class="pun">,</span><span class="lit">9616353</span><span class="pln">
AF</span><span class="pun">,</span><span class="lit">1961</span><span class="pun">,</span><span class="lit">9799379</span><span class="pln">
AF
</span>
<span class="pun">,
</span>
<span class="lit">
<ins class="diff-chg">1962
</ins></span>
<span class="pun">,
</span>
<span class="lit">
<ins class="diff-new">9989846
</ins></span></pre></div><p><ins class="diff-new">
The
following
metadata
for
the
group
of
tables
links
the
two
together
by
defining
a
</ins>
<code>
<del class="diff-old">publisher
</del>
<ins class="diff-chg">foreignKeys
</ins>
</code>
<ins class="diff-new">property:
</ins></p>            <div class="example"><div class="example-title"><span>Example 22</span></div><pre class="example highlight prettyprint prettyprinted"><span class="pun">{</span><span class="pln">
  </span><span class="str">"@context"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"http://www.w3.org/ns/csvw"</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"resources"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[{</span><span class="pln">
    </span><span class="str">"@id"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"https://example.org/countries.csv"</span><span class="pun">,</span><span class="pln">
    </span><span class="str">"schema"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="str">"columns"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[{</span><span class="pln">
        </span><span class="str">"name"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"countryCode"</span><span class="pun">,</span><span class="pln">
        </span><span class="str">"datatype"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"string"</span><span class="pln">
      </span><span class="pun">},</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="str">"name"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"latitude"</span><span class="pun">,</span><span class="pln">
        </span><span class="str">"datatype"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"number"</span><span class="pln">
      </span><span class="pun">},</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="str">"name"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"longitude"</span><span class="pun">,</span><span class="pln">
        </span><span class="str">"datatype"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"number"</span><span class="pln">
      </span><span class="pun">},</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="str">"name"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"name"</span><span class="pun">,</span><span class="pln">
        </span><span class="str">"datatype"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"string"</span><span class="pln">
      </span><span class="pun">}],</span><span class="pln">
      </span><span class="str">"urlTemplate"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"http://example.org/countries.csv{#countryCode}"</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"primaryKey"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"countryCode"</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">},</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="str">"@id"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"http://example.com/country_slice.csv"</span><span class="pun">,</span><span class="pln">
    </span><span class="str">"schema"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="str">"columns"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[{</span><span class="pln">
        </span><span class="str">"name"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"countryRef"</span><span class="pun">,</span><span class="pln">
        </span><span class="str">"datatype"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"string"</span><span class="pln">
      </span><span class="pun">},</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="str">"name"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"year"</span><span class="pun">,</span><span class="pln">
        </span><span class="str">"datatype"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"gYear"</span><span class="pln">
      </span><span class="pun">},</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="str">"name"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"population"</span><span class="pun">,</span><span class="pln">
        </span><span class="str">"datatype"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"integer"</span><span class="pln">
      </span><span class="pun">}],</span><span class="pln">
      </span><span class="str">"foreignKeys"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[{</span><span class="pln">
        </span><span class="str">"columns"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"countryRef"</span><span class="pun">,</span><span class="pln">
        </span><span class="str">"reference"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
          </span><span class="str">"resource"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"http://example.org/countries.csv"</span><span class="pun">,</span><span class="pln">
          </span><span class="str">"columns"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"countryCode"</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
      </span><span class="pun">}]</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">}]</span><span class="pln">
</span>
<span class="pun">
<ins class="diff-chg">}
</ins></span></pre>
</div>
<p>
<ins class="diff-new">When
the
population
data
in
</ins>
<code>
<del class="diff-old">rights
</del>
<ins class="diff-chg">country_slice.csv
</ins></code><ins class="diff-chg">
is
processed
(displayed
or
mapped
into
another
format),
a
link
can
be
made
from
the
content
of
the
</ins><code><ins class="diff-chg">
countryRef
</ins>
</code>
<ins class="diff-new">column
based
on
the
</ins><code><ins class="diff-new">
urlTemplate
</ins></code><ins class="diff-new">
for
</ins><code><ins class="diff-new">
country.csv
</ins></code>.<ins class="diff-new">
For
example,
if
the
</ins><code><ins class="diff-new">
countryRef
</ins></code><ins class="diff-new">
column
(the
value
of
</ins><code><ins class="diff-new">
columns
</ins></code><ins class="diff-new">
in
the
</ins><code><ins class="diff-new">
foreignKeys
</ins></code><ins class="diff-new">
object)
in
</ins><code><ins class="diff-new">
country_slice.csv
</ins></code><ins class="diff-new">
contains
the
value
</ins><code><ins class="diff-new">
UK
</ins></code><ins class="diff-new">
then
the
processor
will
use
that
value
to
populate
the
</ins><code><ins class="diff-new">
countryCode
</ins></code><ins class="diff-new">
variable
(the
value
of
</ins><code><ins class="diff-new">
reference.columns
</ins></code><ins class="diff-new">
in
the
</ins><code><ins class="diff-new">
foreignKeys
</ins></code><ins class="diff-new">
object)
when
interpreting
the
</ins><code><ins class="diff-new">
urlTemplate
</ins></code><ins class="diff-new">
for
</ins><code><ins class="diff-new">
country.csv
</ins></code>,<ins class="diff-new">
and
create
the
URL
</ins><code><ins class="diff-new">
http://example.org/countries.csv#UK
</ins></code>.<ins class="diff-new">
The
processor
does
not
need
to
retrieve
</ins><code><ins class="diff-new">
http://example.org/countries.csv
</ins></code><ins class="diff-new">
or
check
that
the
value
</ins><code><ins class="diff-new">
UK
</ins></code><ins class="diff-new">
appears
within
the
</ins><code><ins class="diff-new">
countryCode
</ins></code><ins class="diff-new">
column
to
create
this
link:
it
is
created
purely
based
on
the
</ins><code><ins class="diff-new">
urlTemplate
</ins></code><ins class="diff-new">
in
the
description
of
the
referenced
resource.
</ins></p></section><section id="foreign-key-reference-between-schemas" typeof="bibo:Chapter" resource="#foreign-key-reference-between-schemas" property="bibo:hasPart"><h5 id="h-foreign-key-reference-between-schemas" resource="#h-foreign-key-reference-between-schemas">
<span property="xhv:role" resource="xhv:heading">
<span class="secno">
<ins class="diff-new">3.8.1.2
</ins></span><ins class="diff-new">
Foreign
Key
Reference
Between
Schemas
</ins></span></h5><p><ins class="diff-new">
When
publishing
information
about
public
sector
roles
and
salaries,
as
in
</ins><a href="http://w3c.github.io/csvw/use-cases-and-requirements/#UC-OrganogramData"><ins class="diff-new">
Use
Case
4
</ins></a>,<ins class="diff-new">
the
UK
government
requires
departments
to
publish
two
files
which
are
interlinked.
The
first
lists
senior
grades
(simplified
here)
eg
at
</ins>
<code>
<del class="diff-old">rightsHolder
</del>
<ins class="diff-chg">HEFCE_organogram_senior_data_31032011.csv
</ins></code>:</p>            <div class="example"><div class="example-title"><span>Example 23</span></div><pre class="example">Post Unique Reference,              Name,Grade,             Job Title,Reports to Senior Post
<ins class="diff-chg">
                90115,        Steve Egan,SCS1A,Deputy Chief Executive,                 90334
                90250,     David Sweeney,SCS1A,              Director,                 90334
                90284,       Heather Fry,SCS1A,              Director,                 90334
90334,Sir
Alan
Langlands,
SCS4,
Chief
Executive,
xx
</ins></pre>
</div>
<p>
<ins class="diff-chg">The
second
provides
information
about
the
number
of
junior
positions
that
report
to
those
individuals
(simplified
here)
eg
at
</ins><code><ins class="diff-chg">
HEFCE_organogram_junior_data_31032011.csv
</ins></code>:</p>            <div class="example"><div class="example-title"><span>Example 24</span></div><pre class="example">Reporting Senior Post,Grade,Payscale Minimum (�),Payscale Maximum (�),Generic Job Title,Number of Posts in FTE,          Profession
<ins class="diff-chg">
                90284,    4,               17426,               20002,    Administrator,                     2,Operational Delivery
                90284,    5,               19546,               22478,    Administrator,                     1,Operational Delivery
                90115,    4,               17426,               20002,    Administrator,                  8.67,Operational Delivery
90115,
5,
19546,
22478,
Administrator,
0.5,Operational
Delivery
</ins></pre></div><p><ins class="diff-chg">
The
schemas
are
reused
by
multiple
departments
and
for
multiple
pairs
of
files.
The
schemas
are
therefore
defined
in
separate
files,
and
they
need
to
define
links
between
the
schemas
which
are
then
picked
up
as
applying
between
tables
that
use
those
schemas.
</ins></p><p><ins class="diff-chg">
The
metadata
file
for
the
particular
publication
of
the
files
above
is:
</ins></p>            <div class="example"><div class="example-title"><span>Example 25</span></div><pre class="example highlight prettyprint prettyprinted"><span class="pun">{</span><span class="pln">
  </span><span class="str">"@context"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"http://www.w3.org/ns/csvw"</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"resources"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[{</span><span class="pln">
    </span><span class="str">"@id"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"HEFCE_organogram_senior_data_31032011.csv"</span><span class="pun">,</span><span class="pln">
    </span><span class="str">"schema"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"http://example.org/schema/senior-roles.json"</span><span class="pln">
  </span><span class="pun">},</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="str">"@id"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"HEFCE_organogram_junior_data_31032011.csv"</span><span class="pun">,</span><span class="pln">
    </span><span class="str">"schema"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"http://example.org/schema/junior-roles.json"</span><span class="pln">
  </span><span class="pun">}]</span><span class="pln">
</span>
<span class="pun">
<ins class="diff-new">}
</ins></span></pre></div><p><ins class="diff-new">
The
schema
for
the
senior
role
CSV
(at
</ins>
<code>
<del class="diff-old">subject
</del>
<ins class="diff-chg">http://example.org/schema/senior-roles.json
</ins>
</code>
<ins class="diff-new">)
is
as
follows;
it
includes
a
foreign
key
reference
to
itself:
</ins></p>            <div class="example"><div class="example-title"><span>Example 26</span></div><pre class="example highlight prettyprint prettyprinted"><span class="pun">{</span><span class="pln">
  </span><span class="str">"@context"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"http://www.w3.org/ns/csvw"</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"@id"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"http://example.org/schema/senior-roles.json"</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"columns"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[{</span><span class="pln">
    </span><span class="str">"name"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"ref"</span><span class="pun">,</span><span class="pln">
    </span><span class="str">"title"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Post Unique Reference"</span><span class="pln">
  </span><span class="pun">},</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="str">"name"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"name"</span><span class="pun">,</span><span class="pln">
    </span><span class="str">"title"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Name"</span><span class="pln">
  </span><span class="pun">},</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="str">"name"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"grade"</span><span class="pun">,</span><span class="pln">
    </span><span class="str">"title"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Grade"</span><span class="pln">
  </span><span class="pun">},</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="str">"name"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"job"</span><span class="pun">,</span><span class="pln">
    </span><span class="str">"title"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Job Title"</span><span class="pln">
  </span><span class="pun">},</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="str">"name"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"reportsTo"</span><span class="pun">,</span><span class="pln">
    </span><span class="str">"title"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Reports to Senior Post"</span><span class="pln">
  </span><span class="pun">}],</span><span class="pln">
  </span><span class="str">"primaryKey"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"ref"</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"urlTemplate"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"#post-{ref}"</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"foreignKeys"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[{</span><span class="pln">
    </span><span class="str">"columns"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"reportsTo"</span><span class="pun">,</span><span class="pln">
    </span><span class="str">"reference"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="str">"schema"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"http://example.org/schema/senior-roles.json"</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"columns"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"ref"</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">}]</span><span class="pln">
</span>
<span class="pun">
<ins class="diff-chg">}
</ins></span>
</pre>
</div>
<p>
<ins class="diff-new">The
schema
for
the
junior
role
CSV
(at
</ins>
<code>
<del class="diff-old">title
</del>
<ins class="diff-chg">http://example.org/schema/junior-roles.json
</ins>
</code>
<ins class="diff-new">)
is
as
follows;
it
includes
a
foreign
key
reference
to
the
senior
roles
schema:
</ins></p>            <div class="example"><div class="example-title"><span>Example 27</span></div><pre class="example highlight prettyprint prettyprinted"><span class="pun">{</span><span class="pln">
  </span><span class="str">"@context"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"http://www.w3.org/ns/csvw"</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"@id"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"http://example.org/schema/junior-roles.json"</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"columns"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[{</span><span class="pln">
    </span><span class="str">"name"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"reportsTo"</span><span class="pun">,</span><span class="pln">
    </span><span class="str">"title"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Reporting Senior Post"</span><span class="pln">
  </span><span class="pun">},</span><span class="pln"> 
  </span><span class="pun">...</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  </span><span class="str">"foreignKeys"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[{</span><span class="pln">
    </span><span class="str">"columns"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"reportsTo"</span><span class="pun">,</span><span class="pln">
    </span><span class="str">"reference"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="str">"schema"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"http://example.org/schema/senior-roles.json"</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"columns"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"ref"</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">}]</span><span class="pln">
</span>
<span class="pun">
<ins class="diff-chg">}
</ins></span></pre></div>
<p>
<del class="diff-old">The
description
MAY
contain
any
</del>
<ins class="diff-chg">In
the
first
line
</ins>
of
<code>
<ins class="diff-new">HEFCE_organogram_junior_data_31032011.csv
</ins></code>,
the
<del class="diff-old">inherited
properties
</del>
<code>
<ins class="diff-chg">reportsTo
</ins></code><ins class="diff-chg">
(
</ins><code><ins class="diff-chg">
Reporting
Senior
Post
</ins></code><ins class="diff-chg">
)
column
contains
the
value
</ins><code><ins class="diff-chg">
90284
</ins></code>.<ins class="diff-chg">
When
creating
a
link
from
that
column,
the
</ins><code><ins class="diff-chg">
urlTemplate
</ins></code>
defined
<ins class="diff-new">within
the
schema
at
</ins><code><ins class="diff-new">
http://example.org/schema/senior-roles.json
</ins></code><ins class="diff-new">
is
used
to
generate
a
URL
by
expanding
the
variable
reference
</ins>
for
<del class="diff-old">cells
in
section
2.1.2
Inherited
Properties
.
</del>
<code>
<ins class="diff-chg">ref
</ins></code><ins class="diff-chg">
based
on
the
value
from
the
</ins><code><ins class="diff-chg">
reportsTo
</ins></code><ins class="diff-chg">
column.
This
gives
the
relative
URL
</ins><code><ins class="diff-chg">
#post-90284
</ins></code><ins class="diff-chg">
which
is
then
resolved
against
the
base
URL
of
the
resource
that
uses
the
</ins><code><ins class="diff-chg">
senior-roles.json
</ins></code><ins class="diff-chg">
schema
within
the
original
metadata
file,
namely
</ins><code><ins class="diff-chg">
HEFCE_organogram_senior_data_31032011.csv
</ins></code>.
</p>
</section>
</section>
</section>
<section id="columns" typeof="bibo:Chapter" resource="#columns" property="bibo:hasPart">
<h3 id="h-columns" resource="#h-columns">
<span property="xhv:role" resource="xhv:heading">
<span class="secno">
<del class="diff-old">3.6
</del>
<ins class="diff-chg">3.9
</ins>
</span>
Columns
</span>
</h3>
<p>
A
<dfn id="dfn-column-description">
column
description
</dfn>
is
a
simple
JSON
object
that
describes
a
single
column.
The
description
provides
additional
human-readable
documentation
for
a
column,
as
well
as
additional
information
that
may
be
used
to
validate
the
cells
within
the
column,
create
a
user
interface
for
data
entry,
or
inform
conversion
into
other
formats.
</p>
<div class="issue">
<div class="issue-title" aria-level="4" role="heading" id="h-issue13">
<a href="https://github.com/w3c/csvw/issues/64">
<span>
<ins class="diff-chg">Issue
64
</ins></span></a></div><p class=""><ins class="diff-chg">
Should
there
be
a
way
to
suppress
columns?
</ins></p></div><section id="required-properties-3" typeof="bibo:Chapter" resource="#required-properties-3" property="bibo:hasPart"><h4 id="h-required-properties-3" resource="#h-required-properties-3"><span property="xhv:role" resource="xhv:heading">
<span class="secno">
<del class="diff-old">3.6.1
</del>
<ins class="diff-chg">3.9.1
</ins>
</span>
Required
Properties
</span>
</h4>
<dl>
<dt id="column-name">
<code>
name
</code>
</dt>
<dd>
<p>
An
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-atomic-property" class="internalDFN">
atomic
property
</a>
that
gives
a
<ins class="diff-new">single
</ins>
canonical
name
for
the
column.
This
<em class="rfc2119" title="MUST">
MUST
</em>
be
a
string.
Conversion
specifications
<em class="rfc2119" title="MUST">
MUST
</em>
use
this
property
as
the
basis
for
the
names
of
properties/elements/attributes
in
the
results
of
conversions.
</p>
<p>
<ins class="diff-new">For
ease
of
reference
within
</ins><a title="URI template property" href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-uri-template-property" class="internalDFN"><ins class="diff-new">
URI
template
properties
</ins></a>,<ins class="diff-new">
column
names
</ins><em class="rfc2119" title="SHOULD"><ins class="diff-new">
SHOULD
</ins></em><ins class="diff-new">
consist
only
of
alphanumeric
characters
or
underscores
(
</ins><code><ins class="diff-new">
[a-zA-Z0-9_]+
</ins></code><ins class="diff-new">
).
Names
beginning
with
</ins><code><ins class="diff-new">
_
</ins></code><ins class="diff-new">
are
reserved
by
this
specification
and
</ins><em class="rfc2119" title="MUST NOT"><ins class="diff-new">
MUST
NOT
</ins></em><ins class="diff-new">
be
used.
</ins></p>
<div class="issue">
<div class="issue-title" aria-level="5" role="heading" id="h-issue14">
<a href="https://github.com/w3c/csvw/issues/33">
<span>
Issue
<del class="diff-old">12
</del>
<ins class="diff-chg">33
</ins></span></a></div><p class=""><ins class="diff-chg">
What
do
to
with
conversion
if
no
column
name
is
given?
</ins></p></div><div class="issue"><div class="issue-title" aria-level="5" role="heading" id="h-issue15"><a href="https://github.com/w3c/csvw/issues/53"><span><ins class="diff-chg">
Issue
53
</ins>
</span>
</a>
</div>
<p class="">
We
invite
comment
on
what
the
syntactic
limitations
should
be
on
column
names
to
make
them
most
useful
when
used
as
the
basis
of
conversion
into
other
formats,
bearing
in
mind
that
different
target
languages
such
as
JSON,
RDF
and
XML
have
different
syntactic
limitations
and
common
naming
conventions.
</p>
</div>
<p>
During
validation,
if
there
is
no
<code>
title
</code>
property
and
the
column
already
has
a
<code>
title
</code>
annotation
then
a
validator
<em class="rfc2119" title="MUST">
MUST
</em>
issue
a
warning
if
the
existing
<code>
title
</code>
annotation
does
not
match
the
<code>
name
</code>
specified
in
the
column
description.
</p>
</dd>
</dl>
</section>
<section id="optional-properties-3" typeof="bibo:Chapter" resource="#optional-properties-3" property="bibo:hasPart">
<h4 id="h-optional-properties-3" resource="#h-optional-properties-3">
<span property="xhv:role" resource="xhv:heading">
<span class="secno">
<del class="diff-old">3.6.2
</del>
<ins class="diff-chg">3.9.2
</ins>
</span>
Optional
Properties
</span>
</h4>
<dl>
<dt id="column-title">
<code>
title
</code>
</dt>
<dd>
<p>
A
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-natural-language-property" class="internalDFN">
natural
language
property
</a>
that
provides
possible
alternative
names
for
the
column.
The
<dfn id="dfn-possible-column-titles">
possible
column
titles
</dfn>
are
defined
as:
</p>
<ul>
<li>
if
the
value
of
<code>
title
</code>
is
a
string,
that
string
</li>
<li>
if
the
value
of
<code>
title
</code>
is
an
array,
the
strings
in
that
array
</li>
<li>
if
the
value
of
<code>
title
</code>
is
an
object,
the
string
or
strings
that
are
the
value
of
the
property
of
that
object
whose
name
is
the
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-column-language" class="internalDFN">
column
language
</a>
</li>
</ul>
<p>
where
the
<dfn id="dfn-column-language">
column
language
</dfn>
is
the
value
of
the
<code>
language
</code>
property
on
the
column
description,
or
(if
there
is
no
such
language),
the
value
of
the
<code>
language
</code>
property
on
the
table
description.
</p>
<p>
If
the
column
already
has
a
<code>
title
</code>
annotation
(because
a
header
row
has
been
included
in
the
original
CSV
file)
then
a
validator
<em class="rfc2119" title="MUST">
MUST
</em>
issue
a
warning
if
the
existing
<code>
title
</code>
annotation
is
not
the
same
as
any
of
the
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-possible-column-titles" class="internalDFN">
possible
column
titles
</a>.
</p>
<div class="issue">
<div class="issue-title" aria-level="5" role="heading" id="h-issue16">
<a href="https://github.com/w3c/csvw/issues/56">
<span>
<del class="diff-old">Note
</del>
<ins class="diff-chg">Issue
56
</ins>
</span>
</a>
</div>
<p class="">
The
facility
to
specify
multiple
potential
titles
for
a
column
is
important
when
the
same
column
description
is
used
for
multiple
CSVs,
through
a
mechanism
yet
to
be
defined
by
this
specification.
</p>
</div>
</dd>
<del class="diff-old">@type
If
included,
@type
MUST
be
set
to
"Column"
.
Publishers
MAY
include
this
to
provide
additional
information
to
JSON-LD
based
toolchains.
</del>
<dt id="column-required">
<code>
required
</code>
</dt>
<dd>
A
boolean
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-atomic-property" class="internalDFN">
<ins class="diff-new">atomic
property
</ins></a><ins class="diff-new">
taking
a
single
</ins>
value
which
indicates
whether
every
cell
within
the
column
must
have
a
non-null
value.
</dd>
<del class="diff-old">The
description
MAY
contain
any
of
the
inherited
properties
defined
for
cells
in
section
2.1.2
Inherited
Properties
.
3.7
Rows
Rows
can
be
described
using
row
description
objects
.
A
row
description
object
is
a
JSON
object
within
a
metadata
file
that
includes
properties
that
describe
an
individual
row.
3.7.1
Required
Properties
The
following
properties
MUST
appear
on
a
row
description:
</del>
<dt id="column-predicateUrl">
<code>
<del class="diff-old">row
</del>
<ins class="diff-chg">predicateUrl
</ins>
</code>
</dt>
<dd>
<del class="diff-old">an
integer;
the
number
of
the
row
</del>
<ins class="diff-chg">An
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-atomic-property" class="internalDFN"><ins class="diff-chg">
atomic
property
</ins></a><ins class="diff-chg">
that
holds
one
or
more
URIs
that
</ins><em class="rfc2119" title="MAY"><ins class="diff-chg">
MAY
</ins></em><ins class="diff-chg">
be
used
as
URIs
for
predicates
if
</ins>
the
<del class="diff-old">description
object
describes
</del>
<ins class="diff-chg">table
is
mapped
to
another
format.
</ins>
</dd>
<del class="diff-old">3.7.2
Optional
Properties
</del>
<dt id="column-ld-type">
<code>
@type
</code>
</dt>
<dd>
<p>
If
included,
<code>
@type
</code>
<em class="rfc2119" title="MUST">
MUST
</em>
be
set
to
<code>
<del class="diff-old">"Row"
</del>
<ins class="diff-chg">"Column"
</ins>
</code>.
Publishers
<em class="rfc2119" title="MAY">
MAY
</em>
include
this
to
provide
additional
information
to
JSON-LD
based
toolchains.
</p>
</dd>
</dl>
<p>
The
description
<em class="rfc2119" title="MAY">
MAY
</em>
contain
any
<del class="diff-old">of
the
inherited
</del>
<ins class="diff-chg">common
</ins>
properties
<ins class="diff-chg">as
</ins>
defined
<del class="diff-old">for
cells
</del>
in
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#common-properties" class="sectionRef sec-ref">
section
<span class="secno">
<del class="diff-old">2.1.2
</del>
<ins class="diff-chg">3.3
</ins>
</span>
<span class="sec-title">
<del class="diff-old">Inherited
</del>
<ins class="diff-chg">Common
</ins>
Properties
</span>
<del class="diff-old">.
3.8
Cells
Cells
can
be
described
using
cell
description
objects
.
A
cell
description
object
is
a
JSON
object
within
a
</del>
</a>
<ins class="diff-chg">to
provide
extra
</ins>
metadata
<del class="diff-old">file
that
includes
properties
that
describe
an
individual
cell.
3.8.1
Required
Properties
The
following
properties
MUST
appear
on
a
cell
description:
row
an
integer;
the
number
of
the
row
on
which
the
cell
appears
column
an
integer;
the
number
of
</del>
<ins class="diff-chg">about
</ins>
the
column
<del class="diff-old">on
which
the
cell
appears
3.8.2
Optional
Properties
@type
If
included,
@type
MUST
be
set
to
"Cell"
.
Publishers
MAY
include
this
to
provide
additional
information
to
JSON-LD
based
toolchains.
</del>
<ins class="diff-chg">as
a
whole,
such
as
a
full
description.
</ins>
</p>
<p>
The
description
<em class="rfc2119" title="MAY">
MAY
</em>
contain
any
of
the
<a title="inherited property" href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-inherited-property" class="internalDFN">
inherited
properties
</a>
defined
for
cells
in
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#inherited-properties" class="sectionRef sec-ref">
section
<span class="secno">
<del class="diff-old">2.1.2
</del>
<ins class="diff-chg">2.2
</ins>
</span>
<span class="sec-title">
Inherited
Properties
</span>
</a>.
</p>
</section>
</section>
<section id="inherited-properties-1" typeof="bibo:Chapter" resource="#inherited-properties-1" property="bibo:hasPart">
<h3 id="h-inherited-properties-1" resource="#h-inherited-properties-1">
<span property="xhv:role" resource="xhv:heading">
<span class="secno">
<del class="diff-old">3.8.3
</del>
<ins class="diff-chg">3.10
</ins>
</span>
Inherited
Properties
</span>
</h3>
<p>
Cell
descriptions
may
override
<a title="inherited property" href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-inherited-property" class="internalDFN">
inherited
properties
</a>,
as
described
in
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#annotating-tables" class="sectionRef sec-ref">
section
<span class="secno">
<del class="diff-old">2.1
</del>
<ins class="diff-chg">2.
</ins>
</span>
<span class="sec-title">
Annotating
Tables
</span>
</a>.
It
is
good
practice
to
define
these
properties
on
columns,
so
that
all
cells
within
a
given
column
are
handled
in
the
same
<del class="diff-old">way.
</del>
<ins class="diff-chg">way,
or
on
tables
if
appropriate.
</ins>
These
properties
are:
</p>
<dl>
<dt id="cell-empty-value">
<code>
null
</code>
</dt>
<dd>
<p>
<del class="diff-old">The
</del>
<ins class="diff-chg">An
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-atomic-property" class="internalDFN"><ins class="diff-chg">
atomic
property
</ins></a><ins class="diff-chg">
giving
the
</ins>
string
<ins class="diff-new">or
strings
</ins>
used
for
null
values.
If
not
specified,
the
default
for
this
is
the
empty
string.
</p>
</dd>
<dt id="cell-language">
<code>
<ins class="diff-new">language
</ins></code></dt><dd><p><ins class="diff-new">
An
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-atomic-property" class="internalDFN"><ins class="diff-new">
atomic
property
</ins></a><ins class="diff-new">
giving
a
single
string
language
code
as
defined
by
[
</ins><cite><a class="bibref" href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#bib-BCP47"><ins class="diff-new">
BCP47
</ins></a></cite><ins class="diff-new">
].
Indicates
the
language
of
the
value
within
the
cell.
</ins></p></dd><dt id="cell-text-direction"><code><ins class="diff-new">
text-direction
</ins></code></dt><dd><p><ins class="diff-new">
An
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-atomic-property" class="internalDFN"><ins class="diff-new">
atomic
property
</ins></a><ins class="diff-new">
that
</ins><em class="rfc2119" title="MUST"><ins class="diff-new">
MUST
</ins></em><ins class="diff-new">
have
a
single
string
value
that
is
one
of
</ins><code><ins class="diff-new">
"rtl"
</ins></code><ins class="diff-new">
or
</ins><code><ins class="diff-new">
"ltr"
</ins></code><ins class="diff-new">
(the
default).
Indicates
whether
the
text
within
cells
should
be
displayed
by
default
as
left-to-right
or
right-to-left
text.
See
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#bidirectional-tables" class="sectionRef sec-ref"><ins class="diff-new">
section
</ins><span class="secno"><ins class="diff-new">
4.1.1
</ins></span><span class="sec-title"><ins class="diff-new">
Bidirectional
Tables
</ins></span></a><ins class="diff-new">
for
more
details.
</ins></p></dd>
<dt id="cell-separator">
<code>
separator
</code>
</dt>
<dd>
<p>
<del class="diff-old">The
</del>
<ins class="diff-chg">An
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-atomic-property" class="internalDFN"><ins class="diff-chg">
atomic
property
</ins></a><ins class="diff-chg">
that
</ins><em class="rfc2119" title="MUST"><ins class="diff-chg">
MUST
</ins></em><ins class="diff-chg">
have
a
single
string
value
that
is
the
</ins>
character
used
to
separate
items
in
the
string
value
of
the
cell.
If
<code>
null
<del class="diff-old">,
</del>
</code>
<ins class="diff-chg">or
unspecified,
</ins>
the
cell
does
not
contain
a
list.
Otherwise,
application
<em class="rfc2119" title="MUST">
MUST
</em>
split
the
string
value
of
the
cell
on
the
specified
separator
character
and
parse
each
of
the
resulting
strings
separately.
The
cell's
value
will
then
be
a
list.
Conversion
specifications
<em class="rfc2119" title="MUST">
MUST
</em>
use
the
separator
to
determine
the
conversion
of
a
cell
into
the
target
format.
See
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#parsing-cells" class="sec-ref">
<span class="secno">
<del class="diff-old">3.8.5
</del>
<ins class="diff-chg">3.12
</ins>
</span>
<span class="sec-title">
Parsing
cells
</span>
</a>
for
more
details.
</p>
</dd>
<dt id="cell-default">
<code>
<ins class="diff-new">default
</ins></code></dt><dd><ins class="diff-new">
An
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-atomic-property" class="internalDFN"><ins class="diff-new">
atomic
property
</ins></a><ins class="diff-new">
holding
a
single
string
that
provides
a
default
string
value
for
the
cell
in
cases
where
the
original
string
value
is
a
</ins><code><ins class="diff-new">
null
</ins></code><ins class="diff-new">
value.
This
default
value
</ins><em class="rfc2119" title="MAY"><ins class="diff-new">
MAY
</ins></em><ins class="diff-new">
be
used
when
converting
the
table
into
other
formats.
</ins></dd>
<dt id="cell-format">
<code>
format
</code>
</dt>
<dd>
<p>
<del class="diff-old">A
</del>
<ins class="diff-chg">An
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-atomic-property" class="internalDFN"><ins class="diff-chg">
atomic
property
</ins></a><ins class="diff-chg">
that
contains
a
single
string
that
is
the
</ins>
definition
of
the
format
of
the
cell,
used
when
parsing
the
cell
as
described
in
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#parsing-cells" class="sec-ref">
<span class="secno">
<del class="diff-old">3.8.5
</del>
<ins class="diff-chg">3.12
</ins>
</span>
<span class="sec-title">
Parsing
cells
</span>
</a>.
</p>
</dd>
<dt id="cell-datatype">
<code>
datatype
</code>
</dt>
<dd>
<p>
<del class="diff-old">The
</del>
<ins class="diff-chg">An
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-atomic-property" class="internalDFN"><ins class="diff-chg">
atomic
property
</ins></a><ins class="diff-chg">
that
contains
a
single
string
that
is
the
</ins>
main
datatype
of
the
values
of
the
cell.
If
the
cell
contains
a
list
(ie
<code>
separator
</code>
is
<ins class="diff-new">specified
and
</ins>
not
<code>
null
</code>
)
then
this
is
the
datatype
of
each
value
within
the
list.
Conversion
specifications
<em class="rfc2119" title="MUST">
MUST
</em>
use
the
datatype
of
the
value
to
determine
the
conversion
of
a
cell
into
the
target
format.
See
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#datatypes" class="sec-ref">
<span class="secno">
<del class="diff-old">3.8.4
</del>
<ins class="diff-chg">3.11
</ins>
</span>
<span class="sec-title">
Datatypes
</span>
</a>
for
more
details.
</p>
</dd>
<dt id="cell-length">
<code>
length
</code>
</dt>
<dd>
<p>
<del class="diff-old">The
</del>
<ins class="diff-chg">An
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-atomic-property" class="internalDFN"><ins class="diff-chg">
atomic
property
</ins></a><ins class="diff-chg">
that
contains
a
single
integer
that
is
the
</ins>
exact
length
of
the
value
of
the
cell.
See
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#length-constraints" class="sectionRef sec-ref">
section
<span class="secno">
<del class="diff-old">3.8.4.1
</del>
<ins class="diff-chg">3.11.1
</ins>
</span>
<span class="sec-title">
Length
Constraints
</span>
</a>
for
details.
</p>
</dd>
<dt id="cell-minLength">
<code>
minLength
</code>
</dt>
<dd>
<p>
<del class="diff-old">The
</del>
<ins class="diff-chg">An
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-atomic-property" class="internalDFN"><ins class="diff-chg">
atomic
property
</ins></a><ins class="diff-chg">
that
contains
a
single
integer
that
is
the
</ins>
minimum
length
of
the
value
of
the
cell.
See
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#length-constraints" class="sectionRef sec-ref">
section
<span class="secno">
<del class="diff-old">3.8.4.1
</del>
<ins class="diff-chg">3.11.1
</ins>
</span>
<span class="sec-title">
Length
Constraints
</span>
</a>
for
details.
</p>
</dd>
<dt id="cell-maxLength">
<code>
maxLength
</code>
</dt>
<dd>
<p>
<del class="diff-old">The
</del>
<ins class="diff-chg">An
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-atomic-property" class="internalDFN"><ins class="diff-chg">
atomic
property
</ins></a><ins class="diff-chg">
that
contains
a
single
integer
that
is
the
</ins>
maximum
length
of
the
value
of
the
cell.
See
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#length-constraints" class="sectionRef sec-ref">
section
<span class="secno">
<del class="diff-old">3.8.4.1
</del>
<ins class="diff-chg">3.11.1
</ins>
</span>
<span class="sec-title">
Length
Constraints
</span>
</a>
for
details.
</p>
</dd>
<dt id="cell-minimum">
<code>
minimum
</code>
</dt>
<dd>
<p>
<del class="diff-old">The
</del>
<ins class="diff-chg">An
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-atomic-property" class="internalDFN"><ins class="diff-chg">
atomic
property
</ins></a><ins class="diff-chg">
that
contains
a
single
number
that
is
the
</ins>
minimum
value
for
the
cell
(inclusive);
equivalent
to
<code>
minInclusive
</code>.
See
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#value-constraints" class="sectionRef sec-ref">
section
<span class="secno">
<del class="diff-old">3.8.4.2
</del>
<ins class="diff-chg">3.11.2
</ins>
</span>
<span class="sec-title">
Value
Constraints
</span>
</a>
for
details.
</p>
</dd>
<dt id="cell-maximum">
<code>
maximum
</code>
</dt>
<dd>
<p>
<del class="diff-old">The
</del>
<ins class="diff-chg">An
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-atomic-property" class="internalDFN"><ins class="diff-chg">
atomic
property
</ins></a><ins class="diff-chg">
that
contains
a
single
number
that
is
the
</ins>
maximum
value
for
the
cell
(inclusive);
equivalent
to
<code>
maxInclusive
</code>.
See
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#value-constraints" class="sectionRef sec-ref">
section
<span class="secno">
<del class="diff-old">3.8.4.2
</del>
<ins class="diff-chg">3.11.2
</ins>
</span>
<span class="sec-title">
Value
Constraints
</span>
</a>
for
details.
</p>
</dd>
<dt id="cell-minInclusive">
<code>
minInclusive
</code>
</dt>
<dd>
<p>
<del class="diff-old">The
</del>
<ins class="diff-chg">An
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-atomic-property" class="internalDFN"><ins class="diff-chg">
atomic
property
</ins></a><ins class="diff-chg">
that
contains
a
single
number
that
is
the
</ins>
minimum
value
for
the
cell
(inclusive).
See
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#value-constraints" class="sectionRef sec-ref">
section
<span class="secno">
<del class="diff-old">3.8.4.2
</del>
<ins class="diff-chg">3.11.2
</ins>
</span>
<span class="sec-title">
Value
Constraints
</span>
</a>
for
details.
</p>
</dd>
<dt id="cell-maxInclusive">
<code>
maxInclusive
</code>
</dt>
<dd>
<p>
<del class="diff-old">The
</del>
<ins class="diff-chg">An
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-atomic-property" class="internalDFN"><ins class="diff-chg">
atomic
property
</ins></a><ins class="diff-chg">
that
contains
a
single
number
that
is
the
</ins>
maximum
value
for
the
cell
(inclusive).
See
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#value-constraints" class="sectionRef sec-ref">
section
<span class="secno">
<del class="diff-old">3.8.4.2
</del>
<ins class="diff-chg">3.11.2
</ins>
</span>
<span class="sec-title">
Value
Constraints
</span>
</a>
for
details.
</p>
</dd>
<dt id="cell-minExclusive">
<code>
minExclusive
</code>
</dt>
<dd>
<p>
<del class="diff-old">The
</del>
<ins class="diff-chg">An
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-atomic-property" class="internalDFN"><ins class="diff-chg">
atomic
property
</ins></a><ins class="diff-chg">
that
contains
a
single
number
that
is
the
</ins>
minimum
value
for
the
cell
(exclusive).
See
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#value-constraints" class="sectionRef sec-ref">
section
<span class="secno">
<del class="diff-old">3.8.4.2
</del>
<ins class="diff-chg">3.11.2
</ins>
</span>
<span class="sec-title">
Value
Constraints
</span>
</a>
for
details.
</p>
</dd>
<dt id="cell-maxExclusive">
<code>
maxExclusive
</code>
</dt>
<dd>
<p>
<del class="diff-old">The
</del>
<ins class="diff-chg">An
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-atomic-property" class="internalDFN"><ins class="diff-chg">
atomic
property
</ins></a><ins class="diff-chg">
that
contains
a
single
number
that
is
the
</ins>
maximum
value
for
the
cell
(exclusive).
See
<a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#value-constraints" class="sectionRef sec-ref">
section
<span class="secno">
<del class="diff-old">3.8.4.2
</del>
<ins class="diff-chg">3.11.2
</ins>
</span>
<span class="sec-title">
Value
Constraints
</span>
</a>
for
details.
</p>
</dd>
</dl>
</section>
<section id="datatypes" typeof="bibo:Chapter" resource="#datatypes" property="bibo:hasPart">
<h3 id="h-datatypes" resource="#h-datatypes">
<span property="xhv:role" resource="xhv:heading">
<span class="secno">
<del class="diff-old">3.8.4
</del>
<ins class="diff-chg">3.11
</ins>
</span>
Datatypes
</span>
</h3>
<p>
Cells
within
tables
may
be
annotated
with
a
<code>
datatype
</code>
which
indicates
the
type
of
the
value
obtained
by
parsing
the
value
of
the
cell.
The
format
expected
in
the
cell
is
determined
by
the
<code>
format
</code>
annotation,
if
there
is
one,
or
uses
a
default
format
determined
by
the
type.
</p>
<p>
The
possible
datatypes
are:
</p>
<ul>
<li>
<p>
the
datatypes
defined
in
[
<cite>
<a class="bibref" href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#bib-xmlschema-2">
xmlschema-2
</a>
</cite>
]
with
the
exception
of
those
that
rely
on
XML
mechanisms
for
definition,
namely:
</p>
<ul>
<li>
<code>
anySimpleType
</code>
</li>
<li>
<code>
string
</code>
;
a
sub-value
of
<code>
anySimpleType
</code>
</li>
<li>
<code>
normalizedString
</code>
;
a
sub-value
of
<code>
string
</code>
</li>
<li>
<code>
token
</code>
;
a
sub-value
of
<code>
normalizedString
</code>
</li>
<li>
<code>
language
</code>
;
a
sub-value
of
<code>
token
</code>
</li>
<li>
<code>
Name
</code>
;
a
sub-value
of
<code>
token
</code>
</li>
<li>
<code>
NCName
</code>
;
a
sub-value
of
<code>
Name
</code>
</li>
<li>
<code>
boolean
</code>
;
a
sub-value
of
<code>
anySimpleType
</code>
</li>
<li>
<code>
decimal
</code>
;
a
sub-value
of
<code>
anySimpleType
</code>
</li>
<li>
<code>
integer
</code>
;
a
sub-value
of
<code>
decimal
</code>
</li>
<li>
<code>
nonPositiveInteger
</code>
;
a
sub-value
of
<code>
integer
</code>
</li>
<li>
<code>
negativeInteger
</code>
;
a
sub-value
of
<code>
nonPositiveInteger
</code>
</li>
<li>
<code>
long
</code>
;
a
sub-value
of
<code>
integer
</code>
</li>
<li>
<code>
int
</code>
;
a
sub-value
of
<code>
long
</code>
</li>
<li>
<code>
short
</code>
;
a
sub-value
of
<code>
int
</code>
</li>
<li>
<code>
byte
</code>
;
a
sub-value
of
<code>
short
</code>
</li>
<li>
<code>
nonNegativeInteger
</code>
;
a
sub-value
of
<code>
integer
</code>
</li>
<li>
<code>
unsignedLong
</code>
;
a
sub-value
of
<code>
nonNegativeInteger
</code>
</li>
<li>
<code>
unsignedInt
</code>
;
a
sub-value
of
<code>
unsignedLong
</code>
</li>
<li>
<code>
unsignedShort
</code>
;
a
sub-value
of
<code>
unsignedInt
</code>
</li>
<li>
<code>
unsignedByte
</code>
;
a
sub-value
of
<code>
unsignedShort
</code>
</li>
<li>
<code>
positiveInteger
</code>
;
a
sub-value
of
<code>
nonNegativeInteger
</code>
</li>
<li>
<code>
float
</code>
;
a
sub-value
of
<code>
anySimpleType
</code>
</li>
<li>
<code>
double
</code>
;
a
sub-value
of
<code>
anySimpleType
</code>
</li>
<li>
<code>
duration
</code>
;
a
sub-value
of
<code>
anySimpleType
</code>
</li>
<li>
<code>
dateTime
</code>
;
a
sub-value
of
<code>
anySimpleType
</code>
</li>
<li>
<code>
time
</code>
;
a
sub-value
of
<code>
anySimpleType
</code>
</li>
<li>
<code>
date
</code>
;
a
sub-value
of
<code>
anySimpleType
</code>
</li>
<li>
<code>
gYearMonth
</code>
;
a
sub-value
of
<code>
anySimpleType
</code>
</li>
<li>
<code>
gYear
</code>
;
a
sub-value
of
<code>
anySimpleType
</code>
</li>
<li>
<code>
gMonthDay
</code>
;
a
sub-value
of
<code>
anySimpleType
</code>
</li>
<li>
<code>
gDay
</code>
;
a
sub-value
of
<code>
anySimpleType
</code>
</li>
<li>
<code>
gMonth
</code>
;
a
sub-value
of
<code>
anySimpleType
</code>
</li>
<li>
<code>
hexBinary
</code>
;
a
sub-value
of
<code>
anySimpleType
</code>
</li>
<li>
<code>
base64Binary
</code>
;
a
sub-value
of
<code>
anySimpleType
</code>
</li>
<li>
<code>
anyURI
</code>
;
a
sub-value
of
<code>
anySimpleType
</code>
</li>
</ul>
</li>
<li>
the
datatype
<code>
number
</code>
which
is
exactly
equivalent
to
<code>
double
</code>
</li>
<li>
the
datatype
<code>
binary
</code>
which
is
exactly
equivalent
to
<code>
base64Binary
</code>
</li>
<li>
the
datatype
<code>
datetime
</code>
which
is
exactly
equivalent
to
<code>
dateTime
</code>
</li>
<li>
the
datatype
<code>
<del class="diff-old">geopoint
</del>
<ins class="diff-chg">any
</ins>
</code>
which
<del class="diff-old">indicates
a
comma-separated
longitude
and
latitude
(ie
values
that
after
stripping
leading
and
trailing
whitespace
are
in
the
format
longitude
\s*,\s*
latitude
);
a
sub-value
of
</del>
<ins class="diff-chg">is
exactly
equivalent
to
</ins>
<code>
anySimpleType
</code>
<del class="diff-old">Issue
13
In
JSON
Table
Schema,
geopoint
permits
values
in
JSON
representations
of
points,
namely
{
lon:
longitude
,
lat:
latitude
}
and
[
longitude
,
latitude
]
.
We
invite
comment
about
whether
these
types
are
suitable
for
CSV
files.
If
they
are,
we
suggest
that
these
additional
formats
for
geopoint
are
supported
through
the
format
property.
</del>
</li>
<li>
the
datatype
<code>
<del class="diff-old">any
</del>
<ins class="diff-chg">xml
</ins>
</code>
which
<del class="diff-old">is
exactly
equivalent
to
anySimpleType
</del>
<ins class="diff-chg">indicates
the
cell
contains
an
XML
fragment
</ins>
</li>
<del class="diff-old">Issue
14
The
JSON
Table
Schema
also
includes
object
,
</del>
<li>
<ins class="diff-chg">the
datatype
</ins>
<code>
<del class="diff-old">array
</del>
<ins class="diff-chg">html
</ins>
</code>
<del class="diff-old">and
geojson
.
We
invite
comment
on
whether
we
should
we
support
</del>
<ins class="diff-chg">which
indicates
</ins>
the
<del class="diff-old">inclusion
of
JSON-based
structures
within
CSV
files.
Issue
15
We
invite
comment
on
whether
</del>
<ins class="diff-chg">cell
contains
an
HTML
fragment
</ins></li><li>
the
<ins class="diff-new">datatype
</ins>
<code>
<del class="diff-old">any
</del>
<ins class="diff-chg">json
</ins>
</code>
<del class="diff-old">type
is
useful.
Issue
16
We
invite
comment
on
whether
there
should
be
types
for
formats
like
XML,
HTML
and
markdown
</del>
which
<del class="diff-old">may
appear
within
CSV
cells.
</del>
<ins class="diff-chg">indicates
the
cell
contains
serialized
JSON
</ins></li></ul><section id="length-constraints" typeof="bibo:Chapter" resource="#length-constraints" property="bibo:hasPart"><h4 id="h-length-constraints" resource="#h-length-constraints">
<span property="xhv:role" resource="xhv:heading">
<span class="secno">
<del class="diff-old">3.8.4.1
</del>
<ins class="diff-chg">3.11.1
</ins>
</span>
Length
Constraints
</span>
</h4>
<p>
The
<code>
length
</code>,
<code>
minLength
</code>
and
<code>
maxLength
</code>
properties
indicate
the
exact,
minimum
and
maximum
lengths
of
the
values
of
cells.
</p>
<p>
Applications
<em class="rfc2119" title="MUST">
MUST
</em>
raise
an
error
if
both
<code>
length
</code>
and
<code>
minLength
</code>
are
specified
and
they
do
not
have
the
same
value.
Similarly,
applications
<em class="rfc2119" title="MUST">
MUST
</em>
raise
an
error
if
both
<code>
length
</code>
and
<code>
maxLength
</code>
are
specified
and
they
do
not
have
the
same
value.
Applications
<em class="rfc2119" title="MUST">
MUST
</em>
raise
an
error
if
<code>
length
</code>,
<code>
maxLength
</code>
or
<code>
minLength
</code>
are
specified
and
the
cell
value
is
not
a
list
(ie
<code>
separator
</code>
is
not
specified),
a
string
or
one
of
its
subtypes,
or
a
binary
value.
</p>
<p>
The
length
of
a
value
of
a
cell
is
determined
as
follows:
</p>
<ul>
<li>
if
the
cell
is
<code>
null
</code>
its
length
is
zero
</li>
<li>
if
the
value
is
a
list,
its
length
is
the
number
of
items
in
the
list
</li>
<li>
if
the
value
is
a
string
or
one
of
its
subtypes,
its
length
is
the
number
of
characters
in
the
value
</li>
<li>
if
the
value
is
of
a
binary
type,
its
length
is
the
number
of
bytes
in
the
binary
value
</li>
</ul>
</section>
<section id="value-constraints" typeof="bibo:Chapter" resource="#value-constraints" property="bibo:hasPart">
<h4 id="h-value-constraints" resource="#h-value-constraints">
<span property="xhv:role" resource="xhv:heading">
<span class="secno">
<del class="diff-old">3.8.4.2
</del>
<ins class="diff-chg">3.11.2
</ins>
</span>
Value
Constraints
</span>
</h4>
<p>
The
<code>
minimum
</code>,
<code>
maximum
</code>,
<code>
minInclusive
</code>,
<code>
maxInclusive
</code>,
<code>
minExclusive
</code>
and
<code>
maxExclusive
</code>
properties
indicate
limits
on
the
values
of
cells.
These
apply
to
numeric
and
date/time
types.
The
<code>
minimum
</code>
property
is
equivalent
to
the
<code>
minInclusive
</code>
property
and
the
<code>
maximum
</code>
property
is
equivalent
to
the
<code>
maxInclusive
</code>
property.
</p>
<p>
Validation
against
these
properties
is
as
defined
in
[
<cite>
<a class="bibref" href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#bib-xmlschema-2">
xmlschema-2
</a>
</cite>
].
</p>
</section>
</section>
<section id="parsing-cells" typeof="bibo:Chapter" resource="#parsing-cells" property="bibo:hasPart">
<h3 id="h-parsing-cells" resource="#h-parsing-cells">
<span property="xhv:role" resource="xhv:heading">
<span class="secno">
<del class="diff-old">3.8.5
</del>
<ins class="diff-chg">3.12
</ins>
</span>
Parsing
cells
</span>
</h3>
<p>
Unlike
many
other
data
formats,
tabular
data
is
designed
to
be
read
by
humans.
For
that
reason,
it's
common
for
data
to
be
represented
within
tabular
data
in
a
human-readable
way.
The
<code>
separator
</code>
and
<code>
format
</code>
properties
indicates
the
format
used
to
represent
data
within
the
table.
This
is
used:
</p>
<ul>
<li>
by
<strong>
validators
</strong>
to
check
that
the
data
in
the
table
is
in
the
expected
format
</li>
<li>
by
<strong>
converters
</strong>
to
parse
the
values
before
mapping
them
into
values
in
the
target
of
the
conversion
</li>
<li>
when
<strong>
displaying
</strong>
data,
to
map
it
into
formats
that
are
meaningful
for
those
viewing
the
data
(as
opposed
to
those
publishing
it)
</li>
<li>
when
<strong>
inputting
</strong>
data,
to
turn
entered
values
into
representations
in
a
consistent
format
</li>
</ul>
<p>
The
process
of
parsing
the
string
value
of
a
cell
into
a
single
value
or
a
list
of
values
is
as
follows:
</p>
<div class="issue">
<div class="issue-title" aria-level="4" role="heading" id="h-issue17">
<a href="https://github.com/w3c/csvw/issues/61">
<span>
<ins class="diff-new">Issue
61
</ins></span></a></div><p class=""><ins class="diff-new">
What
should
be
the
mapping
of
an
empty
cell?
</ins></p></div>
<ol>
<li>
unless
the
<code>
datatype
</code>
is
<code>
string
</code>
or
<code>
anySimpleType
</code>
or
<code>
any
</code>,
strip
leading
and
trailing
whitespace
from
the
value
</li>
<li>
if
the
value
is
the
same
as
the
<code>
null
</code>
value,
then
the
value
is
<code>
null
</code>
</li>
<li>
if
the
<code>
separator
</code>
property
is
not
<code>
null
</code>,
create
a
list
of
values
by
splitting
the
string
at
the
character
specified
by
the
<code>
separator
</code>
property
</li>
<li>
validate
the
value(s)
against
the
<code>
format
</code>,
if
one
is
specified,
as
described
below;
raise
an
error
if
any
of
the
values
do
not
match
the
specified
format
</li>
<li>
parse
the
value(s)
using
the
<code>
format
</code>,
as
described
below
</li>
</ol>
<section id="formats-for-strings" typeof="bibo:Chapter" resource="#formats-for-strings" property="bibo:hasPart">
<h4 id="h-formats-for-strings" resource="#h-formats-for-strings">
<span property="xhv:role" resource="xhv:heading">
<span class="secno">
<del class="diff-old">3.8.5.1
</del>
<ins class="diff-chg">3.12.1
</ins>
</span>
Formats
for
strings
</span>
</h4>
<p>
If
the
<code>
datatype
</code>
is
a
string
type,
the
<code>
format
</code>
property
provides
a
regular
expression
for
the
string
values,
in
the
syntax
defined
by
[
<cite>
<a class="bibref" href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#bib-ECMASCRIPT">
ECMASCRIPT
</a>
</cite>
].
</p>
<div class="issue">
<div class="issue-title" aria-level="5" role="heading" id="h-issue18">
<a href="https://github.com/w3c/csvw/issues/55">
<span>
Issue
<del class="diff-old">17
</del>
<ins class="diff-chg">55
</ins>
</span>
</a>
</div>
<p class="">
We
invite
comment
about
which
reference
to
use
for
regular
expression
syntax.
Other
possibilities
are
to
use
that
defined
by
XML
Schema
or
XPath.
</p>
</div>
</section>
<section id="formats-for-numeric-types" typeof="bibo:Chapter" resource="#formats-for-numeric-types" property="bibo:hasPart">
<h4 id="h-formats-for-numeric-types" resource="#h-formats-for-numeric-types">
<span property="xhv:role" resource="xhv:heading">
<span class="secno">
<del class="diff-old">3.8.5.2
</del>
<ins class="diff-chg">3.12.2
</ins>
</span>
Formats
for
numeric
types
</span>
</h4>
<p>
It
is
not
uncommon
for
numbers
within
tabular
data
to
be
formatted
for
human
consumption,
which
may
involve
using
commas
for
decimal
points,
grouping
digits
in
the
number
using
commas,
or
adding
currency
symbols
or
percent
signs
to
the
number.
</p>
<p>
If
the
<code>
datatype
</code>
is
a
numeric
type,
the
<code>
format
</code>
property
indicates
the
expected
format
for
that
number.
Validators
<em class="rfc2119" title="MUST">
MUST
</em>
check
that
the
numbers
in
the
column
adhere
to
the
specified
format.
Converters
<em class="rfc2119" title="MUST">
MUST
</em>
use
the
<code>
format
</code>
property
to
parse
the
number
when
mapping
it
into
a
suitable
type
in
the
target
language
of
the
conversion.
</p>
<p>
When
the
<code>
datatype
</code>
is
a
numeric
type,
the
<code>
format
</code>
property's
value
<em class="rfc2119" title="MUST">
MUST
</em>
be
a
number
format
as
specified
in
[
<cite>
<a class="bibref" href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#bib-xslt-21">
xslt-21
</a>
</cite>
].
</p>
<div class="issue">
<div class="issue-title" aria-level="5" role="heading" id="h-issue19">
<a href="https://github.com/w3c/csvw/issues/54">
<span>
Issue
<del class="diff-old">18
</del>
<ins class="diff-chg">54
</ins>
</span>
</a>
</div>
<p class="">
We
invite
comment
on
the
best
format
to
specify
how
to
parse
numbers.
</p>
</div>
<div class="issue">
<div class="issue-title" aria-level="5" role="heading" id="h-issue20">
<a href="https://github.com/w3c/csvw/issues/65">
<span>
<ins class="diff-new">Issue
65
</ins></span></a></div><p class=""><ins class="diff-new">
Register
of
recognised
date-time
picture
string
formats.
</ins></p></div>
</section>
<section id="formats-for-booleans" typeof="bibo:Chapter" resource="#formats-for-booleans" property="bibo:hasPart">
<h4 id="h-formats-for-booleans" resource="#h-formats-for-booleans">
<span property="xhv:role" resource="xhv:heading">
<span class="secno">
<del class="diff-old">3.8.5.3
</del>
<ins class="diff-chg">3.12.3
</ins>
</span>
Formats
for
booleans
</span>
</h4>
<p>
Boolean
values
may
be
represented
in
many
ways
aside
from
the
standard
<code>
1
</code>
and
<code>
0
</code>
or
<code>
true
</code>
and
<code>
false
</code>.
</p>
<p>
If
the
<code>
datatype
</code>
is
<code>
boolean
</code>,
the
<code>
format
</code>
property
provides
the
true
and
false
values
expected,
separated
by
<code>
|
</code>.
For
example
if
<code>
format
</code>
is
<code>
Y|N
</code>
then
cells
must
hold
either
<code>
Y
</code>
or
<code>
N
</code>
with
<code>
Y
</code>
meaning
<code>
true
</code>
and
<code>
N
</code>
meaning
<code>
false
</code>.
</p>
</section>
<section id="formats-for-dates-and-times" typeof="bibo:Chapter" resource="#formats-for-dates-and-times" property="bibo:hasPart">
<h4 id="h-formats-for-dates-and-times" resource="#h-formats-for-dates-and-times">
<span property="xhv:role" resource="xhv:heading">
<span class="secno">
<del class="diff-old">3.8.5.4
</del>
<ins class="diff-chg">3.12.4
</ins>
</span>
Formats
for
dates
and
times
</span>
</h4>
<p>
Dates
and
times
are
commonly
represented
in
tabular
data
in
formats
other
than
those
defined
in
[
<cite>
<a class="bibref" href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#bib-xmlschema-2">
xmlschema-2
</a>
</cite>
].
</p>
<p>
If
the
<code>
datatype
</code>
is
a
date
or
time
type,
the
<code>
format
</code>
property
indicates
the
expected
format
for
that
date
or
time.
Validators
<em class="rfc2119" title="MUST">
MUST
</em>
check
that
the
dates
or
times
in
the
column
adhere
to
the
specified
format.
Converters
<em class="rfc2119" title="MUST">
MUST
</em>
use
the
<code>
format
</code>
property
to
parse
the
date
or
time
when
mapping
it
into
a
suitable
type
in
the
target
language
of
the
conversion.
</p>
<p>
When
the
<code>
datatype
</code>
is
a
date
or
time
type,
the
<code>
format
</code>
property's
value
<em class="rfc2119" title="MUST">
MUST
</em>
be
a
date/time
format
as
specified
in
[
<cite>
<a class="bibref" href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#bib-xslt-21">
xslt-21
</a>
</cite>
].
</p>
<div class="issue">
<div class="issue-title" aria-level="5" role="heading" id="h-issue21">
<a href="https://github.com/w3c/csvw/issues/54">
<span>
Issue
<del class="diff-old">19
</del>
<ins class="diff-chg">54
</ins>
</span>
</a>
</div>
<p class="">
We
invite
comment
on
which
format
to
use
when
parsing
dates
and
times.
</p>
</div>
</section>
<section id="formats-for-durations" typeof="bibo:Chapter" resource="#formats-for-durations" property="bibo:hasPart">
<h4 id="h-formats-for-durations" resource="#h-formats-for-durations">
<span property="xhv:role" resource="xhv:heading">
<span class="secno">
<del class="diff-old">3.8.5.5
</del>
<ins class="diff-chg">3.12.5
</ins>
</span>
Formats
for
durations
</span>
</h4>
<div class="issue">
<div class="issue-title" aria-level="5" role="heading" id="h-issue22">
<a href="https://github.com/w3c/csvw/issues/54">
<span>
Issue
<del class="diff-old">20
</del>
<ins class="diff-chg">54
</ins>
</span>
</a>
</div>
<p class="">
We
invite
comment
on
whether
there
are
standard
formats
to
use
when
parsing
durations.
</p>
</div>
</section>
</section>
</section>
<section id="processing-tables" typeof="bibo:Chapter" resource="#processing-tables" property="bibo:hasPart">
<h2 id="h-processing-tables" resource="#h-processing-tables">
<span property="xhv:role" resource="xhv:heading">
<span class="secno">
<del class="diff-old">3.8.6
</del>
<ins class="diff-chg">4.
</ins>
</span>
<del class="diff-old">Additional
Constraints
</del>
<ins class="diff-chg">Processing
Tables
</ins></span></h2>
<p>
<del class="diff-old">A
set
</del>
<ins class="diff-chg">This
section
describes
how
particular
types
</ins>
of
<del class="diff-old">constraints
can
be
associated
with
</del>
<ins class="diff-chg">applications
should
use
the
metadata
supplied
about
</ins>
a
<del class="diff-old">cell.
These
constraints
can
be
used
</del>
<ins class="diff-chg">CSV
file
when
they
process
that
CSV
file.
</ins></p><section id="displaying-tables" typeof="bibo:Chapter" resource="#displaying-tables" property="bibo:hasPart"><h3 id="h-displaying-tables" resource="#h-displaying-tables"><span property="xhv:role" resource="xhv:heading"><span class="secno"><ins class="diff-chg">
4.1
</ins></span><ins class="diff-chg">
Displaying
Tables
</ins></span></h3><div class="issue"><div class="issue-title" aria-level="4" role="heading" id="h-issue23"><span><ins class="diff-chg">
Issue
</ins></span></div><div class=""><p><ins class="diff-chg">
We
intend
</ins>
to
<del class="diff-old">validate
data
against
a
JSON
Table
Schema.
The
constraints
might
be
used
by
consumers
</del>
<ins class="diff-chg">include
other
sections
here
about:
</ins></p><ul><li><ins class="diff-chg">
displaying
metadata
about
groups
of
tables,
tables,
columns,
rows,
cells
and
regions
</ins></li><li><ins class="diff-chg">
what
headings
</ins>
to
<del class="diff-old">validate,
</del>
<ins class="diff-chg">use
</ins>
for
<del class="diff-old">example,
the
contents
of
a
data
package,
or
as
a
means
</del>
<ins class="diff-chg">columns
when
displaying
tabular
content
</ins></li><li><ins class="diff-chg">
how
</ins>
to
<del class="diff-old">validate
data
being
collected
or
updated
via
a
data
entry
interface.
</del>
<ins class="diff-chg">format
values
in
cells
</ins></li></ul>
<p>
<del class="diff-old">A
constraints
descriptor
</del>
<ins class="diff-chg">Much
of
this
</ins>
is
<del class="diff-old">a
JSON
hash.
It
</del>
<ins class="diff-chg">likely
to
be
non-normative.
We
invite
comment
on
whether
it's
useful
to
provide
this
kind
of
guidance.
</ins></p></div>
<del class="diff-old">MAY
</del>
</div>
<section id="bidirectional-tables" typeof="bibo:Chapter" resource="#bidirectional-tables" property="bibo:hasPart">
<h4 id="h-bidirectional-tables" resource="#h-bidirectional-tables">
<del class="diff-old">contain
any
</del>
<span property="xhv:role" resource="xhv:heading">
<span class="secno">
<ins class="diff-chg">4.1.1
</ins></span><ins class="diff-chg">
Bidirectional
Tables
</ins></span></h4><p><ins class="diff-chg">
There
are
two
levels
of
bidirectionality
to
consider
when
displaying
tables:
the
directionality
</ins>
of
the
<del class="diff-old">following
keys.
</del>
<ins class="diff-chg">table
(ie
whether
the
columns
should
be
arranged
left-to-right
or
right-to-left)
and
the
directionality
of
the
content
of
individual
cells.
</ins>
</p>
<p>
<ins class="diff-chg">The
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#table-direction">
<code>
<del class="diff-old">minLength
</del>
<ins class="diff-chg">table-direction
</ins>
</code>
<del class="diff-old">–
An
integer
that
specifies
</del>
<ins class="diff-chg">property
</ins></a><ins class="diff-chg">
provides
information
about
</ins>
the
<del class="diff-old">minimum
number
</del>
<ins class="diff-chg">desired
display
</ins>
of
<del class="diff-old">characters
for
a
value
</del>
<ins class="diff-chg">the
table.
If
</ins>
<code>
<del class="diff-old">maxLength
</del>
<ins class="diff-chg">table-direction=ltr
</ins>
</code>
<del class="diff-old">–
An
integer
that
specifies
</del>
<ins class="diff-chg">then
</ins>
the
<del class="diff-old">maximum
number
of
characters
for
a
value
</del>
<ins class="diff-chg">first
column
</ins><em class="rfc2119" title="SHOULD"><ins class="diff-chg">
SHOULD
</ins></em><ins class="diff-chg">
be
displayed
on
the
left
and
the
last
column
on
the
right.
If
</ins>
<code>
<del class="diff-old">unique
</del>
<ins class="diff-chg">table-direction=rtl
</ins>
</code>
<del class="diff-old">–
A
boolean.
</del>
<ins class="diff-chg">then
the
first
column
</ins><em class="rfc2119" title="SHOULD"><ins class="diff-chg">
SHOULD
</ins></em><ins class="diff-chg">
be
displayed
on
the
right
and
the
last
column
on
the
left.
</ins></p><p>
If
<code>
<del class="diff-old">true
,
</del>
<ins class="diff-chg">table-direction=default
</ins></code>
then
<del class="diff-old">all
values
for
that
cell
MUST
</del>
<ins class="diff-chg">tables
</ins><em class="rfc2119" title="SHOULD"><ins class="diff-chg">
SHOULD
</ins>
</em>
be
<del class="diff-old">unique
within
</del>
<ins class="diff-chg">displayed
with
attention
to
</ins>
the
<del class="diff-old">data
file
</del>
<ins class="diff-chg">bidirectionality
of
the
content
of
the
file.
Specifically,
the
values
of
the
cells
</ins>
in
<del class="diff-old">which
it
is
found.
This
defines
a
unique
key
for
a
row
although
a
row
could
potentially
have
several
such
keys.
pattern
–
A
regular
expression
that
can
</del>
<ins class="diff-chg">the
table
should
</ins>
be
<del class="diff-old">used
</del>
<ins class="diff-chg">scanned
breadth
first:
from
the
first
cell
in
the
first
column
through
</ins>
to
<del class="diff-old">test
</del>
<ins class="diff-chg">the
last
</ins>
cell
<del class="diff-old">values.
</del>
<ins class="diff-chg">in
the
first
column,
down
to
the
last
cell
in
the
last
column.
</ins>
If
the
<del class="diff-old">regular
expression
matches
then
</del>
<ins class="diff-chg">first
character
in
</ins>
the
<del class="diff-old">value
is
valid.
Values
will
</del>
<ins class="diff-chg">table
with
a
</ins><a href="http://unicode.org/reports/tr9/#Bidirectional_Character_Types"><ins class="diff-chg">
strong
type
</ins></a><ins class="diff-chg">
as
defined
in
[
</ins><cite><a class="bibref" href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#bib-UNICODE-BIDI"><ins class="diff-chg">
UNICODE-BIDI
</ins></a></cite><ins class="diff-chg">
]
indicates
a
</ins><abbr title="right-to-left"><ins class="diff-chg">
RTL
</ins></abbr><ins class="diff-chg">
directionality,
the
table
should
</ins>
be
<del class="diff-old">treated
</del>
<ins class="diff-chg">displayed
with
the
first
column
on
the
right
and
the
last
column
on
the
left.
Otherwise,
the
table
should
be
displayed
with
the
first
column
on
the
left
and
the
last
column
on
the
right.
Characters
such
</ins>
as
<ins class="diff-new">whitespace,
quotes,
commas
and
numbers
do
not
have
</ins>
a
<del class="diff-old">string
of
characters.
It
is
recommended
</del>
<ins class="diff-chg">strong
type,
and
therefore
are
skipped
when
identifying
the
character
</ins>
that
<del class="diff-old">values
</del>
<ins class="diff-chg">determines
the
directionality
</ins>
of
<del class="diff-old">this
cell
conform
</del>
<ins class="diff-chg">the
table.
</ins></p><p><ins class="diff-chg">
Implementations
</ins><em class="rfc2119" title="SHOULD"><ins class="diff-chg">
SHOULD
</ins></em><ins class="diff-chg">
enable
user
preferences
</ins>
to
<ins class="diff-new">override
</ins>
the
<del class="diff-old">standard
XML
Schema
regular
expression
syntax
.
See
also
this
reference
.
minimum
–
specifies
</del>
<ins class="diff-chg">indicated
metadata
about
the
directionality
of
the
table.
</ins></p><p><ins class="diff-chg">
Once
the
directionality
of
the
table
has
been
determined,
each
cell
within
the
table
should
be
considered
as
</ins>
a
<del class="diff-old">minimum
value
</del>
<ins class="diff-chg">separate
</ins><a href="http://unicode.org/reports/tr9/#The_Paragraph_Level"><ins class="diff-chg">
paragraph
</ins></a>,<ins class="diff-chg">
as
defined
by
the
</ins><abbr title="Unicode Bidirectional Algorithm"><ins class="diff-chg">
UBA
</ins></abbr><ins class="diff-chg">
in
[
</ins><cite><a class="bibref" href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#bib-UNICODE-BIDI"><ins class="diff-chg">
UNICODE-BIDI
</ins></a></cite><ins class="diff-chg">
].
The
default
directionality
</ins>
for
<del class="diff-old">a
cell.
This
</del>
<ins class="diff-chg">the
cell
</ins>
is
<del class="diff-old">different
to
</del>
<ins class="diff-chg">determined
by
looking
at
the
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#cell-text-direction">
<code>
<del class="diff-old">minLength
</del>
<ins class="diff-chg">text-direction
</ins>
</code>
<ins class="diff-new">property
</ins></a>,
which
<del class="diff-old">checks
number
of
characters.
A
minimum
value
constraint
checks
whether
</del>
<ins class="diff-chg">is
an
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#dfn-inherited-property" class="internalDFN"><ins class="diff-chg">
inherited
property
</ins></a>.</p><p><ins class="diff-chg">
Thus,
as
defined
by
the
</ins><abbr title="Unicode Bidirectional Algorithm"><ins class="diff-chg">
UBA
</ins></abbr>,<ins class="diff-chg">
if
</ins>
a
cell
<del class="diff-old">value
is
greater
than
</del>
<ins class="diff-chg">contains
no
characters
with
a
strong
type
(if
it's
a
number
</ins>
or
<del class="diff-old">equal
to
</del>
<ins class="diff-chg">date
for
example)
then
</ins>
the
<del class="diff-old">specified
value.
The
range
checking
depends
on
</del>
<ins class="diff-chg">way
</ins>
the
<ins class="diff-new">cell
is
displayed
should
be
determined
by
the
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#cell-text-direction">
<code>
<del class="diff-old">type
</del>
<ins class="diff-chg">text-direction
</ins>
</code>
<ins class="diff-new">property
</ins></a>
of
the
cell.
<del class="diff-old">E.g.
an
integer
</del>
<ins class="diff-chg">However,
when
the
</ins>
cell
<del class="diff-old">may
have
</del>
<ins class="diff-chg">contains
characters
with
</ins>
a
<del class="diff-old">minimum
value
</del>
<ins class="diff-chg">strong
type
(such
as
letters)
then
they
</ins><em class="rfc2119" title="MUST"><ins class="diff-chg">
MUST
</ins></em><ins class="diff-chg">
be
displayed
according
to
the
Unicode
Bidirectional
Algorithm
as
described
in
[
</ins><cite><a class="bibref" href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#bib-UNICODE-BIDI"><ins class="diff-chg">
UNICODE-BIDI
</ins></a></cite><ins class="diff-chg">
].
</ins></p></section></section><section id="validating-tables" typeof="bibo:Chapter" resource="#validating-tables" property="bibo:hasPart"><h3 id="h-validating-tables" resource="#h-validating-tables"><span property="xhv:role" resource="xhv:heading"><span class="secno"><ins class="diff-chg">
4.2
</ins></span><ins class="diff-chg">
Validating
Tables
</ins></span></h3><div class="issue"><div class="issue-title" aria-level="4" role="heading" id="h-issue24"><span><ins class="diff-chg">
Issue
</ins></span></div><p class=""><ins class="diff-chg">
We
intend
to
detail
how
to
validate
groups
</ins>
of
<del class="diff-old">100;
a
date
cell
might
</del>
<ins class="diff-chg">tabular
data
files
against
metadata.
This
would
be
normative:
compliant
validators
would
</ins>
have
<ins class="diff-new">to
report
the
errors
and
warnings
that
we
define.
We
invite
comment
on
whether
this
is
</ins>
a
<del class="diff-old">minimum
date.
If
</del>
<ins class="diff-chg">useful
thing
to
specify.
</ins></p></div></section><section id="converting-tables" typeof="bibo:Chapter" resource="#converting-tables" property="bibo:hasPart"><h3 id="h-converting-tables" resource="#h-converting-tables"><span property="xhv:role" resource="xhv:heading"><span class="secno"><ins class="diff-chg">
4.3
</ins></span><ins class="diff-chg">
Converting
Tables
</ins></span></h3><p><ins class="diff-chg">
Conversions
of
tabular
data
to
other
formats
operate
over
</ins>
a
<del class="diff-old">minimum
value
constraint
is
specified
then
the
cell
descriptor
</del>
<a href="http://www.w3.org/TR/tabular-data-model/#dfn-annotated-table">
<ins class="diff-chg">annotated
table
</ins></a><ins class="diff-chg">
constructed
as
defined
in
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#annotating-tables" class="sectionRef sec-ref"><ins class="diff-chg">
section
</ins><span class="secno"><ins class="diff-chg">
2.
</ins></span><span class="sec-title"><ins class="diff-chg">
Annotating
Tables
</ins></span>
</a>.
<ins class="diff-chg">The
mechanics
of
these
conversions
to
other
formats
are
defined
in
other
specifications.
</ins></p><p><ins class="diff-chg">
Conversion
specifications
</ins><em class="rfc2119" title="MUST">
MUST
</em>
<del class="diff-old">contain
</del>
<ins class="diff-chg">define
</ins>
a
<ins class="diff-new">default
mapping
from
an
annotated
table
that
lacks
any
annotations
(ie
that
is
equivalent
to
an
un-annotated
table).
</ins></p><p><ins class="diff-new">
Conversion
specifications
</ins><em class="rfc2119" title="MUST"><ins class="diff-new">
MUST
</ins></em><ins class="diff-new">
use
either
the
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#column-name">
<code>
<del class="diff-old">type
</del>
<ins class="diff-chg">name
</ins>
</code>
<del class="diff-old">key
</del>
</a>
<ins class="diff-chg">or
the
</ins><a href="http://www5.aptest.com/standards/htmldiff/htmldiff.pl#column-predicateUrl">
<code>
<del class="diff-old">maximum
</del>
<ins class="diff-chg">predicateUrl
</ins>
</code>
<del class="diff-old">–
as
above,
but
specifies
</del>
</a>
<ins class="diff-chg">of
</ins>
a
<del class="diff-old">maximum
value
</del>
<ins class="diff-chg">column
as
the
basis
</ins>
for
<del class="diff-old">a
cell.
</del>
<ins class="diff-chg">naming
machine-readable
fields
in
the
target
format,
such
as
the
name
of
the
equivalent
element
or
attribute
in
XML,
property
in
JSON
or
property
URI
in
RDF.
</ins></p>
<p>
<del class="diff-old">A
constraints
descriptor
may
contain
multiple
constraints,
</del>
<ins class="diff-chg">Conversion
specifications
</ins><em class="rfc2119" title="MAY"><ins class="diff-chg">
MAY
</ins></em><ins class="diff-chg">
use
any
of
the
properties
defined
in
this
specification
to
adjust
the
mapping
of
an
annotated
table
into
another
format.
</ins></p><p><ins class="diff-chg">
Conversion
specifications
</ins><em class="rfc2119" title="MAY"><ins class="diff-chg">
MAY
</ins></em><ins class="diff-chg">
define
additional
properties,
not
defined
</ins>
in
<ins class="diff-new">this
specification,
</ins>
which
<del class="diff-old">case
</del>
<ins class="diff-chg">are
specifically
used
when
converting
to
the
target
format
of
the
conversion.
For
example,
a
conversion
to
XML
might
specify
</ins>
a
<del class="diff-old">consumer
</del>
<code>
<del class="diff-old">MUST
</del>
<ins class="diff-chg">element-or-attribute
</ins>
</code>
<del class="diff-old">apply
all
the
constraints
when
determining
if
</del>
<ins class="diff-chg">property
on
columns
that
determines
whether
</ins>
a
<del class="diff-old">cell
value
</del>
<ins class="diff-chg">particular
column
</ins>
is
<del class="diff-old">valid.
</del>
<ins class="diff-chg">represented
through
an
element
or
an
attribute
in
the
data.
</ins>
</p>
<p>
<del class="diff-old">A
data
file,
e.g.
an
entry
</del>
<ins class="diff-chg">Conversion
specifications
</ins><em class="rfc2119" title="SHOULD"><ins class="diff-chg">
SHOULD
</ins></em><ins class="diff-chg">
specify
format-specific
properties
specifying
external
processing
steps
to
provide
more
control
to
people
defining
conversions.
If
these
are
specified,
the
conversion
specification
</ins><em class="rfc2119" title="MUST"><ins class="diff-chg">
MUST
</ins></em><ins class="diff-chg">
specify
at
what
point
</ins>
in
<del class="diff-old">a
data
package,
</del>
<ins class="diff-chg">the
processing
this
external
processing
takes
place,
and
what
it
takes
place
on.
Examples
might
be:
</ins></p><ul><li><ins class="diff-chg">
the
URL
of
an
XSLT
file
that
</ins>
is
<del class="diff-old">considered
</del>
<ins class="diff-chg">used
</ins>
to
<del class="diff-old">be
valid
if
all
</del>
<ins class="diff-chg">process
XML
after
it
is
generated
</ins></li><li><ins class="diff-chg">
a
string
containing
a
SPARQL
CONSTRUCT
pattern
that
is
executed
on
RDF
after
it
is
generated
</ins></li><li><ins class="diff-chg">
properties
that
contain
definitions
</ins>
of
<del class="diff-old">its
cells
</del>
<ins class="diff-chg">Javascript
callback
functions
that
</ins>
are
<del class="diff-old">valid
according
to
their
declared
type
and
constraints
.
</del>
<ins class="diff-chg">used
when
processing
particular
columns
or
individual
rows
</ins></li></ul>
</section>
</section>
<section class="appendix" id="acknowledgements" typeof="bibo:Chapter" resource="#acknowledgements" property="bibo:hasPart">
<h2 id="h-acknowledgements" resource="#h-acknowledgements">
<span property="xhv:role" resource="xhv:heading">
<span class="secno">
A.
</span>
Acknowledgements
</span>
</h2>
<p>
This
document
is
largely
a
copy
of
content
from
the
<a href="http://dataprotocols.org/data-packages/">
Data
Package
</a>
specification
and
the
<a href="http://dataprotocols.org/json-table-schema/">
JSON
Table
Schema
</a>,
which
are
maintained
as
part
of
<a href="http://dataprotocols.org/">
Data
Protocols
</a>.
Particular
contributors
to
that
work
are
Rufus
Pollock,
Paul
Fitzpatrick,
Andrew
Berkeley,
Francis
Irving,
Benoit
Chesneau,
Leigh
Dodds,
Martin
Keegan,
and
Gunnlaugur
Thor
Briem.
</p>
</section>
<section class="appendix" id="iana-considerations" typeof="bibo:Chapter" resource="#iana-considerations" property="bibo:hasPart">
<h2 id="h-iana-considerations" resource="#h-iana-considerations">
<span property="xhv:role" resource="xhv:heading">
<span class="secno">
B.
</span>
IANA
Considerations
</span>
</h2>
<section id="registration-of-application-csvm-json" typeof="bibo:Chapter" resource="#registration-of-application-csvm-json" property="bibo:hasPart">
<h3 id="h-registration-of-application-csvm-json" resource="#h-registration-of-application-csvm-json">
<span property="xhv:role" resource="xhv:heading">
<span class="secno">
B.1
</span>
Registration
of
<code>
application/csvm+json
</code>
</span>
</h3>
<div class="issue">
<div class="issue-title" aria-level="4" role="heading" id="h-issue25">
<span>
Issue
<del class="diff-old">21
</del>
</span>
</div>
<p class="">
We
intend
to
include
a
registration
for
a
new
datatype,
namely
<code>
application/csvm+json
</code>.
We
invite
comment
about
how
to
indicate
that
this
is
consistent
with
<code>
application/ld+json
</code>,
or
whether
we
should
just
use
<code>
application/json
</code>
or
<code>
application/ld+json
</code>
and
not
create
a
specific
media
type
for
the
metadata
files
defined
in
this
document.
</p>
</div>
</section>
</section>
<section class="appendix" id="security-considerations" typeof="bibo:Chapter" resource="#security-considerations" property="bibo:hasPart">
<h2 id="h-security-considerations" resource="#h-security-considerations">
<span property="xhv:role" resource="xhv:heading">
<span class="secno">
C.
</span>
<del class="diff-old">JSON-LD
Context
</del>
<ins class="diff-chg">Security
Considerations
</ins></span>
</h2>
<del class="diff-old">The
following
JSON
document
is
the
JSON-LD
context
document
that
can
be
used
to
interpret
metadata
documents
as
RDF.
</del>
<div class="issue">
<div class="issue-title" aria-level="3" role="heading" id="h-issue26">
<a href="https://github.com/w3c/csvw/issues/8">
<span>
Issue
<del class="diff-old">22
</del>
<ins class="diff-chg">8
</ins>
</span>
</a>
</div>
<p class="">
<del class="diff-old">See
csvm-context.json
.
</del>
<ins class="diff-chg">TODO:
General
CSV
security
considerations.
</ins>
</p>
</div>
</section>
<section class="appendix" id="json-ld-context" typeof="bibo:Chapter" resource="#json-ld-context" property="bibo:hasPart">
<h2 id="h-json-ld-context" resource="#h-json-ld-context">
<span property="xhv:role" resource="xhv:heading">
<span class="secno">
D.
</span>
<ins class="diff-new">JSON-LD
Context
</ins></span></h2><p><ins class="diff-new">
The
JSON-LD
context,
located
at
</ins><code><a href="http://www.w3.org/ns/csvw.jsonld"><ins class="diff-new">
http://www.w3.org/ns/csvw.jsonld
</ins></a></code><ins class="diff-new">
is
used
with
metadata
documents.
</ins></p>      <pre><code>{
<ins class="diff-new">
  "@context": {
    "id": "@id",
    "type": "@type",
    "dc:title": {
      "@container": "@language"
    },
    "dc:description": {
      "@container": "@language"
    },
    "rdfs:comment": {
      "@container": "@language"
    },
    "rdfs:domain": {
      "@type": "@id"
    },
    "rdfs:label": {
      "@container": "@language"
    },
    "rdfs:range": {
      "@type": "@id"
    },
    "rdfs:subClassOf": {
      "@type": "@id"
    },
    "rdfs:subPropertyOf": {
      "@type": "@id"
    },
    "owl:equivalentClass": {
      "@type": "@vocab"
    },
    "owl:equivalentProperty": {
      "@type": "@vocab"
    },
    "owl:oneOf": {
      "@container": "@list",
      "@type": "@vocab"
    },
    "owl:imports": {
      "@type": "@id"
    },
    "owl:versionInfo": {
      "@type": "xsd:string",
      "@language": null
    },
    "owl:inverseOf": {
      "@type": "@vocab"
    },
    "owl:unionOf": {
      "@type": "@vocab",
      "@container": "@list"
    },
    "rdfs_classes": {
      "@reverse": "rdfs:isDefinedBy",
      "@type": "@id"
    },
    "rdfs_properties": {
      "@reverse": "rdfs:isDefinedBy",
      "@type": "@id"
    },
    "rdfs_datatypes": {
      "@reverse": "rdfs:isDefinedBy",
      "@type": "@id"
    },
    "rdfs_instances": {
      "@reverse": "rdfs:isDefinedBy",
      "@type": "@id"
    },
    "cc": "http://creativecommons.org/ns#",
    "csvw": "http://www.w3.org/ns/csvw#",
    "ctag": "http://commontag.org/ns#",
    "dc": "http://purl.org/dc/terms/",
    "dc11": "http://purl.org/dc/elements/1.1/",
    "dcat": "http://www.w3.org/ns/dcat#",
    "dcterms": "http://purl.org/dc/terms/",
    "earl": "http://www.w3.org/ns/earl#",
    "foaf": "http://xmlns.com/foaf/0.1/",
    "gr": "http://purl.org/goodrelations/v1#",
    "grddl": "http://www.w3.org/2003/g/data-view#",
    "ical": "http://www.w3.org/2002/12/cal/icaltzd#",
    "ma": "http://www.w3.org/ns/ma-ont#",
    "og": "http://ogp.me/ns#",
    "org": "http://www.w3.org/ns/org#",
    "owl": "http://www.w3.org/2002/07/owl#",
    "prov": "http://www.w3.org/ns/prov#",
    "qb": "http://purl.org/linked-data/cube#",
    "rdf": "http://www.w3.org/1999/02/22-rdf-syntax-ns#",
    "rdfa": "http://www.w3.org/ns/rdfa#",
    "rdfs": "http://www.w3.org/2000/01/rdf-schema#",
    "rev": "http://purl.org/stuff/rev#",
    "rif": "http://www.w3.org/2007/rif#",
    "rr": "http://www.w3.org/ns/r2rml#",
    "schema": {
      "@id": "csvw:schema",
      "@type": "@id"
    },
    "sd": "http://www.w3.org/ns/sparql-service-description#",
    "sioc": "http://rdfs.org/sioc/ns#",
    "skos": "http://www.w3.org/2004/02/skos/core#",
    "skosxl": "http://www.w3.org/2008/05/skos-xl#",
    "v": "http://rdf.data-vocabulary.org/#",
    "vcard": "http://www.w3.org/2006/vcard/ns#",
    "void": "http://rdfs.org/ns/void#",
    "wdr": "http://www.w3.org/2007/05/powder#",
    "wrds": "http://www.w3.org/2007/05/powder-s#",
    "xhv": "http://www.w3.org/1999/xhtml/vocab#",
    "xml": "rdf:XMLLiteral",
    "xsd": "http://www.w3.org/2001/XMLSchema#",
    "any": "xsd:anySimpleType",
    "binary": "xsd:base64Binary",
    "datetime": "xsd:dateTime",
    "describedby": "wrds:describedby",
    "html": "rdf:HTML",
    "license": "xhv:license",
    "maximum": "csvw:maxInclusive",
    "minimum": "csvw:minInclusive",
    "number": "xsd:double",
    "role": "xhv:role",
    "Column": "csvw:Column",
    "Dialect": "csvw:Dialect",
    "Direction": "csvw:Direction",
    "Schema": "csvw:Schema",
    "Table": "csvw:Table",
    "TableGroup": "csvw:TableGroup",
    "Template": "csvw:Template",
    "columns": {
      "@id": "csvw:columns",
      "@type": "@id",
      "@container": "@list"
    },
    "commentPrefix": {
      "@id": "csvw:commentPrefix"
    },
    "datatype": {
      "@id": "csvw:datatype"
    },
    "default": {
      "@id": "csvw:default"
    },
    "delimiter": {
      "@id": "csvw:delimiter"
    },
    "dialect": {
      "@id": "csvw:dialect",
      "@type": "@id"
    },
    "doubleQuote": {
      "@id": "csvw:doubleQuote",
      "@type": "xsd:boolean"
    },
    "encoding": {
      "@id": "csvw:encoding"
    },
    "foreignKeys": {
      "@id": "csvw:foreignKeys"
    },
    "format": {
      "@id": "csvw:format"
    },
    "header": {
      "@id": "csvw:header",
      "@type": "xsd:boolean"
    },
    "headerColumnCount": {
      "@id": "csvw:headerColumnCount",
      "@type": "xsd:nonNegativeInteger"
    },
    "headerRowCount": {
      "@id": "csvw:headerRowCount",
      "@type": "xsd:nonNegativeInteger"
    },
    "language": {
      "@id": "csvw:language"
    },
    "length": {
      "@id": "csvw:length",
      "@type": "xsd:nonNegativeInteger"
    },
    "lineTerminator": {
      "@id": "csvw:lineTerminator"
    },
    "maxExclusive": {
      "@id": "csvw:maxExclusive"
    },
    "maxInclusive": {
      "@id": "csvw:maxInclusive"
    },
    "maxLength": {
      "@id": "csvw:maxLength",
      "@type": "xsd:nonNegativeInteger"
    },
    "minExclusive": {
      "@id": "csvw:minExclusive"
    },
    "minInclusive": {
      "@id": "csvw:minInclusive"
    },
    "minLength": {
      "@id": "csvw:minLength",
      "@type": "xsd:nonNegativeInteger"
    },
    "name": {
      "@id": "csvw:name"
    },
    "notes": {
      "@id": "csvw:notes"
    },
    "null": {
      "@id": "csvw:null"
    },
    "predicateUrl": {
      "@id": "csvw:predicateUrl",
      "@type": "xsd:anyURI"
    },
    "primaryKey": {
      "@id": "csvw:primaryKey"
    },
    "quoteChar": {
      "@id": "csvw:quoteChar"
    },
    "required": {
      "@id": "csvw:required",
      "@type": "xsd:boolean"
    },
    "resources": {
      "@id": "csvw:resources",
      "@type": "@id",
      "@container": "@set"
    },
    "row": {
      "@id": "csvw:row",
      "@container": "@set"
    },
    "separator": {
      "@id": "csvw:separator"
    },
    "skipBlankRows": {
      "@id": "csvw:skipBlankRows",
      "@type": "xsd:boolean"
    },
    "skipColumns": {
      "@id": "csvw:skipColumns",
      "@type": "xsd:nonNegativeInteger"
    },
    "skipInitialSpace": {
      "@id": "csvw:skipInitialSpace",
      "@type": "xsd:boolean"
    },
    "skipRows": {
      "@id": "csvw:skipRows",
      "@type": "xsd:nonNegativeInteger"
    },
    "source": {
      "@id": "csvw:source"
    },
    "table": {
      "@id": "csvw:table",
      "@type": "@id",
      "@container": "@set"
    },
    "table-direction": {
      "@id": "csvw:table-direction",
      "@type": "@vocab"
    },
    "targetFormat": {
      "@id": "csvw:targetFormat"
    },
    "templateFormat": {
      "@id": "csvw:templateFormat"
    },
    "templates": {
      "@id": "csvw:templates",
      "@type": "@id"
    },
    "text-direction": {
      "@id": "csvw:text-direction",
      "@type": "@vocab"
    },
    "title": {
      "@id": "csvw:title",
      "@container": "@language"
    },
    "trim": {
      "@id": "csvw:trim",
      "@type": "xsd:boolean"
    },
    "uriTemplate": {
      "@id": "csvw:uriTemplate"
    },
    "json": "csvw:json"
  },
  "@id": "http://www.w3.org/ns/csvw#",
  "@type": "owl:Ontology",
  "dc:title": {
    "en": "Metadata Vocabulary for Tabular Data"
  },
  "dc:description": {
    "en": "Validation, conversion, display and search of tabular data on the web\n    requires additional metadata that describes how the data should be\n    interpreted. This document defines a vocabulary for metadata that\n    annotates tabular data. This can be used to provide metadata at various\n    levels, from collections of data from CSV documents and how they relate\n    to each other down to individual cells within a table."
  },
  "rdfs_classes": [
    {
      "@id": "csvw:Column",
      "@type": "rdfs:Class",
      "rdfs:label": {
        "en": "Column Description"
      },
      "rdfs:comment": {
        "en": "A Column Description describes a single column."
      }
    },
    {
      "@id": "csvw:Dialect",
      "@type": "rdfs:Class",
      "rdfs:label": {
        "en": "Dialect Description"
      },
      "rdfs:comment": {
        "en": "A Dialect Description provides hints to parsers about how to parse a linked file."
      }
    },
    {
      "@id": "csvw:Direction",
      "@type": "rdfs:Class",
      "rdfs:label": {
        "en": "Direction"
      },
      "rdfs:comment": {
        "en": "The class of table/text directions."
      }
    },
    {
      "@id": "csvw:Schema",
      "@type": "rdfs:Class",
      "rdfs:label": {
        "en": "Schema"
      },
      "rdfs:comment": {
        "en": "A Schema is a definition of a tabular format that may be common to multiple tables."
      }
    },
    {
      "@id": "csvw:Table",
      "@type": "rdfs:Class",
      "rdfs:label": {
        "en": "Table Description"
      },
      "rdfs:comment": {
        "en": "A table description is a JSON object that describes a table within a CSV file."
      }
    },
    {
      "@id": "csvw:TableGroup",
      "@type": "rdfs:Class",
      "rdfs:label": {
        "en": "Table Group Description"
      },
      "rdfs:comment": {
        "en": "A Table Group Description describes a group of Tables."
      }
    },
    {
      "@id": "csvw:Template",
      "@type": "rdfs:Class",
      "rdfs:label": {
        "en": "Template Specification"
      },
      "rdfs:comment": {
        "en": "A Template Specification is a definition of how tabular data can be transformed into another format."
      }
    }
  ],
  "rdfs_properties": [
    {
      "@id": "csvw:columns",
      "@type": "rdf:Property",
      "rdfs:label": {
        "en": "columns"
      },
      "rdfs:comment": {
        "en": "An array of Column Descriptions."
      },
      "rdfs:domain": "csvw:Schema",
      "rdfs:range": "csvw:Column"
    },
    {
      "@id": "csvw:commentPrefix",
      "@type": "rdf:Property",
      "rdfs:label": {
        "en": "comment prefix"
      },
      "rdfs:comment": {
        "en": "A character that, when it appears at the beginning of a skipped row, indicates a comment that should be associated as a comment annotation to the table. The default is \"#\"."
      },
      "rdfs:domain": "csvw:Dialect"
    },
    {
      "@id": "csvw:datatype",
      "@type": "rdf:Property",
      "rdfs:label": {
        "en": "datatype"
      },
      "rdfs:comment": {
        "en": "The main datatype of the values of the cell. If the cell contains a list (ie separator is specified and not null) then this is the datatype of each value within the list."
      },
      "rdfs:domain": {
        "owl:unionOf": [
          "csvw:TableGroup",
          "csvw:Table",
          "csvw:Schema",
          "csvw:Column"
        ]
      }
    },
    {
      "@id": "csvw:default",
      "@type": "rdf:Property",
      "rdfs:label": {
        "en": "default"
      },
      "rdfs:comment": {
        "en": "An atomic property holding a single string that provides a default string value for the cell in cases where the original string value is a null value. This default value may be used when converting the table into other formats."
      },
      "rdfs:domain": {
        "owl:unionOf": [
          "csvw:TableGroup",
          "csvw:Table",
          "csvw:Schema",
          "csvw:Column"
        ]
      }
    },
    {
      "@id": "csvw:delimiter",
      "@type": "rdf:Property",
      "rdfs:label": {
        "en": "delimiter"
      },
      "rdfs:comment": {
        "en": "The separator between cells. The default is \",\"."
      },
      "rdfs:domain": "csvw:Dialect"
    },
    {
      "@id": "csvw:dialect",
      "@type": "rdf:Property",
      "rdfs:label": {
        "en": "dialect"
      },
      "rdfs:comment": {
        "en": "Provides hints to processors about how to parse the referenced files for to create tabular data models for an individual table, or all the tables in a group."
      },
      "rdfs:domain": {
        "owl:unionOf": [
          "csvw:TableGroup",
          "csvw:Table"
        ]
      },
      "rdfs:range": "csvw:Dialect"
    },
    {
      "@id": "csvw:doubleQuote",
      "@type": "rdf:Property",
      "rdfs:label": {
        "en": "double quote"
      },
      "rdfs:comment": {
        "en": "If true, sets the escape character flag to \". If false, to \\\\."
      },
      "rdfs:domain": "csvw:Dialect",
      "rdfs:range": "xsd:boolean"
    },
    {
      "@id": "csvw:encoding",
      "@type": "rdf:Property",
      "rdfs:label": {
        "en": "encoding"
      },
      "rdfs:comment": {
        "en": "The character encoding for the file, one of the encodings listed in [encoding]. The default is utf-8."
      },
      "rdfs:domain": "csvw:Dialect"
    },
    {
      "@id": "csvw:foreignKeys",
      "@type": "rdf:Property",
      "rdfs:label": {
        "en": "foreign keys"
      },
      "rdfs:comment": {
        "en": "An array of foreign key definitions that define how the values from specified columns within this table link to rows within this table or other tables."
      },
      "rdfs:domain": "csvw:Schema"
    },
    {
      "@id": "csvw:format",
      "@type": "rdf:Property",
      "rdfs:label": {
        "en": "format"
      },
      "rdfs:comment": {
        "en": "A definition of the format of the cell, used when parsing the cell."
      },
      "rdfs:domain": {
        "owl:unionOf": [
          "csvw:TableGroup",
          "csvw:Table",
          "csvw:Schema",
          "csvw:Column"
        ]
      }
    },
    {
      "@id": "csvw:header",
      "@type": "rdf:Property",
      "rdfs:label": {
        "en": "header"
      },
      "rdfs:comment": {
        "en": ""
      },
      "rdfs:domain": "csvw:Dialect",
      "rdfs:range": "xsd:boolean"
    },
    {
      "@id": "csvw:headerColumnCount",
      "@type": "rdf:Property",
      "rdfs:label": {
        "en": "header column count"
      },
      "rdfs:comment": {
        "en": "The number of header columns (following the skipped columns) in each row. The default is 0.\n"
      },
      "rdfs:domain": "csvw:Dialect",
      "rdfs:range": "xsd:nonNegativeInteger"
    },
    {
      "@id": "csvw:headerRowCount",
      "@type": "rdf:Property",
      "rdfs:label": {
        "en": "header row count"
      },
      "rdfs:comment": {
        "en": "The number of header rows (following the skipped rows) in the file. The default is 1."
      },
      "rdfs:domain": "csvw:Dialect",
      "rdfs:range": "xsd:nonNegativeInteger"
    },
    {
      "@id": "csvw:language",
      "@type": "rdf:Property",
      "rdfs:label": {
        "en": "language"
      },
      "rdfs:comment": {
        "en": "A language code as defined by [BCP47]. Indicates the language of the value within the cell."
      },
      "rdfs:domain": {
        "owl:unionOf": [
          "csvw:TableGroup",
          "csvw:Table",
          "csvw:Schema",
          "csvw:Column"
        ]
      }
    },
    {
      "@id": "csvw:length",
      "@type": "rdf:Property",
      "rdfs:label": {
        "en": "length"
      },
      "rdfs:comment": {
        "en": "The exact length of the value of the cell."
      },
      "rdfs:domain": {
        "owl:unionOf": [
          "csvw:TableGroup",
          "csvw:Table",
          "csvw:Schema",
          "csvw:Column"
        ]
      },
      "rdfs:range": "xsd:nonNegativeInteger"
    },
    {
      "@id": "csvw:lineTerminator",
      "@type": "rdf:Property",
      "rdfs:label": {
        "en": "line terminator"
      },
      "rdfs:comment": {
        "en": "The character that is used at the end of a row. The default is CRLF."
      },
      "rdfs:domain": "csvw:Dialect"
    },
    {
      "@id": "csvw:maxExclusive",
      "@type": "rdf:Property",
      "rdfs:label": {
        "en": "max exclusive"
      },
      "rdfs:comment": {
        "en": "The maximum value for the cell (exclusive)."
      },
      "rdfs:domain": {
        "owl:unionOf": [
          "csvw:TableGroup",
          "csvw:Table",
          "csvw:Schema",
          "csvw:Column"
        ]
      }
    },
    {
      "@id": "csvw:maxInclusive",
      "@type": "rdf:Property",
      "rdfs:label": {
        "en": "max inclusive"
      },
      "rdfs:comment": {
        "en": "The maximum value for the cell (inclusive). "
      },
      "rdfs:domain": {
        "owl:unionOf": [
          "csvw:TableGroup",
          "csvw:Table",
          "csvw:Schema",
          "csvw:Column"
        ]
      }
    },
    {
      "@id": "csvw:maxLength",
      "@type": "rdf:Property",
      "rdfs:label": {
        "en": "max length"
      },
      "rdfs:comment": {
        "en": "The maximum length of the value of the cell."
      },
      "rdfs:domain": {
        "owl:unionOf": [
          "csvw:TableGroup",
          "csvw:Table",
          "csvw:Schema",
          "csvw:Column"
        ]
      },
      "rdfs:range": "xsd:nonNegativeInteger"
    },
    {
      "@id": "csvw:minExclusive",
      "@type": "rdf:Property",
      "rdfs:label": {
        "en": "min exclusive"
      },
      "rdfs:comment": {
        "en": "The minimum value for the cell (exclusive)."
      },
      "rdfs:domain": {
        "owl:unionOf": [
          "csvw:TableGroup",
          "csvw:Table",
          "csvw:Schema",
          "csvw:Column"
        ]
      }
    },
    {
      "@id": "csvw:minInclusive",
      "@type": "rdf:Property",
      "rdfs:label": {
        "en": "min inclusive"
      },
      "rdfs:comment": {
        "en": "The minimum value for the cell (inclusive)."
      },
      "rdfs:domain": {
        "owl:unionOf": [
          "csvw:TableGroup",
          "csvw:Table",
          "csvw:Schema",
          "csvw:Column"
        ]
      }
    },
    {
      "@id": "csvw:minLength",
      "@type": "rdf:Property",
      "rdfs:label": {
        "en": "min length"
      },
      "rdfs:comment": {
        "en": "The minimum length of the value of the cell."
      },
      "rdfs:domain": {
        "owl:unionOf": [
          "csvw:TableGroup",
          "csvw:Table",
          "csvw:Schema",
          "csvw:Column"
        ]
      },
      "rdfs:range": "xsd:nonNegativeInteger"
    },
    {
      "@id": "csvw:name",
      "@type": "rdf:Property",
      "rdfs:label": {
        "en": "name"
      },
      "rdfs:comment": {
        "en": "An atomic property that gives a canonical name for the column. This must be a string. Conversion specifications must use this property as the basis for the names of properties/elements/attributes in the results of conversions."
      },
      "rdfs:domain": "csvw:Column"
    },
    {
      "@id": "csvw:notes",
      "@type": "rdf:Property",
      "rdfs:label": {
        "en": "notes"
      },
      "rdfs:comment": {
        "en": "An array of objects representing annotations. This specification does not place any constraints on the structure of these objects."
      },
      "rdfs:domain": "csvw:Table"
    },
    {
      "@id": "csvw:null",
      "@type": "rdf:Property",
      "rdfs:label": {
        "en": "null"
      },
      "rdfs:comment": {
        "en": "The string used for null values. If not specified, the default for this is the empty string."
      },
      "rdfs:domain": {
        "owl:unionOf": [
          "csvw:TableGroup",
          "csvw:Table",
          "csvw:Schema",
          "csvw:Column"
        ]
      }
    },
    {
      "@id": "csvw:predicateUrl",
      "@type": "rdf:Property",
      "rdfs:label": {
        "en": "predicate URL"
      },
      "rdfs:comment": {
        "en": "An atomic property that holds one or more URIs that may be used as URIs for predicates if the table is mapped to another format."
      },
      "rdfs:domain": "csvw:Column",
      "rdfs:range": "xsd:anyURI"
    },
    {
      "@id": "csvw:primaryKey",
      "@type": "rdf:Property",
      "rdfs:label": {
        "en": "primary key"
      },
      "rdfs:comment": {
        "en": "A column reference property that holds either a single reference to a column description object or an array of references."
      },
      "rdfs:domain": "csvw:Schema"
    },
    {
      "@id": "csvw:quoteChar",
      "@type": "rdf:Property",
      "rdfs:label": {
        "en": "quote char"
      },
      "rdfs:comment": {
        "en": "The character that is used around escaped cells."
      },
      "rdfs:domain": "csvw:Dialect"
    },
    {
      "@id": "csvw:required",
      "@type": "rdf:Property",
      "rdfs:label": {
        "en": "required"
      },
      "rdfs:comment": {
        "en": "A boolean value which indicates whether every cell within the column must have a non-null value."
      },
      "rdfs:domain": "csvw:Column",
      "rdfs:range": "xsd:boolean"
    },
    {
      "@id": "csvw:resources",
      "@type": "rdf:Property",
      "rdfs:label": {
        "en": "resources"
      },
      "rdfs:comment": {
        "en": "An array of table descriptions for the tables in the group."
      },
      "rdfs:domain": "csvw:TableGroup",
      "rdfs:range": "csvw:Table"
    },
    {
      "@id": "csvw:row",
      "@type": "rdf:Property",
      "rdfs:label": {
        "en": "row"
      },
      "rdfs:comment": {
        "en": "Relates a Table to each Row output."
      },
      "rdfs:subPropertyOf": "rdfs:member",
      "rdfs:domain": "csvw:Table"
    },
    {
      "@id": "csvw:schema",
      "@type": "rdf:Property",
      "rdfs:label": {
        "en": "schema"
      },
      "rdfs:comment": {
        "en": "An object property that provides a schema description for an individual table, or all the tables in a group."
      },
      "rdfs:domain": {
        "owl:unionOf": [
          "csvw:TableGroup",
          "csvw:Table"
        ]
      },
      "rdfs:range": "csvw:Schema"
    },
    {
      "@id": "csvw:separator",
      "@type": "rdf:Property",
      "rdfs:label": {
        "en": "separator"
      },
      "rdfs:comment": {
        "en": "The character used to separate items in the string value of the cell."
      },
      "rdfs:domain": {
        "owl:unionOf": [
          "csvw:TableGroup",
          "csvw:Table",
          "csvw:Schema",
          "csvw:Column"
        ]
      }
    },
    {
      "@id": "csvw:skipBlankRows",
      "@type": "rdf:Property",
      "rdfs:label": {
        "en": "skip blank rows"
      },
      "rdfs:comment": {
        "en": "Indicates whether to ignore wholly empty rows (ie rows in which all the cells are empty). The default is false."
      },
      "rdfs:domain": "csvw:Dialect",
      "rdfs:range": "xsd:boolean"
    },
    {
      "@id": "csvw:skipColumns",
      "@type": "rdf:Property",
      "rdfs:label": {
        "en": "skip columns"
      },
      "rdfs:comment": {
        "en": "The number of columns to skip at the beginning of each row, before any header columns. The default is 0."
      },
      "rdfs:domain": "csvw:Dialect",
      "rdfs:range": "xsd:nonNegativeInteger"
    },
    {
      "@id": "csvw:skipInitialSpace",
      "@type": "rdf:Property",
      "rdfs:label": {
        "en": "skip initial space"
      },
      "rdfs:comment": {
        "en": "If true, sets the trim flag to \"start\". If false, to false."
      },
      "rdfs:domain": "csvw:Dialect",
      "rdfs:range": "xsd:boolean"
    },
    {
      "@id": "csvw:skipRows",
      "@type": "rdf:Property",
      "rdfs:label": {
        "en": "skip rows"
      },
      "rdfs:comment": {
        "en": "The number of rows to skip at the beginning of the file, before a header row or tabular data."
      },
      "rdfs:domain": "csvw:Dialect",
      "rdfs:range": "xsd:nonNegativeInteger"
    },
    {
      "@id": "csvw:source",
      "@type": "rdf:Property",
      "rdfs:label": {
        "en": "source"
      },
      "rdfs:comment": {
        "en": "The format to which the tabular data should be transformed prior to the transformation using the template. If the value is \"json\", the tabular data should first be transformed first to JSON based on the simple mapping defined in Generating JSON from Tabular Data on the Web. If the value is \"rdf\", it should similarly first be transformed to XML based on the simple mapping defined in Generating RDF from Tabular Data on the Web."
      },
      "rdfs:domain": "csvw:Template"
    },
    {
      "@id": "csvw:table",
      "@type": "rdf:Property",
      "rdfs:label": {
        "en": "table"
      },
      "rdfs:comment": {
        "en": "Relates an Table group to annotated tables. (Note, this is different from csvw:resources, which relates metadata, rather than resulting annotated table descriptions."
      },
      "rdfs:subPropertyOf": "rdfs:member",
      "rdfs:domain": "csvw:TableGroup",
      "rdfs:range": "csvw:Table"
    },
    {
      "@id": "csvw:table-direction",
      "@type": "rdf:Property",
      "rdfs:label": {
        "en": "table direction"
      },
      "rdfs:comment": {
        "en": "One of csvw:rtl csvw:ltr or csvw:default. Indicates whether the tables in the group should be displayed with the first column on the right, on the left, or based on the first character in the table that has a specific direction. "
      },
      "rdfs:domain": {
        "owl:unionOf": [
          "csvw:TableGroup",
          "csvw:Table"
        ]
      },
      "rdfs:range": "csvw:Direction"
    },
    {
      "@id": "csvw:targetFormat",
      "@type": "rdf:Property",
      "rdfs:label": {
        "en": "target format"
      },
      "rdfs:comment": {
        "en": "A URL for the format that will be created through the transformation. If one has been defined, this should be a URL for a media type, in the form http://www.iana.org/assignments/media-types/media-type such as http://www.iana.org/assignments/media-types/text/calendar. Otherwise, it can be any URL that describes the target format."
      },
      "rdfs:domain": "csvw:Template"
    },
    {
      "@id": "csvw:templateFormat",
      "@type": "rdf:Property",
      "rdfs:label": {
        "en": "template format"
      },
      "rdfs:comment": {
        "en": "A URL for the format that is used by the template. If one has been defined, this should be a URL for a media type, in the form http://www.iana.org/assignments/media-types/media-type such as http://www.iana.org/assignments/media-types/application/javascript. Otherwise, it can be any URL that describes the template format."
      },
      "rdfs:domain": "csvw:Template"
    },
    {
      "@id": "csvw:templates",
      "@type": "rdf:Property",
      "rdfs:label": {
        "en": "templates"
      },
      "rdfs:comment": {
        "en": "An array of template specifications that provide mechanisms to transform the tabular data into other formats. "
      },
      "rdfs:domain": {
        "owl:unionOf": [
          "csvw:TableGroup",
          "csvw:Table"
        ]
      },
      "rdfs:range": "csvw:Template"
    },
    {
      "@id": "csvw:text-direction",
      "@type": "rdf:Property",
      "rdfs:label": {
        "en": "text direction"
      },
      "rdfs:comment": {
        "en": "One of csvw:rtl or csvw:ltr. Indicates whether the text within cells should be displayed by default as left-to-right or right-to-left text. "
      },
      "rdfs:domain": {
        "owl:unionOf": [
          "csvw:TableGroup",
          "csvw:Table",
          "csvw:Schema",
          "csvw:Column"
        ]
      },
      "rdfs:range": "csvw:Direction"
    },
    {
      "@id": "csvw:title",
      "@type": "rdf:Property",
      "rdfs:label": {
        "en": "title"
      },
      "rdfs:comment": {
        "en": "For a Template: A natural language property that describes the format that will be generated from the transformation. This is useful if the target format is a generic format (such as application/json) and the transformation is creating a specific profile of that format.\n\nFor a Column: A natural language property that provides possible alternative names for the column."
      },
      "rdfs:domain": {
        "owl:unionOf": [
          "csvw:Template",
          "csvw:Column"
        ]
      }
    },
    {
      "@id": "csvw:trim",
      "@type": "rdf:Property",
      "rdfs:label": {
        "en": "trim"
      },
      "rdfs:comment": {
        "en": "Indicates whether to trim whitespace around cells; may be true, false, start or end. The default is false."
      },
      "rdfs:domain": "csvw:Dialect",
      "rdfs:range": "xsd:boolean"
    },
    {
      "@id": "csvw:uriTemplate",
      "@type": "rdf:Property",
      "rdfs:label": {
        "en": "uri template"
      },
      "rdfs:comment": {
        "en": "A URI template property that may be used to create a unique identifier for each row when mapping data to other formats."
      },
      "rdfs:domain": "csvw:Schema"
    }
  ],
  "rdfs_datatypes": [
    {
      "@id": "csvw:json",
      "@type": "rdfs:Datatype",
      "rdfs:label": {
        "en": "json"
      },
      "rdfs:comment": {
        "en": "A literal containing JSON."
      },
      "rdfs:subClassOf": "rdfs:Literal"
    }
  ],
  "rdfs_instances": [
    {
      "@id": "csvw:ltr",
      "@type": "Direction",
      "rdfs:label": {
        "en": "left to right"
      },
      "rdfs:comment": {
        "en": "Indicates text should be processed left to right."
      }
    },
    {
      "@id": "csvw:rtl",
      "@type": "Direction",
      "rdfs:label": {
        "en": "right to left"
      },
      "rdfs:comment": {
        "en": "Indiects text should be processed right to left"
      }
    }
  ]
}
</ins></code></pre></section><section id="references" class="appendix" typeof="bibo:Chapter" resource="#references" property="bibo:hasPart"><h2 id="h-references" resource="#h-references"><span property="xhv:role" resource="xhv:heading"><span class="secno"><ins class="diff-new">
E.
</ins></span>
References
</span>
</h2>
<section id="normative-references" typeof="bibo:Chapter" resource="#normative-references" property="bibo:hasPart">
<h3 id="h-normative-references" resource="#h-normative-references">
<span property="xhv:role" resource="xhv:heading">
<span class="secno">
<del class="diff-old">D.1
</del>
<ins class="diff-chg">E.1
</ins>
</span>
Normative
references
</span>
</h3>
<dl class="bibliography" resource="">
<del class="diff-old">[DC-TERMS]
</del>
<dt id="bib-BCP47">
<ins class="diff-chg">[BCP47]
</ins>
</dt>
<del class="diff-old">Dublin
Core
Metadata
Initiative.
</del>
<dd>
<ins class="diff-chg">A.
Phillips;
M.
Davis.
</ins><a href="http://tools.ietf.org/html/bcp47" property="dc:requires">
<cite>
<del class="diff-old">Dublin
Core
Metadata
Initiative
Terms,
version
1.1.
</del>
<ins class="diff-chg">Tags
for
Identifying
Languages
</ins>
</cite>
<del class="diff-old">11
October
2010.
DCMI
Recommendation.
URL:
http://dublincore.org/documents/2010/10/11/dcmi-terms/
</del>
</a>.
<ins class="diff-new">September
2009.
IETF
Best
Current
Practice.
URL:
</ins><a href="http://tools.ietf.org/html/bcp47" property="dc:requires"><ins class="diff-new">
http://tools.ietf.org/html/bcp47
</ins></a>
</dd>
<dt id="bib-ECMASCRIPT">
[ECMASCRIPT]
</dt>
<dd>
<ins class="diff-chg">Allen
Wirfs-Brock.
</ins><a href="http://people.mozilla.org/~jorendorff/es6-draft.html" property="dc:requires">
<cite>
ECMA-262
ECMAScript
Language
Specification,
Edition
6
</cite>
</a>.
Draft.
URL:
<a href="http://people.mozilla.org/~jorendorff/es6-draft.html" property="dc:requires">
http://people.mozilla.org/~jorendorff/es6-draft.html
</a>
</dd>
<del class="diff-old">[RFC3066]
H.
Alvestrand.
Tags
for
the
Identification
of
Languages
1995
.
Internet
Best
Current
Practice.
URL:
http://www.ietf.org/rfc/rfc3066.txt
</del>
<dt id="bib-UNICODE-BIDI">
[UNICODE-BIDI]
</dt>
<dd>
Mark
Davis;
Aharon
Lanin;
Andrew
Glass.
<a href="http://unicode.org/reports/tr9/" property="dc:requires">
<cite>
TR9,
Unicode
Bidirectional
Algorithm
</cite>
</a>.
Report.
URL:
<a href="http://unicode.org/reports/tr9/" property="dc:requires">
http://unicode.org/reports/tr9/
</a>
</dd>
<dt id="bib-URI-TEMPLATE">
<ins class="diff-new">[URI-TEMPLATE]
</ins></dt><dd><ins class="diff-new">
Joe
Gregorio;
Roy
T.
Fielding;
Marc
Hadley;
Mark
Nottingham;
David
Orchard.
</ins><a href="http://www.rfc-editor.org/rfc/rfc6570.txt" property="dc:requires"><cite><ins class="diff-new">
URI
Template
</ins></cite></a>.<ins class="diff-new">
March
2012.
RFC
6570.
URL:
</ins><a href="http://www.rfc-editor.org/rfc/rfc6570.txt" property="dc:requires"><ins class="diff-new">
http://www.rfc-editor.org/rfc/rfc6570.txt
</ins></a></dd><dt id="bib-encoding"><ins class="diff-new">
[encoding]
</ins></dt><dd><ins class="diff-new">
Anne
van
Kesteren;
Joshua
Bell;
Addison
Phillips.
</ins><a href="http://www.w3.org/TR/encoding/" property="dc:requires"><cite><ins class="diff-new">
Encoding
</ins></cite></a>.<ins class="diff-new">
16
September
2014.
W3C
Candidate
Recommendation.
URL:
</ins><a href="http://www.w3.org/TR/encoding/" property="dc:requires"><ins class="diff-new">
http://www.w3.org/TR/encoding/
</ins></a></dd>
<dt id="bib-tabular-data-model">
[tabular-data-model]
</dt>
<dd>
Jeni
Tennison;
Gregg
Kellogg.
<a href="http://www.w3.org/TR/2014/WD-tabular-data-model-20140710/" property="dc:requires">
<cite>
Model
for
Tabular
Data
and
Metadata
on
the
Web
</cite>
</a>.
W3C
Working
Draft.
URL:
<a href="http://www.w3.org/TR/2014/WD-tabular-data-model-20140710/" property="dc:requires">
http://www.w3.org/TR/2014/WD-tabular-data-model-20140710/
</a>
</dd>
<dt id="bib-xmlschema-2">
[xmlschema-2]
</dt>
<dd>
Paul
V.
Biron;
Ashok
Malhotra.
<a href="http://www.w3.org/TR/xmlschema-2/" property="dc:requires">
<cite>
XML
Schema
Part
2:
Datatypes
Second
Edition
</cite>
</a>.
28
October
2004.
W3C
Recommendation.
URL:
<a href="http://www.w3.org/TR/xmlschema-2/" property="dc:requires">
http://www.w3.org/TR/xmlschema-2/
</a>
</dd>
<dt id="bib-xslt-21">
[xslt-21]
</dt>
<dd>
Michael
Kay.
<a href="http://www.w3.org/TR/xslt-30/" property="dc:requires">
<cite>
XSL
Transformations
(XSLT)
Version
<del class="diff-old">2.1
</del>
<ins class="diff-chg">3.0
</ins>
</cite>
</a>.
<del class="diff-old">11
May
2011.
</del>
<ins class="diff-chg">2
October
2014.
</ins>
W3C
<ins class="diff-new">Last
Call
</ins>
Working
Draft.
URL:
<del class="diff-old">http://www.w3.org/TR/xslt-21/
</del>
<a href="http://www.w3.org/TR/xslt-30/" property="dc:requires">
<ins class="diff-chg">http://www.w3.org/TR/xslt-30/
</ins></a></dd></dl></section><section id="informative-references" typeof="bibo:Chapter" resource="#informative-references" property="bibo:hasPart"><h3 id="h-informative-references" resource="#h-informative-references"><span property="xhv:role" resource="xhv:heading"><span class="secno"><ins class="diff-chg">
E.2
</ins></span><ins class="diff-chg">
Informative
references
</ins></span></h3><dl class="bibliography" resource=""><dt id="bib-JSON-LD"><ins class="diff-chg">
[JSON-LD]
</ins></dt><dd><ins class="diff-chg">
Manu
Sporny;
Gregg
Kellogg;
Markus
Lanthaler.
</ins><a href="http://www.w3.org/TR/json-ld/" property="dc:references"><cite><ins class="diff-chg">
JSON-LD
1.0
</ins></cite></a>.<ins class="diff-chg">
16
January
2014.
W3C
Recommendation.
URL:
</ins><a href="http://www.w3.org/TR/json-ld/" property="dc:references"><ins class="diff-chg">
http://www.w3.org/TR/json-ld/
</ins></a></dd><dt id="bib-rdfa-core"><ins class="diff-chg">
[rdfa-core]
</ins></dt><dd><ins class="diff-chg">
Ben
Adida;
Mark
Birbeck;
Shane
McCarron;
Ivan
Herman
et
al.
</ins><a href="http://www.w3.org/TR/rdfa-core/" property="dc:references"><cite><ins class="diff-chg">
RDFa
Core
1.1
-
Third
Edition
</ins></cite></a>.<ins class="diff-chg">
16
December
2014.
W3C
Proposed
Edited
Recommendation.
URL:
</ins><a href="http://www.w3.org/TR/rdfa-core/" property="dc:references"><ins class="diff-chg">
http://www.w3.org/TR/rdfa-core/
</ins>
</a>
</dd>
</dl>
</section>
</section>


</body></html>
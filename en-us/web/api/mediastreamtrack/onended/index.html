<p>{{ APIRef(“Media Capture and Streams”) }}</p>
<p>The <strong><code>MediaStreamTrack.onended</code></strong> event handler is used to specify a function which serves as an <a href="/en-US/docs/Web/Events/Event_handlers">event handler</a> to be called when the <a href="/en-US/docs/Web/API/MediaStreamTrack/ended_event"><code>ended</code></a> event occurs on the track. This event occurs when the track will no longer provide data to the stream for any reason, including the end of the media input being reached, the user revoking needed permissions, the source device being removed, or the remote peer ending a connection.</p>
<h2 id="syntax">Syntax</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="va">MediaStreamTrack</span>.<span class="at">onended</span> <span class="op">=</span> <span class="kw">function</span><span class="op">;</span></a></code></pre></div>
<h3 id="value">Value</h3>
<p>A function to serve as an <a href="/en-US/docs/Web/Events/Event_handlers">event handler</a> for the <a href="/en-US/docs/Web/API/MediaStreamTrack/ended_event"><code>ended</code></a> event. The event handler function receives a single parameter: the event object, which is a simple {{domxref(“Event”)}} object.</p>
<h2 id="examples">Examples</h2>
<p>This example sets up an event handler for the <code>ended</code> event which changes an on-screen icon to indicate that the track is no longer active.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="va">track</span>.<span class="at">onended</span> <span class="op">=</span> <span class="kw">function</span>(event) <span class="op">{</span></a>
<a class="sourceLine" id="cb2-2" title="2">  <span class="kw">let</span> statusElem <span class="op">=</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;status-icon&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-3" title="3"></a>
<a class="sourceLine" id="cb2-4" title="4">  <span class="va">statusElem</span>.<span class="at">src</span> <span class="op">=</span> <span class="st">&quot;/images/stopped-icon.png&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb2-5" title="5"><span class="op">}</span></a></code></pre></div>
<h2 id="specifications">Specifications</h2>
<p>{{Specifications}}</p>
<h2 id="browser-compatibility">Browser compatibility</h2>
<p>{{Compat}}</p>
<h2 id="see-also">See also</h2>
<ul>
<li>The <a href="/en-US/docs/Web/API/MediaStreamTrack/ended_event"><code>ended</code></a> event and its type, {{domxref(“Event”)}}.</li>
</ul>

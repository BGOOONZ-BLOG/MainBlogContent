<p>{{APIRef(“Web Audio API”)}}</p>
<p>The <strong><code>MediaStreamAudioSourceNode</code></strong> interface is a type of {{domxref(“AudioNode”)}} which operates as an audio source whose media is received from a {{domxref(“MediaStream”)}} obtained using the WebRTC or Media Capture and Streams APIs.</p>
<p>This media could be from a microphone (through {{domxref(“MediaDevices.getUserMedia”, “getUserMedia()”)}}) or from a remote peer on a WebRTC call (using the {{domxref(“RTCPeerConnection”)}}’s audio tracks).</p>
<p>A <code>MediaStreamAudioSourceNode</code> has no inputs and exactly one output, and is created using the {{domxref(“AudioContext.createMediaStreamSource()”)}} method.</p>
<p>The <code>MediaStreamAudioSourceNode</code> takes the audio from the <em>first</em> {{domxref(“MediaStreamTrack”)}} whose {{domxref(“MediaStreamTrack.kind”, “kind”)}} attribute’s value is <code>audio</code>. See {{anch(“Track ordering”)}} for more information about the order of tracks.</p>
<p>The number of channels output by the node matches the number of tracks found in the selected audio track.</p>
<table class="properties">
<tbody>
<tr>
<th scope="row">
Number of inputs
</th>
<td>
<code>0</code>
</td>
</tr>
<tr>
<th scope="row">
Number of outputs
</th>
<td>
<code>1</code>
</td>
</tr>
<tr>
<th scope="row">
Channel count
</th>
<td>
defined by the first audio {{domxref(“MediaStreamTrack”)}} passed to the {{domxref(“AudioContext.createMediaStreamSource()”)}} method that created it.
</td>
</tr>
</tbody>
</table>
<h2 id="constructor">Constructor</h2>
<ul>
<li>{{domxref(“MediaStreamAudioSourceNode.MediaStreamAudioSourceNode”, “new MediaStreamAudioSourceNode()”)}}
<ul>
<li>: Creates a new <code>MediaStreamAudioSourceNode</code> object instance with the specified options.</li>
</ul></li>
</ul>
<h2 id="properties">Properties</h2>
<p><em>In addition to the following properties, <code>MediaStreamAudioSourceNode</code> inherits the properties of its parent, {{domxref(“AudioNode”)}}.</em></p>
<ul>
<li>{{domxref(“MediaStreamAudioSourceNode.mediaStream”, “mediaStream”)}} {{ReadOnlyInline}}
<ul>
<li>: The {{domxref(“MediaStream”)}} used when constructing this <code>MediaStreamAudioSourceNode</code>.</li>
</ul></li>
</ul>
<h2 id="methods">Methods</h2>
<p><em>Inherits methods from its parent, {{domxref(“AudioNode”)}}</em>.</p>
<h2 id="exceptions">Exceptions</h2>
<ul>
<li><code>InvalidStateError</code> {{domxref(“DOMException”)}}
<ul>
<li>: Thrown if the stream specified by the <code>mediaStream</code> parameter does not contain any audio tracks.</li>
</ul></li>
</ul>
<h2 id="usage-notes">Usage notes</h2>
<h3 id="track-ordering">Track ordering</h3>
<p>For the purposes of the <code>MediaStreamTrackAudioSourceNode</code> interface, the order of the audio tracks on the stream is determined by taking the tracks whose {{domxref(“MediaStreamTrack.kind”, “kind”)}} is <code>audio</code>, then sorting the tracks by their {{domxref(“MediaStreamTrack.id”, “id”)}} property’s values, in Unicode code point order (essentially, in alphabetical or lexicographical order, for IDs which are simple alphanumeric strings).</p>
<p>The <strong>first</strong> track, then, is the track whose <code>id</code> comes first when the tracks’ IDs are all sorted by Unicode code point.</p>
<p>However, it’s important to note that the rule establishing this ordering was added long after this interface was first introduced into the <a href="/en-US/docs/Web/API/Web_Audio_API">Web Audio API</a>. As such, you can’t easily rely on the order matching between any two browsers or browser versions.</p>
<p>The {{domxref(“MediaStreamTrackAudioSourceNode”)}} interface is similar to <code>MediaStreamAudioSourceNode</code>, but avoids this problem by letting you specify which track you want to use.</p>
<h2 id="example">Example</h2>
<p>See <a href="/en-US/docs/Web/API/AudioContext/createMediaStreamSource#example"><code>AudioContext.createMediaStreamSource()</code></a> for example code that uses this object.</p>
<h2 id="specifications">Specifications</h2>
<p>{{Specifications}}</p>
<h2 id="browser-compatibility">Browser compatibility</h2>
<p>{{Compat}}</p>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="/en-US/docs/Web/API/Web_Audio_API/Using_Web_Audio_API">Using the Web Audio API</a></li>
<li><a href="/en-US/docs/Web/API/WebRTC_API">WebRTC API</a></li>
<li><a href="/en-US/docs/Web/API/Media_Streams_API">Media Capture and Streams API (Media Streams)</a></li>
<li>{{domxref(“MediaStreamTrackAudioSourceNode”)}}</li>
</ul>

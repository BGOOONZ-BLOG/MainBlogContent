<!DOCTYPE html>
<html lang="en-us" typeof="bibo:Document " about="" property="dcterms:language" content="en">
<head>
  <style>/* --- EXAMPLES --- */
div.example-title {
    min-width: 7.5em;
    color: #b9ab2d;
}
div.example-title span {
    text-transform: uppercase;   
}
aside.example, div.example, div.illegal-example {
    padding: 0.5em;
    margin: 1em 0;
    position: relative;
    clear: both;
}
div.illegal-example { color: red }
div.illegal-example p { color: black }
aside.example, div.example {
    padding: .5em;
    border-left-width: .5em;
    border-left-style: solid;
    border-color: #e0cb52;
    background: #fcfaee;    
}

aside.example div.example {
    border-left-width: .1em;
    border-color: #999;
    background: #fff;
}
aside.example div.example div.example-title {
    color: #999;
}
</style><style>/* --- ISSUES/NOTES --- */
div.issue-title, div.note-title {
    padding-right:  1em;
    min-width: 7.5em;
    color: #b9ab2d;
}
div.issue-title { color: #e05252; }
div.note-title { color: #2b2; }
div.issue-title span, div.note-title span {
    text-transform: uppercase;
}
div.note, div.issue {
    margin-top: 1em;
    margin-bottom: 1em;
}
.note > p:first-child, .issue > p:first-child { margin-top: 0 }
.issue, .note {
    padding: .5em;
    border-left-width: .5em;
    border-left-style: solid;
}
div.issue, div.note {
    padding: 1em 1.2em 0.5em;
    margin: 1em 0;
    position: relative;
    clear: both;
}
span.note, span.issue { padding: .1em .5em .15em; }

.issue {
    border-color: #e05252;
    background: #fbe9e9;
}
.note {
    border-color: #52e052;
    background: #e9fbe9;
}


</style><style>/* HIGHLIGHTS */
code.prettyprint {
    color:  inherit;
}

/* this from google-code-prettify */
.pln{color:#000}@media screen{.str{color:#080}.kwd{color:#008}.com{color:#800}.typ{color:#606}.lit{color:#066}.pun,.opn,.clo{color:#660}.tag{color:#008}.atn{color:#606}.atv{color:#080}.dec,.var{color:#606}.fun{color:red}}@media print,projection{.str{color:#060}.kwd{color:#006;font-weight:bold}.com{color:#600;font-style:italic}.typ{color:#404;font-weight:bold}.lit{color:#044}.pun,.opn,.clo{color:#440}.tag{color:#006;font-weight:bold}.atn{color:#404}.atv{color:#060}}ol.linenums{margin-top:0;margin-bottom:0}li.L0,li.L1,li.L2,li.L3,li.L5,li.L6,li.L7,li.L8{list-style-type:none}li.L1,li.L3,li.L5,li.L7,li.L9{background:#eee}
</style><style>/* --- Best Practices --- */
div.practice {
    border: solid #bebebe 1px;
    margin: 2em 1em 1em 2em;
}

span.practicelab {
    margin: 1.5em 0.5em 1em 1em;
    font-weight: bold;
    font-style: italic;
    background: #dfffff;
    position: relative;
    padding: 0 0.5em;
    top: -1.5em;
}

p.practicedesc {
    margin: 1.5em 0.5em 1em 1em;
}

@media screen {
    p.practicedesc {
        position: relative;
        top: -2em;
        padding: 0;
        margin: 1.5em 0.5em -1em 1em;
    }
}
</style><style>/* --- WEB IDL --- */
pre.idl {
    border-top: 1px solid #90b8de;
    border-bottom: 1px solid #90b8de;
    padding:    1em;
    line-height:    120%;
}

pre.idl::before {
    content:    "WebIDL";
    display:    block;
    width:      150px;
    background: #90b8de;
    color:  #fff;
    font-family:    initial;
    padding:    3px;
    font-weight:    bold;
    margin: -1em 0 1em -1em;
}

.idlType {
    color:  #ff4500;
    font-weight:    bold;
    text-decoration:    none;
}

/*.idlModule*/
/*.idlModuleID*/
/*.idlInterface*/
.idlInterfaceID, .idlDictionaryID, .idlCallbackID, .idlEnumID {
    font-weight:    bold;
    color:  #005a9c;
}
a.idlEnumItem {
    color:  #000;
    border-bottom:  1px dotted #ccc;
    text-decoration: none;
}

.idlSuperclass {
    font-style: italic;
    color:  #005a9c;
}

/*.idlAttribute*/
.idlAttrType, .idlFieldType, .idlMemberType {
    color:  #005a9c;
}
.idlAttrName, .idlFieldName, .idlMemberName {
    color:  #ff4500;
}
.idlAttrName a, .idlFieldName a, .idlMemberName a {
    color:  #ff4500;
    border-bottom:  1px dotted #ff4500;
    text-decoration: none;
}

/*.idlMethod*/
.idlMethType, .idlCallbackType {
    color:  #005a9c;
}
.idlMethName {
    color:  #ff4500;
}
.idlMethName a {
    color:  #ff4500;
    border-bottom:  1px dotted #ff4500;
    text-decoration: none;
}

/*.idlCtor*/
.idlCtorName {
    color:  #ff4500;
}
.idlCtorName a {
    color:  #ff4500;
    border-bottom:  1px dotted #ff4500;
    text-decoration: none;
}

/*.idlParam*/
.idlParamType {
    color:  #005a9c;
}
.idlParamName, .idlDefaultValue {
    font-style: italic;
}

.extAttr {
    color:  #666;
}

/*.idlSectionComment*/
.idlSectionComment {
    color: gray;
}

/*.idlConst*/
.idlConstType {
    color:  #005a9c;
}
.idlConstName {
    color:  #ff4500;
}
.idlConstName a {
    color:  #ff4500;
    border-bottom:  1px dotted #ff4500;
    text-decoration: none;
}

/*.idlException*/
.idlExceptionID {
    font-weight:    bold;
    color:  #c00;
}

.idlTypedefID, .idlTypedefType {
    color:  #005a9c;
}

.idlRaises, .idlRaises a.idlType, .idlRaises a.idlType code, .excName a, .excName a code {
    color:  #c00;
    font-weight:    normal;
}

.excName a {
    font-family:    monospace;
}

.idlRaises a.idlType, .excName a.idlType {
    border-bottom:  1px dotted #c00;
}

.excGetSetTrue, .excGetSetFalse, .prmNullTrue, .prmNullFalse, .prmOptTrue, .prmOptFalse {
    width:  45px;
    text-align: center;
}
.excGetSetTrue, .prmNullTrue, .prmOptTrue { color:  #0c0; }
.excGetSetFalse, .prmNullFalse, .prmOptFalse { color:  #c00; }

.idlImplements a {
    font-weight:    bold;
}

dl.attributes, dl.methods, dl.constants, dl.constructors, dl.fields, dl.dictionary-members {
    margin-left:    2em;
}

.attributes dt, .methods dt, .constants dt, .constructors dt, .fields dt, .dictionary-members dt {
    font-weight:    normal;
}

.attributes dt code, .methods dt code, .constants dt code, .constructors dt code, .fields dt code, .dictionary-members dt code {
    font-weight:    bold;
    color:  #000;
    font-family:    monospace;
}

.attributes dt code, .fields dt code, .dictionary-members dt code {
    background:  #ffffd2;
}

.attributes dt .idlAttrType code, .fields dt .idlFieldType code, .dictionary-members dt .idlMemberType code {
    color:  #005a9c;
    background:  transparent;
    font-family:    inherit;
    font-weight:    normal;
    font-style: italic;
}

.methods dt code {
    background:  #d9e6f8;
}

.constants dt code {
    background:  #ddffd2;
}

.constructors dt code {
    background:  #cfc;
}

.attributes dd, .methods dd, .constants dd, .constructors dd, .fields dd, .dictionary-members dd {
    margin-bottom:  1em;
}

table.parameters, table.exceptions {
    border-spacing: 0;
    border-collapse:    collapse;
    margin: 0.5em 0;
    width:  100%;
}
table.parameters { border-bottom:  1px solid #90b8de; }
table.exceptions { border-bottom:  1px solid #deb890; }

.parameters th, .exceptions th {
    color:  #fff;
    padding:    3px 5px;
    text-align: left;
    font-family:    initial;
    font-weight:    normal;
    text-shadow:    #666 1px 1px 0;
}
.parameters th { background: #90b8de; }
.exceptions th { background: #deb890; }

.parameters td, .exceptions td {
    padding:    3px 10px;
    border-top: 1px solid #ddd;
    vertical-align: top;
}

.parameters tr:first-child td, .exceptions tr:first-child td {
    border-top: none;
}

.parameters td.prmName, .exceptions td.excName, .exceptions td.excCodeName {
    width:  100px;
}

.parameters td.prmType {
    width:  120px;
}

table.exceptions table {
    border-spacing: 0;
    border-collapse:    collapse;
    width:  100%;
}
</style><link href="getusermedia.css" rel="stylesheet" type="text/css">

  <title>Media Capture and Streams</title>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  
  
<style>/*****************************************************************
 * ReSpec 3 CSS
 * Robin Berjon - http://berjon.com/
 *****************************************************************/

/* --- INLINES --- */
em.rfc2119 { 
    text-transform:     lowercase;
    font-variant:       small-caps;
    font-style:         normal;
    color:              #900;
}

h1 acronym, h2 acronym, h3 acronym, h4 acronym, h5 acronym, h6 acronym, a acronym,
h1 abbr, h2 abbr, h3 abbr, h4 abbr, h5 abbr, h6 abbr, a abbr {
    border: none;
}

dfn {
    font-weight:    bold;
}

a.internalDFN {
    color:  inherit;
    border-bottom:  1px solid #99c;
    text-decoration:    none;
}

a.externalDFN {
    color:  inherit;
    border-bottom:  1px dotted #ccc;
    text-decoration:    none;
}

a.bibref {
    text-decoration:    none;
}

cite .bibref {
    font-style: normal;
}

code {
    color:  #ff4500;
}

/* --- TOC --- */
.toc a, .tof a {
    text-decoration:    none;
}

a .secno, a .figno {
    color:  #000;
}

ul.tof, ol.tof {
    list-style: none outside none;
}

.caption {
    margin-top: 0.5em;
    font-style:   italic;
}

/* --- TABLE --- */
table.simple {
    border-spacing: 0;
    border-collapse:    collapse;
    border-bottom:  3px solid #005a9c;
}

.simple th {
    background: #005a9c;
    color:  #fff;
    padding:    3px 5px;
    text-align: left;
}

.simple th[scope="row"] {
    background: inherit;
    color:  inherit;
    border-top: 1px solid #ddd;
}

.simple td {
    padding:    3px 10px;
    border-top: 1px solid #ddd;
}

.simple tr:nth-child(even) {
    background: #f0f6ff;
}

/* --- DL --- */
.section dd > p:first-child {
    margin-top: 0;
}

.section dd > p:last-child {
    margin-bottom: 0;
}

.section dd {
    margin-bottom:  1em;
}

.section dl.attrs dd, .section dl.eldef dd {
    margin-bottom:  0;
}

@media print {
    .removeOnSave {
        display: none;
    }
}
</style><link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/W3C-ED"><!--[if lt IE 9]><script src='https://www.w3.org/2008/site/js/html5shiv.js'></script><![endif]--></head>

<body class="h-entry" style="" role="document" id="respecDocument"><div class="head" role="contentinfo" id="respecHeader">
  <p>
    
      <a href="http://www.w3.org/"><img width="72" height="48" src="https://www.w3.org/Icons/w3c_home" alt="W3C"></a>
    
  </p>
  <h1 class="title p-name" id="title" property="dcterms:title">Media Capture and Streams</h1>
  
  <h2 property="dcterms:issued" datatype="xsd:dateTime" content="2014-01-31T05:34:25.000Z" id="w3c-editor-s-draft-30-january-2014"><acronym title="World Wide Web Consortium">W3C</acronym> Editor's Draft <time class="dt-published" datetime="2014-01-30">30 January 2014</time></h2>
  <dl>
    
      <dt>This version:</dt>
      <dd><a class="u-url" href="http://dev.w3.org/2011/webrtc/editor/archives/20140130/getusermedia.html">http://dev.w3.org/2011/webrtc/editor/archives/20140130/getusermedia.html</a></dd>
      <dt>Latest published version:</dt>
      <dd><a href="http://www.w3.org/TR/mediacapture-streams/">http://www.w3.org/TR/mediacapture-streams/</a></dd>
    
    
      <dt>Latest editor's draft:</dt>
      <dd><a href="http://dev.w3.org/2011/webrtc/editor/getusermedia.html">http://dev.w3.org/2011/webrtc/editor/getusermedia.html</a></dd>
    
    
    
    
      
        <dt>Previous editor's draft:</dt>
        <dd><a href="http://dev.w3.org/2011/webrtc/editor/archives/20131225/getusermedia.html">http://dev.w3.org/2011/webrtc/editor/archives/20131225/getusermedia.html</a></dd>
      
    
    
    
    <dt>Editors:</dt>
    <dd class="p-author h-card vcard" rel="bibo:editor" inlist=""><span typeof="foaf:Person"><span property="foaf:name" class="p-name fn">Daniel C. Burnett</span>, Voxeo</span>
</dd>
<dd class="p-author h-card vcard" rel="bibo:editor" inlist=""><span typeof="foaf:Person"><span property="foaf:name" class="p-name fn">Adam Bergkvist</span>, Ericsson</span>
</dd>
<dd class="p-author h-card vcard" rel="bibo:editor" inlist=""><span typeof="foaf:Person"><span property="foaf:name" class="p-name fn">Cullen Jennings</span>, Cisco</span>
</dd>
<dd class="p-author h-card vcard" rel="bibo:editor" inlist=""><span typeof="foaf:Person"><span property="foaf:name" class="p-name fn">Anant Narayanan</span>, Mozilla (until November 2012)</span>
</dd>

    
    
  </dl>
  
  
  
  
    
      <p class="copyright">Initial Author of this Specification was Ian Hickson, Google Inc., with the following copyright statement:<br> © Copyright 2004-2011 Apple Computer, Inc., Mozilla Foundation, and Opera Software ASA. You are granted a license to use, reproduce and create derivative works of this document.</p> <p class="copyright">All subsequent changes since 26 July 2011 done by the <acronym title="World Wide Web Consortium">W3C</acronym> WebRTC Working Group and the Device APIs Working Group are under the following <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a>:<br>© 2011-2013 <a href="http://www.w3.org/"><acronym title="World Wide Web Consortium">W3C</acronym></a><sup>®</sup> (<a href="http://www.csail.mit.edu/"><acronym title="Massachusetts Institute of Technology">MIT</acronym></a>, <a href="http://www.ercim.eu/"><acronym title="European Research Consortium for Informatics and Mathematics">ERCIM</acronym></a>, <a href="http://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>), All Rights Reserved. <a href="http://www.w3.org/Consortium/Legal/copyright-documents">Document use</a>  rules apply.</p> <p class="copyright">For the entire publication on the <acronym title="World Wide Web Consortium">W3C</acronym> site the <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a> and <a href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> rules apply.</p>
    
  
  <hr>
</div>
  <section id="abstract" class="introductory" property="dcterms:abstract" datatype="" typeof="bibo:Chapter" resource="#ref" rel="bibo:Chapter"><h2 aria-level="1" role="heading" id="h2_abstract">Abstract</h2>
    <p>This document is a temporary version that has deleted all sections
except one. This allows the editors to get that section out to the working group
and get comments on it before making the associated changes to the rest of the
specification. Readers that need more context are advised to have a look at the
previos version. </p>
  </section><section id="sotd" class="introductory" typeof="bibo:Chapter" resource="#ref" rel="bibo:Chapter"><h2 aria-level="1" role="heading" id="h2_sotd">Status of This Document</h2>
  
    
      
        <p>
          <em>This section describes the status of this document at the time of its publication.
          Other documents may supersede this document. A list of current <acronym title="World Wide Web Consortium">W3C</acronym> publications and the
          latest revision of this technical report can be found in the <a href="http://www.w3.org/TR/"><acronym title="World Wide Web Consortium">W3C</acronym> technical reports index</a> at
          http://www.w3.org/TR/.</em>
        </p>
        
    <p>This document is not complete. It is subject to major changes and, while
    early experimentations are encouraged, it is therefore not intended for
    implementation. The API is based on preliminary work done in the
    WHATWG.</p>
  
        <p>
          This document was published by the <a href="http://www.w3.org/2011/04/webrtc/">Web Real-Time Communication Working Group</a> and <a href="http://www.w3.org/2009/dap">Device APIs Working Group</a> as an Editor's Draft.
          
          
            If you wish to make comments regarding this document, please send them to 
            <a href="mailto:public-media-capture@w3.org">public-media-capture@w3.org</a> 
            (<a href="mailto:public-media-capture-request@w3.org?subject=subscribe">subscribe</a>,
            <a href="http://lists.w3.org/Archives/Public/public-media-capture/">archives</a>).
          
          
          
          
            All comments are welcome.
          
        </p>
        
        
          <p>
            Publication as an Editor's Draft does not imply endorsement by the <acronym title="World Wide Web Consortium">W3C</acronym>
            Membership. This is a draft document and may be updated, replaced or obsoleted by other
            documents at any time. It is inappropriate to cite this document as other than work in
            progress.
          </p>
        
        
        <p>
          
            This document was produced by a group operating under the 
            <a id="sotd_patent" about="" rel="w3p:patentRules" href="http://www.w3.org/Consortium/Patent-Policy-20040205/">5 February 2004 <acronym title="World Wide Web Consortium">W3C</acronym> Patent
            Policy</a>.
          
          
          
            
              <acronym title="World Wide Web Consortium">W3C</acronym> maintains a public list of any patent disclosures (<a href="http://www.w3.org/2004/01/pp-impl/47318/status" rel="disclosure">Web Real-Time Communication Working Group</a>, <a href="http://www.w3.org/2004/01/pp-impl/43696/status" rel="disclosure">Device APIs Working Group</a>)
            
            made in connection with the deliverables of the group; that page also includes
            instructions for disclosing a patent. An individual who has actual knowledge of a patent
            which the individual believes contains
            <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#def-essential">Essential
            Claim(s)</a> must disclose the information in accordance with
            <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure">section
            6 of the <acronym title="World Wide Web Consortium">W3C</acronym> Patent Policy</a>.
          
          
        </p>
        
      
    

  
  <section rel="bibo:Chapter" resource="#ref" typeof="bibo:Chapter" id="constrainable-interface">
    <!--OddPage--><h2 id="h2_constrainable-interface" role="heading" aria-level="1"><span class="secno">11. </span>Constrainable Interface</h2>


    <p>The Constrainable interface allows its consumers to inspect and adjust
    the properties of the object that implements it. It is broken out as a
    separate interface so that it can be used in other specifications. The core
    concept is that of a Capability, which consists of a property or feature of
    an object and the set of its possible values, which may be specified either
    as a range or as an enumeration. For example, a camera might be capable of
    framerates (a property) between 20 and 50 frames per second (a range) and
    may be able to be positioned (a property) facing towards the user, away
    from the user, or to the left or right of the user (an enumerated set.) The
    application can examine a Constrainable object's set of Capabilities via
    the <code>getCapabilities()</code> accessor.</p>


    <p>The application can select the (range of) values it wants for an
    object's Capabilities by means of one or more ConstraintSets and the
    <code>applyConstraints()</code> method. A ConstraintSet consists of the
    names of one or more properties of the object plus the desired value (or a
    range of desired values) for each of them. Each of those property/value
    pairs can be considered to be an individual constraint. For example, the
    application may set a ConstraintSet containing two constraints, the first
    stating that the framerate of a camera be between 30 and 40 frames per
    second (a range) and the second that the camera should be facing the user
    (a specific value). ConstraintSets can be mandatory or optional. In the
    case of optional ConstraintSets, the UA will consider the ConstraintSets in
    the order in which they are specified, and will try to satisfy each one,
    but will ignore a ConstraintSet if it cannot satisfy it. In the case of a
    mandatory ConstraintSet, the UA will try to satisfy it, and will call the
    <code>errorCallback</code> if it cannot do so. For example, suppose that an
    application applies three individual constraints, one stating that the
    video aspect ratio should be 3 to 2 (height to width), the next that the
    height should be 600 and the last that the width should be 500. Since these
    constraints interact with each other (the aspect ratio affects the possible
    values for height and width, and vice-versa) it is impossible to satisfy
    all three of them, so if they are all contained in a mandatory
    ConstraintSet, the UA will call the <code>errorCallback</code>. However if
    any one of the constraints is placed in an optional ConstraintSet, the
    other two can be satisfied, so the UA will satisfy the two mandatory ones,
    silently ignore the optional one, and call the
    <code>successCallback.</code></p>


    <p>The ordering of optional ConstraintSets is significant. In the example
    in the previous paragraph, suppose that aspect ratio constraint is part of
    a mandatory ConstraintSet and that the height and width constraints are
    part of separate optional ConstraintSets. If the height ConstraintSet is
    specified first (and the other constraints in the ConstraintSet can also be
    satisfied), then it will be satisfied and the width ConstraintSet will be
    ignored. Thus the height will be set to 600 and the the width will be set
    to 400. On the other hand, if width is specified before height, the width
    ConstraintSet will be satisfied and the height ConstraintSet will be
    ignored, resulting in width of 500 and height of 750. (Note that the
    mandatory aspect ratio constraint is enforced in both cases.) The UA will
    attempt to satisfy as many optional ConstraintSets as it can, even if some
    of them cannot be satisfied and must therefore be ignored. Application
    authors can therefore implement a backoff strategy by specifying multiple
    optional ConstraintSets for the same property. For example, an application
    might specify three optional ConstraintSets, the first asking for a
    framerate greater than 500, the second asking for a framerate greater than
    400, and the third asking for one greater than 300. If the UA is capable of
    setting a framerate greater than 500, it will (and the subsequent two
    ConstraintSets will be trivially satisfied.) However, if the UA cannot set
    the framerate above 500, it will ignore that ConstraintSet and attempt to
    set the framerate above 400. If that fails, it will then try to set it
    above 300. If the UA cannot satisfy any of the three ConstraintSets, it
    will set the framerate to any value it can get. If the developer wanted to
    insist on 300 as a lower bound, he put that in a mandatory ConstraintSet.
    In that case, the UA would fail altogether if it couldn't get a value over
    300, but would choose a value over 500 if possible, then try for a value
    over 400. An application may inspect the set of ConstraintSets currently in
    effect via the <code>getConstraints()</code> accessor.</p>


    <p>The specific value that the UA chooses for a Capability is referred to
    as a Setting. For example, if the application applies a ConstraintSet
    specifying that the framerate must be at least 30 frames per second, and no
    greater than 40, the Setting can be any intermediate value, e.g., 32, 35,
    or 37 frames per second. The application can query the current settings of
    the object's Capabilities via the <code><a class="internalDFN" href="#dfn-getsettings">getSettings()</a></code>
    accessor.</p>


    <section id="interface-definition-1">
      <h3 id="h3_interface-definition-1" role="heading" aria-level="2"><span class="secno">11.1 </span>Interface Definition</h3>


      <pre class="idl"><span class="idlInterface" id="idl-def-Constrainable">[<span class="extAttr">NoInterfaceObject</span>]
interface <span class="idlInterfaceID">Constrainable</span> {
<span class="idlMethod">    <span class="idlMethType"><a class="internalDFN" href="#dfn-capabilities">Capabilities</a></span> <span class="idlMethName"><a href="#widl-Constrainable-getCapabilities-Capabilities">getCapabilities</a></span> ();</span>
<span class="idlMethod">    <span class="idlMethType"><a class="idlType" href="#idl-def-Constraints"><code>Constraints</code></a></span>  <span class="idlMethName"><a href="#widl-Constrainable-getConstraints-Constraints">getConstraints</a></span> ();</span>
<span class="idlMethod">    <span class="idlMethType"><a class="internalDFN" href="#dfn-settings">Settings</a></span>     <span class="idlMethName"><a href="#widl-Constrainable-getSettings-Settings">getSettings</a></span> ();</span>
<span class="idlMethod">    <span class="idlMethType">void</span>         <span class="idlMethName"><a href="#widl-Constrainable-applyConstraints-void-Constraints-constraints-VoidFunction-successCallback-ConstraintErrorCallback-errorCallback">applyConstraints</a></span> (<span class="idlParam"><span class="idlParamType"><a class="idlType" href="#idl-def-Constraints"><code>Constraints</code></a></span> <span class="idlParamName">constraints</span></span>, <span class="idlParam"><span class="idlParamType">VoidFunction</span> <span class="idlParamName">successCallback</span></span>, <span class="idlParam"><span class="idlParamType"><a class="idlType" href="#idl-def-ConstraintErrorCallback"><code>ConstraintErrorCallback</code></a></span> <span class="idlParamName">errorCallback</span></span>);</span>
<span class="idlAttribute">                attribute <span class="idlAttrType">EventHandler</span> <span class="idlAttrName"><a href="#widl-Constrainable-onoverconstrained">onoverconstrained</a></span>;</span>
};</span></pre><section id="attributes-6"><h4 id="h4_attributes-6" role="heading" aria-level="3"><span class="secno">11.1.1 </span>Attributes</h4><dl class="attributes"><dt id="widl-Constrainable-onoverconstrained"><code>onoverconstrained</code> of type <span class="idlAttrType">EventHandler</span>,            </dt><dd>This event handler, of type <code><a href="#event-constrainable-overconstrained">overconstrained</a></code>,
        <em title="must" class="rfc2119">must</em> be supported by all objects
        implementing the <code><a class="idlType" href="#idl-def-Constrainable"><code>Constrainable</code></a></code> interface.  
        
          <p>The UA <em title="must" class="rfc2119">must</em> raise a
          <code>MediaErrorEvent</code> named "overconstrained" if changing
          circumstances at runtime result in the currently valid mandatory
          ConstraintSet no longer being satisfied. This MediaErrorEvent
          <em title="must" class="rfc2119">must</em> contain a MediaError whose
          <code>name</code> is "overconstrainedError", and whose
          <code>constraintName</code> attribute is set to one of the mandatory
          constraints that can no longer be satisfied. The <code>message</code>
          attribute of the MediaError <em title="SHOULD" class="rfc2119">SHOULD</em> contain a string that is useful
          for debugging. The conditions under which this error might occur are
          platform and application-specific. For example, the user might
          physically manipulate a camera in a way that makes it impossible to
          provide a resolution that satisfies the constraints. The UA <em title="MAY" class="rfc2119">MAY</em> take
          other actions as a result of the overconstrained situation.</p></dd></dl></section><section id="methods-4"><h4 id="h4_methods-4" role="heading" aria-level="3"><span class="secno">11.1.2 </span>Methods</h4><dl class="methods"><dt id="widl-Constrainable-applyConstraints-void-Constraints-constraints-VoidFunction-successCallback-ConstraintErrorCallback-errorCallback"><code>applyConstraints</code></dt><dd>
          


          <p>The <dfn id="dfn-applyconstraints">applyConstraints()</dfn> algorithm for applying
          constraints is stated below. Here are some preliminary definitions
          that are used in the statement of the algorithm:</p>


          <ul>
            <li>We refer to each property/value pair in a ConstraintSet as a
            'constraint' (since it is intended to constrain the corresponding
            Capability of the Constrainable object to a value that is within
            the range or list of values it specifies.)</li>


            <li>A set of values for the properties of an object O satisfy
            ConstraintSet C if each value a) is in the set of supported values
            specified by the corresponding Capability of O, and b) is in the
            range or list of values specified by the constraint in C that
            applies to that property, if there is one, and c) there is no
            constraint in C that does not correspond to a Capability in O.
            (Note that although this definition ignores the difference between
            mandatory and optional ConstraintSets, the algorithm below
            distinguishes between them.)</li>


            <li>A ConstraintSet C can be satisfied by an object O if it is
            possible to choose a sequence of values for the properties of O
            that satisfy C.</li>


            <li>To apply a set of ConstraintSet C to object O is to choose such
            a sequence of values that satisfy C and assign them as the settings
            for the properties of O.</li>
          </ul>


          <p>When <code>applyConstraints</code> is called, the UA <em title="must" class="rfc2119">must</em> queue a task to run the following
          steps:</p>


          <ol>
            <li>let <var>desiredContraints</var> be the argument to this
            function. Each constraint <em title="must" class="rfc2119">must</em> specify one or more values (or a range of
            values) for its property. A property <em title="may" class="rfc2119">may</em> appear more than once in the list of optional
            ConstraintSets.</li>


            <li>Let <var>newConstraints</var> be an initially 
            	empty Constraints dictionary.  Let <var>existingConstraints</var>
            	be the Constraints currently in effect (i.e. what is returned by
            	<code>getConstraints</code>.)</li>


            <li>Let <var>object</var> be the Constrainable object on which this
            method was called. Let <var>copy</var> be an unconstrained copy of
            <var>object</var> (i.e., <var>copy</var> should behave as if it
            were <var>object</var> with all ConstraintSets removed.)</li>


            <li>If the mandatory ConstraintSet in <var>desiredConstraints</var> is
            	non-null and
            cannot be satisfied by <var>copy</var>, call the
            <code>errorCallback</code>, passing it a new
            <code>MediaError</code> with name
            <code>ConstraintNotSatisfied</code> and <code>constraintName</code>
            set to any of the mandatory constraints that could not be
            satisfied, and return. <var>existingConstraints</var> remain in
            effect in this case.</li>


            <li>Otherwise if the mandatory ConstraintSet is non-null, set
            	it as the value of the 'mandatory' element in
            <var>newConstraints</var></li>


            <li>Iterate over the optional ConstraintSets in
            <var>desiredConstraints</var> in the order in which they were
            specified. For each ConstraintSet,if it and
            <var>newConstraints</var> together can be satisfied by
            <var>copy</var>, append it to the value of the 'optional' element in <var>newConstraints</var>. Otherwise,
            ignore it.</li>


            <li>In a single operation, remove <var>existingConstraints</var> from
            <var>object</var>, apply <var>newConstraints</var>, and fire the
            <code>successCallback</code>. From this point on until applyConstraints() is
            called successfully again, getConstraints() <em title="must" class="rfc2119">must</em> return <var>newConstraints</var>. Note: the UA
            <em title="MAY" class="rfc2119">MAY</em> modify the values of one or more properties of
            <var>object</var> at any time, as long as the resulting set of
            values satisfy the current set of constraints.</li>
          </ol>
        <table class="parameters"><tbody><tr><th>Parameter</th><th>Type</th><th>Nullable</th><th>Optional</th><th>Description</th></tr><tr><td class="prmName">constraints</td><td class="prmType"><code><a class="idlType" href="#idl-def-Constraints"><code>Constraints</code></a></code></td><td class="prmNullFalse"><span role="img" aria-label="False">✘</span></td><td class="prmOptFalse"><span role="img" aria-label="False">✘</span></td><td class="prmDesc">A new constraint structure to apply to this object.</td></tr><tr><td class="prmName">successCallback</td><td class="prmType"><code>VoidFunction</code></td><td class="prmNullFalse"><span role="img" aria-label="False">✘</span></td><td class="prmOptFalse"><span role="img" aria-label="False">✘</span></td><td class="prmDesc">Called if the mandatory ConstraintSet can be satisfied.</td></tr><tr><td class="prmName">errorCallback</td><td class="prmType"><code><a class="idlType" href="#idl-def-ConstraintErrorCallback"><code>ConstraintErrorCallback</code></a></code></td><td class="prmNullFalse"><span role="img" aria-label="False">✘</span></td><td class="prmOptFalse"><span role="img" aria-label="False">✘</span></td><td class="prmDesc">Called if the mandatory ConstraintSet cannot be satisfied.</td></tr></tbody></table><div><em>Return type: </em><code>void</code></div></dd><dt id="widl-Constrainable-getCapabilities-Capabilities"><code>getCapabilities</code></dt><dd>
          <p>The <dfn id="dfn-getcapabilities">getCapabilities()</dfn> method returns the dictionary of
          the capabilities that the object supports.</p>


          <div class="note"><div id="h_note_11" role="heading" aria-level="4" class="note-title"><span>Note</span></div><div class="">
            <p>It is possible that the underlying hardware may not exactly map
            to the range defined in the registry entry. Where this is possible,
            the entry <em title="should" class="rfc2119">should</em> define how
            to translate and scale the hardware's setting onto the values
            defined in the entry. For example, suppose that a registry entry
            defines a hypothetical fluxCapacitance capability that is defined
            to be the range from -10 (min) to 10 (max), but there are common
            hardware devices that support only values of "off" "medium" and
            "full". The registry entry might specify that for such hardware,
            the user agent should map the range value of -10 to "off", 10 to
            "full", and 0 to "medium". It might also indicate that given a
            ConstraintSet imposing a strict value of 3, the user agent should
            attempt to set the value of "medium" on the hardware, and and that
            <code><a class="internalDFN" href="#dfn-getsettings">getSettings()</a></code> should return a fluxCapacitance
            of 0, since that is the value defined as corresponding to
            "medium".</p>
          </div></div>
        <div><em>No parameters.</em></div><div><em>Return type: </em><code><a class="internalDFN" href="#dfn-capabilities">Capabilities</a></code></div></dd><dt id="widl-Constrainable-getConstraints-Constraints"><code>getConstraints</code></dt><dd>
          <p>The <dfn id="dfn-getconstraints">getConstraints()</dfn> method returns all the
          <code>ConstraintSets</code> that were applied to the object in the
          last successful call of <code>applyConstraints()</code>. The value
          <em title="must" class="rfc2119">must</em> contain only the
          ConstraintSets that were successfully applied, and it <em title="must" class="rfc2119">must</em> maintain the order that they were
          specified in.</p>


          <p>If no mandatory ConstraintSet has been defined, the
          <code>mandatory</code> field will not be present (it will be
          undefined). If no optional ConstraintSets have been defined, the
          <code>optional</code> field will not be present (it will be
          undefined). If neither optional nor mandatory ConstraintSets have
          been created, the value will be <code>null</code>.</p>


        <div><em>No parameters.</em></div><div><em>Return type: </em><code><a class="idlType" href="#idl-def-Constraints"><code>Constraints</code></a></code></div></dd><dt id="widl-Constrainable-getSettings-Settings"><code>getSettings</code></dt><dd>The <dfn id="dfn-getsettings">getSettings()</dfn> method returns the current settings of
        all the properties of the object, whether they are platform defaults or
        have been set by <code>applyConstraints()</code>. Note that the actual
        setting of a property <em title="must" class="rfc2119">must</em> be a
        single value.<div><em>No parameters.</em></div><div><em>Return type: </em><code><a class="internalDFN" href="#dfn-settings">Settings</a></code></div></dd></dl></section>


      <section id="applyconstraints-failure-callback">
        <h4 id="h4_applyconstraints-failure-callback" role="heading" aria-level="3"><span class="secno">11.1.3 </span>applyConstraints Failure Callback</h4>


        <section>
          <section>
            <h6 role="heading" aria-level="5" id="constrainterrorcallback">ConstraintErrorCallback</h6>


            <pre class="idl"><span class="idlCallback" id="idl-def-ConstraintErrorCallback">callback <span class="idlCallbackID">ConstraintErrorCallback</span> = <span class="idlCallbackType">void</span> (<span class="idlParam"><span class="idlParamType"><a class="idlType" href="#idl-def-MediaError"><code>MediaError</code></a></span> <span class="idlParamName">error</span></span>);</span></pre><section><h6 role="heading" aria-level="6" id="callback-constrainterrorcallback-parameters">Callback <a href="#idl-def-ConstraintErrorCallback" class="idlType"><code>ConstraintErrorCallback</code></a> Parameters</h6><dl class="callback-members"><dt id="widl-ConstraintErrorCallback-error"><code>error</code> of type <span class="idlMemberType"><a class="idlType" href="#idl-def-MediaError"><code>MediaError</code></a></span></dt><dd>An <code>MediaError</code> holding the mandatory constraint
              that could not be satisfied.</dd></dl></section>
          </section>
        </section>
      </section>


      <p>An example of Constraints that could be passed into
      <code><a class="internalDFN" href="#dfn-applyconstraints">applyConstraints()</a></code> or returned as a value of
      <code><a class="internalDFN" href="#dfn-constraints">constraints</a></code> is below. It uses the properties defined
      in <a href="#sec-track-properties">the Track property registry</a>.</p>

      <div class="example"><div class="example-title"><span>Example 5</span></div><pre style="" xml:space="preserve" class="example highlight prettyprint prettyprinted"><span class="pun">{</span><span class="pln">
  </span><span class="str">"mandatory"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="str">"width"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="str">"min"</span><span class="pun">:</span><span class="pln"> </span><span class="lit">640</span><span class="pln">
    </span><span class="pun">},</span><span class="pln">
    </span><span class="str">"height"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="str">"min"</span><span class="pun">:</span><span class="pln"> </span><span class="lit">480</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">},</span><span class="pln">
  </span><span class="str">"optional"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[{</span><span class="pln">
    </span><span class="str">"width"</span><span class="pun">:</span><span class="pln"> </span><span class="lit">650</span><span class="pln">
  </span><span class="pun">},</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="str">"width"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="str">"min"</span><span class="pun">:</span><span class="pln"> </span><span class="lit">650</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">},</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="str">"frameRate"</span><span class="pun">:</span><span class="pln"> </span><span class="lit">60</span><span class="pln">
  </span><span class="pun">},</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="str">"width"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="str">"max"</span><span class="pun">:</span><span class="pln"> </span><span class="lit">800</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">},</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="str">"facingMode"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"user"</span><span class="pln">
  </span><span class="pun">}]</span><span class="pln">
</span><span class="pun">}</span><span class="pln">                             </span></pre></div>
    </section>


    <section rel="bibo:Chapter" resource="#ref" typeof="bibo:Chapter" id="registry">
      <h3 id="h3_registry" role="heading" aria-level="2"><span class="secno">11.2 </span>The Property Registry</h3>


      <p>For each class/interface that implements Constrainable, there
      <em title="must" class="rfc2119">must</em> be a corresponding registry
      that defines the constrainable properties of that class of object. The
      registry entries <em title="must" class="rfc2119">must</em> contain the
      name of each property along with its set of legal values. The registry
      for MediaStreamTrack is defined <a href="#sec-constraints">below</a>. The
      syntax for the specification of the set of legal values depends on the
      type of the values. <!-- TODO - CJ - next sense seems wrong -->
       In addition to the standard atomic types (boolean, long, float,
      DOMString), legal values include lists of any of the atomic types, plus
      min-max ranges, as defined below.</p>


      <p>List values <em title="must" class="rfc2119">must</em> be interpreted
      as disjunctions. For example, if a property 'facingMode' for a camera is
      defined as having legal values ["left", "right", "user", "environment"],
      this means that 'facingMode' can have the value "left", the value
      "right", the value "environment" or the value "user". Similarly
      <a class="idlType" href="#idl-def-Constraints"><code>Constraints</code></a> restricting 'facingMode' to ["user", "left", "right"]
      would mean that the UA should select a camera (or point the camera, if
      that is possible) so that "facingMode" is either "user", "left", or
      "right". This Constraint would thus request that the camera not be facing
      away from the user, but would allow the UA to choose among the other
      directions.</p>


      <section rel="bibo:Chapter" resource="#ref" typeof="bibo:Chapter" id="PropertyValueSet">
        <h4 id="h4_PropertyValueSet" role="heading" aria-level="3"><span class="secno">11.2.1 </span><dfn id="dfn-propertyvalueset">PropertyValueSet</dfn>
        </h4>


        <pre class="idl"><span class="idlTypedef" id="idl-def-DOMString">typedef <span class="idlTypedefType"><a class="internalDFN" href="#dfn-propertyvalueset">PropertyValueSet</a></span> <span class="idlTypedefID">DOMString[]</span>;</span></pre><div class="idlTypedefDesc">
        </div>
      </section>


      <section rel="bibo:Chapter" resource="#ref" typeof="bibo:Chapter" id="PropertyValueDoubleRange">
        <h4 id="h4_PropertyValueDoubleRange" role="heading" aria-level="3"><span class="secno">11.2.2 </span>PropertyValueDoubleRange</h4>


        <pre class="idl"><span class="idlDictionary" id="idl-def-PropertyValueDoubleRange">dictionary <span class="idlDictionaryID">PropertyValueDoubleRange</span> {
<span class="idlMember">    <span class="idlMemberType">double</span> <span class="idlMemberName"><a href="#widl-PropertyValueDoubleRange-max">max</a></span>;</span>
<span class="idlMember">    <span class="idlMemberType">double</span> <span class="idlMemberName"><a href="#widl-PropertyValueDoubleRange-min">min</a></span>;</span>
};</span></pre><section id="dictionary-propertyvaluedoublerange-members"><h5 id="h5_dictionary-propertyvaluedoublerange-members" role="heading" aria-level="4"><span class="secno">11.2.2.1 </span>Dictionary <a href="#idl-def-PropertyValueDoubleRange" class="idlType"><code>PropertyValueDoubleRange</code></a> Members</h5><dl class="dictionary-members"><dt id="widl-PropertyValueDoubleRange-max"><code>max</code> of type <span class="idlMemberType">double</span></dt><dd>The maximum legal value of this property.</dd><dt id="widl-PropertyValueDoubleRange-min"><code>min</code> of type <span class="idlMemberType">double</span></dt><dd>The minimum value of this Property.</dd></dl></section>
      </section>


      <section rel="bibo:Chapter" resource="#ref" typeof="bibo:Chapter" id="PropertyValueLongRange">
        <h4 id="h4_PropertyValueLongRange" role="heading" aria-level="3"><span class="secno">11.2.3 </span>PropertyValueLongRange</h4>


        <pre class="idl"><span class="idlDictionary" id="idl-def-PropertyValueLongRange">dictionary <span class="idlDictionaryID">PropertyValueLongRange</span> {
<span class="idlMember">    <span class="idlMemberType">long</span> <span class="idlMemberName"><a href="#widl-PropertyValueLongRange-max">max</a></span>;</span>
<span class="idlMember">    <span class="idlMemberType">long</span> <span class="idlMemberName"><a href="#widl-PropertyValueLongRange-min">min</a></span>;</span>
};</span></pre><section id="dictionary-propertyvaluelongrange-members"><h5 id="h5_dictionary-propertyvaluelongrange-members" role="heading" aria-level="4"><span class="secno">11.2.3.1 </span>Dictionary <a href="#idl-def-PropertyValueLongRange" class="idlType"><code>PropertyValueLongRange</code></a> Members</h5><dl class="dictionary-members"><dt id="widl-PropertyValueLongRange-max"><code>max</code> of type <span class="idlMemberType">long</span></dt><dd>The maximum legal value of this property.</dd><dt id="widl-PropertyValueLongRange-min"><code>min</code> of type <span class="idlMemberType">long</span></dt><dd>The minimum value of this Property.</dd></dl></section>
      </section>
    </section>


    <section rel="bibo:Chapter" resource="#ref" typeof="bibo:Chapter" id="capabilities">
      <h3 id="h3_capabilities" role="heading" aria-level="2"><span class="secno">11.3 </span>Capabilities</h3>


      <p><dfn id="dfn-capabilities">Capabilities</dfn> are dictionary containing one or more
      key-value pairs, where each key <em title="must" class="rfc2119">must</em> be a constrainable property defined in the associated
      registry, and each value <em title="should" class="rfc2119">must</em> be
      a subset of the set of values defined for that property in the registry.
      The exact syntax of the value expression depends on the type of the
      property but is of type <code><a class="idlType" href="#idl-def-ConstraintValues"><code>ConstraintValues</code></a></code>. The
      Capabilities dictionary specifies the subset of the constrainable
      properties and values from the registry that the UA supports. Note that a
      UA <em title="may" class="rfc2119">may</em> support only a subset of the
      properties that are defined in the registry, and <em title="may" class="rfc2119">may</em> support a subset of the set values for those
      properties that it does support. Note that Capabilities are returned from
      the UA to the application, and cannot be specified by the application.
      However, the application can control the Settings that the UA chooses for
      Capabilities by means of ConstraintSets.</p>


      <p>An example of a Capabilities dictionary is shown below. This example
      is not very realistic in that a browser would actually be required to
      support more settings that just these.</p>

      <div class="example"><div class="example-title"><span>Example 6</span></div><pre style="" xml:space="preserve" class="example highlight prettyprint prettyprinted"><span class="pun">{</span><span class="pln">
  </span><span class="str">"frameRate"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="str">"min"</span><span class="pun">:</span><span class="pln"> </span><span class="lit">1.0</span><span class="pun">,</span><span class="pln">
    </span><span class="str">"max"</span><span class="pun">:</span><span class="pln"> </span><span class="lit">60.0</span><span class="pln">
  </span><span class="pun">},</span><span class="pln">
  </span><span class="str">"facingMode"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="str">"user"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"environment"</span><span class="pun">]</span><span class="pln">
</span><span class="pun">}</span><span class="pln">                         </span></pre></div>
    </section>


    <section rel="bibo:Chapter" resource="#ref" typeof="bibo:Chapter" id="settings">
      <h3 id="h3_settings" role="heading" aria-level="2"><span class="secno">11.4 </span><dfn id="dfn-settings">Settings</dfn>
      </h3>


      <p>A <dfn id="dfn-setting">Setting</dfn> is a dictionary containing one or more key-value
      pairs. It <em title="must" class="rfc2119">must</em> contain each key
      returned in <code>getCapabilities()</code>. There <em title="must" class="rfc2119">must</em> be a single value for each key and the value
      <em title="must" class="rfc2119">must</em> a member of the set defined
      for that property by <code>capabilities()</code>. The exact syntax of the
      value expression depends on the type of the property. It will be a
      DomString for properties of type PropertyValueSet, it will be a long for
      properties of type PropertyValueLongRange , it will be a double for
      properties of type PropertyValueDoubleRange. Thus the
      <code>Settings</code> dictionary contains the actual values that the UA
      has chosen for the object's Capabilities.</p>


      <p>An example of a Setting dictionary is shown below. This example is not
      very realistic in that a browser would actually be required to support
      more settings that just these.</p>

      <div class="example"><div class="example-title"><span>Example 7</span></div><pre style="" xml:space="preserve" class="example highlight prettyprint prettyprinted"><span class="pun">{</span><span class="pln">
  </span><span class="str">"frameRate"</span><span class="pun">:</span><span class="pln"> </span><span class="lit">30.0</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"facingMode"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"user"</span><span class="pln">
</span><span class="pun">}</span></pre></div>
    </section>


    <section rel="bibo:Chapter" resource="#ref" typeof="bibo:Chapter" id="constraints">
      <h3 id="h3_constraints" role="heading" aria-level="2"><span class="secno">11.5 </span><dfn id="dfn-constraints">Constraints</dfn>
      </h3>


      <pre class="idl"><span class="idlDictionary" id="idl-def-Constraints">dictionary <span class="idlDictionaryID">Constraints</span> {
<span class="idlMember">    <span class="idlMemberType"><a class="idlType" href="#idl-def-ConstraintSet"><code>ConstraintSet</code></a>?</span>  <span class="idlMemberName"><a href="#widl-Constraints-mandatory">mandatory</a></span>;</span>
<span class="idlMember">    <span class="idlMemberType"><a class="idlType" href="#idl-def-ConstraintSet"><code>ConstraintSet</code></a>[]</span> <span class="idlMemberName"><a href="#widl-Constraints-optional">optional</a></span>;</span>
};</span></pre><section id="dictionary-constraints-members"><h4 id="h4_dictionary-constraints-members" role="heading" aria-level="3"><span class="secno">11.5.1 </span>Dictionary <a href="#idl-def-Constraints" class="idlType"><code>Constraints</code></a> Members</h4><dl class="dictionary-members"><dt id="widl-Constraints-mandatory"><code>mandatory</code> of type <span class="idlMemberType"><a class="idlType" href="#idl-def-ConstraintSet"><code>ConstraintSet</code></a></span>, nullable</dt><dd>
          <p>The set of constraints that the UA <em title="must" class="rfc2119">must</em> satisfy or else call the
          <code>errorCallback</code>.</p>
        </dd><dt id="widl-Constraints-optional"><code>optional</code> of type array of <span class="idlMemberType"><a class="idlType" href="#idl-def-ConstraintSet"><code>ConstraintSet</code></a></span></dt><dd>
          <p>The set of ConstraintSets that the UA <em title="should" class="rfc2119">should</em> try to satisfy but <em title="may" class="rfc2119">may</em> ignore if they cannot be satisfied. The order of
          these ConstraintSets is significant. In particular, when they are
          passed as an argument to <code>applyConstraints</code>, the UA
          <em title="must" class="rfc2119">must</em> try to satisfy them in the
          order that is specified. Thus if optional ConstraintSets C1 and C2
          can be satisfied individually, but not together, then whichever of C1
          and C2 is first in this list will be satisfied, and the other will
          not. The UA <em title="must" class="rfc2119">must</em> attempt to
          satisfy all optional ConstraintSets in the list, even if some cannot
          be satisfied. Thus, in the preceding example, if optional constraint
          C3 is specified after C1 and C2, the UA will attempt to satisfy C3
          even though C2 cannot be satisfied. Note that a given property name
          may occur multiple times in these sets.</p>
        </dd></dl></section>


      <p>Each property of a <a href="constraintset">ConstraintSet</a>
      corresponds to a Capability and specifies a subset of its legal values.
      Applying a ConstraintSet instructs that UA to restrict the setting of the
      corresponding Capabilities to the specified values or ranges of values. A
      given property <em title="MAY" class="rfc2119">MAY</em> occur both in the mandatory and the optional
      ConstraintSets list, and <em title="MAY" class="rfc2119">MAY</em> occur more than once in the optional
      ConstraintSets list.</p>


      <section rel="bibo:Chapter" resource="#ref" typeof="bibo:Chapter" id="constraintset">
        <h4 id="h4_constraintset" role="heading" aria-level="3"><span class="secno">11.5.2 </span>ConstraintSet</h4>


        <div class="note"><div id="h_note_12" role="heading" aria-level="4" class="note-title"><span>Note</span></div><div class="">
          Open Issue: Do we need to add support for a boolean type in
          constraints? Is the ConstraintValue below an OK addition which will
          allow constraints like { width: 66 } as a short hand for min=max=66. 
        </div></div>

     <pre class="idl"><span class="idlTypedef" id="idl-def-ConstraintValue">typedef <span class="idlTypedefType">(DOMString or long or double or boolean)</span> <span class="idlTypedefID">ConstraintValue</span>;</span></pre><div class="idlTypedefDesc">

        </div>
        
        <pre class="idl"><span class="idlTypedef" id="idl-def-ConstraintValues">typedef <span class="idlTypedefType">(<a class="idlType" href="#idl-def-ConstraintValue"><code>ConstraintValue</code></a> or <a class="internalDFN" href="#dfn-propertyvalueset">PropertyValueSet</a> or <a class="idlType" href="#idl-def-PropertyValueLongRange"><code>PropertyValueLongRange</code></a> or <a class="idlType" href="#idl-def-PropertyValueDoubleRange"><code>PropertyValueDoubleRange</code></a>)</span> <span class="idlTypedefID">ConstraintValues</span>;</span></pre><div class="idlTypedefDesc">

        </div>


        <pre class="idl"><span class="idlInterface" id="idl-def-ConstraintSet">[<span class="extAttr">NoInterfaceObject</span>]
interface <span class="idlInterfaceID">ConstraintSet</span> {
<span class="idlMethod">    <span class="idlMethType"><a class="idlType" href="#idl-def-ConstraintValues"><code>ConstraintValues</code></a></span> <span class="idlMethName"><a href="#widl-ConstraintSet-getter-ConstraintValues-DOMString-name">getter</a></span> (<span class="idlParam"><span class="idlParamType">DOMString</span> <span class="idlParamName">name</span></span>);</span>
};</span></pre><section id="methods-5"><h5 id="h5_methods-5" role="heading" aria-level="4"><span class="secno">11.5.2.1 </span>Methods</h5><dl class="methods"><dt id="widl-ConstraintSet-getter-ConstraintValues-DOMString-name"><code>getter</code></dt><dd>The property represents the name of the constraint, which
          correspond to a Capability of the Constrainable object. The value of
          the property represents the desired range of values for the
          Capability.<table class="parameters"><tbody><tr><th>Parameter</th><th>Type</th><th>Nullable</th><th>Optional</th><th>Description</th></tr><tr><td class="prmName">name</td><td class="prmType"><code>DOMString</code></td><td class="prmNullFalse"><span role="img" aria-label="False">✘</span></td><td class="prmOptFalse"><span role="img" aria-label="False">✘</span></td><td class="prmDesc"></td></tr></tbody></table><div><em>Return type: </em><code><a class="idlType" href="#idl-def-ConstraintValues"><code>ConstraintValues</code></a></code></div></dd></dl></section>


        <p>In ECMAScript, ConstraintSet objects are represented using regular
        native objects with optional properties whose names represent
        constraint name. The conversion from an ECMAScript value, representing
        a ConstraintSet, to an IDL ConstraintSet <em title="must" class="rfc2119">must not</em> fail if a property name in the ECMAScript value
        does not match any of the Capabilities of the Constrainable object.</p>


        <p>In ECMAScript, all the properties of the ConstraintSet object are
        optional; the developer may specify any of these properties when
        creating the object. Note, however, that unknown property names will
        result in a ConstraintSet that can not be satisfied, as described in
        <code><a class="internalDFN" href="#dfn-applyconstraints">applyConstraints()</a></code> above.</p>
      </section>
    </section>
  </section>


<section id="references" class="appendix" typeof="bibo:Chapter" resource="#ref" rel="bibo:Chapter"><!--OddPage--><h2 aria-level="1" role="heading" id="h2_references"><span class="secno">B. </span>References</h2><section id="normative-references" typeof="bibo:Chapter" resource="#ref" rel="bibo:Chapter"><h3 aria-level="2" role="heading" id="h3_normative-references"><span class="secno">B.1 </span>Normative references</h3><dl class="bibliography" about=""><dt id="bib-HTML5">[HTML5]</dt><dd rel="dcterms:requires">Robin Berjon; Steve Faulkner; Travis Leithead; Erika Doyle Navara; Edward O'Connor; Silvia Pfeiffer. <a href="http://www.w3.org/TR/html5/"><cite>HTML5</cite></a>. 6 August 2013. W3C Candidate Recommendation. URL: <a href="http://www.w3.org/TR/html5/">http://www.w3.org/TR/html5/</a>
</dd><dt id="bib-RFC2119">[RFC2119]</dt><dd rel="dcterms:requires">S. Bradner. <a href="http://www.ietf.org/rfc/rfc2119.txt"><cite>Key words for use in RFCs to Indicate Requirement Levels.</cite></a> March 1997. Internet RFC 2119.  URL: <a href="http://www.ietf.org/rfc/rfc2119.txt">http://www.ietf.org/rfc/rfc2119.txt</a> 
</dd><dt id="bib-RTCWEB-CONSTRAINTS">[RTCWEB-CONSTRAINTS]</dt><dd rel="dcterms:requires">Dan Burnett. <a href="http://datatracker.ietf.org/doc/draft-burnett-rtcweb-constraints-registry/"><cite>IANA Registry for RTCWeb Constrainable Properties</cite></a>. 21 October 2013. Active Internet-Draft. URL: <a href="http://datatracker.ietf.org/doc/draft-burnett-rtcweb-constraints-registry/">http://datatracker.ietf.org/doc/draft-burnett-rtcweb-constraints-registry/</a>
</dd><dt id="bib-WEBIDL">[WEBIDL]</dt><dd rel="dcterms:requires">Cameron McCormack. <a href="http://www.w3.org/TR/WebIDL/"><cite>Web IDL</cite></a>. 19 April 2012. W3C Candidate Recommendation. URL: <a href="http://www.w3.org/TR/WebIDL/">http://www.w3.org/TR/WebIDL/</a>
</dd><dt id="bib-WEBRTC10">[WEBRTC10]</dt><dd rel="dcterms:requires">Adam Bergkvist; Daniel Burnett; Cullen Jennings; Anant Narayanan. <a href="http://www.w3.org/TR/webrtc/"><cite>WebRTC 1.0: Real-time Communication Between Browsers</cite></a>. 10 September 2013. W3C Working Draft. URL: <a href="http://www.w3.org/TR/webrtc/">http://www.w3.org/TR/webrtc/</a>
</dd></dl></section><section id="informative-references" typeof="bibo:Chapter" resource="#ref" rel="bibo:Chapter"><h3 aria-level="2" role="heading" id="h3_informative-references"><span class="secno">B.2 </span>Informative references</h3><dl class="bibliography" about=""><dt id="bib-mediastream-imagecap">[mediastream-imagecap]</dt><dd rel="dcterms:references">Giridhar Mandyam. <a href="http://www.w3.org/TR/image-capture/"><cite>MediaStream Image Capture</cite></a>. W3C Working Draft. URL: <a href="http://www.w3.org/TR/image-capture/">http://www.w3.org/TR/image-capture/</a>
</dd><dt id="bib-mediastream-rec">[mediastream-rec]</dt><dd rel="dcterms:references">Jim Barnett; Travis Leithead. <a href="https://dvcs.w3.org/hg/dap/raw-file/tip/media-stream-capture/MediaRecorder.html"><cite>MediaStream Recording</cite></a>. W3C Working Draft. URL: <a href="https://dvcs.w3.org/hg/dap/raw-file/tip/media-stream-capture/MediaRecorder.html">https://dvcs.w3.org/hg/dap/raw-file/tip/media-stream-capture/MediaRecorder.html</a>
</dd></dl></section></section></body></html>

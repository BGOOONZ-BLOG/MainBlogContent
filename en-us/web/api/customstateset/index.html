<p>{{DefaultAPISidebar(“DOM”)}}</p>
<p>The <strong><code>CustomStateSet</code></strong> interface of the {{domxref(‘Document_Object_Model’,’‘,’‘,’ ’)}} stores a list of possible states for a custom element to be in, and allows states to be added and removed from the set.</p>
<h2 id="description">Description</h2>
<p>An HTML form element, such as a checkbox has different <em>states</em>, “checked” and “unchecked”. Likewise, developers creating custom elements need to assign possible states to these elements. The <code>CustomStateList</code> allows these states to be stored, and accessed from the custom element.</p>
<p>A instance of <code>CustomStateList</code> is returned by {{domxref(“ElementInternals.states”)}}. The <code>CustomStateList</code> object is described as <em>setlike</em>, and therefore the methods behave in a similar manner to those on a {{jsxref(“Set”)}}.</p>
<p>Each value stored in a <code>CustomStateList</code> is a <code>&lt;dashed-ident&gt;</code>, in the format <code>--mystate</code>.</p>
<h3 id="interaction-with-css">Interaction with CSS</h3>
<p>States are stored as a <code>&lt;dashed-ident&gt;</code> as this format can then be accessed from CSS using the <em>custom state pseudo-class</em>. In the same way that you can use CSS to determine if a checkbox is checked using the {{cssxref(“:checked”)}} pseudo-class, you can use a custom state pseudo-class to select a custom element that is in a certain state.</p>
<h2 id="properties">Properties</h2>
<ul>
<li>{{domxref(“CustomStateSet.size”)}}
<ul>
<li>: Returns the number of values in the <code>CustomStateSet</code>.</li>
</ul></li>
</ul>
<h2 id="methods">Methods</h2>
<ul>
<li>{{domxref(“CustomStateSet.add()”)}}
<ul>
<li>: Adds a value to the set, first checking that the <em>value</em> is a <code>&lt;dashed-ident&gt;</code>.</li>
</ul></li>
<li>{{domxref(“CustomStateSet.clear()”)}}
<ul>
<li>: Removes all elements from the <code>CustomStateSet</code> object.</li>
</ul></li>
<li>{{domxref(“CustomStateSet.delete()”)}}
<ul>
<li>: Removes one value from the <code>CustomStateSet</code> object.</li>
</ul></li>
<li>{{domxref(“CustomStateSet.entries()”)}}
<ul>
<li>: Returns a new iterator with the values for each element in the <code>CustomStateSet</code> in insertion order.</li>
</ul></li>
<li>{{domxref(“CustomStateSet.forEach()”)}}
<ul>
<li>: Executes a provided function for each value in the <code>CustomStateSet</code> object.</li>
</ul></li>
<li>{{domxref(“CustomStateSet.has()”)}}
<ul>
<li>: Returns a {{jsxref(“Boolean”)}} asserting whether an element is present with the given value.</li>
</ul></li>
<li>{{domxref(“CustomStateSet.keys()”)}}
<ul>
<li>: An alias for {{domxref(“CustomStateSet.values()”)}}.</li>
</ul></li>
<li>{{domxref(“CustomStateSet.values()”)}}
<ul>
<li>: Returns a new iterator object that yields the values for each element in the <code>CustomStateSet</code> object in insertion order.</li>
</ul></li>
</ul>
<h2 id="examples">Examples</h2>
<p>The following function adds and removes the state <code>--checked</code> to a <code>CustomStateSet</code>, then prints to the console <code>true</code> or <code>false</code> as the custom checkbox is checked or unchecked.</p>
<p>The state of the element can be accessed from CSS using the custom state pseudo-class <code>--checked</code>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1">set <span class="at">checked</span>(flag) <span class="op">{</span></a>
<a class="sourceLine" id="cb1-2" title="2">  <span class="cf">if</span> (flag) <span class="op">{</span></a>
<a class="sourceLine" id="cb1-3" title="3">    <span class="kw">this</span>.<span class="va">_internals</span>.<span class="va">states</span>.<span class="at">add</span>(<span class="st">&#39;--checked&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-4" title="4">  <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb1-5" title="5">    <span class="kw">this</span>.<span class="va">_internals</span>.<span class="va">states</span>.<span class="at">delete</span>(<span class="st">&#39;--checked&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-6" title="6">  <span class="op">}</span></a>
<a class="sourceLine" id="cb1-7" title="7"></a>
<a class="sourceLine" id="cb1-8" title="8">  <span class="va">console</span>.<span class="at">log</span>(<span class="kw">this</span>.<span class="va">_internals</span>.<span class="va">states</span>.<span class="at">has</span>(<span class="st">&#39;--checked&#39;</span>))<span class="op">;</span></a>
<a class="sourceLine" id="cb1-9" title="9"><span class="op">}</span></a></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="sourceCode css"><code class="sourceCode css"><a class="sourceLine" id="cb2-1" title="1">labeled-checkbox { <span class="kw">border</span>: <span class="dv">dashed</span> <span class="cn">red</span><span class="op">;</span> }</a>
<a class="sourceLine" id="cb2-2" title="2">labeled-checkbox<span class="in">:--checked</span> { <span class="kw">border</span>: <span class="dv">solid</span><span class="op">;</span> }</a></code></pre></div>
<h2 id="specifications">Specifications</h2>
<p>{{Specifications}}</p>
<h2 id="browser-compatibility">Browser compatibility</h2>
<p>{{Compat}}</p>

<p>{{APIRef(“HTML DOM”)}}</p>
<p>HTML {{HTMLElement(“script”)}} elements expose the <strong><code>HTMLScriptElement</code></strong> interface, which provides special properties and methods for manipulating the behavior and execution of <code>&lt;script&gt;</code> elements (beyond the inherited {{domxref(“HTMLElement”)}} interface).</p>
<p>JavaScript files should be served with the <code>application/javascript</code> <a href="/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types">MIME type</a>, but browsers are lenient and block them only if the script is served with an image type (<code>image/*</code>), video type (<code>video/*</code>), audio type (<code>audio/*</code>), or <code>text/csv</code>. If the script is blocked, its element receives an {{event(“error”)}} event; otherwise, it receives a {{event(“load”)}} event.</p>
<p>{{InheritanceDiagram}}</p>
<h2 id="properties">Properties</h2>
<p><em>Inherits properties from its parent, {{domxref(“HTMLElement”)}}.</em></p>
<ul>
<li>{{domxref(“HTMLScriptElement.type”)}}
<ul>
<li>: Is a {{domxref(“DOMString”)}} representing the MIME type of the script. It reflects the {{htmlattrxref(“type”,“script”)}} attribute.</li>
</ul></li>
<li>{{domxref(“HTMLScriptElement.src”)}}
<ul>
<li>: Is a {{domxref(“DOMString”)}} representing the URL of an external script. It reflects the {{htmlattrxref(“src”,“script”)}} attribute.</li>
</ul></li>
<li>{{domxref(“HTMLScriptElement.event”)}} {{deprecated_inline}}
<ul>
<li>: Is a {{domxref(“DOMString”)}}; an obsolete way of registering event handlers on elements in an HTML document.</li>
</ul></li>
<li>{{domxref(“HTMLScriptElement.charset”)}} {{deprecated_inline}}
<ul>
<li>: Is a {{domxref(“DOMString”)}} representing the character encoding of an external script. It reflects the {{htmlattrxref(“charset”,“script”)}} attribute.</li>
</ul></li>
<li><p>{{domxref(“HTMLScriptElement.async”)}}, {{domxref(“HTMLScriptElement.defer”)}}</p>
<ul>
<li><p>: The <code>async</code> and <code>defer</code> attributes are boolean attributes that control how the script should be executed. <strong>The <code>defer</code> and <code>async</code> attributes must not be specified if the <code>src</code> attribute is absent.</strong></p>
<p>There are three possible execution modes:</p>
<ol type="1">
<li>If the <code>async</code> attribute is present, then the script will be executed asynchronously as soon as it downloads.</li>
<li>If the <code>async</code> attribute is absent but the <code>defer</code> attribute is present, then the script is executed when <a href="/en-US/docs/Web/API/Window/DOMContentLoaded_event">the page has finished parsing</a>.</li>
<li>If neither attribute is present, then the script is fetched and executed immediately, blocking further parsing of the page.</li>
</ol>
<p>The <code>defer</code> attribute may be specified with the <code>async</code> attribute, so legacy browsers that only support <code>defer</code> (and not <code>async</code>) fall back to the <code>defer</code> behavior instead of the default blocking behavior.</p>
<blockquote>
<p><strong>Note:</strong> The exact processing details for these attributes are complex, involving many different aspects of HTML, and therefore are scattered throughout the specification. <a href="https://www.w3.org/html/wg/drafts/html/master/scripting-1.html#prepare-a-script">These algorithms</a> describe the core ideas, but they rely on the parsing rules for {{HTMLElement(“script”)}} <a href="https://www.w3.org/html/wg/drafts/html/master/syntax.html#scriptTag">start</a> and <a href="https://www.w3.org/html/wg/drafts/html/master/syntax.html#scriptEndTag">end</a> tags in HTML, <a href="https://www.w3.org/html/wg/drafts/html/master/syntax.html#scriptForeignEndTag">in foreign content</a>, and <a href="https://www.w3.org/html/wg/drafts/html/master/the-xhtml-syntax.html#scriptTagXML">in XML</a>; the rules for the <a href="/en-US/docs/Web/API/Document/write"><code>document.write()</code></a> method; the handling of <a href="https://www.w3.org/html/wg/drafts/html/master/webappapis.html#scripting">scripting</a>; and so on.</p>
</blockquote></li>
</ul></li>
<li>{{domxref(“HTMLScriptElement.crossOrigin”)}} {{experimental_inline}}
<ul>
<li>: Is a {{domxref(“DOMString”)}} reflecting the <a href="/en-US/docs/Web/HTML/Attributes/crossorigin">CORS setting</a> for the script element. For scripts from other <a href="/en-US/docs/Glossary/Origin">origins</a>, this controls if error information will be exposed.</li>
</ul></li>
<li><p>{{domxref(“HTMLScriptElement.text”)}}</p>
<ul>
<li><p>: Is a {{domxref(“DOMString”)}} that joins and returns the contents of all <a href="/en-US/docs/Web/API/Text"><code>Text</code> nodes</a> inside the {{HTMLElement(“script”)}} element (ignoring other nodes like comments) in tree order. On setting, it acts the same way as the <a href="/en-US/docs/Web/API/Node/textContent"><code>textContent</code></a> IDL attribute.</p>
<blockquote>
<p><strong>Note:</strong> When inserted using the <a href="/en-US/docs/Web/API/Document/write"><code>document.write()</code></a> method, {{HTMLElement(“script”)}} elements execute (typically synchronously), but when inserted using <a href="/en-US/docs/Web/API/Element/innerHTML"><code>innerHTML</code></a> or <a href="/en-US/docs/Web/API/Element/outerHTML"><code>outerHTML</code></a>, they do not execute at all.</p>
</blockquote></li>
</ul></li>
<li>{{domxref(“HTMLScriptElement.noModule”)}}
<ul>
<li>: Is a boolean value that if true, stops the script’s execution in browsers that support <a href="https://hacks.mozilla.org/2015/08/es6-in-depth-modules/">ES2015 modules</a> — used to run fallback scripts in older browsers that do <em>not</em> support JavaScript modules.</li>
</ul></li>
<li>{{domxref(“HTMLScriptElement.referrerPolicy”)}}
<ul>
<li>: Is a {{domxref(“DOMString”)}} that reflects the {{htmlattrxref(“referrerPolicy”, “script”)}} HTML attribute indicating which referrer to use when fetching the script, and fetches done by that script.</li>
</ul></li>
</ul>
<h2 id="static-methods">Static methods</h2>
<ul>
<li>{{domxref(“HTMLScriptElement.supports()”)}}
<ul>
<li>: Returns <code>true</code> if the browser supports scripts of the specified type and <code>false</code> otherwise. This method provides a simple and unified method for script-related feature detection.</li>
</ul></li>
</ul>
<h2 id="methods">Methods</h2>
<p><em>No specific methods; inherits methods from its parent, {{domxref(“HTMLElement”)}}.</em></p>
<h2 id="examples">Examples</h2>
<h3 id="dynamically-importing-scripts">Dynamically importing scripts</h3>
<p>Let’s create a function that imports new scripts within a document creating a {{HTMLElement(“script”)}} node <em>immediately before</em> the {{HTMLElement(“script”)}} that hosts the following code (through {{domxref(“document.currentScript”)}}). These scripts will be <strong>asynchronously</strong> executed. For more details, see the <a href="#defer_property"><code>defer</code></a> and <a href="#async_property"><code>async</code></a> properties.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">function</span> <span class="at">loadError</span>(oError) <span class="op">{</span></a>
<a class="sourceLine" id="cb1-2" title="2">  <span class="cf">throw</span> <span class="kw">new</span> <span class="at">URIError</span>(<span class="st">&quot;The script &quot;</span> <span class="op">+</span> <span class="va">oError</span>.<span class="va">target</span>.<span class="at">src</span> <span class="op">+</span> <span class="st">&quot; didn&#39;t load correctly.&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="op">}</span></a>
<a class="sourceLine" id="cb1-4" title="4"></a>
<a class="sourceLine" id="cb1-5" title="5"><span class="kw">function</span> <span class="at">prefixScript</span>(url<span class="op">,</span> onloadFunction) <span class="op">{</span></a>
<a class="sourceLine" id="cb1-6" title="6">  <span class="kw">var</span> newScript <span class="op">=</span> <span class="va">document</span>.<span class="at">createElement</span>(<span class="st">&quot;script&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-7" title="7">  <span class="va">newScript</span>.<span class="at">onerror</span> <span class="op">=</span> loadError<span class="op">;</span></a>
<a class="sourceLine" id="cb1-8" title="8">  <span class="cf">if</span> (onloadFunction) <span class="op">{</span> <span class="va">newScript</span>.<span class="at">onload</span> <span class="op">=</span> onloadFunction<span class="op">;</span> <span class="op">}</span></a>
<a class="sourceLine" id="cb1-9" title="9">  <span class="va">document</span>.<span class="va">currentScript</span>.<span class="va">parentNode</span>.<span class="at">insertBefore</span>(newScript<span class="op">,</span> <span class="va">document</span>.<span class="at">currentScript</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-10" title="10">  <span class="va">newScript</span>.<span class="at">src</span> <span class="op">=</span> url<span class="op">;</span></a>
<a class="sourceLine" id="cb1-11" title="11"><span class="op">}</span></a></code></pre></div>
<p>This next function, instead of prepending the new scripts immediately before the {{domxref(“document.currentScript”)}} element, appends them as children of the {{HTMLElement(“head”)}} tag.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">function</span> <span class="at">loadError</span>(oError) <span class="op">{</span></a>
<a class="sourceLine" id="cb2-2" title="2">  <span class="cf">throw</span> <span class="kw">new</span> <span class="at">URIError</span>(<span class="st">&quot;The script &quot;</span> <span class="op">+</span> <span class="va">oError</span>.<span class="va">target</span>.<span class="at">src</span> <span class="op">+</span> <span class="st">&quot; didn&#39;t load correctly.&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-3" title="3"><span class="op">}</span></a>
<a class="sourceLine" id="cb2-4" title="4"></a>
<a class="sourceLine" id="cb2-5" title="5"><span class="kw">function</span> <span class="at">affixScriptToHead</span>(url<span class="op">,</span> onloadFunction) <span class="op">{</span></a>
<a class="sourceLine" id="cb2-6" title="6">  <span class="kw">var</span> newScript <span class="op">=</span> <span class="va">document</span>.<span class="at">createElement</span>(<span class="st">&quot;script&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-7" title="7">  <span class="va">newScript</span>.<span class="at">onerror</span> <span class="op">=</span> loadError<span class="op">;</span></a>
<a class="sourceLine" id="cb2-8" title="8">  <span class="cf">if</span> (onloadFunction) <span class="op">{</span> <span class="va">newScript</span>.<span class="at">onload</span> <span class="op">=</span> onloadFunction<span class="op">;</span> <span class="op">}</span></a>
<a class="sourceLine" id="cb2-9" title="9">  <span class="va">document</span>.<span class="va">head</span>.<span class="at">appendChild</span>(newScript)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-10" title="10">  <span class="va">newScript</span>.<span class="at">src</span> <span class="op">=</span> url<span class="op">;</span></a>
<a class="sourceLine" id="cb2-11" title="11"><span class="op">}</span></a></code></pre></div>
<p>Sample usage:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="at">affixScriptToHead</span>(<span class="st">&quot;myScript1.js&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-2" title="2"><span class="at">affixScriptToHead</span>(<span class="st">&quot;myScript2.js&quot;</span><span class="op">,</span> <span class="kw">function</span> () <span class="op">{</span> <span class="at">alert</span>(<span class="st">&quot;The script </span><span class="sc">\&quot;</span><span class="st">myScript2.js</span><span class="sc">\&quot;</span><span class="st"> has been correctly loaded.&quot;</span>)<span class="op">;</span> <span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<h3 id="checking-if-a-script-type-is-supported">Checking if a script type is supported</h3>
<p>{{domxref(“HTMLScriptElement.supports()”)}} provides a unified mechanism for checking whether a browser supports particular types of scripts.</p>
<p>The example below shows how to check for module support, using the existance of the <code>noModule</code> attribute as a fallback.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1"><span class="kw">function</span> <span class="at">checkModuleSupport</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb4-2" title="2">  <span class="cf">if</span> (<span class="st">&#39;supports&#39;</span> <span class="kw">in</span> HTMLScriptElement) <span class="op">{</span></a>
<a class="sourceLine" id="cb4-3" title="3">    <span class="cf">return</span> <span class="va">HTMLScriptElement</span>.<span class="at">supports</span>(<span class="st">&#39;module&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-4" title="4">  <span class="op">}</span></a>
<a class="sourceLine" id="cb4-5" title="5">  <span class="cf">return</span> <span class="st">&#39;noModule&#39;</span> <span class="kw">in</span> <span class="va">document</span>.<span class="at">createElement</span>(<span class="st">&#39;script&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-6" title="6"><span class="op">}</span></a></code></pre></div>
<p>Classic scripts are assumed to be supported on all browsers.</p>
<h2 id="specifications">Specifications</h2>
<p>{{Specifications}}</p>
<h2 id="browser-compatibility">Browser compatibility</h2>
<p>{{Compat}}</p>
<h2 id="see-also">See also</h2>
<ul>
<li>HTML {{HTMLElement(“script”)}} element</li>
<li>HTML {{HTMLElement(“noscript”)}} element</li>
<li>{{domxref(“document.currentScript”)}}</li>
<li><a href="/en-US/docs/Web/API/Web_Workers_API/Using_web_workers">Web Workers</a> (code snippets similar to scripts but executed in <a href="/en-US/docs/Web/API/DedicatedWorkerGlobalScope">another global context</a>)</li>
<li><a href="https://pieisgood.org/test/script-link-events/">Ryan Grove’s &lt;script&gt; and &lt;link&gt; node event compatibility chart</a></li>
</ul>

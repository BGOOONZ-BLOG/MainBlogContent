<p>{{APIRef(“Web Audio API”)}}</p>
<p>The <strong><code>OfflineAudioContext()</code></strong> constructor—part of the <a href="/en-US/docs/Web/API/Web_Audio_API">Web Audio API</a>—creates and returns a new {{domxref(“OfflineAudioContext”)}} object instance, which can then be used to render audio to an {{domxref(“AudioBuffer”)}} rather than to an audio output device.</p>
<h2 id="syntax">Syntax</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">new</span> <span class="at">OfflineAudioContext</span>(options)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="kw">new</span> <span class="at">OfflineAudioContext</span>(numberOfChannels<span class="op">,</span> length<span class="op">,</span> sampleRate)<span class="op">;</span></a></code></pre></div>
<h3 id="parameters">Parameters</h3>
<p>You can specify the parameters for the <code>OfflineAudioContext()</code> constructor as either the same set of parameters as are inputs into the {{domxref(“BaseAudioContext.createBuffer”)}} method, or by passing those parameters in an <code>options</code> object. Either way, the individual parameters are the same.</p>
<ul>
<li><code>numberOfChannels</code>
<ul>
<li>: An integer specifying the number of channels the resulting {{domxref(“AudioBuffer”)}} should have.</li>
</ul></li>
<li><code>length</code>
<ul>
<li>: An integer specifying the size of the buffer to create for the audio context, in sample-frames, where one sample-frame is a unit that can contain a single sample of audio data for every channel in the audio data. For example, a 5-second buffer with a <code>sampleRate</code> of 48000Hz would have a length of <code>5 * 48000 = 240000</code> sample-frames.</li>
</ul></li>
<li><code>sampleRate</code>
<ul>
<li>: The sample-rate of the linear audio data in sample-frames per second. All user agents are required to support a range of 22050Hz to 96000Hz, and may support a wider range than that. The most commonly-used rate is 44100Hz, which is the sample rate used by CD audio.</li>
</ul></li>
</ul>
<p>It is important to note that, whereas you can create a new {{domxref(“AudioContext”)}} using the {{domxref(“AudioContext.AudioContext()”, “new AudioContext()”)}} constructor with no arguments, the <code>OfflineAudioContext()</code> constructor requires three arguments, since it needs to create an <code>AudioBuffer</code>. This works in exactly the same way as when you create a new {{domxref(“AudioBuffer”)}} with the {{domxref(“BaseAudioContext.createBuffer”)}} method. For more detail, read <a href="/en-US/docs/Web/API/Web_Audio_API/Basic_concepts_behind_Web_Audio_API#audio_buffers.3a_frames.2c_samples_and_channels">Audio buffers: frames, samples and channels</a> from our <a href="/en-US/docs/Web/API/Web_Audio_API/Basic_concepts_behind_Web_Audio_API">Basic concepts</a> guide.</p>
<h3 id="return-value">Return value</h3>
<p>A new {{domxref(“OfflineAudioContext”)}} object whose associated <code>AudioBuffer</code> is configured as requested.</p>
<p>Like a regular <code>AudioContext</code>, an <code>OfflineAudioContext</code> can be the target of events, therefore it implements the {{domxref(“EventTarget”)}} interface.</p>
<h2 id="example">Example</h2>
<div class="sourceCode" id="cb2"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">const</span> offlineCtx <span class="op">=</span> <span class="kw">new</span> <span class="at">OfflineAudioContext</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb2-2" title="2">  <span class="dt">numberOfChannels</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-3" title="3">  <span class="dt">length</span><span class="op">:</span> <span class="dv">44100</span> <span class="op">*</span> <span class="dv">40</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-4" title="4">  <span class="dt">sampleRate</span><span class="op">:</span> <span class="dv">44100</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-5" title="5"><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-6" title="6"><span class="kw">const</span> source <span class="op">=</span> <span class="va">offlineCtx</span>.<span class="at">createBufferSource</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb2-7" title="7"><span class="co">// etc...</span></a></code></pre></div>
<p>For a full working example, see our <a href="https://mdn.github.io/webaudio-examples/offline-audio-context-promise/">offline-audio-context-promise</a> Github repo (see the <a href="https://github.com/mdn/webaudio-examples/blob/master/offline-audio-context-promise/index.html">source code</a> too.)</p>
<h2 id="specifications">Specifications</h2>
<p>{{Specifications}}</p>
<h2 id="browser-compatibility">Browser compatibility</h2>
<p>{{Compat}}</p>

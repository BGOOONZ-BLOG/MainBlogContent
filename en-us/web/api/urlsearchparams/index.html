<p>{{ApiRef(“URL API”)}}</p>
<p>The <strong><code>URLSearchParams</code></strong> interface defines utility methods to work with the query string of a URL.</p>
<p>An object implementing <code>URLSearchParams</code> can directly be used in a {{jsxref(“Statements/for…of”, “for…of”)}} structure, for example the following two lines are equivalent:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="cf">for</span> (<span class="kw">const</span> [key<span class="op">,</span> value] <span class="kw">of</span> mySearchParams) <span class="op">{}</span></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="cf">for</span> (<span class="kw">const</span> [key<span class="op">,</span> value] <span class="kw">of</span> <span class="va">mySearchParams</span>.<span class="at">entries</span>()) <span class="op">{}</span></a></code></pre></div>
<p>{{availableinworkers}}</p>
<h2 id="constructor">Constructor</h2>
<ul>
<li>{{domxref(“URLSearchParams.URLSearchParams”, ‘URLSearchParams()’)}}
<ul>
<li>: Returns a <code>URLSearchParams</code> object instance.</li>
</ul></li>
</ul>
<h2 id="methods">Methods</h2>
<ul>
<li>{{domxref(“URLSearchParams.append()”)}}
<ul>
<li>: Appends a specified key/value pair as a new search parameter.</li>
</ul></li>
<li>{{domxref(“URLSearchParams.delete()”)}}
<ul>
<li>: Deletes the given search parameter, and its associated value, from the list of all search parameters.</li>
</ul></li>
<li>{{domxref(“URLSearchParams.entries()”)}}
<ul>
<li>: Returns an {{jsxref(“Iteration_protocols”,“iterator”)}} allowing iteration through all key/value pairs contained in this object.</li>
</ul></li>
<li>{{domxref(“URLSearchParams.forEach()”)}}
<ul>
<li>: Allows iteration through all values contained in this object via a callback function.</li>
</ul></li>
<li>{{domxref(“URLSearchParams.get()”)}}
<ul>
<li>: Returns the first value associated with the given search parameter.</li>
</ul></li>
<li>{{domxref(“URLSearchParams.getAll()”)}}
<ul>
<li>: Returns all the values associated with a given search parameter.</li>
</ul></li>
<li>{{domxref(“URLSearchParams.has()”)}}
<ul>
<li>: Returns a boolean value indicating if such a given parameter exists.</li>
</ul></li>
<li>{{domxref(“URLSearchParams.keys()”)}}
<ul>
<li>: Returns an {{jsxref(“Iteration_protocols”, “iterator”)}} allowing iteration through all keys of the key/value pairs contained in this object.</li>
</ul></li>
<li>{{domxref(“URLSearchParams.set()”)}}
<ul>
<li>: Sets the value associated with a given search parameter to the given value. If there are several values, the others are deleted.</li>
</ul></li>
<li>{{domxref(“URLSearchParams.sort()”)}}
<ul>
<li>: Sorts all key/value pairs, if any, by their keys.</li>
</ul></li>
<li>{{domxref(“URLSearchParams.toString()”)}}
<ul>
<li>: Returns a string containing a query string suitable for use in a URL.</li>
</ul></li>
<li>{{domxref(“URLSearchParams.values()”)}}
<ul>
<li>: Returns an {{jsxref(“Iteration_protocols”, “iterator”)}} allowing iteration through all values of the key/value pairs contained in this object.</li>
</ul></li>
</ul>
<h2 id="examples">Examples</h2>
<div class="sourceCode" id="cb2"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">const</span> paramsString <span class="op">=</span> <span class="st">&#39;q=URLUtils.searchParams&amp;topic=api&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb2-2" title="2"><span class="kw">let</span> searchParams <span class="op">=</span> <span class="kw">new</span> <span class="at">URLSearchParams</span>(paramsString)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-3" title="3"></a>
<a class="sourceLine" id="cb2-4" title="4"><span class="co">//Iterate the search parameters.</span></a>
<a class="sourceLine" id="cb2-5" title="5"><span class="cf">for</span> (<span class="kw">let</span> p <span class="kw">of</span> searchParams) <span class="op">{</span></a>
<a class="sourceLine" id="cb2-6" title="6">  <span class="va">console</span>.<span class="at">log</span>(p)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-7" title="7"><span class="op">}</span></a>
<a class="sourceLine" id="cb2-8" title="8"></a>
<a class="sourceLine" id="cb2-9" title="9"><span class="va">searchParams</span>.<span class="at">has</span>(<span class="st">&#39;topic&#39;</span>) <span class="op">===</span> <span class="kw">true</span><span class="op">;</span>      <span class="co">// true</span></a>
<a class="sourceLine" id="cb2-10" title="10"><span class="va">searchParams</span>.<span class="at">get</span>(<span class="st">&#39;topic&#39;</span>) <span class="op">===</span> <span class="st">&quot;api&quot;</span><span class="op">;</span>     <span class="co">// true</span></a>
<a class="sourceLine" id="cb2-11" title="11"><span class="va">searchParams</span>.<span class="at">getAll</span>(<span class="st">&#39;topic&#39;</span>)<span class="op">;</span>            <span class="co">// [&quot;api&quot;]</span></a>
<a class="sourceLine" id="cb2-12" title="12"><span class="va">searchParams</span>.<span class="at">get</span>(<span class="st">&#39;foo&#39;</span>) <span class="op">===</span> <span class="kw">null</span><span class="op">;</span>        <span class="co">// true</span></a>
<a class="sourceLine" id="cb2-13" title="13"><span class="va">searchParams</span>.<span class="at">append</span>(<span class="st">&#39;topic&#39;</span><span class="op">,</span> <span class="st">&#39;webdev&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-14" title="14"><span class="va">searchParams</span>.<span class="at">toString</span>()<span class="op">;</span>                 <span class="co">// &quot;q=URLUtils.searchParams&amp;topic=api&amp;topic=webdev&quot;</span></a>
<a class="sourceLine" id="cb2-15" title="15"><span class="va">searchParams</span>.<span class="at">set</span>(<span class="st">&#39;topic&#39;</span><span class="op">,</span> <span class="st">&#39;More webdev&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-16" title="16"><span class="va">searchParams</span>.<span class="at">toString</span>()<span class="op">;</span>                 <span class="co">// &quot;q=URLUtils.searchParams&amp;topic=More+webdev&quot;</span></a>
<a class="sourceLine" id="cb2-17" title="17"><span class="va">searchParams</span>.<span class="at">delete</span>(<span class="st">&#39;topic&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-18" title="18"><span class="va">searchParams</span>.<span class="at">toString</span>()<span class="op">;</span>                 <span class="co">// &quot;q=URLUtils.searchParams&quot;</span></a></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="co">// Search parameters can also be an object</span></a>
<a class="sourceLine" id="cb3-2" title="2"><span class="kw">let</span> paramsObj <span class="op">=</span> <span class="op">{</span><span class="dt">foo</span><span class="op">:</span> <span class="st">&#39;bar&#39;</span><span class="op">,</span> <span class="dt">baz</span><span class="op">:</span> <span class="st">&#39;bar&#39;</span><span class="op">};</span></a>
<a class="sourceLine" id="cb3-3" title="3"><span class="kw">let</span> searchParams <span class="op">=</span> <span class="kw">new</span> <span class="at">URLSearchParams</span>(paramsObj)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-4" title="4"></a>
<a class="sourceLine" id="cb3-5" title="5"><span class="va">searchParams</span>.<span class="at">toString</span>()<span class="op">;</span>                 <span class="co">// &quot;foo=bar&amp;baz=bar&quot;</span></a>
<a class="sourceLine" id="cb3-6" title="6"><span class="va">searchParams</span>.<span class="at">has</span>(<span class="st">&#39;foo&#39;</span>)<span class="op">;</span>                 <span class="co">// true</span></a>
<a class="sourceLine" id="cb3-7" title="7"><span class="va">searchParams</span>.<span class="at">get</span>(<span class="st">&#39;foo&#39;</span>)<span class="op">;</span>                 <span class="co">// bar</span></a></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1"><span class="co">// Having duplicate parameters only returns the first value</span></a>
<a class="sourceLine" id="cb4-2" title="2"><span class="kw">let</span> paramStr <span class="op">=</span> <span class="st">&#39;foo=bar&amp;foo=baz&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb4-3" title="3"><span class="kw">let</span> searchParams <span class="op">=</span> <span class="kw">new</span> <span class="at">URLSearchParams</span>(paramStr)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-4" title="4"></a>
<a class="sourceLine" id="cb4-5" title="5"><span class="va">searchParams</span>.<span class="at">toString</span>()<span class="op">;</span>                 <span class="co">// &quot;foo=bar&amp;foo=baz&quot;</span></a>
<a class="sourceLine" id="cb4-6" title="6"><span class="va">searchParams</span>.<span class="at">has</span>(<span class="st">&#39;foo&#39;</span>)<span class="op">;</span>                 <span class="co">// true</span></a>
<a class="sourceLine" id="cb4-7" title="7"><span class="va">searchParams</span>.<span class="at">get</span>(<span class="st">&#39;foo&#39;</span>)<span class="op">;</span>                 <span class="co">// bar</span></a></code></pre></div>
<h3 id="gotchas">Gotchas</h3>
<p>The <code>URLSearchParams</code> constructor does <em>not</em> parse full URLs. However, it will strip an initial leading <code>?</code> off of a string, if present.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb5-1" title="1"><span class="kw">const</span> paramsString1 <span class="op">=</span> <span class="st">&#39;http://example.com/search?query=%40&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb5-2" title="2"><span class="kw">const</span> searchParams1 <span class="op">=</span> <span class="kw">new</span> <span class="at">URLSearchParams</span>(paramsString1)<span class="op">;</span></a>
<a class="sourceLine" id="cb5-3" title="3"></a>
<a class="sourceLine" id="cb5-4" title="4"><span class="va">searchParams1</span>.<span class="at">has</span>(<span class="st">&#39;query&#39;</span>)<span class="op">;</span> <span class="co">// false</span></a>
<a class="sourceLine" id="cb5-5" title="5"><span class="va">searchParams1</span>.<span class="at">has</span>(<span class="st">&#39;http://example.com/search?query&#39;</span>)<span class="op">;</span> <span class="co">// true</span></a>
<a class="sourceLine" id="cb5-6" title="6"></a>
<a class="sourceLine" id="cb5-7" title="7"><span class="va">searchParams1</span>.<span class="at">get</span>(<span class="st">&#39;query&#39;</span>)<span class="op">;</span> <span class="co">// null</span></a>
<a class="sourceLine" id="cb5-8" title="8"><span class="va">searchParams1</span>.<span class="at">get</span>(<span class="st">&#39;http://example.com/search?query&#39;</span>)<span class="op">;</span> <span class="co">// &quot;@&quot; (equivalent to decodeURIComponent(&#39;%40&#39;))</span></a>
<a class="sourceLine" id="cb5-9" title="9"></a>
<a class="sourceLine" id="cb5-10" title="10"><span class="kw">const</span> paramsString2 <span class="op">=</span> <span class="st">&#39;?query=value&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb5-11" title="11"><span class="kw">const</span> searchParams2 <span class="op">=</span> <span class="kw">new</span> <span class="at">URLSearchParams</span>(paramsString2)<span class="op">;</span></a>
<a class="sourceLine" id="cb5-12" title="12"><span class="va">searchParams2</span>.<span class="at">has</span>(<span class="st">&#39;query&#39;</span>)<span class="op">;</span> <span class="co">// true</span></a>
<a class="sourceLine" id="cb5-13" title="13"></a>
<a class="sourceLine" id="cb5-14" title="14"><span class="kw">const</span> url <span class="op">=</span> <span class="kw">new</span> <span class="at">URL</span>(<span class="st">&#39;http://example.com/search?query=%40&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb5-15" title="15"><span class="kw">const</span> searchParams3 <span class="op">=</span> <span class="kw">new</span> <span class="at">URLSearchParams</span>(<span class="va">url</span>.<span class="at">search</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb5-16" title="16"><span class="va">searchParams3</span>.<span class="at">has</span>(<span class="st">&#39;query&#39;</span>) <span class="co">// true</span></a></code></pre></div>
<p>It interprets <code>+</code> as a space</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb6-1" title="1"><span class="kw">const</span> base64 <span class="op">=</span> <span class="at">btoa</span>(<span class="va">String</span>.<span class="at">fromCharCode</span>(<span class="dv">19</span><span class="op">,</span> <span class="dv">224</span><span class="op">,</span> <span class="dv">23</span><span class="op">,</span> <span class="dv">64</span><span class="op">,</span> <span class="dv">31</span><span class="op">,</span> <span class="dv">128</span>))<span class="op">;</span> <span class="co">// base64 is &quot;E+AXQB+A&quot;</span></a>
<a class="sourceLine" id="cb6-2" title="2"><span class="kw">const</span> searchParams <span class="op">=</span> <span class="kw">new</span> <span class="at">URLSearchParams</span>(<span class="st">&#39;q=foo&amp;bin=&#39;</span> <span class="op">+</span> base64)<span class="op">;</span> <span class="co">// q=foo&amp;bin=E+AXQB+A</span></a>
<a class="sourceLine" id="cb6-3" title="3"><span class="kw">const</span> getBin <span class="op">=</span> <span class="va">searchParams</span>.<span class="at">get</span>(<span class="st">&#39;bin&#39;</span>)<span class="op">;</span> <span class="co">// &quot;E AXQB A&quot; + char is replaced by spaces</span></a>
<a class="sourceLine" id="cb6-4" title="4"><span class="at">btoa</span>(<span class="at">atob</span>(getBin))<span class="op">;</span> <span class="co">// &quot;EAXQBA==&quot; no error thrown</span></a>
<a class="sourceLine" id="cb6-5" title="5"><span class="at">btoa</span>(<span class="va">String</span>.<span class="at">fromCharCode</span>(<span class="dv">16</span><span class="op">,</span><span class="dv">5</span><span class="op">,</span><span class="dv">208</span><span class="op">,</span><span class="dv">4</span>)) <span class="co">// &quot;EAXQBA==&quot; decodes to wrong binary value</span></a>
<a class="sourceLine" id="cb6-6" title="6"><span class="va">getBin</span>.<span class="at">replace</span>(<span class="ss">/ /g</span><span class="op">,</span> <span class="st">&#39;+&#39;</span>)<span class="op">;</span> <span class="co">// &quot;E+AXQB+A&quot; is one solution</span></a>
<a class="sourceLine" id="cb6-7" title="7"></a>
<a class="sourceLine" id="cb6-8" title="8"><span class="co">// or use set to add the parameter, but this increases the query string length</span></a>
<a class="sourceLine" id="cb6-9" title="9"><span class="va">searchParams</span>.<span class="at">set</span>(<span class="st">&#39;bin2&#39;</span><span class="op">,</span> base64) <span class="co">// &quot;q=foo&amp;bin=E+AXQB+A&amp;bin2=E%2BAXQB%2BA&quot; encodes + as %2B</span></a>
<a class="sourceLine" id="cb6-10" title="10"><span class="va">searchParams</span>.<span class="at">get</span>(<span class="st">&#39;bin2&#39;</span>)<span class="op">;</span> <span class="co">// &quot;E+AXQB+A&quot;</span></a></code></pre></div>
<p>It doesn’t distinguish between a parameter with nothing after the <code>=</code> and a parameter that doesn’t have a <code>=</code> altogether.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb7-1" title="1"><span class="kw">const</span> emptyVal <span class="op">=</span> <span class="kw">new</span> <span class="at">URLSearchParams</span>(<span class="st">&#39;foo=&amp;bar=baz&#39;</span>)</a>
<a class="sourceLine" id="cb7-2" title="2"><span class="va">emptyVal</span>.<span class="at">get</span>(<span class="st">&#39;foo&#39;</span>) <span class="co">// returns &#39;&#39;</span></a>
<a class="sourceLine" id="cb7-3" title="3"><span class="kw">const</span> noEquals <span class="op">=</span> <span class="kw">new</span> <span class="at">URLSearchParams</span>(<span class="st">&#39;foo&amp;bar=baz&#39;</span>)</a>
<a class="sourceLine" id="cb7-4" title="4"><span class="va">noEquals</span>.<span class="at">get</span>(<span class="st">&#39;foo&#39;</span>) <span class="co">// also returns &#39;&#39;</span></a>
<a class="sourceLine" id="cb7-5" title="5"><span class="va">noEquals</span>.<span class="at">toString</span>() <span class="co">// &#39;foo=&amp;bar=baz&#39;</span></a></code></pre></div>
<h2 id="specifications">Specifications</h2>
<p>{{Specifications}}</p>
<h2 id="browser-compatibility">Browser compatibility</h2>
<p>{{Compat}}</p>
<h2 id="see-also">See also</h2>
<ul>
<li>A polyfill of <code>URLSearchParams</code> is available in <a href="https://github.com/zloirock/core-js#url-and-urlsearchparams"><code>core-js</code></a></li>
<li>The {{domxref(“URL”)}} interface.</li>
<li><a href="https://developers.google.com/web/updates/2016/01/urlsearchparams?hl=en">Google Developers: Easy URL manipulation with URLSearchParams</a></li>
</ul>

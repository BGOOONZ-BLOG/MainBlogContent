<p>{{APIRef(“File System API”)}} {{non-standard_header}}</p>
<h2 id="summary">Summary</h2>
<p>The <code>LockedFile</code> interface provides tools to deal with a given file with all the necessary locks.</p>
<h2 id="properties">Properties</h2>
<ul>
<li>{{domxref(“LockedFile.fileHandle”)}} {{readonlyinline}}
<ul>
<li>: The {{domxref(“IDBMutableFile”)}} object from which the lock was opened.</li>
</ul></li>
<li>{{domxref(“LockedFile.mode”)}} {{readonlyinline}}
<ul>
<li>: The mode for accessing the file; can be <code>readonly</code> or <code>readwrite</code>.</li>
</ul></li>
<li>{{domxref(“LockedFile.active”)}} {{readonlyinline}}
<ul>
<li>: A flag indicating if the file can be accessed (<code>true</code>) or not (<code>false</code>).</li>
</ul></li>
<li>{{domxref(“LockedFile.location”)}}
<ul>
<li>: The position of the reading/writing pointer within the file.</li>
</ul></li>
</ul>
<h3 id="events-handler">Events Handler</h3>
<ul>
<li>{{domxref(“LockedFile.oncomplete”)}}
<ul>
<li>: The {{event(“complete”)}} event is triggered each time a read or write operation is successful.</li>
</ul></li>
<li>{{domxref(“LockedFile.onabort”)}}
<ul>
<li>: The {{event(“abort”)}} event is triggered each time the {{domxref(“LockedFile.abort()”,“abort()”)}} method is called.</li>
</ul></li>
<li>{{domxref(“LockedFile.onerror”)}}
<ul>
<li>: The {{event(“error”)}} event is triggered each time something goes wrong.</li>
</ul></li>
</ul>
<h2 id="methods">Methods</h2>
<ul>
<li>{{domxref(“LockedFile.getMetadata()”)}}
<ul>
<li>: Allows to retrieve the file metadata (size and date of the last modification). Returns a {{domxref(“FileRequest”)}}.</li>
</ul></li>
<li>{{domxref(“LockedFile.readAsArrayBuffer()”)}}
<ul>
<li>: Allows to retrieve a part of the content of the file as an {{jsxref(“ArrayBuffer”)}}. Returns a {{domxref(“FileRequest”)}} object.</li>
</ul></li>
<li>{{domxref(“LockedFile.readAsText()”)}}
<ul>
<li>: Allows to retrieve a part of the content of the file as a string. Returns a {{domxref(“FileRequest”)}} object.</li>
</ul></li>
<li>{{domxref(“LockedFile.write()”)}}
<ul>
<li>: Allows to write some data in the file starting at the {{domxref(“LockedFile.location”,“location”)}} offset. Returns a {{domxref(“FileRequest”)}} object.</li>
</ul></li>
<li>{{domxref(“LockedFile.append()”)}}
<ul>
<li>: Allows to write some data at the end of the file. Returns a {{domxref(“FileRequest”)}} object.</li>
</ul></li>
<li>{{domxref(“LockedFile.truncate()”)}}
<ul>
<li>: Allows to truncate the file’s content. Returns a {{domxref(“FileRequest”)}} object.</li>
</ul></li>
<li>{{domxref(“LockedFile.flush()”)}}
<ul>
<li>: Allows to guarantee that any buffered data has been transferred to disk.</li>
</ul></li>
<li>{{domxref(“LockedFile.abort()”)}}
<ul>
<li>: Makes the <code>LockedFile</code> inactive and cancels all ongoing operations.</li>
</ul></li>
</ul>
<h2 id="specifications">Specifications</h2>
<table>
<thead>
<tr class="header">
<th>Specification</th>
<th>Status</th>
<th>Comment</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>{{SpecName(‘FileSystem’)}}</td>
<td>{{Spec2(‘FileSystem’)}}</td>
<td>Draft proposal.</td>
</tr>
</tbody>
</table>
<h2 id="see-also">See also</h2>
<ul>
<li>{{domxref(“IDBMutableFile”)}}</li>
<li>{{domxref(“FileRequest”)}}</li>
</ul>

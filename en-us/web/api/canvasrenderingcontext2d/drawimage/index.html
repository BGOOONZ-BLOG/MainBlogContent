<p>{{APIRef}}</p>
<p>The <strong><code>CanvasRenderingContext2D.drawImage()</code></strong> method of the Canvas 2D API provides different ways to draw an image onto the canvas.</p>
<h2 id="syntax">Syntax</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">void</span> <span class="va">ctx</span>.<span class="at">drawImage</span>(image<span class="op">,</span> dx<span class="op">,</span> dy)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="kw">void</span> <span class="va">ctx</span>.<span class="at">drawImage</span>(image<span class="op">,</span> dx<span class="op">,</span> dy<span class="op">,</span> dWidth<span class="op">,</span> dHeight)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="kw">void</span> <span class="va">ctx</span>.<span class="at">drawImage</span>(image<span class="op">,</span> sx<span class="op">,</span> sy<span class="op">,</span> sWidth<span class="op">,</span> sHeight<span class="op">,</span> dx<span class="op">,</span> dy<span class="op">,</span> dWidth<span class="op">,</span> dHeight)<span class="op">;</span></a></code></pre></div>
<figure>
<img src="canvas_drawimage.jpg" alt="drawImage" /><figcaption>drawImage</figcaption>
</figure>
<h3 id="parameters">Parameters</h3>
<ul>
<li><code>image</code>
<ul>
<li>: An element to draw into the context. The specification permits any canvas image source ({{domxref(“CanvasImageSource”)}}), specifically, a {{domxref(“CSSImageValue”)}}, an {{domxref(“HTMLImageElement”)}}, an {{domxref(“SVGImageElement”)}}, an {{domxref(“HTMLVideoElement”)}}, an {{domxref(“HTMLCanvasElement”)}}, an {{domxref(“ImageBitmap”)}}, or an {{domxref(“OffscreenCanvas”)}}.</li>
</ul></li>
<li><code>sx</code> {{optional_inline}}
<ul>
<li>: The x-axis coordinate of the top left corner of the sub-rectangle of the source <code>image</code> to draw into the destination context. Use the 3- or 5-argument syntax to omit this argument.</li>
</ul></li>
<li><code>sy</code> {{optional_inline}}
<ul>
<li>: The y-axis coordinate of the top left corner of the sub-rectangle of the source <code>image</code> to draw into the destination context. Use the 3- or 5-argument syntax to omit this argument.</li>
</ul></li>
<li><code>sWidth</code> {{optional_inline}}
<ul>
<li>: The width of the sub-rectangle of the source <code>image</code> to draw into the destination context. If not specified, the entire rectangle from the coordinates specified by <code>sx</code> and <code>sy</code> to the bottom-right corner of the image is used. Use the 3- or 5-argument syntax to omit this argument.</li>
</ul></li>
<li><code>sHeight</code> {{optional_inline}}
<ul>
<li>: The height of the sub-rectangle of the source <code>image</code> to draw into the destination context. Use the 3- or 5-argument syntax to omit this argument.</li>
</ul></li>
<li><code>dx</code>
<ul>
<li>: The x-axis coordinate in the destination canvas at which to place the top-left corner of the source <code>image</code>.</li>
</ul></li>
<li><code>dy</code>
<ul>
<li>: The y-axis coordinate in the destination canvas at which to place the top-left corner of the source <code>image</code>.</li>
</ul></li>
<li><code>dWidth</code>
<ul>
<li>: The width to draw the <code>image</code> in the destination canvas. This allows scaling of the drawn image. If not specified, the image is not scaled in width when drawn. Note that this argument is not included in the 3-argument syntax.</li>
</ul></li>
<li><code>dHeight</code>
<ul>
<li>: The height to draw the <code>image</code> in the destination canvas. This allows scaling of the drawn image. If not specified, the image is not scaled in height when drawn. Note that this argument is not included in the 3-argument syntax.</li>
</ul></li>
</ul>
<h3 id="exceptions-thrown">Exceptions thrown</h3>
<ul>
<li><code>INDEX_SIZE_ERR</code>
<ul>
<li>: If the canvas or source rectangle width or height is zero.</li>
</ul></li>
<li><code>INVALID_STATE_ERR</code>
<ul>
<li>: The image has no image data.</li>
</ul></li>
<li><code>TYPE_MISMATCH_ERR</code>
<ul>
<li>: The specified source element isn’t supported.</li>
</ul></li>
<li><code>NS_ERROR_NOT_AVAILABLE</code>
<ul>
<li>: The image is not loaded yet. Use <code>.complete === true</code> and <code>.onload</code> to determine when it is ready.</li>
</ul></li>
</ul>
<h2 id="examples">Examples</h2>
<h3 id="drawing-an-image-to-the-canvas">Drawing an image to the canvas</h3>
<p>This example draws an image to the canvas using the <code>drawImage()</code> method.</p>
<h4 id="html">HTML</h4>
<div class="sourceCode" id="cb2"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">&lt;canvas</span><span class="ot"> id=</span><span class="st">&quot;canvas&quot;</span><span class="kw">&gt;&lt;/canvas&gt;</span></a>
<a class="sourceLine" id="cb2-2" title="2"><span class="kw">&lt;div</span><span class="ot"> style=</span><span class="st">&quot;display:none;&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb2-3" title="3">  <span class="kw">&lt;img</span><span class="ot"> id=</span><span class="st">&quot;source&quot;</span></a>
<a class="sourceLine" id="cb2-4" title="4"><span class="ot">       src=</span><span class="st">&quot;rhino.jpg&quot;</span></a>
<a class="sourceLine" id="cb2-5" title="5"><span class="ot">       width=</span><span class="st">&quot;300&quot;</span><span class="ot"> height=</span><span class="st">&quot;227&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb2-6" title="6"><span class="kw">&lt;/div&gt;</span></a></code></pre></div>
<h4 id="javascript">JavaScript</h4>
<p>The source image is taken from the coordinates (33, 71), with a width of 104 and a height of 124. It is drawn to the canvas at (21, 20), where it is given a width of 87 and a height of 104.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="kw">const</span> canvas <span class="op">=</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&#39;canvas&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-2" title="2"><span class="kw">const</span> ctx <span class="op">=</span> <span class="va">canvas</span>.<span class="at">getContext</span>(<span class="st">&#39;2d&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-3" title="3"><span class="kw">const</span> image <span class="op">=</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&#39;source&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-4" title="4"></a>
<a class="sourceLine" id="cb3-5" title="5"><span class="va">image</span>.<span class="at">addEventListener</span>(<span class="st">&#39;load&#39;</span><span class="op">,</span> e <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb3-6" title="6">  <span class="va">ctx</span>.<span class="at">drawImage</span>(image<span class="op">,</span> <span class="dv">33</span><span class="op">,</span> <span class="dv">71</span><span class="op">,</span> <span class="dv">104</span><span class="op">,</span> <span class="dv">124</span><span class="op">,</span> <span class="dv">21</span><span class="op">,</span> <span class="dv">20</span><span class="op">,</span> <span class="dv">87</span><span class="op">,</span> <span class="dv">104</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-7" title="7"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<h4 id="result">Result</h4>
<p>{{ EmbedLiveSample(‘Drawing_an_image_to_the_canvas’, 700, 180) }}</p>
<h3 id="understanding-source-element-size">Understanding source element size</h3>
<p>The <code>drawImage()</code> method uses the source element’s <em>intrinsic size in CSS pixels</em> when drawing.</p>
<p>For example, if you load an <code>Image</code> and specify the optional size parameters in its <a href="/en-US/docs/Web/API/HTMLImageElement/Image">constructor</a>, you will have to use the <code>naturalWidth</code> and <code>naturalHeight</code> properties of the created instance to properly calculate things like crop and scale regions, rather than <code>element.width</code> and <code>element.height</code>. The same goes for <code>videoWidth</code> and <code>videoHeight</code> if the element is a {{htmlelement(“video”)}} element, and so on.</p>
<h4 id="html-1">HTML</h4>
<div class="sourceCode" id="cb4"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb4-1" title="1"><span class="kw">&lt;canvas</span><span class="ot"> id=</span><span class="st">&quot;canvas&quot;</span><span class="kw">&gt;&lt;/canvas&gt;</span></a></code></pre></div>
<h4 id="javascript-1">JavaScript</h4>
<div class="sourceCode" id="cb5"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb5-1" title="1"><span class="kw">const</span> canvas <span class="op">=</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&#39;canvas&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb5-2" title="2"><span class="kw">const</span> ctx <span class="op">=</span> <span class="va">canvas</span>.<span class="at">getContext</span>(<span class="st">&#39;2d&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb5-3" title="3"></a>
<a class="sourceLine" id="cb5-4" title="4"><span class="kw">const</span> image <span class="op">=</span> <span class="kw">new</span> <span class="at">Image</span>(<span class="dv">60</span><span class="op">,</span> <span class="dv">45</span>)<span class="op">;</span> <span class="co">// Using optional size for image</span></a>
<a class="sourceLine" id="cb5-5" title="5"><span class="va">image</span>.<span class="at">onload</span> <span class="op">=</span> drawImageActualSize<span class="op">;</span> <span class="co">// Draw when image has loaded</span></a>
<a class="sourceLine" id="cb5-6" title="6"></a>
<a class="sourceLine" id="cb5-7" title="7"><span class="co">// Load an image of intrinsic size 300x227 in CSS pixels</span></a>
<a class="sourceLine" id="cb5-8" title="8"><span class="va">image</span>.<span class="at">src</span> <span class="op">=</span> <span class="st">&#39;rhino.jpg&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb5-9" title="9"></a>
<a class="sourceLine" id="cb5-10" title="10"><span class="kw">function</span> <span class="at">drawImageActualSize</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb5-11" title="11">  <span class="co">// Use the intrinsic size of image in CSS pixels for the canvas element</span></a>
<a class="sourceLine" id="cb5-12" title="12">  <span class="va">canvas</span>.<span class="at">width</span> <span class="op">=</span> <span class="kw">this</span>.<span class="at">naturalWidth</span><span class="op">;</span></a>
<a class="sourceLine" id="cb5-13" title="13">  <span class="va">canvas</span>.<span class="at">height</span> <span class="op">=</span> <span class="kw">this</span>.<span class="at">naturalHeight</span><span class="op">;</span></a>
<a class="sourceLine" id="cb5-14" title="14"></a>
<a class="sourceLine" id="cb5-15" title="15">  <span class="co">// Will draw the image as 300x227, ignoring the custom size of 60x45</span></a>
<a class="sourceLine" id="cb5-16" title="16">  <span class="co">// given in the constructor</span></a>
<a class="sourceLine" id="cb5-17" title="17">  <span class="va">ctx</span>.<span class="at">drawImage</span>(<span class="kw">this</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb5-18" title="18"></a>
<a class="sourceLine" id="cb5-19" title="19">  <span class="co">// To use the custom size we&#39;ll have to specify the scale parameters</span></a>
<a class="sourceLine" id="cb5-20" title="20">  <span class="co">// using the element&#39;s width and height properties - lets draw one</span></a>
<a class="sourceLine" id="cb5-21" title="21">  <span class="co">// on top in the corner:</span></a>
<a class="sourceLine" id="cb5-22" title="22">  <span class="va">ctx</span>.<span class="at">drawImage</span>(<span class="kw">this</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="kw">this</span>.<span class="at">width</span><span class="op">,</span> <span class="kw">this</span>.<span class="at">height</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb5-23" title="23"><span class="op">}</span></a></code></pre></div>
<h4 id="result-1">Result</h4>
<p>{{EmbedLiveSample(‘Understanding_source_element_size’, 700, 260)}}</p>
<h2 id="specifications">Specifications</h2>
<p>{{Specifications}}</p>
<h2 id="browser-compatibility">Browser compatibility</h2>
<p>{{Compat}}</p>
<h3 id="gecko-specific-notes">Gecko-specific notes</h3>
<ul>
<li>Support for flipping the image by using negative values for <code>sw</code> and <code>sh</code> was added in Gecko 5.0 {{geckoRelease(“5.0”)}}.</li>
<li>Starting with {{geckoRelease(“5.0”)}}, <code>drawImage()</code> handles negative arguments in accordance with the specification, by flipping the rectangle around the appropriate axis.</li>
<li>Specifying a <code>null</code> or <code>undefined</code> image when calling or <code>drawImage()</code> correctly throws a <code>TYPE_MISMATCH_ERR</code> exception starting with {{geckoRelease(“5.0”)}}.</li>
<li>Prior to Gecko 7.0 {{ geckoRelease(“7.0”) }}, Firefox threw an exception if any of the coordinate values was non-finite or zero. As per the specification, this no longer happens.</li>
<li>Gecko 9.0 {{ geckoRelease(“9.0”) }} now correctly supports CORS for drawing images across domains without <a href="/en-US/docs/Web/HTML/CORS_enabled_image#what_is_a_.22tainted.22_canvas.3f">tainting the canvas</a>.</li>
<li>Gecko 11.0 {{ geckoRelease(“11.0”) }} now allows SVG-as-an-image to be drawn into a canvas without <a href="/en-US/docs/Web/HTML/CORS_enabled_image#what_is_a_.22tainted.22_canvas.3f">tainting the canvas</a>.</li>
</ul>
<h2 id="notes">Notes</h2>
<ul>
<li><code>drawImage()</code> only works correctly on an {{domxref(“HTMLVideoElement”)}} when its {{domxref(“HTMLMediaElement.readyState”)}} is greater than 1 (i.e., <strong>seek</strong> event fired after setting the <code>currentTime</code> property).</li>
<li><code>drawImage()</code> will always use the source element’s <em>intrinsic size in CSS pixels</em> when drawing, cropping, and/or scaling.</li>
<li>In some older browser versions, <code>drawImage()</code> will ignore all EXIF metadata in images, including the Orientation. This behavior is especially troublesome on iOS devices. You should detect the Orientation yourself and use <code>rotate()</code> to make it right.</li>
</ul>
<h2 id="see-also">See also</h2>
<ul>
<li>The interface defining this method: {{domxref(“CanvasRenderingContext2D”)}}</li>
</ul>

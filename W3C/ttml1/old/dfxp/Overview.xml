<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE spec SYSTEM "xmlspec-tt-f.dtd" [
<!ENTITY draft.month.name "November">
<!ENTITY draft.month "11">
<!ENTITY draft.day "10">
<!ENTITY draft.year "2006">
<!ENTITY versionOfTT "1.0">
<!ENTITY doc.designation.nodate "ttaf1-dfxp">
<!ENTITY doc.status "Candidate Recommendation">
<!ENTITY doc.status.abbr "CR">
<!ENTITY doc.base.uri.root "/TR">
<!ENTITY doc.base.uri.noyear "http://www.w3.org&doc.base.uri.root;/">
<!ENTITY doc.base.uri "&doc.base.uri.noyear;&draft.year;/">
<!ENTITY doc.audience "internal review and discussion">
<!ENTITY doc.distribution "may be distributed freely, as long as
all text and legal notices remain intact">
<!ENTITY iso6.doc.date "&draft.year;&draft.month;&draft.day;">
<!ENTITY doc.designation.nostatus "&doc.designation.nodate;-&iso6.doc.date;">
<!ENTITY doc.designation.full "&doc.status.abbr;-&doc.designation.nostatus;">
<!ENTITY doc.designation "&doc.designation.full;">
<!ENTITY tbd "<phrase role='tbd'>To Be Defined</phrase>">
<!ENTITY sp "&#x0020;">
<!ENTITY sect "&#x00a7;">
<!ENTITY aring "&#x00e5;">
<!ENTITY ccedil "&#x00e7;">
<!ENTITY Ccedil "&#x00c7;">
<!ENTITY mult "&#x00d7;">
<!ENTITY uuml "&#x00fc;">
<!ENTITY nbsp "&#x00a0;">
<!ENTITY ndash "&#x2013;">
<!ENTITY mdash "&#x2014;">
<!ENTITY hArr "&#x21d4;">
<!ENTITY trade "&#x2122;">
<!ENTITY hellip "&#x2026;">
<!ENTITY isin "&#x2208;">
<!ENTITY minus "&#x2212;">
<!ENTITY le "&#x2264;">
<!ENTITY ge "&#x2265;">
<!ENTITY plusmn "&#x00B1;">
<!ENTITY dfxp-ex1 SYSTEM "./examples/ex1.xml.esc">
<!ENTITY dfxp-ex1-x-0 SYSTEM "./examples/ex1-x-0.xml.esc">
<!ENTITY dfxp-ex1-p-0 SYSTEM "./examples/ex1-p-0.xml.esc">
<!ENTITY dfxp-ex1-x-1 SYSTEM "./examples/ex1-x-1.xml.esc">
<!ENTITY dfxp-ex1-x-2 SYSTEM "./examples/ex1-x-2.xml.esc">
<!ENTITY rnc-dfxp-driver SYSTEM "./rnc/ttaf1-dfxp.rnc.esc">
<!ENTITY rnc-dfxp-animation-module SYSTEM "./rnc/ttaf1-dfxp-animation.rnc.esc">
<!ENTITY rnc-dfxp-classes-module SYSTEM "./rnc/ttaf1-dfxp-classes.rnc.esc">
<!ENTITY rnc-dfxp-content-module SYSTEM "./rnc/ttaf1-dfxp-content.rnc.esc">
<!ENTITY rnc-dfxp-core-attribs-module SYSTEM "./rnc/ttaf1-dfxp-core-attribs.rnc.esc">
<!ENTITY rnc-dfxp-datatypes-module SYSTEM "./rnc/ttaf1-dfxp-datatypes.rnc.esc">
<!ENTITY rnc-dfxp-document-module SYSTEM "./rnc/ttaf1-dfxp-document.rnc.esc">
<!ENTITY rnc-dfxp-head-module SYSTEM "./rnc/ttaf1-dfxp-head.rnc.esc">
<!ENTITY rnc-dfxp-metadata-module SYSTEM "./rnc/ttaf1-dfxp-metadata.rnc.esc">
<!ENTITY rnc-dfxp-metadata-items-module SYSTEM "./rnc/ttaf1-dfxp-metadata-items.rnc.esc">
<!ENTITY rnc-dfxp-metadata-attribs-module SYSTEM "./rnc/ttaf1-dfxp-metadata-attribs.rnc.esc">
<!ENTITY rnc-dfxp-parameter-attribs-module SYSTEM "./rnc/ttaf1-dfxp-parameter-attribs.rnc.esc">
<!ENTITY rnc-dfxp-styling-attribs-module SYSTEM "./rnc/ttaf1-dfxp-styling-attribs.rnc.esc">
<!ENTITY rnc-dfxp-styling-module SYSTEM "./rnc/ttaf1-dfxp-styling.rnc.esc">
<!ENTITY rnc-dfxp-layout-module SYSTEM "./rnc/ttaf1-dfxp-layout.rnc.esc">
<!ENTITY rnc-dfxp-timing-attribs-module SYSTEM "./rnc/ttaf1-dfxp-timing-attribs.rnc.esc">
<!ENTITY xsd-dfxp-driver SYSTEM "./xsd/ttaf1-dfxp.xsd.esc">
<!ENTITY xsd-dfxp-animation-module SYSTEM "./xsd/ttaf1-dfxp-animation.xsd.esc">
<!ENTITY xsd-dfxp-content-module SYSTEM "./xsd/ttaf1-dfxp-content.xsd.esc">
<!ENTITY xsd-dfxp-core-attribs-module SYSTEM "./xsd/ttaf1-dfxp-core-attribs.xsd.esc">
<!ENTITY xsd-dfxp-datatypes-module SYSTEM "./xsd/ttaf1-dfxp-datatypes.xsd.esc">
<!ENTITY xsd-dfxp-document-module SYSTEM "./xsd/ttaf1-dfxp-document.xsd.esc">
<!ENTITY xsd-dfxp-head-module SYSTEM "./xsd/ttaf1-dfxp-head.xsd.esc">
<!ENTITY xsd-dfxp-metadata-module SYSTEM "./xsd/ttaf1-dfxp-metadata.xsd.esc">
<!ENTITY xsd-dfxp-metadata-items-module SYSTEM "./xsd/ttaf1-dfxp-metadata-items.xsd.esc">
<!ENTITY xsd-dfxp-metadata-attribs-module SYSTEM "./xsd/ttaf1-dfxp-metadata-attribs.xsd.esc">
<!ENTITY xsd-dfxp-parameter-attribs-module SYSTEM "./xsd/ttaf1-dfxp-parameter-attribs.xsd.esc">
<!ENTITY xsd-dfxp-styling-attribs-module SYSTEM "./xsd/ttaf1-dfxp-styling-attribs.xsd.esc">
<!ENTITY xsd-dfxp-styling-module SYSTEM "./xsd/ttaf1-dfxp-styling.xsd.esc">
<!ENTITY xsd-dfxp-layout-module SYSTEM "./xsd/ttaf1-dfxp-layout.xsd.esc">
<!ENTITY xsd-dfxp-timing-attribs-module SYSTEM "./xsd/ttaf1-dfxp-timing-attribs.xsd.esc">
<!ENTITY xsd-dfxp-xml-attrs-module SYSTEM "./xsd/xml.xsd.esc">
<!ENTITY code-rxi SYSTEM "./scm/rxi.scm.esc">
<!ENTITY code-adi SYSTEM "./scm/adi.scm.esc">
<!ENTITY code-tir SYSTEM "./scm/tir.scm.esc">
<!ENTITY code-fox SYSTEM "./scm/fox.scm.esc">
<!ENTITY code-dtf SYSTEM "./scm/dtf.scm.esc">
]>
<?xml-stylesheet type="text/xsl" href="ttaf1-dfxp.xsl"?>
<spec w3c-doctype="cr" status="final">
<header>
<title>Timed Text (TT) Authoring Format &versionOfTT;&nbsp;&ndash; Distribution Format Exchange Profile (DFXP)</title>
<w3c-designation>&doc.designation;</w3c-designation>
<w3c-doctype>W3C &doc.status;</w3c-doctype>
<pubdate>
<day>&draft.day;</day>
<month>&draft.month.name;</month>
<year>&draft.year;</year>
</pubdate>
<publoc>
<loc
href="http://www.w3.org/TR/2006/CR-ttaf1-dfxp-20061110/">http://www.w3.org/TR/2006/CR-ttaf1-dfxp-20061110/</loc>
</publoc>
<prevlocs>
<loc
href="http://www.w3.org/TR/2006/WD-ttaf1-dfxp-20060427/">http://www.w3.org/TR/2006/WD-ttaf1-dfxp-20060427/</loc>
</prevlocs>
<latestloc>
<loc href="&doc.base.uri.noyear;&doc.designation.nodate;/">&doc.base.uri.noyear;&doc.designation.nodate;/</loc>
</latestloc>
<authlist role="editor">
<author>
<name>Glenn Adams</name>
<affiliation>Extensible Formatting Systems, Inc. (XFSI)</affiliation>
<graphic source="images/ga.png" alt="glenn at x f s i dot com"/>
</author>
</authlist>
<authlist role="contributor">
<author>
<name>Mike Dolan</name>
<affiliation>Invited Expert</affiliation>
<graphic source="images/md.png" alt="m dolan at new t b t dot com"/>
</author>
<author>
<name>Geoff Freed</name>
<affiliation>WGBH National Center for Accessible Media</affiliation>
<graphic source="images/gf.png" alt="geoff underbar freed at w g b h dot org"/>
</author>
<author>
<name>Sean Hayes</name>
<affiliation>Microsoft</affiliation>
<graphic source="images/sh.png" alt="sean dot hayes at microsoft dot com"/>
</author>
<author>
<name>Erik Hodge</name>
<affiliation>RealNetworks</affiliation>
<graphic source="images/eh.png" alt="e hodge at real dot com"/>
</author>
<author>
<name>David Kirby</name>
<affiliation>British Broadcasting Corporation (BBC)</affiliation>
<graphic source="images/dk.png" alt="david dot kirby at r d dot b b c dot c o dot u k"/>
</author>
<author>
<name>Thierry Michel</name>
<affiliation>W3C</affiliation>
<graphic source="images/tm.png" alt="t michel at w 3 dot org"/>
</author>
<author>
<name>Dave Singer</name>
<affiliation>Apple Computer</affiliation>
<graphic source="images/ds.png" alt="singer at apple dot com"/>
</author>
</authlist>
<abstract id="abstract">
<p>This document specifies the distribution format exchange profile
(DFXP) of the timed text authoring format (TT AF) in terms of a
vocabulary and semantics thereof.</p>
<p>The timed text authoring format is a content type that represents
timed text media for the purpose of interchange among authoring
systems. Timed text is textual information that is intrinsically or
extrinsically associated with timing information.</p>
<p>The Distribution Format Exchange Profile is intended to be used
for the purpose of transcoding or exchanging timed text information
among legacy distribution content formats presently in use for
subtitling and captioning functions.</p>
<p>In addition to being used for interchange among legacy distribution content
formats, DFXP content may be used directly as a distribution format,
for example, providing a standard content format to reference from a <el>&lt;text&gt;</el> or 
<el>&lt;textstream&gt;</el> media object element in a <bibref
ref="smil21"/> document.</p>
</abstract>
<status id="status">
<p>
<emph>This section describes the status of this document at the
time of its publication. Other documents may supersede this document.
A list of current W3C publications and the latest revision of this
technical report can be found in the <loc
href="http://www.w3.org/TR/">W3C technical reports index</loc> at
http://www.w3.org/TR/.</emph>
</p>
<p>
This is the &draft.day;&nbsp;&draft.month.name;&nbsp;&draft.year; Candidate
Recommendation of the Timed Text (TT) Authoring Format
&versionOfTT;&nbsp;&ndash; Distribution Format Exchange Profile (DFXP).  W3C
publishes a Candidate Recommendation to indicate that the document is believed
to be stable and to encourage implementation by the developer community.  The
<loc href="http://www.w3.org/AudioVideo/TT/">Timed Text (TT) Working Group</loc>
expects to request that the Director advance this document to Proposed
Recommendation once the Working Group has, for each test in the <loc
href="http://www.w3.org/2006/DFXP/testsuite/Overview.html">DFXP 1.0 Test
Suite</loc> (<loc href="http://www.w3.org/2005/10/Process-20051014/comm.html#Member-only">Member Only</loc>), demonstrated support by two interoperable
implementations.  The Working Group, working closely with the developer community,
expects to show these implementations by 01 March 2007. This estimate is based in
part on the preliminary <loc
href="http://www.w3.org/2006/DFXP/DFXP-implementation-result.html">DFXP
Interoperability Implementation Report</loc>
(<loc href="http://www.w3.org/2005/10/Process-20051014/comm.html#Member-only">Member Only</loc>).  The Working Group does not plan
to request to advance to Proposed Recommendation prior to 01 April 2007.
</p>
<p>
This is a W3C Candidate Recommendation. The second Last Call Working Draft for
this specification resulted in a number of Last Call comments which have all
been addressed by the working group; a list of all Last Call comments can be
found in the <loc
href="http://www.w3.org/2005/03/21/DFXP-2ND-LastCallResponses.html">Second Last Call
Comments List</loc> (<loc href="http://www.w3.org/2005/10/Process-20051014/comm.html#Member-only">Member Only</loc>).  The list of changes made since the last public Working
Draft is available in <specref ref="change-history-lc2-to-cr"/>.
</p>
<p>
During the first Last Call period of this specification, there were <loc
href="http://lists.w3.org/Archives/Public/public-tt/2005Apr/0040.html">unsatisfied
comments</loc> that the working group was unable to resolve in a manner that satisfied
the commenter(s). The status of these comments has not changed during the second
Last Call period, as the working group continues to stand by its <loc
href="http://lists.w3.org/Archives/Public/public-tt/2005Oct/0000.html">original
responses</loc>. See also the <loc
href="http://www.w3.org/2005/03/21/DFXPLastCallResponses.html#Issue11">First
Last Call Disposition of Comments</loc> for a complete discussion.
</p>
<p>
The <emph>dynamic flow processing</emph> feature, as specified by
the <loc
href="#style-attribute-dynamicFlow"><att>tts:dynamicFlow</att></loc>
styling attribute vocabulary, see
also <specref ref="dynamicFlowModel"/>, has been determined to be
<loc
href="http://www.w3.org/2005/10/Process-20051014/tr.html#at-risk-feature">at
risk</loc>, and is expected to be given the greatest scrutiny in the
implementation report.
</p>
<p>
Comments on this document should be sent to the email list <loc
href="mailto:public-tt@w3.org">public-tt@w3.org</loc>, which is the public
mailing list of Timed Text Working Group (<loc
href="http://lists.w3.org/Archives/Public/public-tt/">list archives</loc>).  To
subscribe, send an email to <loc
href="mailto:public-tt-request@w3.org">public-tt-request@w3.org</loc> with the
word <code>subscribe</code> in the subject line.
</p>
<p>
This document has been produced by the <loc
href="http://www.w3.org/AudioVideo/TT/">Timed Text (TT) Working Group</loc> as
part of the W3C <loc href="http://www.w3.org/AudioVideo/Activity">Synchronized
Multimedia Activity</loc>, following the procedures set out for the W3C <loc
href="http://www.w3.org/Consortium/Process/">Process</loc>.  The authors of this
document are listed in the header of this document.
</p>
<p> This document is governed by the <loc href="http://www.w3.org/TR/2002/NOTE-patent-practice-20020124">24 January 2002 CPP</loc> as amended by the <loc href="http://www.w3.org/2004/02/05-pp-transition">W3C Patent Policy Transition Procedure</loc>. W3C maintains a <loc rel="disclosure" href="http://www.w3.org/2003/01/Timed-text-Patent-statements.html">public list of any patent disclosures</loc> made in connection with the deliverables of the group; that page also includes instructions for disclosing a patent. An individual who has actual knowledge of a patent which the individual believes contains <loc href="http://www.w3.org/Consortium/Patent-Policy-20040205/#def-essential">Essential Claim(s)</loc> must disclose the information in accordance with <loc href="http://www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure">section 6 of the W3C Patent Policy</loc>. </p>
<p>
Publication as a Candidate Recommendation does not imply endorsement by the W3C
Membership.  This is a draft document and may be updated, replaced or obsoleted
by other documents at any time. It is inappropriate to cite this document as
other than work in progress.
</p>
</status>
<langusage><language id="en">English</language></langusage>
<revisiondesc><p>$Id$</p></revisiondesc>
</header>
<body>
<div1 id="intro">
<head>Introduction</head>
<p><emph>Unless specified otherwise, this section and its sub-sections are non-normative.</emph></p>
<p>The Timed Text Authoring Format (TT AF) Distribution Format Exchange Profile (DFXP)
provides a standardized representation of a particular subset of
textual information with which stylistic, layout, and timing semantics are associated by
an author or an authoring system for the purpose of interchange and potential presentation.</p>
<p>DFXP is expressly designed to meet only a limited set of requirements
established by <bibref ref="ttaf1-req"/>, and summarized in <specref
ref="requirements"/>. In particular, only those requirements which service the
need of performing interchange with existing, legacy distribution systems are
satisfied.</p>
<p>In addition to being used for interchange among legacy distribution content
formats, DFXP content may be used directly as a distribution format, providing, for
example, a standard content format to reference from a <el>&lt;text&gt;</el> or 
<el>&lt;textstream&gt;</el> media object element in a <bibref
ref="smil21"/> document. Certain properties of DFXP support
streamability of content, as described in <specref ref="streaming"/>.</p>
<note>
<p>While DFXP was not expressly designed for direct (embedded) integration into a
SMIL document instance, such integration is not precluded.</p>
</note>
<note>
<p>In some contexts of use, it may be appropriate to employ
animated content to depict sign language representations of the same content
as expressed by a Timed Text document instance. This use case is not
explicitly addressed by DFXP mechanisms, but may be addressed by some
external multimedia integration technology, such as SMIL.</p>
</note>
<div2 id="model">
<head>System Model</head>
<p>Use of DFXP is intended to function in a wider context of Timed Text
Authoring and Distribution mechanisms that are based upon a system
model, depicted in <specref ref="model-graphic"/>, wherein the timed text authoring format
serves as a bidirectional interchange format among a heterogeneous collection of
authoring systems, and as a unidirectional interchange format to a
heterogeneous collection of distribution formats after undergoing transcoding
or compilation to the target distribution formats as required, and where one
particular distribution format is DFXP.</p>
<table id="model-graphic" role="example-images">
<caption>Figure 1 &ndash; System Model</caption>
<tbody>
<tr>
<td><graphic id="graphic-model" source="images/model.png" alt="System Model"/></td>
</tr>
</tbody>
</table>
</div2>
<div2 id="example">
<head>Document Example</head>
<p>A DFXP document instance consists of a <el>tt</el> document element that contains
a header and a body, where the header specifies document level metadata, styling
definitions and layout definitions, and the body specifies text content intermixed
with references to style and layout information and inline timing information.</p>
<table id="dfxp-example-document-structure" role="example">
<caption>Example Fragment &ndash; DFXP Document Structure</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;tt xml:lang="" xmlns="http://www.w3.org/2006/10/ttaf1"&gt;
  &lt;head&gt;
    &lt;metadata/&gt;
    &lt;styling/&gt;
    &lt;layout/&gt;
  &lt;/head&gt;
  &lt;body/&gt;
&lt;/tt&gt;
</eg>
</td></tr>
</tbody>
</table>
<p>Document level metadata may specify a document title, description,
and copyright information. In addition, arbitrary metadata drawn from
other namespaces may be specified.</p>
<table id="dfxp-example-metadata" role="example">
<caption>Example Fragment &ndash; DFXP Metadata</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;metadata xmlns:ttm="http://www.w3.org/2006/10/ttaf1#metadata"&gt;
  &lt;ttm:title&gt;Timed Text DFXP Example&lt;/ttm:title&gt;
  &lt;ttm:copyright&gt;The Authors (c) 2006&lt;/ttm:copyright&gt;
&lt;/metadata&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>Styling information may be specified in the form of style specification
definitions that are referenced by layout and content information.</p>
<p>In <specref ref="dfxp-example-styling"/>, four style sets of specifications
are defined, with one set serving as a collection of default styles.</p>
<table id="dfxp-example-styling" role="example">
<caption>Example Fragment &ndash; DFXP Styling</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;styling xmlns:tts="http://www.w3.org/2006/10/ttaf1#style"&gt;
  &lt;!-- s1 specifies default color, font, and text alignment --&gt;
  &lt;style xml:id="s1"
    tts:color="white"
    tts:fontFamily="proportionalSansSerif"
    tts:fontSize="22px"
    tts:textAlign="center"
  /&gt;
  &lt;!-- alternative using yellow text but otherwise the same as style s1 --&gt;
  &lt;style xml:id="s2" style="s1" tts:color="yellow"/&gt;
  &lt;!-- a style based on s1 but justified to the right --&gt;
  &lt;style xml:id="s1Right" style="s1" tts:textAlign="end" /&gt;     
  &lt;!-- a style based on s2 but justified to the left --&gt;
  &lt;style xml:id="s2Left" style="s2" tts:textAlign="start" /&gt;
&lt;/styling&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>Layout information defines one or more regions into which content
is intended to be presented. A region definition may reference one or
more sets of style specifications in order to permit content flowed in the
region to inherit from these styles.
In <specref ref="dfxp-example-layout"/>, the region definition makes
reference to style specification <code>s1</code> which allows all content
flowed into the region to inherit from the region's styles (in the case
that a style is not already explicitly specified on content or inherited
via the content hierarchy.)</p>
<table id="dfxp-example-layout" role="example">
<caption>Example Fragment &ndash; DFXP Layout</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;layout xmlns:tts="http://www.w3.org/2006/10/ttaf1#style"&gt;
  &lt;region xml:id="subtitleArea"
    style="s1"
    tts:extent="560px 62px"
    tts:padding="5px 3px"
    tts:backgroundColor="black"
    tts:displayAlign="after"
  /&gt;
&lt;/layout&gt;  
</eg>
</td>
</tr>
</tbody>
</table>
<p>The content of a DFXP document instance is expressed in its
body, which is organized in terms of block and inline text elements.
The hierarchical organization of content elements serves a primary role in
determining both spatial and temporal relationships. For example, in
<specref ref="dfxp-example-body"/>, each paragraph (<el>p</el> element)
is flowed into its target region in the specified lexical order; furthermore,
the active time interval of each paragraph is timed in accordance to its
parent or sibling according to the applicable time containment semantics &mdash;
in this case, the division parent is interpreted as a parallel time
container.</p>
<table id="dfxp-example-body" role="example">
<caption>Example Fragment &ndash; DFXP Body</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;body region="subtitleArea"&gt;
  &lt;div&gt;
    &lt;p xml:id="subtitle1" begin="0.76s" end="3.45s"&gt;
      It seems a paradox, does it not,
    &lt;/p&gt;
    &lt;p xml:id="subtitle2" begin="5.0s" end="10.0s"&gt;
      that the image formed on&lt;br/&gt;
      the Retina should be inverted?
    &lt;/p&gt;
    &lt;p xml:id="subtitle3" begin="10.0s" end="16.0s" style="s2"&gt;
      It is puzzling, why is it&lt;br/&gt;
      we do not see things upside-down?
    &lt;/p&gt;
    &lt;p xml:id="subtitle4" begin="17.2s" end="23.0s"&gt;
      You have never heard the Theory,&lt;br/&gt;
      then, that the Brain also is inverted?
    &lt;/p&gt;
    &lt;p xml:id="subtitle5" begin="23.0s" end="27.0s" style="s2"&gt;
      No indeed! What a beautiful fact!
    &lt;/p&gt;
    &lt;p xml:id="subtitle6a" begin="28.0s" end="34.6s" style="s2Left"&gt;
      But how is it proved?
    &lt;/p&gt;
    &lt;p xml:id="subtitle6b" begin="28.0s" end="34.6s" style="s1Right"&gt;
      Thus: what we call
    &lt;/p&gt;
    &lt;p xml:id="subtitle7" begin="34.6s" end="45.0s" style="s1Right"&gt;
      the vertex of the Brain&lt;br/&gt;
      is really its base
    &lt;/p&gt;
    &lt;p xml:id="subtitle8" begin="45.0s" end="52.0s" style="s1Right"&gt;
      and what we call its base&lt;br/&gt;
      is really its vertex,
    &lt;/p&gt;
    &lt;p xml:id="subtitle9a" begin="53.5s" end="58.7s"&gt;
      it is simply a question of nomenclature.
    &lt;/p&gt;
    &lt;p xml:id="subtitle9b" begin="53.5s" end="58.7s" style="s2"&gt;
      How truly delightful!
    &lt;/p&gt;
  &lt;/div&gt;    
&lt;/body&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>The first subtitle <specref ref="dfxp-example-subtitle-1"/> is
presented during the time interval 0.76 to 3.45 seconds. In this
example, the default metric for time expressions is seconds since no
metric is specified in the expressions.
This subtitle inherits its font family, font size,
foreground color, and text alignment from the region into which it is
presented. Since no region is explicitly specified on the paragraph,
the nearest ancestor that specifies a region determines the
region. Note also that content is presented
at the bottom (after edge) of the containing region due to the <code>tts:displayAlign="after"</code>
being specified on the region definition.</p>
<note role="explanation">
<p>The notation "[<emph>X</emph>,<emph>Y</emph>]" denotes a closed
interval from <emph>X</emph> to <emph>Y</emph>, including
<emph>X</emph> and <emph>Y</emph>;
"[<emph>X</emph>,<emph>Y</emph>)" denotes a right half-open
interval from <emph>X</emph> to <emph>Y</emph>, including
<emph>X</emph> but not including <emph>Y</emph>;
"(<emph>X</emph>,<emph>Y</emph>]" denotes a left half-open
interval from <emph>X</emph> to <emph>Y</emph>, not including
<emph>X</emph> but including <emph>Y</emph>;
"(<emph>X</emph>,<emph>Y</emph>)" denotes an open
interval from <emph>X</emph> to <emph>Y</emph>, not including
<emph>X</emph> or <emph>Y</emph>.
</p>
</note>
<table id="dfxp-example-subtitle-1" role="example-images">
<caption>Subtitle 1 &ndash; Time Interval [0.76, 3.45)</caption>
<tbody>
<tr>
<td><graphic source="images/subtitle1.png" alt="Subtitle 1"/></td>
</tr>
</tbody>
</table>
<p>The second subtitle continues with the default style, except that it contains
two lines of text with an intervening author-specified line break. Note the effects of
the use of <code>tts:textAlign="center"</code> to specify the paragraph's alignment
in the inline progression direction.</p>
<table id="dfxp-example-subtitle-2" role="example-images">
<caption>Subtitle 2 &ndash; Time Interval [5.0, 10.0)</caption>
<tbody>
<tr>
<td><graphic source="images/subtitle2.png" alt="Subtitle 2"/></td>
</tr>
</tbody>
</table>
<p>The third subtitle continues, using a variant style which overrides the default style's
foreground color with a different color.</p>
<table id="dfxp-example-subtitle-3" role="example-images">
<caption>Subtitle 3 &ndash; Time Interval [10.0, 16.0)</caption>
<tbody>
<tr>
<td><graphic source="images/subtitle3.png" alt="Subtitle 3"/></td>
</tr>
</tbody>
</table>
<p>The fourth subtitle reverts to the default style.</p>
<table id="dfxp-example-subtitle-4" role="example-images">
<caption>Subtitle 4 &ndash; Time Interval [17.2, 23.0)</caption>
<tbody>
<tr>
<td><graphic source="images/subtitle4.png" alt="Subtitle 4"/></td>
</tr>
</tbody>
</table>
<p>The fifth subtitle continues, again using a variant style which
overrides the default style's foreground color with a different color.</p>
<table id="dfxp-example-subtitle-5" role="example-images">
<caption>Subtitle 5 &ndash; Time Interval [23.0, 27.0)</caption>
<tbody>
<tr>
<td><graphic source="images/subtitle5.png" alt="Subtitle 5"/></td>
</tr>
</tbody>
</table>
<p>During the next active time interval, two distinct subtitles are simultaneously active, with
the paragraph expressing each subtitle using a different style that overrides color and paragraph
text alignment of the default style. Note that the flow order is determined by the lexical
order of elements as they appear in the content hierarchy.</p>
<table id="dfxp-example-subtitle-6" role="example-images">
<caption>Subtitles 6a and 6b &ndash; Time Interval [28.0, 34.6)</caption>
<tbody>
<tr>
<td><graphic source="images/subtitle6.png" alt="Subtitles 6a and 6b"/></td>
</tr>
</tbody>
</table>
<p>The next subtitle is specified in a similar manner using
a style override to give a paragraph right (end) justified in the
inline progression direction.</p>
<table id="dfxp-example-subtitle-7" role="example-images">
<caption>Subtitle 7 &ndash; Time Interval [34.6, 45.0)</caption>
<tbody>
<tr>
<td><graphic source="images/subtitle7.png" alt="Subtitles 7a and 7b"/></td>
</tr>
</tbody>
</table>
<p>The eighth subtitle uses the same style override as the previous
subtitle in order to maintain the right (end) justification of the
paragraph.</p>
<table id="dfxp-example-subtitle-8" role="example-images">
<caption>Subtitle 8 &ndash; Time Interval [47.3, 49.0)</caption>
<tbody>
<tr>
<td><graphic source="images/subtitle8.png" alt="Subtitle 8"/></td>
</tr>
</tbody>
</table>
<p>During the final (ninth) active time interval, two distinct
subtitles are again simultaneously active, but with a different
style applied to the second paragraph to override the default color.
Note that the flow order is determined by the lexical order of
elements as they appear in the content hierarchy.</p>
<table id="dfxp-example-subtitle-9" role="example-images">
<caption>Subtitles 9a and 9b &ndash; Time Interval [53.5, 58.7)</caption>
<tbody>
<tr>
<td><graphic source="images/subtitle9.png" alt="Subtitles 9a and 9b"/></td>
</tr>
</tbody>
</table>
<p>The examples shown above demonstrate the primary types of information that may
be authored using DFXP: metadata, styling, layout, timing, and content. In typical cases,
styling and layout information are separately specified in a document instance. Content information
is expressed in a hierarchical fashion that embodies the organization of both spatial (flow) and
timing information. Content makes direct or indirect references to styling and layout information
and may specify inline overrides to styling.</p>
</div2>
</div1>
<div1 id="definitions">
<head>Definitions</head>
<div2 id="acronyms">
<head>Acronyms</head>
<glist role="acronyms">
<gitem>
<label>DFXP</label>
<def>
<p>Distribution Format Exchange Profile</p>
</def>
</gitem>
<gitem>
<label>TT</label>
<def>
<p>Timed Text</p>
</def>
</gitem>
<gitem>
<label>TT AS</label>
<def>
<p>Timed Text Authoring System</p>
</def>
</gitem>
<gitem>
<label>TT AF</label>
<def>
<p>Timed Text Authoring Format</p>
</def>
</gitem>
<gitem>
<label>TT WG</label>
<def>
<p>Timed Text Working Group</p>
</def>
</gitem>
</glist>
</div2>
<div2 id="terms">
<head>Terminology</head>
<glist>
<gitem>
<label>Abstract Document Instance</label>
<def>
<p>An instance of an abstract data set as represented by a
<emph>Reduced XML Infoset</emph>.</p>
</def>
</gitem>
<gitem>
<label>Abstract Document Type</label>
<def>
<p>A set of constraints that defines a class of <emph>XML Information
Set</emph>s <bibref ref="infoset"/>.</p>
</def>
</gitem>
<gitem>
<label>Attribute Information Item</label>
<def>
<p>Each specified or defaulted attribute  of an XML document corresponds with an attribute information
item as defined by <bibref ref="infoset"/>, &sect;2.3.</p>
</def>
</gitem>
<gitem>
<label>Character Information Item</label>
<def>
<p>Each data character appearing in an XML document corresponds with a character information
item as defined by <bibref ref="infoset"/>, &sect;2.6.</p>
</def>
</gitem>
<gitem>
<label>Content Region</label>
<def>
<p>A logical region into which rendered content is placed when modeling or
performing presentation processing.</p>
</def>
</gitem>
<gitem>
<label>Element Information Item</label>
<def>
<p>Each element appearing in an XML document corresponds with an element information
item as defined by <bibref ref="infoset"/>, &sect;2.2.</p>
</def>
</gitem>
<gitem>
<label>Exchange Profile</label>
<def>
<p>A profile (subset) of the TT AF that serves a set of needs for content exchange.</p>
</def>
</gitem>
<gitem>
<label>Region</label>
<def>
<p>A logical construct that models authorial intention regarding
desired or potential presentation processing, and which is represented as
a rectangular area of a presentation surface into which content
is composed and rendered during presentation processing.</p>
</def>
</gitem>
<gitem>
<label>Reduced XML Infoset</label>
<def>
<p>An XML Information Set <bibref ref="infoset"/> that satisfieds the
constraints specify by <specref ref="reduced-infoset"/>.</p>
</def>
</gitem>
<gitem>
<label>Root Container Region</label>
<def>
<p>A logical region that establishes a coordinate system into which
content regions are placed and optionally clipped.</p>
</def>
</gitem>
<gitem>
<label>Timed Text</label>
<def>
<p>Textual information that is intrinsically or extrinsically
associated with timing information.</p>
</def>
</gitem>
<gitem>
<label>Timed Text Authoring Format</label>
<def>
<p>A content type that represents timed text media for the purpose of
interchange among authoring systems.</p>
</def>
</gitem>
<gitem>
<label>Timed Text Authoring System</label>
<def>
<p>A content authoring system capable of importing and exporting
timed text authoring format content.</p>
</def>
</gitem>
</glist>
</div2>
<div2 id="conventions">
<head>Documentation Conventions</head>
<p>Within normative prose in this specification, the words
<emph>may</emph>, <emph>should</emph>, and <emph>must</emph> are
defined as follows:</p>
<glist role="conformance-keywords">
<gitem>
<label>may</label>
<def>
<p>Conforming documents and/or TT AF processors are permitted to,
but need not behave as described. </p>
</def>
</gitem>
<gitem>
<label>should</label>
<def>
<p>Conforming documents and/or TT AF processors are strongly
recommended to, but need not behave as described.</p>
</def>
</gitem>
<gitem>
<label>must</label>
<def>
<p>Conforming documents and/or TT AF processors are required
to behave as described; otherwise, they are in error. </p>
</def>
</gitem>
</glist>
<p>All normative syntactic definitions of XML representations and
other related terms are depicted with a light orange background color
and labeled as "XML Representation" or "Syntax Representation", such
as in the following:</p>
<table id="elt-syntax-example" role="syntax">
<caption>XML Representation &ndash; Element Information Item: example</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;example
  <phrase role="reqattr">count</phrase> = integer
  size = (<emph>large</emph>|<emph>medium</emph>|<emph>small</emph>) : medium&gt;
  <emph>Content:</emph> (all | any*)
&lt;/example&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>In an XML representation, bold-face attribute names (e.g. <phrase
role="strong">count</phrase> above) indicate a required attribute
information item, and the rest are optional. Where an attribute
information item has an enumerated type definition, the values are
shown separated by vertical bars, as for <code>size</code> above; if
there is a default value, it is shown following a colon. Where an
attribute information item has a built-in simple type definition
defined in <bibref ref="xsd-2"/>, a hyperlink to its definition
therein is given.</p>
<p>The allowed content of the information item is shown as a grammar
fragment, using the Kleene operators <code>?</code>, <code>*</code>
and <code>+</code>. Each element name therein is a hyperlink to its
own illustration.</p>
<p>All content of this specification that is not explicitly marked as
non-normative is considered to be normative. If a section or appendix
header contains the the expression "Non-Normative", then the entirety
of the section or appendix is considered non-normative.</p>
<p>All paragraphs marked as a <phrase role="strong">Note</phrase> are considered non-normative.</p>
<p>Example code fragments are depicted with a light blue-green
background color and labeled as "Example Fragment", such as in
the following:</p>
<table id="example-fragment-1" role="example">
<caption>Example Fragment &ndash; Sample</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;tt xml:lang="" xmlns="http://www.w3.org/2006/10/ttaf1"&gt;
  &lt;head&gt;
    &lt;metadata/&gt;
    &lt;styling/&gt;
    &lt;layout/&gt;
  &lt;/head&gt;
  &lt;body/&gt;
&lt;/tt&gt;
</eg>
</td>
</tr>
</tbody>
</table>
</div2>
</div1>
<div1 id="conformance">
<head>Conformance</head>
<p>This section specifies the general conformance requirements for
TT AF content and processors.</p>
<div2 id="conformance-content">
<head>Content Conformance</head>
<p>A TT AF document instance conforms to this specification if the following criteria are
satisfied:</p>
<olist>
<item>
<p>When transporting a document instance in a context in which a MIME
Media Type <bibref ref="mime-media"/> identifies the content type of the interchanged document
instance, then the specified media type is
<code>application/ttaf+xml</code> in conformance with <bibref
ref="rfc3023"/> &sect; 7, with which an optional
<code>profile</code> parameter may appear, the value of which
conforms to the values defined by
<specref ref="vocabulary-profiles"/>.</p>
</item>
<item>
<p>The document instance is or can be represented as a Reduced XML
Infoset as defined by <specref ref="reduced-infoset"/>.</p>
</item>
<item>
<p>The Reduced XML
Infoset that corresponds to the document instance is or can
be associated with one of the TT AF Abstract
Document Types defined by
<specref ref="doctypes"/>.</p>
</item>
<item>
<p>The Reduced XML Infoset that corresponds to the document instance is a
Valid Abstract Document Instance of the associated
Abstract Document Type.</p>
</item>
<item>
<p>The Reduced XML Infoset satisfies all additional mandatory syntactic and
semantic constraints defined by this specification. In addition, this Infoset
should satisfy the web content accessibility guidelines specified by
<bibref ref="wcag"/>.</p>
</item>
</olist>
</div2>
<div2 id="conformance-processor">
<head>Processor Conformance</head>
<p>A TT AF processor conforms to this specification if the following criteria are
satisfied:</p>
<olist>
<item>
<p>The processor provides at least one mechanism for notionally
instantiating a Reduced XML
Infoset representation of a conformant TT AF document
instance.</p>
</item>
<item>
<p>If a process does or can perform validation of a candidate TT AF
document instance, then it provides at least one mechanism to
implicitly or explicitly associate the
Reduced XML Infoset representation
of a conformant TT AF document instance with one of the
TT AF Abstract Document Types defined by
<specref ref="doctypes"/>.</p>
</item>
<item>
<p>The processor does not <emph>a priori</emph> reject or abort the
processing of a conformant TT AF document instance.</p>
</item>
<item>
<p>The processor supports all mandatory processing semantics defined by this specification.</p>
</item>
<item>
<p>If the processor claims to support presentation processing in order
to produce a rendition of TT AF content on a visual medium, then it
must implement the region and line layout
semantics defined by <specref ref="semantics-region-layout"/> and
<specref ref="semantics-line-layout"/>, respectively. In addition, the
processor should satisfy the user agent accessibility guidelines specified by
<bibref ref="uaag"/>.
</p>
</item>
<item>
<p>If the processor supports some optional processing semantics defined by this specification,
then it does so in a manner consistent with the defined semantics.</p>
</item>
</olist>
</div2>
<div2 id="claims">
<head>Claims</head>
<p>Any claim of compliance with respect to TT AF content or processor
conformance must make
reference to an implementation compliance statement (ICS).</p>
<p>An implementation compliance statement must identify all mandatory
and optional features of this specification that are satisfied by the
content or processor implementation. In particular, the statement must
identify the utilized or supported TT AF vocabulary profile(s) as
defined by <specref ref="vocabulary-profiles"/>, and, if a subset or
superset profile is used or supported, then what features are excluded
or included in the subset or superset profile.</p>
<p>A TT AF document instance for which a compliance claim is made
must specify a <att>ttp:profile</att> attribute on its root element
as defined by <specref ref="parameter-attribute-profile"/>.</p>
</div2>
</div1>
<div1 id="doctypes">
<head>Document Types</head>
<p>This section defines the following TT AF Abstract Document Types:</p>
<ulist>
<item><p><specref ref="dfxp-content-doctype"/></p></item>
</ulist>
<p>Each abstract document type consists of the following constraints:</p>
<ulist>
<item><p>a non-empty collection of element types, where each element type consists of a name,
a (possibly empty) collection of attributes, and a content specification</p></item>
<item><p>a non-empty collection of element types that may appear as the document element</p></item>
</ulist>
<p>An Abstract Document Instance may be assessed in terms of validity,
and is considered to be a Valid Abstract Document Instance if it
satisfies the following condition: if after</p>
<olist>
<item>
<p>pruning all element information
items whose names are not members of the collection of element types defined
by the associated abstract document type, then</p>
</item>
<item>
<p>pruning character
information item children from any remaining element in case that all
character children of the element denote XML whitespace characters and the element's type
is defined as empty in the associated Abstract Document Type, and then</p>
</item>
<item>
<p>pruning all attribute
information items having expanded names such that the namespace URI of the
expanded names are not listed in <specref
ref="namespace-vocab-table"/>,</p>
</item>
</olist>
<p>then the document element is one of the document
element types permitted by the associated abstract document type,
the descendants of the document
element satisfy their respective element type's content
specifications, all required attributes are present, and the declared
value of each attribute satisfies the type declared by the
associated abstract document type.</p>
<note>
<p>While a conformant processor may not <emph>a priori</emph> reject a conformant document
instance, a given document instance may be constrained by the author or authoring tool
to satisfy a more restrictive definition of validity.</p>
</note>
<div2 id="dfxp-content-doctype">
<head>DFXP Content</head>
<p>DFXP Content is an abstract document type of the Timed Text Authoring Format intended
to be used for interchange among distribution systems. This document type
is defined in terms of the
element and attribute vocabulary
specified in <specref ref="vocabulary"/>.</p>
<p>This specification defines two types of normative schemas that may be used to validate a subset of
conformant DFXP document instances:</p>
<ulist>
<item><p><specref ref="dfxp-schema-rnc"/></p></item>
<item><p><specref ref="dfxp-schema-xsd"/></p></item>
</ulist>
<p>The (root) document element of a DFXP document instance must be a
<el>tt</el> element, as defined by <specref
ref="document-structure-vocabulary-tt"/>.</p>
</div2>
</div1>
<div1 id="vocabulary">
<head>Vocabulary</head>
<p>This section defines the
namespaces, profiles, and vocabulary (as an element an attribute
catalog) of the Timed Text Authoring Format (TT AF) as follows:</p>
<ulist>
<item><p><specref ref="vocabulary-namespaces"/></p></item>
<item><p><specref ref="vocabulary-profiles"/></p></item>
<item><p><specref ref="vocabulary-overview"/></p></item>
</ulist>
<div2 id="vocabulary-namespaces">
<head>Namespaces</head>
<p>The Timed Text Authoring Format (TT AF) employs a number of
namespaces for elements and certain
global attributes. The following table specifies this set of namespaces
and indicates the default prefix used within this specification and the
normative URI that denotes each namespace.</p>
<note role="explanation">
<p>In a specific document instance, it is not required that the default
prefixes shown below are used. Any prefix or namespace binding that satisfies the constraints
of XML Namespaces may be used that is associated with the specified namespace URI.</p>
</note>
<table id="namespace-vocab-table" role="common">
<caption>Table 1 &ndash; Namespaces</caption>
<col width="25%"/>
<tbody>
<tr>
<th>Name</th>
<th>Prefix</th>
<th>Value</th>
</tr>
<tr>
<td>TT</td>
<td><code>tt:</code></td>
<td><code>http://www.w3.org/2006/10/ttaf1</code></td>
</tr>
<tr>
<td>TT Parameter</td>
<td><code>ttp:</code></td>
<td><code>http://www.w3.org/2006/10/ttaf1#parameter</code></td>
</tr>
<tr>
<td>TT Style</td>
<td><code>tts:</code></td>
<td><code>http://www.w3.org/2006/10/ttaf1#style</code></td>
</tr>
<tr>
<td>TT Style Extensions</td>
<td><code>ttsx:</code></td>
<td><code>http://www.w3.org/2006/10/ttaf1#style-extension</code></td>
</tr>
<tr>
<td>TT Metadata</td>
<td><code>ttm:</code></td>
<td><code>http://www.w3.org/2006/10/ttaf1#metadata</code></td>
</tr>
<tr>
<td>TT Metadata Extensions</td>
<td><code>ttmx:</code></td>
<td><code>http://www.w3.org/2006/10/ttaf1#metadata-extension</code></td>
</tr>
</tbody>
</table>
<note role="clarification">
<p>If a reference to an element type is used in this specification and the name
of the element type is not namespace qualified, then the TT Namespace applies.</p>
</note>
</div2>
<div2 id="vocabulary-profiles">
<head>Profiles</head>
<p>The Timed Text Authoring Format (TT AF) employs a number of profiles of its
vocabulary and associated semantics.
The following table specifies this set of profiles
and indicates a normative name for each profile.</p>
<table id="profile-vocab-table" role="common">
<caption>Table 2 &ndash; Profiles</caption>
<col width="25%"/>
<tbody>
<tr>
<th>Name</th>
<th>Value</th>
</tr>
<tr>
<td>DFXP</td>
<td><code>http://www.w3.org/2006/10/ttaf1#profile-dfxp</code></td>
</tr>
</tbody>
</table>
<p/>
<p>A convention is defined for use by content authors to indicate use of a
subtractive or additive delta to a predefined profile by using an
optional <emph>sub-profile</emph> suffix of a profile URI: if a sub-profile
is subtractive (results in a proper subset), then the <emph>sub-profile</emph>
is expressed as "-token"; if additive (results in a proper superset), then it is
expressed as "+token", where <emph>token</emph> expresses an author determined
sub-profile that adheres to the <code>xsd:NCName</code> data type
defined in <bibref ref="xsd-2"/>, &sect;3.3.7.</p>
<p>All tokens used in a sub-profile suffix that do not start with the
prefix <code>x-</code> are reserved for future standardization.</p>
<p>The profile of a document instance is specified using a
<att>ttp:profile</att> attribute as defined by <specref
ref="parameter-attribute-profile"/>.</p>
<note role="explanation">
<p>A TT AF authoring system may indicate the profile of TT AF used in
a document instance by
specifying a <att>ttp:profile</att> attribute.
A TT AF content processor may make use of this profile value to
associate a document instance with a schema or processing functions.</p>
</note>
<p>An example of an author defined "tiny" subtractive sub-profile of DFXP is shown
below in <specref ref="dfxp-example-sub-profile"/>.</p>
<table id="dfxp-example-sub-profile" role="example">
<caption>Example Fragment &ndash; DFXP Subtractive Profile</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;tt
  ttp:profile="http://www.w3.org/2006/10/ttaf1#profile-dfxp-x-tiny"
  xml:lang=""
  xmlns="http://www.w3.org/2006/10/ttaf1"
  xmlns:ttp="http://www.w3.org/2006/10/ttaf1#parameter"&gt;
 ...
&lt;/tt&gt;
</eg>
</td></tr>
</tbody>
</table>
<note role="explanation">
<p>Because the above example is an author defined sub-profile (as
opposed to a future W3C defined profile), the sub-profile token
contains the prefix <code>x-</code>.</p>
</note>
</div2>
<div2 id="vocabulary-overview">
<head>Catalog</head>
<p>The vocabulary of the Timed Text Authoring Format (TT AF) is
defined in the following major catalogs (divisions of vocabulary):</p>
<ulist>
<item><p><specref ref="core-vocabulary-overview"/></p></item>
<item><p><specref ref="extension-vocabulary-overview"/></p></item>
</ulist>
<p>The core catalog defines the baseline, core vocabulary of the TT
AF, and, in particular, the vocabulary of DFXP. The extensions catalog
serves as a placeholder for extensions to the core vocabulary defined
by DFXP.</p>
<div3 id="core-vocabulary-overview">
<head>Core Catalog</head>
<p>The core vocabulary catalog is intended to satisfy the needs of
DFXP while providing a baseline vocabulary for future profiles. This vocabulary
is divided into distinct categories, specified in detail
in the following sections:</p>
<ulist>
<item><p><specref ref="parameters"/></p></item>
<item><p><specref ref="content"/></p></item>
<item><p><specref ref="styling"/></p></item>
<item><p><specref ref="layout"/></p></item>
<item><p><specref ref="timing"/></p></item>
<item><p><specref ref="animation"/></p></item>
<item><p><specref ref="metadata"/></p></item>
</ulist>
<p>The core element vocabulary specified for use with a TT AF document
instance is enumerated in
<specref ref="element-vocab-table"/>.</p>
<table id="element-vocab-table" role="common">
<caption>Table 3 &ndash; Element Vocabulary</caption>
<col width="25%"/>
<tbody>
<tr>
<th>Module</th>
<th>Elements</th>
</tr>
<tr>
<td>
Animation
</td>
<td>
<loc href="#animation-vocabulary-set">set</loc>
</td>
</tr>
<tr>
<td>
Content
</td>
<td>
<loc href="#document-structure-vocabulary-body">body</loc>,
<loc href="#content-vocabulary-div">div</loc>,
<loc href="#content-vocabulary-p">p</loc>,
<loc href="#content-vocabulary-span">span</loc>,
<loc href="#content-vocabulary-br">br</loc>
</td>
</tr>
<tr>
<td>
Document
</td>
<td>
<loc href="#document-structure-vocabulary-tt">tt</loc>
</td>
</tr>
<tr>
<td>
Head
</td>
<td>
<loc href="#document-structure-vocabulary-head">head</loc>
</td>
</tr>
<tr>
<td>
Layout
</td>
<td>
<loc href="#layout-vocabulary-layout">layout</loc>,
<loc href="#layout-vocabulary-region">region</loc>
</td>
</tr>
<tr>
<td>
Metadata
</td>
<td>
<loc href="#metadata-vocabulary-metadata">metadata</loc>
</td>
</tr>
<tr>
<td>
Metadata Items
</td>
<td>
<loc href="#metadata-vocabulary-actor">ttm:actor</loc>,
<loc href="#metadata-vocabulary-agent">ttm:agent</loc>,
<loc href="#metadata-vocabulary-copyright">ttm:copyright</loc>,
<loc href="#metadata-vocabulary-desc">ttm:desc</loc>,
<loc href="#metadata-vocabulary-name">ttm:name</loc>,
<loc href="#metadata-vocabulary-title">ttm:title</loc>
</td>
</tr>
<tr>
<td>
Styling
</td>
<td>
<loc href="#styling-vocabulary-styling">styling</loc>,
<loc href="#styling-vocabulary-style">style</loc>
</td>
</tr>
</tbody>
</table>
<p/>
<p>Element vocabulary groups that are used in defining content models
for TT AF element types are enumerated in <specref ref="element-vocab-group-table"/>.</p>
<table id="element-vocab-group-table" role="common">
<caption>Table 4 &ndash; Element Vocabulary Groups</caption>
<col width="25%"/>
<tbody>
<tr>
<th>Group</th>
<th>Elements</th>
</tr>
<tr>
<td>
Animation.class
</td>
<td>
<loc href="#animation-vocabulary-set">set</loc>
</td>
</tr>
<tr>
<td>
Block.class
</td>
<td>
<loc href="#content-vocabulary-div">div</loc> |
<loc href="#content-vocabulary-p">p</loc>
</td>
</tr>
<tr>
<td>
Inline.class
</td>
<td>
<loc href="#content-vocabulary-span">span</loc> |
<loc href="#content-vocabulary-span">br</loc> |
<code>#PCDATA</code>
</td>
</tr>
<tr>
<td>
Metadata.class
</td>
<td>
<loc href="#metadata-vocabulary-metadata">metadata</loc> |
<loc href="#metadata-vocabulary-copyright">ttm:agent</loc> |
<loc href="#metadata-vocabulary-copyright">ttm:copyright</loc> |
<loc href="#metadata-vocabulary-desc">ttm:desc</loc> |
<loc href="#metadata-vocabulary-title">ttm:title</loc>
</td>
</tr>
</tbody>
</table>
<p/>
<p>The attribute vocabulary specified for use with the core vocabulary
catalog is enumerated in
<specref ref="attribute-vocab-table"/>.</p>
<table id="attribute-vocab-table" role="common">
<caption>Table 5 &ndash; Attribute Vocabulary</caption>
<col width="25%"/>
<tbody>
<tr>
<th>Module</th>
<th>Attributes</th>
</tr>
<tr>
<td>
Core Attributes
</td>
<td>
<loc href="#content-attribute-requiredExtensions">requiredExtensions</loc>,
<loc href="#content-attribute-requiredFeatures">requiredFeatures</loc>,
<loc href="#content-attribute-requiredFonts">requiredFonts</loc>,
<loc href="#content-attribute-id">xml:id</loc>,
<loc href="#content-attribute-lang">xml:lang</loc>,
<loc href="#content-attribute-space">xml:space</loc>
</td>
</tr>
<tr>
<td>
Layout
</td>
<td>
<loc href="#layout-attribute-region">region</loc>
</td>
</tr>
<tr>
<td>
Metadata Attributes
</td>
<td>
<loc href="#metadata-attribute-agent">ttm:agent</loc>,
<loc href="#metadata-attribute-role">ttm:role</loc>
</td>
</tr>
<tr>
<td>
Parameter Attributes
</td>
<td>
<loc href="#parameter-attribute-cellResolution">ttp:cellResolution</loc>,
<loc href="#parameter-attribute-clockMode">ttp:clockMode</loc>,
<loc href="#parameter-attribute-frameRate">ttp:frameRate</loc>,
<loc href="#parameter-attribute-frameRateMultiplier">ttp:frameRateMultipler</loc>,
<loc href="#parameter-attribute-markerMode">ttp:markerMode</loc>,
<loc href="#parameter-attribute-pixelAspectRatio">ttp:pixelAspectRatio</loc>,
<loc href="#parameter-attribute-profile">ttp:profile</loc>,
<loc href="#parameter-attribute-smpteMode">ttp:smpteMode</loc>,
<loc href="#parameter-attribute-subFrameRate">ttp:subFrameRate</loc>,
<loc href="#parameter-attribute-tickRate">ttp:tickRate</loc>,
<loc href="#parameter-attribute-timeBase">ttp:timeBase</loc>
</td>
</tr>
<tr>
<td>
Styling
</td>
<td>
<loc href="#style-attribute-style">style</loc>
</td>
</tr>
<tr>
<td>
Styling Attributes
</td>
<td>
<loc href="#style-attribute-backgroundColor">tts:backgroundColor</loc>,
<loc href="#style-attribute-color">tts:color</loc>,
<loc href="#style-attribute-direction">tts:direction</loc>,
<loc href="#style-attribute-display">tts:display</loc>,
<loc href="#style-attribute-displayAlign">tts:displayAlign</loc>,
<loc href="#style-attribute-dynamicFlow">tts:dynamicFlow</loc>,
<loc href="#style-attribute-extent">tts:extent</loc>,
<loc href="#style-attribute-fontFamily">tts:fontFamily</loc>,
<loc href="#style-attribute-fontSize">tts:fontSize</loc>,
<loc href="#style-attribute-fontStyle">tts:fontStyle</loc>,
<loc href="#style-attribute-fontWeight">tts:fontWeight</loc>,
<loc href="#style-attribute-lineHeight">tts:lineHeight</loc>,
<loc href="#style-attribute-opacity">tts:opacity</loc>,
<loc href="#style-attribute-origin">tts:origin</loc>,
<loc href="#style-attribute-overflow">tts:overflow</loc>,
<loc href="#style-attribute-padding">tts:padding</loc>,
<loc href="#style-attribute-showBackground">tts:showBackground</loc>,
<loc href="#style-attribute-textAlign">tts:textAlign</loc>,
<loc href="#style-attribute-textDecoration">tts:textDecoration</loc>,
<loc href="#style-attribute-textOutline">tts:textOutline</loc>,
<loc href="#style-attribute-unicodeBidi">tts:unicodeBidi</loc>,
<loc href="#style-attribute-visibility">tts:visibility</loc>,
<loc href="#style-attribute-wrapOption">tts:wrapOption</loc>,
<loc href="#style-attribute-writingMode">tts:writingMode</loc>,
<loc href="#style-attribute-zIndex">tts:zIndex</loc>
</td>
</tr>
<tr>
<td>
Timing Attributes
</td>
<td>
<loc href="#timing-attribute-begin">begin</loc>,
<loc href="#timing-attribute-dur">dur</loc>,
<loc href="#timing-attribute-end">end</loc>,
<loc href="#timing-attribute-timeContainer">timeContainer</loc>
</td>
</tr>
</tbody>
</table>
<note role="explanation">
<p>All vocabulary defined by the TT AF consistently makes use of
the so-called <emph>lowerCamelCase</emph> naming convention. In some cases, this results in the
change of a name when the name was based upon another specification
that used a different naming convention.</p>
</note>
</div3>
<div3 id="extension-vocabulary-overview">
<head>Extension Catalog</head>
<p>The extension vocabulary catalog is intended for use by future
profiles of the TT AF.</p>
<p>In this version of this specification, no
standardized extension vocabulary is defined. Two namespaces are
specifically reserved by <specref ref="namespace-vocab-table"/>
for metadata and style extension vocabulary:</p>
<ulist>
<item>
<p>TT Style Extensions</p>
</item>
<item>
<p>TT Metadata Extensions</p>
</item>
</ulist>
<p>In addition to standardized extension vocabulary, a conforming TT
AF document instance may contain arbitrary namespace qualified
elements that reside in any namespace other than those namespaces
defined for use with this specification. Furthermore, a conforming TT
AF document instance may contain arbitrary namespace qualified
attributes on TT AF defined vocabulary where such attributes reside in
any namespace other than those defined for use with this
specification.</p>
</div3>
</div2>
</div1>
<div1 id="parameters">
<head>Parameters</head>
<p>This section specifies the <emph>parameters</emph> matter of the
core vocabulary catalog, where
parameters are to be understood as information that is either (1)
essential or (2) of significant importance for the purpose of
interpreting the semantics of other types of information expressed by
core vocabulary items or for establishing a processing context by means
of which TT AF content can be related to an external environment.</p>
<div2 id="parameters-element-vocabulary">
<head>Element Vocabulary</head>
<p>No parameters related element vocabulary is defined for use in the
core vocabulary catalog.</p>
</div2>
<div2 id="parameters-attribute-vocabulary">
<head>Attribute Vocabulary</head>
<p>The following attributes are defined in the TT Parameter Namespace.</p>
<ulist>
<item><p><specref ref="parameter-attribute-cellResolution"/></p></item>
<item><p><specref ref="parameter-attribute-clockMode"/></p></item>
<item><p><specref ref="parameter-attribute-frameRate"/></p></item>
<item><p><specref ref="parameter-attribute-frameRateMultiplier"/></p></item>
<item><p><specref ref="parameter-attribute-markerMode"/></p></item>
<item><p><specref ref="parameter-attribute-pixelAspectRatio"/></p></item>
<item><p><specref ref="parameter-attribute-profile"/></p></item>
<item><p><specref ref="parameter-attribute-smpteMode"/></p></item>
<item><p><specref ref="parameter-attribute-subFrameRate"/></p></item>
<item><p><specref ref="parameter-attribute-tickRate"/></p></item>
<item><p><specref ref="parameter-attribute-timeBase"/></p></item>
</ulist>
<p>Unless explicitly stated otherwise, linear white-space (LWSP) may
appear between tokens of a value of a TT Parameter.</p>
<div3 id="parameter-attribute-cellResolution">
<head>ttp:cellResolution</head>
<p>The <att>ttp:cellResolution</att> attribute may be used by an author
to express the number of horizontal and vertical cells into which the root container region
area is divided for the purpose of expressing presentation semantics in terms of
a uniform grid.</p>
<p>If specified, the value of this attribute must adhere to the following syntax:</p>
<table id="parameter-attribute-cellResolution-syntax" role="syntax">
<caption>Syntax Representation &ndash; ttp:cellResolution</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
ttp:cellResolution
  : columns rows                            // <emph>columns</emph> != 0; <emph>rows</emph> != 0

columns | rows
  : <loc href="#style-value-digit">&lt;digit&gt;</loc>+
</eg>
</td>
</tr>
</tbody>
</table>
<p>If not specified, the number of columns and rows must be considered
to be 32 and 15, respectively. If specified, then columns or rows must not be zero (0).</p>
<note role="motivation">
<p>The choice of values 32 and 15 are based on this being the
maximum number of columns and rows defined by <bibref
ref="cea608c"/>.</p>
</note>
<p>A <att>ttp:cellResolution</att> attribute is considered to be significant only
when specified on the <el>tt</el> element.</p>
<note role="explanation">
<p>The use of a uniform grid is employed only for the purpose of
measuring lengths and expressing coordinates. In particular, it is not
assumed that the presentation of text or the alignment of individual
glyph areas is
coordinated with this grid. Such alignment is possible, but
requires the use of a monospaced font and a font size whose EM square exactly
matches the cell size.</p>
</note>
</div3>
<div3 id="parameter-attribute-clockMode">
<head>ttp:clockMode</head>
<p>The <att>ttp:clockMode</att> attribute is used to specify the
interpretation of time expressions as real-time time coordinates when
operating with time base of <code>clock</code> as defined by <specref
ref="parameter-attribute-timeBase"/>.</p>
<note role="explanation">
<p>See <specref ref="timing-time-value-expressions"/> for the
specification of time expression syntax.</p>
</note>
<p>If specified, the value of this attribute must adhere to the following syntax:</p>
<table id="parameter-attribute-clockMode-syntax" role="syntax">
<caption>Syntax Representation &ndash; ttp:clockMode</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
ttp:clockMode
  : "local"
  | "gps"
  | "utc"
</eg>
</td>
</tr>
</tbody>
</table>
<p>If the time base, defined by <specref
ref="parameter-attribute-timeBase"/>, is designated as
<code>clock</code>, then this parameter applies as follows: if the
parameter's value is <code>local</code>, then time expressions are
interpreted as local wall-clock time coordinates;
if <code>utc</code>, then time expressions are
interpreted as UTC time coordinates
<bibref ref="utc"/>;
if <code>gps</code>, then time expressions are
interpreted as GPS time coordinates
<bibref ref="gps"/>.</p>
<note role="explanation">
<p>The primary difference between GPS time and UTC time is that GPS
time is not adjusted for leap seconds, while UTC time is adjusted as
follows: UTC = TAI (<emph>Temp Atomique International</emph>) + <emph>leap seconds
accumulated since 1972</emph>. TAI is maintained by the <emph>Bureau
International des Poids et Mesures</emph> (BIPM) in Sevres, France.
The GPS system time is steered to a Master Clock (MC) at the US Naval
Observatory which is kept within a close but unspecified
tolerance of TAI.</p>
</note>
<p>If not specified, the value of this parameter must be considered
to be <code>utc</code>.</p>
<p>A <att>ttp:clockMode</att> attribute is considered to be significant only
when specified on the <el>tt</el> element.</p>
</div3>
<div3 id="parameter-attribute-frameRate">
<head>ttp:frameRate</head>
<p>The <att>ttp:frameRate</att> attribute is used to specify the frame rate of a related
media object or the intrinsic frame rate of a document instance in case it is intended
to function as an independent media object.</p>
<p>If specified, the value of this attribute must adhere to the following syntax:</p>
<table id="parameter-attribute-frameRate-syntax" role="syntax">
<caption>Syntax Representation &ndash; ttp:frameRate</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
ttp:frameRate
  : <loc href="#style-value-digit">&lt;digit&gt;</loc>+                                // <emph>value</emph> > 0
</eg>
</td>
</tr>
</tbody>
</table>
<p>The frame rate that applies to a document instance is used to
interpret time expressions that are expressed in <emph>frames</emph>
as defined by <specref ref="timing-value-timeExpression"/>.</p>
<p>A frame is interpreted as a division of a second of media
time, such that if the frame rate is specified as <emph>F</emph>, then
a second of media time is divided into <emph>F</emph> intervals of
equal duration, where each interval is labeled as frame <emph>f</emph>,
with <emph>f</emph> &isin; [0&hellip;<emph>F&minus;1</emph>].</p>
<p>If not specified, the frame rate must be considered to be equal to some
application defined frame rate, or if no application defined frame rate applies,
then thirty (30) frames per second. If specified, then the frame rate must
be greater than zero (0).</p>
<p>A <att>ttp:frameRate</att> attribute is considered to be significant only
when specified on the <el>tt</el> element.</p>
</div3>
<div3 id="parameter-attribute-frameRateMultiplier">
<head>ttp:frameRateMultiplier</head>
<p>The <att>ttp:frameRateMultiplier</att> attribute is used to
specify a multiplier to be applied to the frame rate specified by a
<att>ttp:frameRate</att> attribute in order to compute the effective
frame rate.</p>
<p>If specified, the value of this attribute must adhere to the following syntax:</p>
<table id="parameter-attribute-frameRateMultiplier-syntax" role="syntax">
<caption>Syntax Representation &ndash; ttp:frameRateMultiplier</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
ttp:frameRateMultiplier
  : numerator ( ":" denominator )?          // <emph>denominator</emph> != 0

numerator | denominator
  : <loc href="#style-value-digit">&lt;digit&gt;</loc>+
</eg>
</td>
</tr>
</tbody>
</table>
<p>A frame rate multiplier is used when the desired frame rate cannot
be expressed as an integral number of frames per second.</p>
<p>If not specified, the frame rate multiplier must be considered to
be equal to one (1:1). If a denominator is specified, then it must not be zero (0).</p>
<p>A <att>ttp:frameRateMultiplier</att> attribute is considered to be significant only
when specified on the <el>tt</el> element.</p>
<note role="example">
<p>The frame rate multiplier used for synchronizing with NTSC <bibref
ref="smpte170m"/>
formatted video objects at 30 frames per second is nominally
1000:1001. The nominal frame rate of NTSC video is defined as the chrominance
sub-carrier frequency of 3,579,545.45&hellip;Hz (= 5.0MHz &mult; 63/88) times the ratio 2/455 divided by
the number of horizontal lines per frame of 525, which yields a frame
rate of 29.970029970029&hellip; (= 30 &mult; 1000/1001) frames per
second. Other frame rate multipliers apply to different regions of
usage and video format standards.</p>
</note>
<note role="example">
<p>Except in the case of PAL/M, the frame rate multiplier used for synchronizing with PAL
formatted video objects at 25 frames per second is nominally 1:1.</p>
</note>
</div3>
<div3 id="parameter-attribute-markerMode">
<head>ttp:markerMode</head>
<p>The <att>ttp:markerMode</att> attribute is used to specify
constraints on the interpretation and use of time expressions
that correspond with <bibref ref="smpte12m"/> time coordinates when operating
with time base of <code>smpte</code> as defined by
<specref ref="parameter-attribute-timeBase"/>.</p>
<p>If specified, the value of this attribute must adhere to the following syntax:</p>
<table id="parameter-attribute-markerMode-syntax" role="syntax">
<caption>Syntax Representation &ndash; ttp:markerMode</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
ttp:markerMode
  : "continuous"
  | "discontinuous"
</eg>
</td>
</tr>
</tbody>
</table>
<p>If the time base, defined by <specref
ref="parameter-attribute-timeBase"/>, is designated as
<code>smpte</code>, then this parameter applies as follows: if the
parameter's value is <code>continuous</code>, then <bibref ref="smpte12m"/> time coordinates
may be assumed to be linear and either monotonically increasing or
decreasing; however, if <code>discontinuous</code>, then any assumption
must not be made regarding linearity or monotonicity of time coordinates.</p>
<p>If not specified, the value of this parameter must be considered
to be <code>continuous</code>.</p>
<p>A <att>ttp:markerMode</att> attribute is considered to be significant only
when specified on the <el>tt</el> element.</p>
<p>If a value of <code>discontinuous</code> applies, then time
expressions must not be converted to either media time or real time
coordinates, arithmetical operators (addition, multiplication) are not
defined on time expressions, and, consequently, any expression of a
duration must be ignored.</p>
<note role="explanation">
<p>When operating with <code>smpte</code> time base and
<code>discontinuous</code> marker mode, there is no effective time coordinate
space; rather, all time expressions are interpreted as labeled
synchronization events (markers), where some external synchronization
context emits these events, which, when they correspond with time
expressions that denote the same label, cause a temporal interval to
begin or end accordingly.</p>
<p>An additional side-effect of operating in <code>discontinuous</code>
mode is that time expressions of children have no necessary
relationship with time expressions of their temporal container; that
is, temporal containers and children of these containers are
temporally activated and inactivated independently based on the
occurrence of a labeled synchronization (marker) event.</p>
</note>
<note role="explanation">
<p>The notion of marker discontinuity as captured by this parameter
is logically independent from the method used to count frames as
expressed by the <att>ttp:smpteMode</att> parameter. In particular,
even if the <att>ttp:smpteMode</att> parameter is specified as
<code>dropNTSC</code> or <code>dropPAL</code>, the marker mode may be
specified as <code>continuous</code>, even in the presence of frame count
discontinuities induced by the frame counting method, unless there
were some other non-linearity or discontinuity in marker labeling, for
example, two consecutive frames labeled as <code>10:00:00:00</code>
and <code>10:00:01:00</code>.
</p>
</note>
</div3>
<div3 id="parameter-attribute-pixelAspectRatio">
<head>ttp:pixelAspectRatio</head>
<p>The <att>ttp:pixelAspectRatio</att> attribute may be used by a content author
to express the aspect ratio of non-square pixels in the production of content that
makes use of pixel coordinates.</p>
<p>If specified, the value of this attribute must adhere to the following syntax:</p>
<table id="parameter-attribute-pixelAspectRatio-syntax" role="syntax">
<caption>Syntax Representation &ndash; ttp:pixelAspectRatio</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
ttp:pixelAspectRatio
  : width ":" height                        // <emph>width</emph> != 0; <emph>height</emph> != 0

width | height
  : <loc href="#style-value-digit">&lt;digit&gt;</loc>+
</eg>
</td>
</tr>
</tbody>
</table>
<p>If not specified, then square pixels (i.e., aspect ratio 1:1) must be assumed to apply.
If specified, then width or height must not be zero.</p>
<p>A <att>ttp:pixelAspectRatio</att> attribute is considered to be significant only
when specified on the <el>tt</el> element.</p>
<note role="explanation">
<p>This parameter may be used by a content transcoder or translator in
order to convert pixel measurements between different pixel aspect
ratios while still maintaining authorial layout intentions.</p>
</note>
</div3>
<div3 id="parameter-attribute-profile">
<head>ttp:profile</head>
<p>The <att>ttp:profile</att> attribute may be used by a content author
to express the profile of the Timed Text Authoring Format (TT AF) used
in a document instance.</p>
<p>If specified, the value of this attribute must adhere to the
<code>xsd:anyURI</code> data type defined by <bibref ref="xsd-2"/>,
&sect;3.2.17, and, further, must specify a profile URI as defined
by <specref ref="vocabulary-profiles"/>.</p>
<p>If not specified, then the Distribution Format Exchange Profile
(DFXP) must be assumed to apply.</p> <p>A <att>ttp:profile</att>
attribute is considered to be significant only when specified on the
<el>tt</el> element.</p>
</div3>
<div3 id="parameter-attribute-smpteMode">
<head>ttp:smpteMode</head>
<p>The <att>ttp:smpteMode</att> attribute is used to specify
constraints on the interpretation and use of frame counts
that correspond with <bibref ref="smpte12m"/> time coordinates when operating
with time base of <code>smpte</code> as defined by
<specref ref="parameter-attribute-timeBase"/>.</p>
<p>If specified, the value of this attribute must adhere to the following syntax:</p>
<table id="parameter-attribute-smpteMode-syntax" role="syntax">
<caption>Syntax Representation &ndash; ttp:smpteMode</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
ttp:smpteMode
  : "dropNTSC"
  | "dropPAL"
  | "nonDrop"
</eg>
</td>
</tr>
</tbody>
</table>
<p>If the time base, defined by <specref
ref="parameter-attribute-timeBase"/>, is designated as
<code>smpte</code>, then this parameter applies as follows: if the
parameter's value is <code>nonDrop</code>, then, within any given
second of a time expression, frames count from 0 to
<emph>N&minus;1</emph>, where <emph>N</emph> is the value specified by
the <att>ttp:frameRate</att> parameter, but while ignoring any value
specified by the <att>ttp:frameRateMultiplier</att> parameter.</p>
<note role="clarification"> <p>When operating in <code>nonDrop</code>
mode, a second of a time expression may or may not be equal to a
second of real time during normal (1x speed) forward playback. If the
<att>ttp:frameRateMultiplier</att> parameter is specified and is not
equal to 1:1, then a second of a time expression will either be
shorter or longer than a second of elapsed play in real
time.</p></note>
<p>If this parameter's value is <code>dropNTSC</code>, then, within any
given second of a time expression except the second <code>00</code>,
frames count from 0 to <emph>N&minus;1</emph>, where <emph>N</emph> is
the value specified by the <att>ttp:frameRate</att> parameter, but
while ignoring any value specified by the
<att>ttp:frameRateMultiplier</att> parameter. If the second of a time
expression is <code>00</code> and the minute of the time expression is
not <code>00</code>, <code>10</code>, <code>20</code>, <code>30</code>,
<code>40</code>, or <code>50</code>, then frame codes <code>00</code>
and <code>01</code> are dropped during that second; otherwise, these
frame codes are not dropped.</p>
<note role="example"> <p>For example, when operating in <code>dropNTSC</code>
mode with <att>ttp:frameRate</att> of <code>30</code>, a discontinuity
in frame count occurs between consecutive frames as shown in the
following sequence of time expressions: <code>01:08:59:28</code>,
<code>01:08:59:29</code>, <code>01:09:00:02</code>,
<code>01:09:00:03</code>.</p></note>
<p>If this parameter's value is <code>dropPAL</code>, then, within any
given second of a time expression except the second <code>00</code>,
frames count from 0 to <emph>N&minus;1</emph>, where <emph>N</emph> is
the value specified by the <att>ttp:frameRate</att> parameter, but
while ignoring any value specified by the
<att>ttp:frameRateMultiplier</att> parameter. If the second of a time
expression is <code>00</code> and the minute of the time expression is
even but not <code>00</code>, <code>20</code>, or <code>40</code>,
then frame codes <code>00</code> through <code>03</code> are dropped
during that second; otherwise, these frame codes are not dropped.</p>
<note role="example"><p>For example, when operating in <code>dropPAL</code>
mode with <att>ttp:frameRate</att> of <code>30</code>, a discontinuity
in frame count occurs between consecutive frames as shown in the
following sequence of time expressions: <code>01:09:59:28</code>,
<code>01:09:59:29</code>, <code>01:10:00:04</code>,
<code>01:10:00:04</code>.</p></note>
<note role="explanation">
<p>The <code>dropPAL</code> mode is also known as the
<emph>M/PAL</emph> or <emph>PAL (M)</emph> drop-frame
code, which uses PAL modulation with the NTSC frame rate of ~29.97
frames/second. The M/PAL system is used primarily in Brazil.</p>
</note>
<p>If not specified, then <code>nonDrop</code> must be assumed to apply.</p>
<p>A <att>ttp:smpteMode</att> attribute is considered to be significant only
when specified on the <el>tt</el> element.</p>
</div3>
<div3 id="parameter-attribute-subFrameRate">
<head>ttp:subFrameRate</head>
<p>The <att>ttp:subFrameRate</att> attribute is used to specify the sub-frame rate of a related
media object or the intrinsic sub-frame rate of a document instance in case it is intended
to function as an independent media object.</p>
<p>If specified, the value of this attribute must adhere to the following syntax:</p>
<table id="parameter-attribute-subFrameRate-syntax" role="syntax">
<caption>Syntax Representation &ndash; ttp:subFrameRate</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
ttp:subFrameRate
  : <loc href="#style-value-digit">&lt;digit&gt;</loc>+                                // <emph>value</emph> > 0
</eg>
</td>
</tr>
</tbody>
</table>
<p>The sub-frame rate that applies to a document instance is used to
interpret time expressions that are expressed in <emph>sub-frames</emph>
as defined by <specref ref="timing-value-timeExpression"/>.</p>
<p>A sub-frame is interpreted as a division of a frame of media
time, such that if the sub-frame rate is specified as <emph>S</emph>, then
a frame of media time is divided into <emph>S</emph> intervals of
equal duration, where each interval is labeled as sub-frame <emph>s</emph>,
with <emph>s</emph> &isin; [0&hellip;<emph>S&minus;1</emph>].</p>
<p>If not specified, the sub-frame rate must be considered to be
equal to one (1). If specified, then the sub-frame rate must be greater than zero (0).</p>
<p>A <att>ttp:subFrameRate</att> attribute is considered to be significant only
when specified on the <el>tt</el> element.</p>
<note role="clarification">
<p>The sub-frame is sometimes referred to as a <emph>field</emph> in
the context of synchronization with an interlaced video media object.</p>
</note>
</div3>
<div3 id="parameter-attribute-tickRate">
<head>ttp:tickRate</head>
<p>The <att>ttp:tickRate</att> attribute is used to specify the tick rate of a related
media object or the intrinsic tick rate of content of a document instance in case it is intended
to function as an independent media object.</p>
<p>If specified, the value of this attribute must adhere to the following syntax:</p>
<table id="parameter-attribute-tickRate-syntax" role="syntax">
<caption>Syntax Representation &ndash; ttp:tickRate</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
ttp:tickRate
  : <loc href="#style-value-digit">&lt;digit&gt;</loc>+                                // <emph>value</emph> > 0
</eg>
</td>
</tr>
</tbody>
</table>
<p>The tick rate that applies to a document instance is used to
interpret time expressions that are expressed in <emph>ticks</emph> by
using the <code>t</code> metric as defined by <specref
ref="timing-value-timeExpression"/>.</p>
<p>A tick is interpreted as an integral division of a second of media
time, such that if the tick rate is specified as <emph>T</emph>, then
a second of media time is divided into <emph>T</emph> intervals of
equal duration, where each interval is labeled as tick <emph>t</emph>,
with <emph>t</emph> &isin; [0&hellip;<emph>T&minus;1</emph>].</p>
<p>If not specified, then if a frame rate is specified, the tick rate
must be considered to be the effective frame rate multiplied by the
sub-frame rate (i.e., ticks are interpreted as sub-frames); or, if no
frame rate is specified, the tick rate must be considered to be one (1)
tick per second of media time. If specified, then the tick rate
must not be zero (0).</p>
<note role="clarification">
<p>There is no predefined relationship between ticks and frames or
sub-frames. Ticks are an arbitrary division of seconds that permit
use of fixed point arithmetic rather than fractional (and potentially
inexact) expressions of seconds.</p>
</note>
<p>A <att>ttp:tickRate</att> attribute is considered to be significant only
when specified on the <el>tt</el> element.</p>
</div3>
<div3 id="parameter-attribute-timeBase">
<head>ttp:timeBase</head>
<p>The <att>ttp:timeBase</att> attribute is used to specify the
temporal coordinate system by means of which time expressions are
interpreted in a document instance.</p>
<p>If specified, the value of this attribute must adhere to the following syntax:</p>
<table id="parameter-attribute-timeBase-syntax" role="syntax">
<caption>Syntax Representation &ndash; ttp:timeBase</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
ttp:timeBase
  : "media"
  | "smpte"
  | "clock"
</eg>
</td>
</tr>
</tbody>
</table>
<p>If the time base is designated as <code>media</code>, then a time
expression denotes a coordinate in some media object's time line,
where the media object may be an external media object with which the
content of a document instance is to be synchronized, or it may
be the content of a document instance itself in a case where
the timed text content is intended to establish an independent time
line.</p>
<note role="explanation">
<p>When using a media time base, if that time base is paused or
scaled positively or negatively, then it is expected that the
presentation of associated Timed Text content will be similarly
paused, accelerated, or decelerated, respectively. The means for
controlling an external
media time base is outside the scope of this specification.</p>
</note>
<p>If the time base is designated as <code>smpte</code>,
then a time expression denotes a <bibref ref="smpte12m"/> time
coordinate with which the content of a document instance is to
be synchronized.  In this case, the value of the <att>ttp:markerMode</att> 
and <att>ttp:smpteMode</att> parameters apply, as defined by <specref
ref="parameter-attribute-markerMode"/> and <specref
ref="parameter-attribute-smpteMode"/>, respectively</p>
<p>If the time base is designated as <code>clock</code>, then the time
expression denotes a coordinate in some real-world time line as
established by some real-time clock, such as the local wall-clock time
or UTC (Coordinated Universal Time) or GPS (Global Positioning System)
time lines.</p>
<p>If not specified, the default time base must be considered to be
<code>media</code>.</p>
<p>A <att>ttp:timeBase</att> attribute is considered to be significant only
when specified on the <el>tt</el> element.</p>
<p>When operating with either <code>media</code> or <code>smpte</code>
time bases, a diachronic presentation of a document instance may
be subject to transformations of the controlling time line, such as
temporal reversal, dilation (expansion), or constriction
(compression); however, when operating with the <code>clock</code>
time base, no transformations are permitted, and diacrhonic
presentation proceeds on a linear, monotonically increasing time line
based on the passage of real time.</p>
<note role="example">
<p>Due to there being only one time base parameter that applies to a
given document instance, the interpretation of time expressions
is uniform throughout the document instance.</p>
</note>
</div3>
</div2>
</div1>
<div1 id="content">
<head>Content</head>
<p>This section specifies the <emph>content</emph> matter of the core
vocabulary catalog.</p>
<div2 id="content-element-vocabulary">
<head>Element Vocabulary</head>
<p>The following elements specify the structure and principal content aspects of a
document instance:</p>
<ulist>
<item><p><specref ref="document-structure-vocabulary-tt"/></p></item>
<item><p><specref ref="document-structure-vocabulary-head"/></p></item>
<item><p><specref ref="document-structure-vocabulary-body"/></p></item>
<item><p><specref ref="content-vocabulary-div"/></p></item>
<item><p><specref ref="content-vocabulary-p"/></p></item>
<item><p><specref ref="content-vocabulary-span"/></p></item>
<item><p><specref ref="content-vocabulary-br"/></p></item>
</ulist>
<div3 id="document-structure-vocabulary-tt">
<head>tt</head>
<p>The <el>tt</el> element serves as the root, document element of a document
instance.</p>
<p>The <el>tt</el> element accepts as its children zero or one <el>head</el> element followed by
zero or one <el>body</el> element.</p>
<table id="elt-syntax-tt" role="syntax">
<caption>XML Representation &ndash; Element Information Item: tt</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;tt
  <loc href="#content-attribute-requiredExtensions">requiredExtensions</loc> = string
  <loc href="#content-attribute-requiredFeatures">requiredFeatures</loc> = string
  <loc href="#content-attribute-requiredFonts">requiredFeatures</loc> = string
  <loc href="#content-attribute-id">xml:id</loc> = ID
  <loc href="#content-attribute-lang"><phrase role="reqattr">xml:lang</phrase></loc> = string
  <loc href="#content-attribute-space">xml:space</loc> = (<emph>default</emph>|<emph>preserve</emph>) : default
  {<emph>any attribute in TT Parameter namespace ...</emph>}
  {<emph>any attribute not in default or any TT namespace ...</emph>}&gt;
  <emph>Content:</emph> <loc href="#document-structure-vocabulary-head">head</loc>?, <loc href="#document-structure-vocabulary-body">body</loc>?
&lt;/tt&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>The temporal beginning and ending of a document instance represented by a
<el>tt</el> element is defined in relationship with some external
application or presentation context. The temporal interval defined by
these points is referred to subsequently as the <emph>external time interval</emph>.
</p>
<p>A document instance has an implicit duration that is equal to the
implicit duration of the <el>body</el> element of the document, if present, or zero,
if not present.</p>
<p>An <att>xml:lang</att> attribute must be specified on the <el>tt</el> element.
If the attribute value is empty, it signifies that there is no default language that applies
to the text contained within the document instance.</p>
<p>If no <att>xml:space</att> attribute is specified upon the <el>tt</el> element, then it must
be considered as if the attribute had been specified with a value of <code>default</code>.</p>
</div3>
<div3 id="document-structure-vocabulary-head">
<head>head</head>
<p>The <el>head</el> element is a container element used to group
header matter, including metadata, styling, and layout information.</p>
<p>The <el>head</el> element accepts as its children zero or more
elements in the <code>Metadata.class</code> element group,
followed by
zero or one <el>styling</el> element, followed by zero or one
<el>layout</el> element.</p>
<p>Any metadata specified by children in the <code>Metadata.class</code>
element group applies semantically to the document instance as a
whole, and not just the <el>head</el> element.</p>
<p>A <el>styling</el> child element is used to specify style constructs
that are referenced from other style constructs, by layout constructs, and by
content elements.</p>
<p>A <el>layout</el> child element is used to specify layout constructs that
are referenced by content elements.</p>
<table id="elt-syntax-head" role="syntax">
<caption>XML Representation &ndash; Element Information Item: head</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;head
  <loc href="#content-attribute-id">xml:id</loc> = ID
  <loc href="#content-attribute-lang">xml:lang</loc> = string
  <loc href="#content-attribute-space">xml:space</loc> = (<emph>default</emph>|<emph>preserve</emph>)&gt;
  <emph>Content:</emph> <loc href="#element-vocab-group-table">Metadata.class</loc>*, <loc href="#styling-vocabulary-styling">styling</loc>?, <loc href="#layout-vocabulary-layout">layout</loc>?
&lt;/head&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>To the extent that time semantics apply to the content of the
<el>head</el> element, the implied time interval of this element is
defined to be coterminous with the external time interval.</p>
</div3>
<div3 id="document-structure-vocabulary-body">
<head>body</head>
<p>The <el>body</el> element functions as a logical container and a temporal
structuring element for a sequence of textual content units represented as
logical divisions.</p>
<p>The <el>body</el> element accepts as its children zero or more
elements in the <code>Metadata.class</code> element group,
followed by zero or more
elements in the <code>Animation.class</code> element group,
followed by
zero or more <el>div</el> elements.</p>
<p>Any metadata specified by children in the <code>Metadata.class</code>
element group applies semantically to the <el>body</el> element and its descendants as a whole.</p>
<p>Any animation elements specified by children in the <code>Animation.class</code>
element group apply semantically to the <el>body</el> element.</p>
<table id="elt-syntax-body" role="syntax">
<caption>XML Representation &ndash; Element Information Item: body</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;body
  <loc href="#timing-attribute-begin">begin</loc> = <loc href="#timing-value-timeExpression">&lt;timeExpression&gt;</loc>
  <loc href="#timing-attribute-dur">dur</loc> = <loc href="#timing-value-timeExpression">&lt;timeExpression&gt;</loc>
  <loc href="#timing-attribute-end">end</loc> = <loc href="#timing-value-timeExpression">&lt;timeExpression&gt;</loc>
  <loc href="#layout-attribute-region">region</loc> = IDREF
  <loc href="#content-attribute-requiredExtensions">requiredExtensions</loc> = string
  <loc href="#content-attribute-requiredFeatures">requiredFeatures</loc> = string
  <loc href="#content-attribute-requiredFonts">requiredFeatures</loc> = string
  <loc href="#style-attribute-style">style</loc> = IDREFS
  <loc href="#timing-attribute-timeContainer">timeContainer</loc> = (<emph>par</emph>|<emph>seq</emph>)
  <loc href="#content-attribute-id">xml:id</loc> = ID
  <loc href="#content-attribute-lang">xml:lang</loc> = string
  <loc href="#content-attribute-space">xml:space</loc> = (<emph>default</emph>|<emph>preserve</emph>)
  {<emph>any attribute in TT Metadata namespace ...</emph>}
  {<emph>any attribute in TT Style namespace ...</emph>}
  {<emph>any attribute not in default or any TT namespace ...</emph>}&gt;
  <emph>Content:</emph> <loc href="#element-vocab-group-table">Metadata.class</loc>*, <loc href="#element-vocab-group-table">Animation.class</loc>*, <loc href="#content-vocabulary-div">div</loc>*
&lt;/body&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>An author may specify a temporal interval for a <el>body</el> element using
the <att>begin</att>, <att>dur</att>, and <att>end</att> attributes. If the begin point
of this interval remains unspecified, then the begin point is interpreted as the begin
point of the external time interval. Similarly, if the end point of this interval remains unspecified, then the
end point is interpreted as the end point of the external time interval.</p>
<note role="explanation">
<p>A TT AF document instance referenced from a SMIL presentation
is expected to follow the same timing rules as apply to other SMIL media
objects.</p>
</note>
<p>If relative begin or end times are specified on the <el>body</el> element, then
these times are resolved by reference to the begin and end time of the external time interval.</p>
<p>If the external time interval is shorter than the computed duration of the
<el>body</el> element, then the active time interval of a document instance is
truncated to the active end point of the external time interval.</p>
<p>If no <att>timeContainer</att> attribute is specified, then a <el>body</el> element must be
interpreted as having <emph>sequential</emph> time containment semantics.</p>
<p>If the <att>tts:extent</att> attribute is specified on the <el>body</el>
element, then it specifies the spatial extent of the root container region in
which content regions are located and presented. If no <att>tts:extent</att>
attribute is specified, then the spatial extent of the root container region is
considered to be determined by the external authoring or presentation
context.</p>
<p>An author may associate a set of style properties with a <el>body</el> element by means of either
the <att>style</att> attribute or inline style attributes or a
combination thereof.</p>
<note role="explanation">
<p>Style properties that are associated with a <el>body</el> element in a document instance
are available for style inheritance by descendant content elements such as <el>div</el>, 
<el>p</el>, and <el>span</el>.</p>
</note>
<p>The declared value of an inline style attribute on a <el>body</el>
element must not be <code>inherit</code>.</p>
</div3>
<div3 id="content-vocabulary-div">
<head>div</head>
<p>The <el>div</el> element functions as a logical container and a temporal
structuring element for a sequence of textual content units represented as
logical paragraphs.</p>
<note role="explanation">
<p>When rendered on a continuous (non-paged) visual presentation medium,
a <el>div</el> element is expected to generate a single block area that
contains zero or more child block areas generated by the <el>div</el>
element's child <el>p</el> elements.
</p>
<p>If the single block area generated by a <el>div</el> element does
not contain any child areas, then it is not expected to be presented.</p>
</note>
<p>The <el>div</el> element accepts as its children zero or more
elements in the <code>Metadata.class</code> element group,
followed by zero or more
elements in the <code>Animation.class</code> element group,
followed by
zero or more <el>p</el> elements.</p>
<note role="motivation">
<p>The core vocabulary intentionally does not support nested divisions in order to reduce
the complexity of the profile to match that of the legacy distribution formats with which
the core vocabulary was designed to interoperate.</p>
</note>
<p>Any metadata specified by children in the <code>Metadata.class</code>
element group applies semantically to the <el>div</el> element and its descendants as a whole.</p>
<p>Any animation elements specified by children in the <code>Animation.class</code>
element group apply semantically to the <el>div</el> element.</p>
<table id="elt-syntax-div" role="syntax">
<caption>XML Representation &ndash; Element Information Item: div</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;div
  <loc href="#timing-attribute-begin">begin</loc> = <loc href="#timing-value-timeExpression">&lt;timeExpression&gt;</loc>
  <loc href="#timing-attribute-dur">dur</loc> = <loc href="#timing-value-timeExpression">&lt;timeExpression&gt;</loc>
  <loc href="#timing-attribute-end">end</loc> = <loc href="#timing-value-timeExpression">&lt;timeExpression&gt;</loc>
  <loc href="#layout-attribute-region">region</loc> = IDREF
  <loc href="#content-attribute-requiredExtensions">requiredExtensions</loc> = string
  <loc href="#content-attribute-requiredFeatures">requiredFeatures</loc> = string
  <loc href="#content-attribute-requiredFonts">requiredFeatures</loc> = string
  <loc href="#style-attribute-style">style</loc> = IDREFS
  <loc href="#timing-attribute-timeContainer">timeContainer</loc> = (<emph>par</emph>|<emph>seq</emph>)
  <loc href="#content-attribute-id">xml:id</loc> = ID
  <loc href="#content-attribute-lang">xml:lang</loc> = string
  <loc href="#content-attribute-space">xml:space</loc> = (<emph>default</emph>|<emph>preserve</emph>)
  {<emph>any attribute in TT Metadata namespace ...</emph>}
  {<emph>any attribute in TT Style namespace ...</emph>}
  {<emph>any attribute not in default or any TT namespace ...</emph>}&gt;
  <emph>Content:</emph> <loc
  href="#element-vocab-group-table">Metadata.class</loc>*, <loc
  href="#element-vocab-group-table">Animation.class</loc>*, <loc
  href="#element-vocab-group-table">Block.class</loc>*
&lt;/div&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>If no <att>timeContainer</att> attribute is specified, then a <el>div</el> element must be
interpreted as having <emph>parallel</emph> time containment semantics.</p>
<p>An author may associate a set of style properties with a <el>div</el> element by means of either
the <att>style</att> attribute or inline style attributes or a combination thereof.</p>
<note role="explanation">
<p>Style properties that are associated to a <el>div</el> element in a document instance
are available for style inheritance by descendant content elements such as
<el>p</el> and <el>span</el>.</p>
</note>
</div3>
<div3 id="content-vocabulary-p">
<head>p</head>
<p>A <el>p</el> element represents a logical paragraph, serving as
a transition between block level and inline level formatting semantics.</p>
<p>The <el>p</el> element accepts as its children zero or more
elements in the <code>Metadata.class</code> element group,
followed by zero or more
elements in the <code>Animation.class</code> element group,
followed by
zero or more
<code>span</code> element,
<code>br</code> element,
or text nodes interpreted as anonymous spans.</p>
<p>Any metadata specified by children in the <code>Metadata.class</code>
element group applies semantically to the <el>p</el> element and its descendants as a whole.</p>
<p>Any animation elements specified by children in the <code>Animation.class</code>
element group apply semantically to the <el>p</el> element.</p>
<table id="elt-syntax-p" role="syntax">
<caption>XML Representation &ndash; Element Information Item: p</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;p
  <loc href="#timing-attribute-begin">begin</loc> = <loc href="#timing-value-timeExpression">&lt;timeExpression&gt;</loc>
  <loc href="#timing-attribute-dur">dur</loc> = <loc href="#timing-value-timeExpression">&lt;timeExpression&gt;</loc>
  <loc href="#timing-attribute-end">end</loc> = <loc href="#timing-value-timeExpression">&lt;timeExpression&gt;</loc>
  <loc href="#layout-attribute-region">region</loc> = IDREF
  <loc href="#content-attribute-requiredExtensions">requiredExtensions</loc> = string
  <loc href="#content-attribute-requiredFeatures">requiredFeatures</loc> = string
  <loc href="#content-attribute-requiredFonts">requiredFeatures</loc> = string
  <loc href="#style-attribute-style">style</loc> = IDREFS
  <loc href="#timing-attribute-timeContainer">timeContainer</loc> = (<emph>par</emph>|<emph>seq</emph>)
  <loc href="#content-attribute-id">xml:id</loc> = ID
  <loc href="#content-attribute-lang">xml:lang</loc> = string
  <loc href="#content-attribute-space">xml:space</loc> = (<emph>default</emph>|<emph>preserve</emph>)
  {<emph>any attribute in TT Metadata namespace ...</emph>}
  {<emph>any attribute in TT Style namespace ...</emph>}
  {<emph>any attribute not in default or any TT namespace ...</emph>}&gt;
  <emph>Content:</emph> <loc
  href="#element-vocab-group-table">Metadata.class</loc>*, <loc
  href="#element-vocab-group-table">Animation.class</loc>*, <loc
  href="#element-vocab-group-table">Inline.class</loc>*
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>If a sequence of children of a <el>p</el> element
consists solely of character information items, then that sequence must
be considered to be an <emph>anonymous span</emph> for the purpose of
applying style properties that apply to <el>span</el> elements.</p>
</div3>
<div3 id="content-vocabulary-span">
<head>span</head>
<p>The <el>span</el> element functions as a logical container and a temporal
structuring element for a sequence of textual content units having inline
level formatting semantics.</p>
<p>When presented on a visual medium, a <el>span</el> element is intended to
generate a sequence of inline areas, each containing one or more glyph areas.</p>
<p>The <el>span</el> element accepts as its children zero or more
elements in the <code>Metadata.class</code> element group,
followed by zero or more
elements in the <code>Animation.class</code> element group,
followed by
zero or more
<code>br</code> element
or text nodes interpreted as anonymous spans.</p>
<note role="motivation">
<p>The core vocabulary intentionally does not support nested spans in order to reduce
the complexity of the profile to match that of the legacy distribution formats with which
the core vocabulary was designed to interoperate.</p>
</note>
<p>Any metadata specified by children in the <code>Metadata.class</code>
element group applies semantically to the <el>span</el> element and its descendants as a whole.</p>
<p>Any animation elements specified by children in the <code>Animation.class</code>
element group apply semantically to the <el>span</el> element.</p>
<table id="elt-syntax-span" role="syntax">
<caption>XML Representation &ndash; Element Information Item: span</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;span
  <loc href="#timing-attribute-begin">begin</loc> = <loc href="#timing-value-timeExpression">&lt;timeExpression&gt;</loc>
  <loc href="#timing-attribute-dur">dur</loc> = <loc href="#timing-value-timeExpression">&lt;timeExpression&gt;</loc>
  <loc href="#timing-attribute-end">end</loc> = <loc href="#timing-value-timeExpression">&lt;timeExpression&gt;</loc>
  <loc href="#layout-attribute-region">region</loc> = IDREF
  <loc href="#content-attribute-requiredExtensions">requiredExtensions</loc> = string
  <loc href="#content-attribute-requiredFeatures">requiredFeatures</loc> = string
  <loc href="#content-attribute-requiredFonts">requiredFeatures</loc> = string
  <loc href="#style-attribute-style">style</loc> = IDREFS
  <loc href="#timing-attribute-timeContainer">timeContainer</loc> = (<emph>par</emph>|<emph>seq</emph>)
  <loc href="#content-attribute-id">xml:id</loc> = ID
  <loc href="#content-attribute-lang">xml:lang</loc> = string
  <loc href="#content-attribute-space">xml:space</loc> = (<emph>default</emph>|<emph>preserve</emph>)
  {<emph>any attribute in TT Metadata namespace ...</emph>}
  {<emph>any attribute in TT Style namespace ...</emph>}
  {<emph>any attribute not in default or any TT namespace ...</emph>}&gt;
  <emph>Content:</emph> <loc
  href="#element-vocab-group-table">Metadata.class</loc>*, <loc
  href="#element-vocab-group-table">Animation.class</loc>*, <loc
  href="#element-vocab-group-table">Inline.class</loc>*
&lt;/span&gt;
</eg>
</td>
</tr>
</tbody>
</table>
</div3>
<div3 id="content-vocabulary-br">
<head>br</head>
<p>The <el>br</el> element denotes an explicit line break.</p>
<table id="elt-syntax-br" role="syntax">
<caption>XML Representation &ndash; Element Information Item: br</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;br
  <loc href="#content-attribute-requiredExtensions">requiredExtensions</loc> = string
  <loc href="#content-attribute-requiredFeatures">requiredFeatures</loc> = string
  <loc href="#content-attribute-requiredFonts">requiredFeatures</loc> = string
  <loc href="#style-attribute-style">style</loc> = IDREFS
  <loc href="#content-attribute-id">xml:id</loc> = ID
  <loc href="#content-attribute-lang">xml:lang</loc> = string
  <loc href="#content-attribute-space">xml:space</loc> = (<emph>default</emph>|<emph>preserve</emph>)
  {<emph>any attribute in TT Metadata namespace ...</emph>}
  {<emph>any attribute in TT Style namespace ...</emph>}
  {<emph>any attribute not in default or any TT namespace ...</emph>}&gt;
  <emph>Content:</emph> <loc href="#element-vocab-group-table">Metadata.class</loc>*, <loc href="#element-vocab-group-table">Animation.class</loc>*
&lt;/br&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>When presented on a visual medium, the presence of a <el>br</el> element must be
interpreted as a forced line break.</p>
<note>
<p>The visual presentation of a <el>br</el> element is
intended to produce the same effect as the ASCII control code
<code>CR</code>
followed by the control code <code>NL</code> when presented on a teletype device.
Therefore, two <el>br</el> elements in sequence will produce a
different effect than a single <el>br</el> element.</p>
</note>
</div3>
</div2>
<div2 id="content-attribute-vocabulary">
<head>Attribute Vocabulary</head>
<p>This section defines the following common attributes used with many or all element types
in the core vocabulary catalog:</p>
<ulist>
<item><p><specref ref="content-attribute-requiredExtensions"/></p></item>
<item><p><specref ref="content-attribute-requiredFeatures"/></p></item>
<item><p><specref ref="content-attribute-requiredFonts"/></p></item>
<item><p><specref ref="content-attribute-id"/></p></item>
<item><p><specref ref="content-attribute-lang"/></p></item>
<item><p><specref ref="content-attribute-space"/></p></item>
</ulist>
<div3 id="content-attribute-requiredExtensions">
<head>requiredExtensions</head>
<p>The <att>requiredExtensions</att> attribute is used as &tbd;.</p>
<p>The <att>requiredExtensions</att> attribute may be used with any element in the
core vocabulary catalog.</p>
</div3>
<div3 id="content-attribute-requiredFeatures">
<head>requiredFeatures</head>
<p>The <att>requiredFeatures</att> attribute is used as &tbd;.</p>
<p>The <att>requiredFeatures</att> attribute may be used with any element in the
core vocabulary catalog.</p>
</div3>
<div3 id="content-attribute-requiredFonts">
<head>requiredFonts</head>
<p>The <att>requiredFonts</att> attribute is used as &tbd;.</p>
<p>The <att>requiredFonts</att> attribute may be used with any element in the
core vocabulary catalog.</p>
</div3>
<div3 id="content-attribute-id">
<head>xml:id</head>
<p>The <att>xml:id</att> attribute is used as defined by
<bibref ref="xmlid"/>.</p>
<p>The <att>xml:id</att> attribute may be used with any element in the
core vocabulary catalog.</p>
</div3>
<div3 id="content-attribute-lang">
<head>xml:lang</head>
<p>The <att>xml:lang</att> attribute is used as defined by
<bibref ref="xml11"/>, &sect;2.12, <emph>Language Identification</emph>.</p>
<p>The <att>xml:lang</att> attribute must be specified on the <el>tt</el>
element and may be specified by an instance of any other element type
in the core vocabulary catalog.</p>
</div3>
<div3 id="content-attribute-space">
<head>xml:space</head>
<p>The <att>xml:space</att> attribute is used as defined by
<bibref ref="xml11"/>, &sect;2.10, <emph>White Space Handling</emph>.</p>
<p>The <att>xml:space</att> attribute may be used with any element in
the core vocabulary catalog.</p>
<!-- OLD DEFINITION
<p>The semantics of the value <code>default</code> are fixed to mean that
white space that appears in element content as defined by <bibref
ref="xml11"/>, &sect;3.2.1, must be normalized at the
application layer during subsequent processing, such as presentation or
transformation processing, as follows:</p>
<olist>
<item><p>replace each TAB character (<code>&amp;#x0009;</code>) and NEWLINE character (<code>&amp;#x000A;</code>) with a SPACE
character (<code>&amp;#x0020;</code>);</p></item>
<item><p>replace each sequence of two or more SPACE characters with a
single SPACE character;</p></item>
<item><p>for every maximum sequence of sibling character information
items, if there is a leading or trailing SPACE character in the
sequence, then remove the character.</p></item>
</olist>
-->
<!-- NEW DEFINITION -->
<p>The semantics of the value <code>default</code> are fixed to mean that
when performing presentation processing of a document instance as
described by <specref ref="semantics-region-layout-step-2"/>,
processing must occur as
if the following properties were specified on the affected
elements of the intermediate XSL-FO document:</p>
<ulist>
<item>
<p><code>suppress-at-line-break="auto"</code></p>
</item>
<item>
<p><code>linefeed-treatment="treat-as-space"</code></p>
</item>
<item>
<p><code>white-space-collapse="true"</code></p>
</item>
<item>
<p><code>white-space-treatment="ignore-if-surrounding-linefeed"</code></p>
</item>
</ulist>
<p>Similarly, the semantics of the value <code>preserve</code> are fixed to mean that
when performing presentation processing, processing must occur as
if the following properties were specified on the affected
elements of the intermediate XSL-FO document:</p>
<ulist>
<item>
<p><code>suppress-at-line-break="retain"</code></p>
</item>
<item>
<p><code>linefeed-treatment="preserve"</code></p>
</item>
<item>
<p><code>white-space-collapse="false"</code></p>
</item>
<item>
<p><code>white-space-treatment="preserve"</code></p>
</item>
</ulist>
<p>When performing other types of processing intended to eventually
result in a visual presentation by means other than those described
in this specification, the semantics of space collapsing and
preservation as described above should be respected. For other types
of processing, the treatment of the <att>xml:space</att> attribute
is processor dependent, but should respect the semantics described
above if possible.</p>
</div3>
</div2>
</div1>
<div1 id="styling">
<head>Styling</head>
<p>This section specifies the <emph>styling</emph> matter of the core
vocabulary catalog, where
styling is to be understood as a separable layer of information that applies to
content and that denotes authorial intentions about the presentation of
that content.</p>
<p>No normative use of an
<code>&lt;?xml-stylesheet ... ?&gt;</code> processing instruction is defined
by this specification.</p>
<div2 id="styling-element-vocabulary">
<head>Element Vocabulary</head>
<p>The following elements specify the structure and principal styling aspects of a
document instance:</p>
<ulist>
<item><p><specref ref="styling-vocabulary-styling"/></p></item>
<item><p><specref ref="styling-vocabulary-style"/></p></item>
</ulist>
<div3 id="styling-vocabulary-styling">
<head>styling</head>
<p>The <el>styling</el> element is a container element used to group
styling matter, including metadata that applies to styling matter.</p>
<p>The <el>styling</el> element accepts as its children zero or more
elements in the <code>Metadata.class</code> element group, followed by
zero or more <el>style</el> elements.</p>
<table id="elt-syntax-styling" role="syntax">
<caption>XML Representation &ndash; Element Information Item: styling</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;styling
  <loc href="#content-attribute-id">xml:id</loc> = ID
  <loc href="#content-attribute-lang">xml:lang</loc> = string
  <loc href="#content-attribute-space">xml:space</loc> = (<emph>default</emph>|<emph>preserve</emph>)
  {<emph>any attribute not in default or any TT namespace ...</emph>}&gt;
  <emph>Content:</emph> <loc href="#element-vocab-group-table">Metadata.class</loc>*, <loc href="#styling-vocabulary-style">style</loc>*
&lt;/styling&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>To the extent that time semantics apply to the content of the
<el>styling</el> element, the implied time interval of this element is
defined to be coterminous with the external time interval.</p>
</div3>
<div3 id="styling-vocabulary-style">
<head>style</head>
<p>The <el>style</el> element is used to define a single style specification or a set
of style specifications.</p>
<p>The <el>style</el> element accepts as its children zero or more <el>metadata</el> elements.</p>
<table id="elt-syntax-style" role="syntax">
<caption>XML Representation &ndash; Element Information Item: style</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;style
  <loc href="#content-attribute-requiredExtensions">requiredExtensions</loc> = string
  <loc href="#content-attribute-requiredFeatures">requiredFeatures</loc> = string
  <loc href="#content-attribute-requiredFonts">requiredFeatures</loc> = string
  <loc href="#style-attribute-style">style</loc> = IDREFS
  <loc href="#content-attribute-id">xml:id</loc> = ID
  <loc href="#content-attribute-lang">xml:lang</loc> = string
  <loc href="#content-attribute-space">xml:space</loc> = (<emph>default</emph>|<emph>preserve</emph>)
  {<emph>any attribute in TT Style namespace ...</emph>}
  {<emph>any attribute in TT Style Extension namespace ...</emph>}
  {<emph>any attribute not in default or any TT namespace ...</emph>}&gt;
  <emph>Content:</emph> <loc href="#element-vocab-group-table">Metadata.class</loc>*
&lt;/style&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>The declared value of an inline style attribute on a <el>style</el>
element must not be <code>inherit</code>.</p>
<p>A <el>style</el> element is considered to define a
<emph>computed style specification set</emph>, where the set is determined using the
following ordered rules:</p>
<olist>
<item>
<p>If a <att>style</att> attribute is specified on the <el>style</el> element,
then the set must be initialized so as to include each style specification contained in
the <emph>computed style specification set</emph> of each element referenced by
the <att>style</att> attribute. If the same named style property is specified
by more than one such referenced computed style specification set, then the value
of the named style property in following referenced sets takes precedence over the value
of the named style property in prior referenced sets, where following and prior are
determined according to the order of the referenced ID in the IDREFS value of the <att>style</att>
attribute.</p>
</item>
<item>
<p>If the <el>style</el> element specifies an attribute from the TT Style Namespace
or TT Style Extension Namespace, then each style
specification defined by that attribute either overrides an existing style
specification already contained within the set or augments the set with a new style
specification according to whether or not the named style property of the style specification
matches the named style property of an existing style specification already included in
the set.</p>
</item>
</olist>
<p>Two named style properties are considered to match if their expanded names match,
where <emph>expanded name</emph> is defined by <bibref ref="xmlns11"/>, &sect;2.1,
and the expanded name of a named style property is the expanded name of the attribute
that specifies the named style property.</p>
<p>If a <el>style</el> element appears as a descendant of a
<el>region</el> element, then the <el>style</el> element must be
ignored for the purpose of computing referential styles as defined by
<specref ref="semantics-style-association-referential"/> and <specref
ref="semantics-style-association-chained-referential"/>.  </p>
</div3>
</div2>
<div2 id="styling-attribute-vocabulary">
<head>Attribute Vocabulary</head>
<p>This section defines the <specref ref="style-attribute-style"/> attribute used
with both style definition elements as well as content elements.</p>
<p>In addition, this section specifies the following attributes in the TT Style Namespace
for use with style definition elements, certain layout elements, and content elements
that support inline style specifications:</p>
<ulist>
<item><p><specref ref="style-attribute-backgroundColor"/></p></item>
<item><p><specref ref="style-attribute-color"/></p></item>
<item><p><specref ref="style-attribute-direction"/></p></item>
<item><p><specref ref="style-attribute-display"/></p></item>
<item><p><specref ref="style-attribute-displayAlign"/></p></item>
<item><p><specref ref="style-attribute-dynamicFlow"/></p></item>
<item><p><specref ref="style-attribute-extent"/></p></item>
<item><p><specref ref="style-attribute-fontFamily"/></p></item>
<item><p><specref ref="style-attribute-fontSize"/></p></item>
<item><p><specref ref="style-attribute-fontStyle"/></p></item>
<item><p><specref ref="style-attribute-fontWeight"/></p></item>
<item><p><specref ref="style-attribute-lineHeight"/></p></item>
<item><p><specref ref="style-attribute-opacity"/></p></item>
<item><p><specref ref="style-attribute-origin"/></p></item>
<item><p><specref ref="style-attribute-overflow"/></p></item>
<item><p><specref ref="style-attribute-padding"/></p></item>
<item><p><specref ref="style-attribute-showBackground"/></p></item>
<item><p><specref ref="style-attribute-textAlign"/></p></item>
<item><p><specref ref="style-attribute-textDecoration"/></p></item>
<item><p><specref ref="style-attribute-textOutline"/></p></item>
<item><p><specref ref="style-attribute-unicodeBidi"/></p></item>
<item><p><specref ref="style-attribute-visibility"/></p></item>
<item><p><specref ref="style-attribute-wrapOption"/></p></item>
<item><p><specref ref="style-attribute-writingMode"/></p></item>
<item><p><specref ref="style-attribute-zIndex"/></p></item>
</ulist>
<p>Unless explicitly stated otherwise, linear white-space (LWSP) may
appear between tokens of a value of a TT Style Property.</p>
<note role="explanation">
<p>This specification makes use of <emph>lowerCamelCased</emph> local
names for style attributes that
are based upon like-named properties defined by <bibref ref="xsl10"/>.
This convention is likewise extended to token values of such
properties.</p>
</note>
<note role="clarification">
<p>A style property may be expressed as a specified attribute on any content
element type independently of whether the property applies to that
element type. This capability permits the expression of an inheritable
style property on ancestor elements to which the property property
does not apply.</p>
</note>
<div3 id="style-attribute-style">
<head>style</head>
<p>The <att>style</att> attribute is used to reference one or more <el>style</el>
elements each of which define a computed style specification set.</p>
<p>The <att>style</att> attribute may be specified by an instance of the following
element types:</p>
<ulist>
<item><p><loc href="#document-structure-vocabulary-body"><el>body</el></loc></p></item>
<item><p><loc href="#content-vocabulary-div"><el>div</el></loc></p></item>
<item><p><loc href="#content-vocabulary-p"><el>p</el></loc></p></item>
<item><p><loc href="#layout-vocabulary-region"><el>region</el></loc></p></item>
<item><p><loc href="#content-vocabulary-span"><el>span</el></loc></p></item>
<item><p><loc href="#styling-vocabulary-style"><el>style</el></loc></p></item>
</ulist>
<note role="usage">
<p>See the specific element type definitions that permit use of the <att>style</att>
attribute for further information on its semantics.</p>
</note>
</div3>
<div3 id="style-attribute-backgroundColor">
<head>tts:backgroundColor</head>
<p>The <att>tts:backgroundColor</att> attribute is used to specify a style property that
defines the background color of a region or an area generated by content flowed into a region.</p>
<p>This attribute may be specified by any style specification element or content element
that permits use of attributes in the TT Style Namespace; however, this attribute applies
as a style property only to those element types indicated in the following table.</p>
<table id="style-property-details-backgroundColor" role="common">
<col width="25%"/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<loc href="#style-value-color">&lt;color&gt;</loc> |
<code>inherit</code>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>transparent</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#document-structure-vocabulary-body"><el>body</el></loc>,
<loc href="#content-vocabulary-div"><el>div</el></loc>,
<loc href="#content-vocabulary-p"><el>p</el></loc>,
<loc href="#layout-vocabulary-region"><el>region</el></loc>,
<loc href="#content-vocabulary-span"><el>span</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>no</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>N/A</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
</tbody>
</table>
<p>The <att>tts:backgroundColor</att> style is illustrated by the following example.</p>
<table id="style-attribute-backgroundColor-example-1" role="example">
<caption>Example Fragment &ndash; Background Color</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="r1"&gt;
  &lt;style tts:extent="306px 114px"/&gt;
  &lt;style <phrase role="strong">tts:backgroundColor="red"</phrase>/&gt;
  &lt;style tts:color="white"/&gt;
  &lt;style tts:displayAlign="after"/&gt;
  &lt;style tts:padding="3px 40px"/&gt;
&lt;/region&gt;
...
&lt;p region="r1" <phrase role="strong">tts:backgroundColor="purple"</phrase> tts:textAlign="center"&gt;
  Twinkle, twinkle, little bat!&lt;br/&gt;
  How &lt;span <phrase role="strong">tts:backgroundColor="green"</phrase>&gt;I wonder&lt;/span&gt; where you're at!
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p/>
<table id="style-attribute-backgroundColor-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Background Color</caption>
<tbody>
<tr>
<td><graphic source="images/backgroundColor.png" alt="TT AF backgroundColor style property"/></td>
</tr>
</tbody>
</table>
<note role="derivation">
<p>The semantics of the style property
represented by this attribute are based upon that defined by <bibref ref="xsl10"/>,
&sect; 7.7.2.</p>
</note>
</div3>
<div3 id="style-attribute-color">
<head>tts:color</head>
<p>The <att>tts:color</att> attribute is used to specify a style property that
defines the foreground color of marks associated with an area generated by content flowed into a region.</p>
<p>This attribute may be specified by any style specification element or content element
that permits use of attributes in the TT Style Namespace; however, this attribute applies
as a style property only to those element types indicated in the following table.</p>
<table id="style-property-details-color" role="common">
<col width="25%"/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<loc href="#style-value-color">&lt;color&gt;</loc> |
<code>inherit</code>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td>
<code>transparent</code>
</td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#content-vocabulary-span"><el>span</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>yes</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>N/A</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
</tbody>
</table>
<note role="explanation">
<p>For the purpose of determining applicability of this style property,
each character child of a <el>p</el> element is considered to be enclosed in an anonymous
span.</p>
</note>
<p>The <att>tts:color</att> style is illustrated by the following example.</p>
<table id="style-attribute-color-example-1" role="example">
<caption>Example Fragment &ndash; Color</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="r1"&gt;
  &lt;style tts:backgroundColor="black"/&gt;
  &lt;style <phrase role="strong">tts:color="white"</phrase>/&gt;
  &lt;style tts:displayAlign="after"/&gt;
  &lt;style tts:textAlign="center"/&gt;
&lt;/region&gt;
...
&lt;p region="r1"&gt;
  In spring, when woods are &lt;span <phrase role="strong">tts:color="green"</phrase>&gt;getting green&lt;/span&gt;,&lt;br/&gt;
  I'll try and tell you what I mean.
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p/>
<table id="style-attribute-color-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Color</caption>
<tbody>
<tr>
<td><graphic source="images/color.png" alt="DFXP color style property"/></td>
</tr>
</tbody>
</table>
<note role="derivation">
<p>The semantics of the style property
represented by this attribute are based upon that defined by <bibref ref="xsl10"/>,
&sect; 7.17.1.</p>
</note>
</div3>
<div3 id="style-attribute-direction">
<head>tts:direction</head>
<p>The <att>tts:direction</att> attribute is used to specify a style property that
defines the directionality of an embedding or override according to
the Unicode bidirectional algorithm.</p>
<p>This attribute may be specified by any style specification element or content element
that permits use of attributes in the TT Style Namespace; however, this attribute applies
as a style property only to those element types indicated in the following table.</p>
<table id="style-property-details-direction" role="common">
<col width="25%"/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<code>ltr</code> |
<code>rtl</code> |
<code>inherit</code>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td>
<code>ltr</code>
</td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#content-vocabulary-p"><el>p</el></loc>,
<loc href="#content-vocabulary-span"><el>span</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>yes</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>N/A</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>none</td>
</tr>
</tbody>
</table>
<p/>
<p>The <att>tts:direction</att> style is illustrated by the following example.</p>
<table id="style-attribute-direction-example-1" role="example">
<caption>Example Fragment &ndash; Direction</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="r1"&gt;
  &lt;style tts:extent="265px 84px"/&gt;
  &lt;style tts:padding="5px"/&gt;
  &lt;style tts:backgroundColor="black"/&gt;
  &lt;style tts:color="white"/&gt;
  &lt;style tts:displayAlign="after"/&gt;
  &lt;style tts:textAlign="center"/&gt;
&lt;/region&gt;
...
&lt;p region="r1"&gt;
  Little birds are playing&lt;br/&gt;
  Bagpipes on the shore,&lt;br/&gt;
  &lt;span tts:unicodeBidi="bidiOverride" <phrase role="strong">tts:direction="rtl"</phrase>&gt;where the tourists snore.&lt;/span&gt;
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p/>
<table id="style-attribute-direction-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Direction</caption>
<tbody>
<tr>
<td>
<graphic source="images/direction.png" alt="DFXP direction style property"/>
</td>
</tr>
</tbody>
</table>
<note role="derivation">
<p>The semantics of the style property
represented by this attribute are based upon that defined by <bibref ref="xsl10"/>,
&sect; 7.27.1.</p>
</note>
</div3>
<div3 id="style-attribute-display">
<head>tts:display</head>
<p>The <att>tts:display</att> attribute is used to specify a style property that
defines whether an element is a candidate for layout and composition
in a region.</p>
<p>This attribute may be specified by any style specification element or content element
that permits use of attributes in the TT Style Namespace; however, this attribute applies
as a style property only to those element types indicated in the following table.</p>
<table id="style-property-details-display" role="common">
<col width="25%"/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<code>auto</code> |
<code>none</code> |
<code>inherit</code>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td>
<code>auto</code>
</td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#document-structure-vocabulary-body"><el>body</el></loc>,
<loc href="#content-vocabulary-div"><el>div</el></loc>,
<loc href="#content-vocabulary-p"><el>p</el></loc>,
<loc href="#content-vocabulary-span"><el>span</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>no</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>N/A</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
</tbody>
</table>
<p>If the value of this attribute is <code>auto</code>,
then the affected element is a candidate for region layout and
presentation; however, if the value is <code>none</code>, then the
affected element and its descendants must be considered ineligible for region
layout and presentation.</p>
<p>The <att>tts:display</att> style is illustrated by the following example.</p>
<table id="style-attribute-display-example-1" role="example">
<caption>Example Fragment &ndash; Display</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="r1"&gt;
  &lt;style tts:extent="369px 119px"/&gt;
  &lt;style tts:backgroundColor="black"/&gt;
  &lt;style tts:color="white"/&gt;
  &lt;style tts:displayAlign="before"/&gt;
  &lt;style tts:textAlign="start"/&gt;
&lt;/region&gt;
...
&lt;div region="r1"&gt;
  &lt;p dur="5s"&gt;
    [[[
    &lt;span <phrase role="strong">tts:display="none"</phrase>&gt;
      &lt;set begin="1s" dur="1s" <phrase role="strong">tts:display="auto"</phrase>/&gt;
      Beautiful soup,
    &lt;/span&gt;
    &lt;span <phrase role="strong">tts:display="none"</phrase>&gt;
      &lt;set begin="2s" dur="1s" <phrase role="strong">tts:display="auto"</phrase>/&gt;
      so rich and green,
    &lt;/span&gt;
    &lt;span <phrase role="strong">tts:display="none"</phrase>&gt;
      &lt;set begin="3s" dur="1s" <phrase role="strong">tts:display="auto"</phrase>/&gt;
      waiting in a hot tureen!
    &lt;/span&gt;
    ]]]
  &lt;/p&gt;
&lt;/div&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p/>
<table id="style-attribute-display-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Display</caption>
<tbody>
<tr>
<td>
<graphic source="images/display_0.png" alt="DFXP display style property - [0,1)"/>
</td>
</tr>
<tr>
<td>
<graphic source="images/display_1.png" alt="DFXP display style property - [1,2)"/>
</td>
</tr>
<tr>
<td>
<graphic source="images/display_2.png" alt="DFXP display style property - [2,3)"/>
</td>
</tr>
<tr>
<td>
<graphic source="images/display_3.png" alt="DFXP display style property - [3,4)"/>
</td>
</tr>
<tr>
<td>
<graphic source="images/display_4.png" alt="DFXP display style property - [4,5)"/>
</td>
</tr>
</tbody>
</table>
<note role="derivation">
<p>The semantics of the style property
represented by this attribute are based upon that defined by <bibref
ref="css2"/>,
&sect; 9.2.5.</p>
</note>
</div3>
<div3 id="style-attribute-displayAlign">
<head>tts:displayAlign</head>
<p>The <att>tts:displayAlign</att> attribute is used to specify a style property that
defines the alignment of block areas in the block progression direction.</p>
<p>This attribute may be specified by any style specification element or content element
that permits use of attributes in the TT Style Namespace; however, this attribute applies
as a style property only to those element types indicated in the following table.</p>
<table id="style-property-details-displayAlign" role="common">
<col width="25%"/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<code>before</code> |
<code>center</code> |
<code>after</code> |
<code>inherit</code>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td>
<code>before</code>
</td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#layout-vocabulary-region"><el>region</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>yes</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>N/A</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>none</td>
</tr>
</tbody>
</table>
<p/>
<p>The <att>tts:displayAlign</att> style is illustrated by the following example.</p>
<table id="style-attribute-displayAlign-example-1" role="example">
<caption>Example Fragment &ndash; Display Align</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="r1"&gt;
  &lt;style tts:extent="128px 66px"/&gt;
  &lt;style tts:origin="0px 0px"/&gt;
  &lt;style tts:backgroundColor="black"/&gt;
  &lt;style tts:color="white"/&gt;
  &lt;style <phrase role="strong">tts:displayAlign="before"</phrase>/&gt;
  &lt;style tts:textAlign="start"/&gt;
&lt;/region&gt;
&lt;region xml:id="r2"&gt;
  &lt;style tts:extent="192px 66px"/&gt;
  &lt;style tts:origin="128px 66px"/&gt;
  &lt;style tts:backgroundColor="green"/&gt;
  &lt;style tts:color="white"/&gt;
  &lt;style <phrase role="strong">tts:displayAlign="after"</phrase>/&gt;
  &lt;style tts:textAlign="start"/&gt;
&lt;/region&gt;
&lt;region xml:id="r3"&gt;
  &lt;style tts:extent="128px 66px"/&gt;
  &lt;style tts:origin="0px 132px"/&gt;
  &lt;style tts:backgroundColor="black"/&gt;
  &lt;style tts:color="white"/&gt;
  &lt;style <phrase role="strong">tts:displayAlign="before"</phrase>/&gt;
  &lt;style tts:textAlign="start"/&gt;
&lt;/region&gt;
&lt;region xml:id="r4"&gt;
  &lt;style tts:extent="192px 66px"/&gt;
  &lt;style tts:origin="128px 198px"/&gt;
  &lt;style tts:backgroundColor="green"/&gt;
  &lt;style tts:color="white"/&gt;
  &lt;style <phrase role="strong">tts:displayAlign="after"</phrase>/&gt;
  &lt;style tts:textAlign="start"/&gt;
&lt;/region&gt;
...
&lt;div&gt;
  &lt;p region="r1"&gt;I sent a message to the fish:&lt;/p&gt;
  &lt;p region="r2"&gt;I told them&lt;br/&gt; "This is what I wish."&lt;/p&gt;
  &lt;p region="r3"&gt;The little fishes of the sea,&lt;/p&gt;
  &lt;p region="r4"&gt;They sent an&lt;br/&gt; answer back to me.&lt;/p&gt;
&lt;/div&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p/>
<table id="style-attribute-displayAlign-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Display Align</caption>
<tbody>
<tr>
<td><graphic source="images/displayAlign.png" alt="DFXP displayAlign style property"/></td>
</tr>
</tbody>
</table>
<note role="derivation">
<p>The semantics of the style property
represented by this attribute are based upon that defined by <bibref ref="xsl10"/>,
&sect; 7.13.4.</p>
</note>
</div3>
<div3 id="style-attribute-dynamicFlow">
<head>tts:dynamicFlow</head>
<p>The <att>tts:dynamicFlow</att> attribute is used to specify a style property that
defines how to dynamically flow content into and out of a region over some time
interval.</p>
<p>This style property applies only to a region when the <att>tts:overflow</att>
property for that region has the value <code>scroll</code>.</p>
<p>This attribute may be specified by any style specification element or content element
that permits use of attributes in the TT Style Namespace; however, this attribute applies
as a style property only to those element types indicated in the following table.</p>
<table id="style-property-details-dynamicFlow" role="common">
<col width="25%"/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<code>none</code> |
<loc href="#style-value-flowFunction">&lt;flowFunction&gt;</loc>+ <loc href="#style-value-flowIntervalFunction">&lt;flowIntervalFunction&gt;</loc>* 
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>none</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#layout-vocabulary-region"><el>region</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>no</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>N/A</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>none</td>
</tr>
</tbody>
</table>
<p>If the value of this attribute is <code>none</code>, then no
dynamic flow semantics apply.</p>
<p>If the value of this attribute contains a single
<loc href="#style-value-flowFunction">&lt;flowFunction&gt;</loc>, then that flow function applies equally to
<emph>fill into</emph>, <emph>reflow within</emph>, and <emph>clear
from</emph> dynamic flow operations.</p>
<p>If a reflow <code>within()</code> flow function is specified, but
no clear <code>out()</code> flow function is specified, or vice-versa,
then the function applies equally to both <emph>reflow within</emph>
and <emph>clear from</emph> dynamic flow operations.</p>
<p>If either <code>intra()</code> or <code>inter()</code>
<loc href="#style-value-flowIntervalFunction">&lt;flowIntervalFunction&gt;</loc> is not specified, then the
<code>auto</code> value for the missing <loc href="#style-value-flowIntervalFunction">&lt;flowIntervalFunction&gt;</loc>
applies.</p>
<p>The normative processing model for dynamic flow behavior is
specified in <specref ref="dynamicFlowModel"/>.</p>
<p>The <att>tts:dynamicFlow</att> style is illustrated by the
following example, and depicted in an <loc href="images/dynamicFlow_RU_animated.svg">SVG Animation</loc>.</p>
<table id="style-attribute-dynamicFlow-example-1" role="example">
<caption>Example Fragment &ndash; Dynamic Flow</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="r1"&gt;
  &lt;style tts:extent="140px 70px"/&gt;
  &lt;style tts:displayAlign="after"/&gt;
  &lt;style tts:backgroundColor="transparent"/&gt;
  &lt;style tts:fontFamily="proportionalSansSerif"/&gt;
  &lt;style tts:fontSize="18px"/&gt;
  &lt;style <phrase role="strong">tts:overflow="scroll"</phrase>/&gt;
  &lt;style <phrase role="strong">tts:dynamicFlow="in(word,jump) out(line,smooth) inter(3s)"</phrase>/&gt;
&lt;/region&gt;
...
&lt;p region="r1"&gt;
  &lt;span tts:backgroundColor="black" tts:color="white"&gt;
    Five o'clock tea!&lt;br/&gt;
    Ever to thee,&lt;br/&gt;
    Faithful I'll be,&lt;br/&gt;
    Five o'clock tea!&lt;br/&gt;
    &lt;br/&gt;
    &lt;br/&gt;
    &lt;br/&gt;
  &lt;/span&gt;
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p/>
<table id="style-attribute-dynamicFlow-example-2-images" role="example-images-bordered">
<caption>Example Rendition &ndash; Dynamic Flow &ndash; Discrete Frames</caption>
<col width="136px"/>
<col width="136px"/>
<col width="136px"/>
<col width="136px"/>
<tbody>
<tr>
<td><graphic source="images/dynamicFlow_snake_0.png" alt="DFXP dynamic flow style property - frame 0"/></td>
<td><graphic source="images/dynamicFlow_snake_1.png" alt="DFXP dynamic flow style property - frame 1"/></td>
<td><graphic source="images/dynamicFlow_snake_2.png" alt="DFXP dynamic flow style property - frame 2"/></td>
<td><graphic source="images/dynamicFlow_snake_3.png" alt="DFXP dynamic flow style property - frame 3"/></td>
</tr>
<tr>
<td><graphic source="images/dynamicFlow_snake_4.png" alt="DFXP dynamic flow style property - frame 4"/></td>
<td><graphic source="images/dynamicFlow_snake_5.png" alt="DFXP dynamic flow style property - frame 5"/></td>
<td><graphic source="images/dynamicFlow_snake_6.png" alt="DFXP dynamic flow style property - frame 6"/></td>
<td><graphic source="images/dynamicFlow_snake_7.png" alt="DFXP dynamic flow style property - frame 7"/></td>
</tr>
<tr>
<td><graphic source="images/dynamicFlow_snake_8.png" alt="DFXP dynamic flow style property - frame 8"/></td>
<td><graphic source="images/dynamicFlow_snake_9.png" alt="DFXP dynamic flow style property - frame 9"/></td>
<td><graphic source="images/dynamicFlow_snake_10.png" alt="DFXP dynamic flow style property - frame 10"/></td>
<td><graphic source="images/dynamicFlow_snake_11.png" alt="DFXP dynamic flow style property - frame 11"/></td>
</tr>
<tr>
<td><graphic source="images/dynamicFlow_snake_12.png" alt="DFXP dynamic flow style property - frame 12"/></td>
<td><graphic source="images/dynamicFlow_snake_13.png" alt="DFXP dynamic flow style property - frame 13"/></td>
<td><graphic source="images/dynamicFlow_snake_14.png" alt="DFXP dynamic flow style property - frame 14"/></td>
<td><graphic source="images/dynamicFlow_snake_15.png" alt="DFXP dynamic flow style property - frame 15"/></td>
</tr>
</tbody>
</table>
</div3>
<div3 id="style-attribute-extent">
<head>tts:extent</head>
<p>The <att>tts:extent</att> attribute is used to specify the
<emph>width</emph> and <emph>height</emph> of a region area
(which may be the root container region).</p>
<p>This attribute may be specified by any style specification element or content element
that permits use of attributes in the TT Style Namespace; however, this attribute applies
as a style property only to those element types indicated in the following table.</p>
<table id="style-property-details-extent" role="common">
<col width="25%"/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<code>auto</code> |
<loc href="#style-value-length">&lt;length&gt;</loc> <loc href="#style-value-length">&lt;length&gt;</loc> |
<code>inherit</code>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>auto</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#document-structure-vocabulary-body"><el>body</el></loc>,
<loc href="#layout-vocabulary-region"><el>region</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>no</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>relative to width and height of root container region</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>none</td>
</tr>
</tbody>
</table>
<p>If the value of this attribute consists of two <loc href="#style-value-length">&lt;length&gt;</loc>
specifications, then they must be interpreted as <emph>width</emph>
and <emph>height</emph>, where the first specification is the
<emph>width</emph>, and the second specification is the
<emph>height</emph>.</p>
<p>If the value of this attribute is <code>auto</code>, then the initial value
of the style property must be considered to be the same as the root container extent.
The root container extent is determined either by a
<att>tts:extent</att> specified on the <el>body</el> element, if
present, or by the external authoring context, if not present. In the
former case, if the width and height is expressed in terms of two
<loc href="#style-value-length">&lt;length&gt;</loc> specifications,
then these specifications must be expressed as non-percentage,
definite lengths using pixel units.</p>
<p>The <att>tts:extent</att> style is illustrated by the following example.</p>
<table id="style-attribute-extent-example-1" role="example">
<caption>Example Fragment &ndash; Extent</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="r1"&gt;
  &lt;style <phrase role="strong">tts:extent="330px 122px"</phrase>/&gt;
  &lt;style tts:backgroundColor="black"/&gt;
  &lt;style tts:color="white"/&gt;
  &lt;style tts:displayAlign="after"/&gt;
  &lt;style tts:textAlign="center"/&gt;
&lt;/region&gt;
...
&lt;p region="r1"&gt;
  'Tis the voice of the Lobster:&lt;br/&gt;
  I heard him declare,&lt;br/&gt;
  "You have baked me too brown,&lt;br/&gt;
  I must sugar my hair."
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p/>
<table id="style-attribute-extent-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Extent</caption>
<tbody>
<tr>
<td><graphic source="images/extent.png" alt="DFXP extent style property"/></td>
</tr>
</tbody>
</table>
</div3>
<div3 id="style-attribute-fontFamily">
<head>tts:fontFamily</head>
<p>The <att>tts:fontFamily</att> attribute is used to specify a style property that
defines the font family from which glyphs are selected for glyph areas generated
by content flowed into a region.</p>
<p>This attribute may be specified by any style specification element or content element
that permits use of attributes in the TT Style Namespace; however, this attribute applies
as a style property only to those element types indicated in the following table.</p>
<table id="style-property-details-fontFamily" role="common">
<col width="25%"/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
(<loc href="#style-value-familyName">&lt;familyName&gt;</loc> | <loc href="#style-value-genericFamilyName">&lt;genericFamilyName&gt;</loc>)
(<code>","</code>
&nbsp;(<loc href="#style-value-familyName">&lt;familyName&gt;</loc> | <loc href="#style-value-genericFamilyName">&lt;genericFamilyName&gt;</loc>))* |
<code>inherit</code>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>default</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#content-vocabulary-span"><el>span</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>yes</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>N/A</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
</tbody>
</table>
<note role="explanation">
<p>For the purpose of determining applicability of this style property,
each character child of a <el>p</el> element is considered to be enclosed in an anonymous
span.</p>
</note>
<note role="clarification">
<p>The initial value, <code>default</code>, is a generic font family name, and is
further described in <specref ref="style-value-genericFamilyName"/> below.</p>
</note>
<p>The <att>tts:fontFamily</att> style is illustrated by the following example.</p>
<table id="style-attribute-fontFamily-example-1" role="example">
<caption>Example Fragment &ndash; Font Family</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="r1"&gt;
  &lt;style tts:extent="474px 146px"/&gt;
  &lt;style tts:backgroundColor="black"/&gt;
  &lt;style tts:color="white"/&gt;
  &lt;style tts:displayAlign="center"/&gt;
  &lt;style tts:textAlign="start"/&gt;
  &lt;style <phrase role="strong">tts:fontFamily="proportionalSansSerif"</phrase>/&gt;
&lt;/region&gt;
...
&lt;div region="r1"&gt;
  &lt;p&gt;
    "The time has come," the Walrus said,&lt;br/&gt;
    "to talk of many things:
  &lt;/p&gt;
  &lt;p tts:textAlign="end" <phrase role="strong">tts:fontFamily="monospaceSerif"</phrase>&gt;
    Of shoes, and ships, and sealing wax,&lt;br/&gt;
    Of cabbages and kings,
  &lt;/p&gt;
  &lt;p&gt;
    And why the sea is boiling hot,&lt;br/&gt;
    and whether pigs have wings."
  &lt;/p&gt;
&lt;/div&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p/>
<table id="style-attribute-fontFamily-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Font Family</caption>
<tbody>
<tr>
<td><graphic source="images/fontFamily.png" alt="DFXP fontFamily style property"/></td>
</tr>
</tbody>
</table>
<note role="derivation">
<p>The semantics of the style property
represented by this attribute are based upon that defined by <bibref ref="xsl10"/>,
&sect; 7.8.2.</p>
</note>
</div3>
<div3 id="style-attribute-fontSize">
<head>tts:fontSize</head>
<p>The <att>tts:fontSize</att> attribute is used to specify a style property
that defines the font size for glyphs that are selected for glyph areas
generated by content flowed into a region, where font size is interpreted as a
scaling transform to the font's design EM square.</p>
<p>This attribute may be specified by any style specification element or content element
that permits use of attributes in the TT Style Namespace; however, this attribute applies
as a style property only to those element types indicated in the following table.</p>
<table id="style-property-details-fontSize" role="common">
<col width="25%"/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<loc href="#style-value-length">&lt;length&gt;</loc> <loc href="#style-value-length">&lt;length&gt;</loc>? |
<code>inherit</code>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>1c</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#content-vocabulary-span"><el>span</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>yes</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>relative to parent element's font size</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
</tbody>
</table>
<p>If a single <loc href="#style-value-length">&lt;length&gt;</loc> value is specified, then this length applies
equally to horizontal and vertical scaling of a glyph's EM square; if two
<loc href="#style-value-length">&lt;length&gt;</loc> values are specified, then the first expresses the horizontal
scaling and the second expresses vertical scaling.</p>
<note role="example">
<p>Use of independent horizontal and vertical font sizes is expected to be used
with cell based metrics in order to denote fonts that are two rows in height and
one column in width.</p>
</note>
<p>If horizontal and vertical sizes are expressed independently, then the
metrics of the <loc href="#style-value-length">&lt;length&gt;</loc> values must be the same.</p>
<p>The <loc href="#style-value-length">&lt;length&gt;</loc> value(s) used to express font size must be non-negative.</p>
<note role="explanation">
<p>For the purpose of determining applicability of this style property,
each character child of a <el>p</el> element is considered to be enclosed in an anonymous
span.</p>
</note>
<p>The <att>tts:fontSize</att> style is illustrated by the following example.</p>
<table id="style-attribute-fontSize-example-1" role="example">
<caption>Example Fragment &ndash; Font Size</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="r1"&gt;
  &lt;style tts:extent="299px 97px"/&gt;
  &lt;style tts:backgroundColor="black"/&gt;
  &lt;style tts:color="white"/&gt;
  &lt;style tts:displayAlign="center"/&gt;
  &lt;style tts:textAlign="center"/&gt;
  &lt;style tts:fontFamily="proportionalSansSerif"/&gt;
  &lt;style <phrase role="strong">tts:fontSize="18px"</phrase>/&gt;
&lt;/region&gt;
...
&lt;p region="r1"&gt;
  Then fill up the glasses&lt;br/&gt;
  with treacle and ink,&lt;br/&gt;
  Or anything else&lt;br/&gt;
  that is &lt;span <phrase role="strong">tts:fontSize="24px"</phrase>&gt;pleasant&lt;/span&gt; to drink.
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p/>
<table id="style-attribute-fontSize-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Font Size</caption>
<tbody>
<tr>
<td><graphic source="images/fontSize.png" alt="DFXP fontSize style property"/></td>
</tr>
</tbody>
</table>
<note role="derivation">
<p>The semantics of the style property
represented by this attribute are based upon that defined by <bibref ref="xsl10"/>,
&sect; 7.8.4.</p>
</note>
</div3>
<div3 id="style-attribute-fontStyle">
<head>tts:fontStyle</head>
<p>The <att>tts:fontStyle</att> attribute is used to specify a style property that
defines the font style to apply to glyphs that are selected for glyph areas generated
by content flowed into a region, where the mapping from font
style value to specific font face or style parameterization is not determined
by this specification.</p>
<p>This attribute may be specified by any style specification element or content element
that permits use of attributes in the TT Style Namespace; however, this attribute applies
as a style property only to those element types indicated in the following table.</p>
<table id="style-property-details-fontStyle" role="common">
<col width="25%"/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<code>normal</code> |
<code>italic</code> |
<code>oblique</code> |
<code>reverseOblique</code> |
<code>inherit</code>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>normal</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#content-vocabulary-span"><el>span</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>yes</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>N/A</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
</tbody>
</table>
<note role="explanation">
<p>For the purpose of determining applicability of this style property,
each character child of a <el>p</el> element is considered to be enclosed in an anonymous
span.</p>
</note>
<p>Use of values <code>oblique</code> and <code>reverseOblique</code>
denote a shear and reverse shear transformation (at an unspecified
angle) in the inline progression dimension. A conformant processor may
perform such a transform on a font in order to satisfy this authorial
intent for the purpose of presentation processing. If a specified font
style is not available or a shear or reverse shear transformation is
not supported, then the processor must interpret the font style as if
the value <code>normal</code> were specified for the purpose of
presentation processing.</p>
<p>The <att>tts:fontStyle</att> style is illustrated by the following example.</p>
<table id="style-attribute-fontStyle-example-1" role="example">
<caption>Example Fragment &ndash; Font Style</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="r1"&gt;
  &lt;style tts:extent="331px 84px"/&gt;
  &lt;style tts:backgroundColor="black"/&gt;
  &lt;style tts:color="white"/&gt;
  &lt;style tts:displayAlign="after"/&gt;
  &lt;style tts:textAlign="center"/&gt;
  &lt;style tts:fontFamily="proportionalSansSerif"/&gt;
&lt;/region&gt;
...
&lt;p region="r1"&gt;
  In autumn, when the leaves are brown,&lt;br/&gt;
  Take pen and ink, and &lt;span <phrase role="strong">tts:fontStyle="italic"</phrase>&gt;write it down.&lt;/span&gt;
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p/>
<table id="style-attribute-fontStyle-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Font Style</caption>
<tbody>
<tr>
<td><graphic source="images/fontStyle.png" alt="DFXP fontStyle style property"/></td>
</tr>
</tbody>
</table>
<p/>
<note role="derivation">
<p>The semantics of the style property
represented by this attribute are based upon that defined by <bibref ref="xsl10"/>,
&sect; 7.8.7.</p>
</note>
</div3>
<div3 id="style-attribute-fontWeight">
<head>tts:fontWeight</head>
<p>The <att>tts:fontWeight</att> attribute is used to specify a style property
that defines the font weight to apply to glyphs that are selected for glyph
areas generated by content flowed into a region, where the mapping from font
weight value to specific font face or weight parameterization is not determined
by this specification.</p>
<p>This attribute may be specified by any style specification element or content element
that permits use of attributes in the TT Style Namespace; however, this attribute applies
as a style property only to those element types indicated in the following table.</p>
<table id="style-property-details-fontWeight" role="common">
<col width="25%"/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<code>normal</code> |
<code>bold</code> |
<code>inherit</code>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>normal</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#content-vocabulary-span"><el>span</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>yes</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>N/A</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
</tbody>
</table>
<note role="explanation">
<p>For the purpose of determining applicability of this style property,
each character child of a <el>p</el> element is considered to be enclosed in an anonymous
span.</p>
</note>
<p>If a specified font weight is not available, then a conformant
processor must interpret the font weight as if the value <code>normal</code> were
specified for the purpose of presentation processing.</p>
<p>The <att>tts:fontWeight</att> style is illustrated by the following example.</p>
<table id="style-attribute-fontWeight-example-1" role="example">
<caption>Example Fragment &ndash; Font Weight</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="r1"&gt;
  &lt;style tts:extent="376px 95px"/&gt;
  &lt;style tts:backgroundColor="black"/&gt;
  &lt;style tts:color="white"/&gt;
  &lt;style tts:displayAlign="center"/&gt;
  &lt;style tts:textAlign="center"/&gt;
  &lt;style tts:fontFamily="proportionalSansSerif"/&gt;
&lt;/region&gt;
...
&lt;p region="r1"&gt;
  They told me you had been to her,&lt;br/&gt;
  &lt;span <phrase role="strong">tts:fontWeight="bold"</phrase>&gt;and mentioned me to him:&lt;/span&gt;&lt;br/&gt;
  She gave me a good character&lt;br/&gt;
  &lt;span <phrase role="strong">tts:fontWeight="bold"</phrase>&gt;but said I could not swim.&lt;/span&gt;
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p/>
<table id="style-attribute-fontWeight-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Font Weight</caption>
<tbody>
<tr>
<td><graphic source="images/fontWeight.png" alt="DFXP fontWeight style property"/></td>
</tr>
</tbody>
</table>
<note role="derivation">
<p>The semantics of the style property
represented by this attribute are based upon that defined by <bibref ref="xsl10"/>,
&sect; 7.8.9.</p>
</note>
</div3>
<div3 id="style-attribute-lineHeight">
<head>tts:lineHeight</head>
<p>The <att>tts:lineHeight</att> attribute is used to specify a style property that
defines the inter-baseline separation between line areas generated by content flowed into a region.</p>
<p>This attribute may be specified by any style specification element or content element
that permits use of attributes in the TT Style Namespace; however, this attribute applies
as a style property only to those element types indicated in the following table.</p>
<table id="style-property-details-lineHeight" role="common">
<col width="25%"/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<code>normal</code> |
<loc href="#style-value-length">&lt;length&gt;</loc> |
<code>inherit</code>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>normal</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#content-vocabulary-p"><el>p</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>yes</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>relative to this element's font size</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
</tbody>
</table>
<p>If the value of this attribute is <code>normal</code>, then the initial value
of the style property must be considered to be the same as the largest font size
that applies to any child element.</p>
<p>If specified as a <loc href="#style-value-length">&lt;length&gt;</loc>, then the length must be non-negative.</p>
<p>The <att>tts:lineHeight</att> style is illustrated by the following example.</p>
<table id="style-attribute-lineHeight-example-1" role="example">
<caption>Example Fragment &ndash; Line Height</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="r1"&gt;
  &lt;style tts:extent="255px 190px"/&gt;
  &lt;style tts:backgroundColor="black"/&gt;
  &lt;style tts:color="white"/&gt;
  &lt;style tts:displayAlign="center"/&gt;
  &lt;style tts:textAlign="start"/&gt;
  &lt;style tts:fontFamily="proportionalSansSerif"/&gt;
  &lt;style tts:fontSize="16px"/&gt;
  &lt;style <phrase role="strong">tts:lineHeight="32px"</phrase>/&gt;
&lt;/region&gt;
...
&lt;p region="r1"&gt;
  He thought he saw an elephant,&lt;br/&gt;
  That practised on a fife:&lt;br/&gt;
  He looked again, and found it was&lt;br/&gt;
  A letter from his wife.&lt;br/&gt;
  "At length I realise," he said,&lt;br/&gt;
  "The bitterness of Life.
"&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p/>
<table id="style-attribute-lineHeight-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Line Height</caption>
<tbody>
<tr>
<td><graphic source="images/lineHeight.png" alt="DFXP lineHeight style property"/></td>
</tr>
</tbody>
</table>
<p/>
<note role="derivation">
<p>The semantics of the style property
represented by this attribute are based upon that defined by <bibref ref="xsl10"/>,
&sect; 7.15.4.</p>
</note>
</div3>
<div3 id="style-attribute-opacity">
<head>tts:opacity</head>
<p>The <att>tts:opacity</att> attribute is used to specify a style property that
defines the opacity (or transparency) of marks associated with a region (such as
a region's background color) or marks associated with areas generated by a given
content element to which opacity applies.</p>
<p>When presented onto a visual medium, the opacity of the affacted
element is applied uniformly and on a linear scale to all marks produced by the affected
element (and its descendants).</p>
<p>This attribute may be specified by any style specification element or content element
that permits use of attributes in the TT Style Namespace; however, this attribute applies
as a style property only to those element types indicated in the following table.</p>
<table id="style-property-details-opacity" role="common">
<col width="25%"/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<loc href="#style-value-alpha">&lt;alpha&gt;</loc> |
<code>inherit</code>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td>
<code>1.0</code>
</td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#layout-vocabulary-region"><el>region</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>no</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>N/A</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
</tbody>
</table>
<p>An <loc href="#style-value-alpha">&lt;alpha&gt;</loc> value greater than 1.0 must be considered equivalent
to an <loc href="#style-value-alpha">&lt;alpha&gt;</loc> value of 1.0.</p>
<p>The <att>tts:opacity</att> style is illustrated by the following example.</p>
<table id="style-attribute-opacity-example-1" role="example">
<caption>Example Fragment &ndash; Opacity</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="r1" dur="5s"&gt;
  &lt;set begin="0s" dur="1s" <phrase role="strong">tts:opacity="1.00"</phrase>/&gt;
  &lt;set begin="1s" dur="1s" <phrase role="strong">tts:opacity="0.75"</phrase>/&gt;
  &lt;set begin="2s" dur="1s" <phrase role="strong">tts:opacity="0.50"</phrase>/&gt;
  &lt;set begin="3s" dur="1s" <phrase role="strong">tts:opacity="0.25"</phrase>/&gt;
  &lt;set begin="4s" dur="1s" <phrase role="strong">tts:opacity="0.00"</phrase>/&gt;
  &lt;style tts:extent="304px 77px"/&gt;
  &lt;style tts:backgroundColor="black"/&gt;
  &lt;style tts:color="white"/&gt;
  &lt;style tts:displayAlign="after"/&gt;
  &lt;style tts:textAlign="center"/&gt;
&lt;/region&gt;
...
&lt;p region="r1"&gt;
  The sun was shining on the sea
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p/>
<table id="style-attribute-opacity-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Opacity</caption>
<tbody>
<tr>
<td>
<graphic source="images/opacity_0.png" alt="DFXP opacity style property - [0,1)"/>
</td>
</tr>
<tr>
<td>
<graphic source="images/opacity_1.png" alt="DFXP opacity style property - [1,2)"/>
</td>
</tr>
<tr>
<td>
<graphic source="images/opacity_2.png" alt="DFXP opacity style property - [2,3)"/>
</td>
</tr>
<tr>
<td>
<graphic source="images/opacity_3.png" alt="DFXP opacity style property - [3,4)"/>
</td>
</tr>
<tr>
<td>
<graphic source="images/opacity_4.png" alt="DFXP opacity style property - [4,5)"/>
</td>
</tr>
</tbody>
</table>
<note role="derivation">
<p>The semantics of the style property
represented by this attribute are based upon that defined by <bibref ref="css3-color"/>,
&sect; 3.2.</p>
</note>
</div3>
<div3 id="style-attribute-origin">
<head>tts:origin</head>
<p>The <att>tts:origin</att> attribute is used to specify the
<emph>x</emph> and <emph>y</emph> coordinates of the origin of a
region area with respect to the origin of the root container extent,
if specified, or the external authoring context, if not specified.</p>
<p>This attribute may be specified by any style specification element or content element
that permits use of attributes in the TT Style Namespace; however, this attribute applies
as a style property only to those element types indicated in the following table.</p>
<table id="style-property-details-origin" role="common">
<col width="25%"/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<code>auto</code> |
<loc href="#style-value-length">&lt;length&gt;</loc> <loc href="#style-value-length">&lt;length&gt;</loc> |
<code>inherit</code>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>auto</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#layout-vocabulary-region"><el>region</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>no</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>relative to width and height of root container region</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>none</td>
</tr>
</tbody>
</table>
<p>If the value of this attribute consists of two <loc href="#style-value-length">&lt;length&gt;</loc> specifications,
then they must be interpreted as <emph>x</emph> and <emph>y</emph> coordinates, where the first specification
is the <emph>x</emph> coordinate, and the second specification is the <emph>y</emph> coordinate.</p>
<p>If the value of this attribute is <code>auto</code>, then the initial value
of the style property must be considered to be the same as the root container origin.
The root container origin is determined by the external authoring context.</p>
<p>The <att>tts:origin</att> style is illustrated by the following example.</p>
<table id="style-attribute-origin-example-1" role="example">
<caption>Example Fragment &ndash; Origin</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="r1"&gt;
  &lt;style <phrase role="strong">tts:origin="40px 40px"</phrase>/&gt;
  &lt;style tts:extent="308px 92px"/&gt;
  &lt;style tts:backgroundColor="black"/&gt;
  &lt;style tts:color="white"/&gt;
  &lt;style tts:displayAlign="center"/&gt;
  &lt;style tts:textAlign="center"/&gt;
&lt;/region&gt;
...
&lt;p region="r1"&gt;
  "To dine!" she shrieked in dragon-wrath.&lt;br/&gt;
  "To swallow wines all foam and froth!&lt;br/&gt;
   To simper at a table-cloth!"
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p/>
<table id="style-attribute-origin-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Origin</caption>
<tbody>
<tr>
<td><graphic source="images/origin.png" alt="DFXP origin style property"/></td>
</tr>
</tbody>
</table>
</div3>
<div3 id="style-attribute-overflow">
<head>tts:overflow</head>
<p>The <att>tts:overflow</att> attribute is used to specify a style property that
defines whether a region area is clipped or not if the descendant areas of the region overflow
its extent.</p>
<p>This attribute may be specified by any style specification element or content element
that permits use of attributes in the TT Style Namespace; however, this attribute applies
as a style property only to those element types indicated in the following table.</p>
<table id="style-property-details-overflow" role="common">
<col width="25%"/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<code>visible</code> |
<code>hidden</code> |
<code>scroll</code> |
<code>inherit</code>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>hidden</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#layout-vocabulary-region"><el>region</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>no</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>N/A</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>none</td>
</tr>
</tbody>
</table>
<p>If the value of this attribute is <code>visible</code>, then content should
not be clipped outside of the affected region, and region composition and layout
must be performed as if the region's width and height were infinite, but with
a well-defined origin.  If the value is <code>hidden</code>, then content should
be clipped outside of the affected region.</p>
<note role="explanation">
<p>Unless a manual line break element <el>br</el> is used by the content author,
a paragraph of a given region will generate no more than one line area in that
region if the value of the <att>tts:overflow</att> style that applies to the
region is <code>visible</code> and if the applicable <att>tts:wrapOption</att>
style is <code>noWrap</code>.</p>
</note>
<p>If the value of this attribute is <code>scroll</code>, then content is
dynamically flowed into and out of the affected region according to the values
of the <att>tts:dynamicFlow</att> style property; in this case, the
semantics of the <att>tts:dynamicFlow</att> apply whether or not the
affected region has overflowed.</p>
<p>The <att>tts:overflow</att> style is illustrated by the following example.</p>
<table id="style-attribute-overflow-example-1" role="example">
<caption>Example Fragment &ndash; Overflow</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="r1"&gt;
  &lt;style tts:extent="232px 40px"/&gt;
  &lt;style tts:origin="0px 0px"/&gt;
  &lt;style tts:backgroundColor="black"/&gt;
  &lt;style tts:color="red"/&gt;
  &lt;style tts:displayAlign="before"/&gt;
  &lt;style tts:textAlign="start"/&gt;
  &lt;style tts:fontFamily="proportionalSansSerif"/&gt;
  &lt;style tts:fontSize="18px"/&gt;
  &lt;style tts:wrapOption="noWrap"/&gt;
  &lt;style <phrase role="strong">tts:overflow="visible"</phrase>/&gt;
&lt;/region&gt;
&lt;region xml:id="r2"&gt;
  &lt;style tts:extent="232px 40px"/&gt;
  &lt;style tts:origin="0px 43px"/&gt;
  &lt;style tts:backgroundColor="black"/&gt;
  &lt;style tts:color="red"/&gt;
  &lt;style tts:displayAlign="before"/&gt;
  &lt;style tts:textAlign="start"/&gt;
  &lt;style tts:fontFamily="proportionalSansSerif"/&gt;
  &lt;style tts:fontSize="18px"/&gt;
  &lt;style tts:wrapOption="noWrap"/&gt;
  &lt;style <phrase role="strong">tts:overflow="hidden"</phrase>/&gt;
&lt;/region&gt;
...
&lt;p region="r1"&gt;
  "But wait a bit," the Oysters cried,&lt;br/&gt;
  "Before we have our chat;
&lt;/p&gt;
&lt;p region="r2"&gt;
  For some of us are out of breath,&lt;br/&gt;
  And all of us are fat!"
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p/>
<table id="style-attribute-overflow-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Overflow</caption>
<tbody>
<tr>
<td><graphic source="images/overflow.png" alt="DFXP overflow style property"/></td>
</tr>
</tbody>
</table>
<note role="explanation">
<p>In the above example, the <att>tts:noWrap</att> is set to
<code>noWrap</code> to prevent automatic line wrapping (breaking);
if this were not specified, then overflow would occur in the block
progression direction as opposed to the inline progression direction.</p>
</note>
<note role="derivation">
<p>The semantics of the style property
represented by this attribute are based upon that defined by <bibref ref="xsl10"/>,
&sect; 7.20.2.</p>
</note>
</div3>
<div3 id="style-attribute-padding">
<head>tts:padding</head>
<p>The <att>tts:padding</att> attribute is used to specify padding (or inset)
space on all sides of a region area or a content area produced by a content
element.</p>
<p>This attribute may be specified by any style specification element or content element
that permits use of attributes in the TT Style Namespace; however, this attribute applies
as a style property only to those element types indicated in the following table.</p>
<table id="style-property-details-padding" role="common">
<col width="25%"/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<loc href="#style-value-length">&lt;length&gt;</loc> |
<loc href="#style-value-length">&lt;length&gt;</loc> <loc href="#style-value-length">&lt;length&gt;</loc> |
<loc href="#style-value-length">&lt;length&gt;</loc> <loc href="#style-value-length">&lt;length&gt;</loc> <loc href="#style-value-length">&lt;length&gt;</loc> |
<loc href="#style-value-length">&lt;length&gt;</loc> <loc href="#style-value-length">&lt;length&gt;</loc> <loc href="#style-value-length">&lt;length&gt;</loc> <loc href="#style-value-length">&lt;length&gt;</loc> |
<code>inherit</code>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>0</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#layout-vocabulary-region"><el>region</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>no</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>relative to width and height of region</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
</tbody>
</table>
<p>If the value of this attribute consists of one <loc href="#style-value-length">&lt;length&gt;</loc> specification,
then that length applies to all edges of the affected areas. If the value
consists of two <loc href="#style-value-length">&lt;length&gt;</loc> specifications, then the first applies to the
before and after edges, and the second applies to the start and end edges.
If three <loc href="#style-value-length">&lt;length&gt;</loc> specifications are provided, then the first applies to the
before edge, the second applies to the start and end edges, and the third applies
to the after edge.
If four <loc href="#style-value-length">&lt;length&gt;</loc> specifications are provided, then they apply to before, end,
after, and start edges, respectively.</p>
<p>The <att>tts:padding</att> style is illustrated by the following example.</p>
<table id="style-attribute-padding-example-1" role="example">
<caption>Example Fragment &ndash; Padding</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="r1"&gt;
  &lt;style tts:extent="446px 104px"/&gt;
  &lt;style tts:backgroundColor="black"/&gt;
  &lt;style tts:color="white"/&gt;
  &lt;style tts:displayAlign="after"/&gt;
  &lt;style tts:textAlign="center"/&gt;
  &lt;style <phrase role="strong">tts:padding="10px 40px"</phrase>/&gt;
&lt;/region&gt;
...
&lt;p region="r1" tts:backgroundColor="red"&gt;
  Just the place for a Snark! I have said it twice:&lt;br/&gt;
  That alone should encourage the crew.&lt;br/&gt;
  Just the place for a Snark! I have said it thrice:&lt;br/&gt;
  What I tell you three times is true.
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>When rendering an area to which padding applies, the background color that
applies to the area is rendered into the padded portion of the area.</p>
<table id="style-attribute-padding-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Padding</caption>
<tbody>
<tr>
<td>
<graphic source="images/padding.png" alt="DFXP padding style property"/>
</td>
</tr>
</tbody>
</table>
<note role="derivation">
<p>The semantics of the style property
represented by this attribute are based upon that defined by <bibref ref="xsl10"/>,
&sect; 7.29.15, except that individual shorthand values map to writing
mode relative padding values as defined by <bibref ref="xsl10"/>,
&sect; 7.7.31, 7.7.32, 7.7.33, and 7.7.34.</p>
</note>
</div3>
<div3 id="style-attribute-showBackground">
<head>tts:showBackground</head>
<p>The <att>tts:showBackground</att> attribute is used to specify
constraints on when the background color of a region is intended to be
presented.</p>
<p>This attribute may be specified by any style specification element or content element
that permits use of attributes in the TT Style Namespace; however, this attribute applies
as a style property only to those element types indicated in the following table.</p>
<table id="style-property-details-showBackground" role="common">
<col width="25%"/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<code>always</code> |
<code>whenActive</code> |
<code>inherit</code>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>always</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#layout-vocabulary-region"><el>region</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>no</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>N/A</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
</tbody>
</table>
<p>If the value of this attribute is <code>always</code>, then the
background color of a region is always rendered when performing presentation
processing on a visual medium; if the value is <code>whenActive</code>,
then the background color of a region is rendered only when some
content is selected into the region.</p>
<p>The <att>tts:showBackground</att> style is illustrated by the following example.</p>
<table id="style-attribute-showBackground-example-1" role="example">
<caption>Example Fragment &ndash; Show Background</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="r1"&gt;
  &lt;style tts:origin="0px 0px"/&gt;
  &lt;style tts:extent="265px 100px"/&gt;
  &lt;style tts:backgroundColor="black"/&gt;
  &lt;style <phrase role="strong">tts:showBackground="always"</phrase>/&gt;
  &lt;style tts:color="white"/&gt;
  &lt;style tts:displayAlign="before"/&gt;
  &lt;style tts:textAlign="start"/&gt;
&lt;/region&gt;
&lt;region xml:id="r2"&gt;
  &lt;style tts:origin="205px 60px"/&gt;
  &lt;style tts:extent="290px 100px"/&gt;
  &lt;style tts:backgroundColor="red"/&gt;
  &lt;style tts:color="white"/&gt;
  &lt;style tts:displayAlign="before"/&gt;
  &lt;style tts:textAlign="end"/&gt;
  &lt;style <phrase role="strong">tts:showBackground="whenActive"</phrase>/&gt;
&lt;/region&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<!--
<table id="style-attribute-showBackground-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Show Background</caption>
<tbody>
<tr>
<td>
<graphic source="images/showBackground.png" alt="DFXP showBackground style property"/>
</td>
</tr>
</tbody>
</table>
-->
<note role="derivation">
<p>The semantics of the style property
represented by this attribute are based upon that defined by <bibref ref="smil21"/>,
&sect; 5.3.1.</p>
</note>
</div3>
<div3 id="style-attribute-textAlign">
<head>tts:textAlign</head>
<p>The <att>tts:textAlign</att> attribute is used to specify a style property that
defines how inline areas are aligned within a containing block area in the inline progression
direction.</p>
<p>This attribute may be specified by any style specification element or content element
that permits use of attributes in the TT Style Namespace; however, this attribute applies
as a style property only to those element types indicated in the following table.</p>
<table id="style-property-details-textAlign" role="common">
<col width="25%"/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<code>left</code> |
<code>center</code> |
<code>right</code> |
<code>start</code> |
<code>end</code> |
<code>inherit</code>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>start</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#content-vocabulary-p"><el>p</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>yes</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>N/A</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
</tbody>
</table>
<p>The <att>tts:textAlign</att> style is illustrated by the following example.</p>
<table id="style-attribute-textAlign-example-1" role="example">
<caption>Example Fragment &ndash; Text Align</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="r1"&gt;
  &lt;style tts:extent="355px 43px"/&gt;
  &lt;style tts:origin="0px 0px"/&gt;
  &lt;style tts:backgroundColor="black"/&gt;
  &lt;style tts:color="white"/&gt;
  &lt;style <phrase role="strong">tts:textAlign="start"</phrase>/&gt;
&lt;/region&gt;
&lt;region xml:id="r2"&gt;
  &lt;style tts:extent="355px 43px"/&gt;
  &lt;style tts:origin="0px 47px"/&gt;
  &lt;style tts:backgroundColor="black"/&gt;
  &lt;style tts:color="white"/&gt;
  &lt;style <phrase role="strong">tts:textAlign="end"</phrase>/&gt;
&lt;/region&gt;
...
&lt;p region="r1"&gt;
  Beware the Jabberwock, my son!&lt;br/&gt;
  The jaws that bite, the claws that catch!
&lt;/p&gt;
&lt;p region="r2"&gt;
  Beware the Jubjub bird, and shun&lt;br/&gt;
  The frumious Bandersnatch!
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p/>
<table id="style-attribute-textAlign-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Text Align</caption>
<tbody>
<tr>
<td><graphic source="images/textAlign.png" alt="DFXP textAlign style property"/></td>
</tr>
</tbody>
</table>
<note role="derivation">
<p>The semantics of the style property
represented by this attribute are based upon that defined by <bibref ref="xsl10"/>,
&sect; 7.15.9.</p>
</note>
</div3>
<div3 id="style-attribute-textDecoration">
<head>tts:textDecoration</head>
<p>The <att>tts:textDecoration</att> attribute is used to specify a style property that
defines a text decoration effect to apply to glyph areas or other inline
areas that are generated by content flowed into a region.</p>
<p>This attribute may be specified by any style specification element or content element
that permits use of attributes in the TT Style Namespace; however, this attribute applies
as a style property only to those element types indicated in the following table.</p>
<table id="style-property-details-textDecoration" role="common">
<col width="25%"/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<code>none</code> |
[ [
<code>underline</code> |
<code>noUnderline</code>
] || [
<code>throughline</code> |
<code>noThroughline</code>
] || [
<code>overline</code> |
<code>noOverline</code>
] ] | 
<code>inherit</code>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>none</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#document-structure-vocabulary-body"><el>body</el></loc>,
<loc href="#content-vocabulary-div"><el>div</el></loc>,
<loc href="#content-vocabulary-p"><el>p</el></loc>,
<loc href="#layout-vocabulary-region"><el>region</el></loc>,
<loc href="#content-vocabulary-span"><el>span</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>no, but see prose of <bibref ref="xsl10"/>, &sect; 7.16.4</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>N/A</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
</tbody>
</table>
<p>The <att>tts:textDecoration</att> style is illustrated by the following example.</p>
<table id="style-attribute-textDecoration-example-1" role="example">
<caption>Example Fragment &ndash; Text Decoration</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="r1"&gt;
  &lt;style tts:extent="385px 82px"/&gt;
  &lt;style tts:origin="0px 0px"/&gt;
  &lt;style tts:backgroundColor="black"/&gt;
  &lt;style tts:color="white"/&gt;
  &lt;style tts:padding="5px 2px"/&gt;
  &lt;style <phrase role="strong">tts:textDecoration="underline"</phrase>/&gt;
&lt;/region&gt;
...
&lt;p region="r1"&gt;
  The sea was wet&lt;span <phrase role="strong">tts:textDecoration="noUnderline"</phrase>&gt; as &lt;/span&gt;wet&lt;span 
  <phrase role="strong">tts:textDecoration="noUnderline"</phrase>&gt;
	could be,&lt;br/&gt;
	The sand was dry as dry.&lt;br/&gt;
	&lt;span <phrase role="strong">tts:textDecoration="lineThrough"</phrase>&gt;There weren't any&lt;/span&gt;
	You
	&lt;span <phrase role="strong">tts:textDecoration="lineThrough"</phrase>&gt;couldn't&lt;/span&gt;
	could not see a cloud&lt;br/&gt;
	Because no cloud was in the sky.
  &lt;/span&gt;
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p/>
<table id="style-attribute-textDecoration-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Text Decoration</caption>
<tbody>
<tr>
<td><graphic source="images/textDecoration.png" alt="DFXP textDecoration style property"/></td>
</tr>
</tbody>
</table>
<note role="derivation">
<p>The semantics of the style property
represented by this attribute are based upon that defined by <bibref ref="xsl10"/>,
&sect; 7.16.4.</p>
</note>
</div3>
<div3 id="style-attribute-textOutline">
<head>tts:textOutline</head>
<p>The <att>tts:textOutline</att> attribute is used to specify a style property that
defines a text outline effect to apply to glyphs that are selected for glyph areas generated
by content flowed into a region.</p>
<p>This attribute may be specified by any style specification element or content element
that permits use of attributes in the TT Style Namespace; however, this attribute applies
as a style property only to those element types indicated in the following table.</p>
<table id="style-property-details-textOutline" role="common">
<col width="25%"/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<code>none</code> |
<loc href="#style-value-color">&lt;color&gt;</loc>?
<loc href="#style-value-length">&lt;length&gt;</loc>
<loc href="#style-value-length">&lt;length&gt;</loc>? |
<code>inherit</code>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>none</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#content-vocabulary-span"><el>span</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>no</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>relative to this element's font size</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
</tbody>
</table>
<note role="explanation">
<p>For the purpose of determining applicability of this style property,
each character child of a <el>p</el> element is considered to be enclosed in an anonymous
span.</p>
</note>
<p>The value of this attribute consists of an optional <loc href="#style-value-color">&lt;color&gt;</loc> term
followed by one or two <loc href="#style-value-length">&lt;length&gt;</loc> terms.  If a <emph>color</emph> term is
present, then it denotes the outline color; if no <emph>color</emph> term is
present, the computed value of the <att>tts:color</att> applies.  The first
<emph>length</emph> term denotes the outline thickness and the second length
term, if present, indicates the blur radius.</p>
<p>The <att>tts:textOutline</att> style is illustrated by the following
example.</p>
<table id="style-attribute-textOutline-example-1" role="example">
<caption>Example Fragment &ndash; Text Outline</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="r1"&gt;
  &lt;style tts:backgroundColor="transparent"/&gt;
  &lt;style tts:color="yellow"/&gt;
  &lt;style <phrase role="strong">tts:textOutline="black 2px 0px"</phrase>/&gt;
  &lt;style tts:fontFamily="proportionalSansSerif"/&gt;
  &lt;style tts:fontSize="24px"/&gt;
&lt;/region&gt;
...
&lt;p&gt;
  How doth the little crocodile&lt;br/&gt;
  Improve its shining tail,&lt;br/&gt;
  And pour the waters of the Nile&lt;br/&gt;
  On every golden scale!&lt;br/&gt;
  How cheerfully he seems to grin,&lt;br/&gt;
  How neatly spreads his claws,&lt;br/&gt;
  And welcomes little fishes in,&lt;br/&gt;
  With gently smiling jaws!
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p/>
<table id="style-attribute-textOutline-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Text Outline</caption>
<tbody>
<tr>
<td><graphic source="images/textOutline.png" alt="backgroundColor style property"/></td>
</tr>
</tbody>
</table>
</div3>
<div3 id="style-attribute-unicodeBidi">
<head>tts:unicodeBidi</head>
<p>The <att>tts:unicodeBidi</att> attribute is used to specify a style property that
defines a directional embedding or override according to
the Unicode bidirectional algorithm.</p>
<p>This attribute may be specified by any style specification element or content element
that permits use of attributes in the TT Style Namespace; however, this attribute applies
as a style property only to those element types indicated in the following table.</p>
<table id="style-property-details-unicodeBidi" role="common">
<col width="25%"/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<code>normal</code> |
<code>embed</code> |
<code>bidiOverride</code> |
<code>inherit</code>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td>
<code>normal</code>
</td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#content-vocabulary-p"><el>p</el></loc>,
<loc href="#content-vocabulary-span"><el>span</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>no</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>N/A</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>none</td>
</tr>
</tbody>
</table>
<p/>
<p>The <att>tts:unicodeBidi</att> style is illustrated by the following example.</p>
<table id="style-attribute-unicodeBidi-example-1" role="example">
<caption>Example Fragment &ndash; Unicode Bidirectionality</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="r1"&gt;
  &lt;style tts:extent="265px 84px"/&gt;
  &lt;style tts:padding="5px"/&gt;
  &lt;style tts:backgroundColor="black"/&gt;
  &lt;style tts:color="white"/&gt;
  &lt;style tts:displayAlign="after"/&gt;
  &lt;style tts:textAlign="center"/&gt;
&lt;/region&gt;
...
&lt;p region="r1"&gt;
  Little birds are playing&lt;br/&gt;
  Bagpipes on the shore,&lt;br/&gt;
  &lt;span <phrase role="strong">tts:unicodeBidi="bidiOverride"</phrase> tts:direction="rtl"&gt;where the tourists snore.&lt;/span&gt;
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p/>
<table id="style-attribute-unicodeBidi-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Unicode Bidirectionality</caption>
<tbody>
<tr>
<td>
<graphic source="images/unicodeBidi.png" alt="DFXP unicodeBidi style property"/>
</td>
</tr>
</tbody>
</table>
<note role="derivation">
<p>The semantics of the style property
represented by this attribute are based upon that defined by <bibref ref="xsl10"/>,
&sect; 7.27.6.</p>
</note>
</div3>
<div3 id="style-attribute-visibility">
<head>tts:visibility</head>
<p>The <att>tts:visibility</att> attribute is used to specify a style property that
defines whether generated areas are visible or not when rendered on a visual
presentation medium.</p>
<p>This attribute may be specified by any style specification element or content element
that permits use of attributes in the TT Style Namespace; however, this attribute applies
as a style property only to those element types indicated in the following table.</p>
<table id="style-property-details-visibility" role="common">
<col width="25%"/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<code>visible</code> |
<code>hidden</code> |
<code>inherit</code>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td>
<code>visible</code>
</td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#document-structure-vocabulary-body"><el>body</el></loc>,
<loc href="#content-vocabulary-div"><el>div</el></loc>,
<loc href="#content-vocabulary-p"><el>p</el></loc>,
<loc href="#layout-vocabulary-region"><el>region</el></loc>,
<loc href="#content-vocabulary-span"><el>span</el></loc>
</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
</tbody>
</table>
<p>The <att>tts:visibility</att> style has no affect on content layout or
composition, but merely determines whether composed content is visible or not.</p>
<p>The <att>tts:visibility</att> style is illustrated by the following example.</p>
<table id="style-attribute-visibility-example-1" role="example">
<caption>Example Fragment &ndash; Visibility</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="r1"&gt;
  &lt;style tts:extent="398px 121px"/&gt;
  &lt;style tts:backgroundColor="black"/&gt;
  &lt;style tts:color="white"/&gt;
  &lt;style/&gt;
&lt;/region&gt;
...
&lt;p region="r1" dur="4s"&gt;
  &lt;span <phrase role="strong">tts:visibility="hidden"</phrase>&gt;
    &lt;set begin="1s" <phrase role="strong">tts:visibility="visible"</phrase>/&gt;
    Curiouser
  &lt;/span&gt;
  &lt;span <phrase role="strong">tts:visibility="hidden"</phrase>&gt;
    &lt;set begin="2s" <phrase role="strong">tts:visibility="visible"</phrase>/&gt;
    and
  &lt;/span&gt;
  &lt;span <phrase role="strong">tts:visibility="hidden"</phrase>&gt;
    &lt;set begin="3s" <phrase role="strong">tts:visibility="visible"</phrase>/&gt;
    curiouser!
  &lt;/span&gt;
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p/>
<table id="style-attribute-visibility-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Visibility</caption>
<tbody>
<tr>
<td>
<graphic source="images/visibility_0.png" alt="DFXP visibility style property - [0,1)"/>
</td>
</tr>
<tr>
<td>
<graphic source="images/visibility_1.png" alt="DFXP visibility style property - [1,2)"/>
</td>
</tr>
<tr>
<td>
<graphic source="images/visibility_2.png" alt="DFXP visibility style property - [2,3)"/>
</td>
</tr>
<tr>
<td>
<graphic source="images/visibility_3.png" alt="DFXP visibility style property - [3,4)"/>
</td>
</tr>
</tbody>
</table>
<note role="derivation">
<p>The semantics of the style property
represented by this attribute are based upon that defined by <bibref ref="xsl10"/>,
&sect; 7.28.8.</p>
</note>
</div3>
<div3 id="style-attribute-wrapOption">
<head>tts:wrapOption</head>
<p>The <att>tts:wrapOption</att> attribute is used to specify a style property that
defines whether or not automatic line wrapping (breaking) applies within the context of
the affected element.</p>
<p>This attribute may be specified by any style specification element or content element
that permits use of attributes in the TT Style Namespace; however, this attribute applies
as a style property only to those element types indicated in the following table.</p>
<table id="style-property-details-wrapOption" role="common">
<col width="25%"/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<code>wrap</code> |
<code>noWrap</code> |
<code>inherit</code>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>wrap</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#content-vocabulary-span"><el>span</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>yes</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>N/A</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
</tbody>
</table>
<p>For the purpose of determining applicability of this style property,
each character child of a <el>p</el> element is considered to be enclosed in an anonymous
span.</p>
<p>The <att>tts:wrapOption</att> style is illustrated by the following example.</p>
<table id="style-attribute-wrapOption-example-1" role="example">
<caption>Example Fragment &ndash; Wrap Option</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="r1"&gt;
  &lt;style tts:extent="192px 117px"/&gt;
  &lt;style tts:backgroundColor="black"/&gt;
  &lt;style tts:color="white"/&gt;
  &lt;style tts:displayAlign="after"/&gt;
  &lt;style tts:overflow="hidden"/&gt;
  &lt;style <phrase role="strong">tts:wrapOption="noWrap"</phrase>/&gt;
&lt;/region&gt;
...
&lt;p&gt;
  I'll tell thee everything I can:&lt;br/&gt;
  There's little to relate.&lt;br/&gt;
  I saw an aged aged man,&lt;br/&gt;
  A-sitting on a gate.
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p/>
<table id="style-attribute-wrapOption-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Wrap Option</caption>
<tbody>
<tr>
<td><graphic source="images/wrapOption.png" alt="DFXP wrapOption style property"/></td>
</tr>
</tbody>
</table>
<note role="derivation">
<p>The semantics of the style property
represented by this attribute are based upon that defined by <bibref ref="xsl10"/>,
&sect; 7.15.13.</p>
</note>
</div3>
<div3 id="style-attribute-writingMode">
<head>tts:writingMode</head>
<p>The <att>tts:writingMode</att> attribute is used to specify a style property that
defines the block and inline progression directions to be used for the purpose of
stacking block and inline areas within a region area.</p>
<p>This attribute may be specified by any style specification element or content element
that permits use of attributes in the TT Style Namespace; however, this attribute applies
as a style property only to those element types indicated in the following table.</p>
<table id="style-property-details-writingMode" role="common">
<col width="25%"/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<code>lrtb</code> |
<code>rltb</code> |
<code>tbrl</code> |
<code>tblr</code> |
<code>lr</code> |
<code>rl</code> |
<code>tb</code> |
<code>inherit</code>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>lrtb</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#layout-vocabulary-region"><el>region</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>no</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>N/A</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>none</td>
</tr>
</tbody>
</table>
<p>The <att>tts:writingMode</att> style is illustrated by the following example.</p>
<table id="style-attribute-writingMode-example-1" role="example">
<caption>Example Fragment &ndash; Writing Mode</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="r1"&gt;
  &lt;style tts:extent="50px 570px"/&gt;
  &lt;style tts:origin="0px 0px"/&gt;
  &lt;style tts:padding="10px 3px"/&gt;
  &lt;style tts:backgroundColor="black"/&gt;
  &lt;style tts:color="white"/&gt;
  &lt;style <phrase role="strong">tts:writingMode="tbrl"</phrase>/&gt;
&lt;/region&gt;
&lt;region xml:id="r2"&gt;
  &lt;style tts:extent="310px 50px"/&gt;
  &lt;style tts:origin="70px 120px"/&gt;
  &lt;style tts:padding="10px 3px"/&gt;
  &lt;style tts:backgroundColor="black"/&gt;
  &lt;style tts:color="white"/&gt;
  &lt;style <phrase role="strong">tts:writingMode="rltb"</phrase>/&gt;
&lt;/region&gt;
...
&lt;p region="r1"&gt;
  I sometimes dig for buttered rolls,&lt;br/&gt;
  Or set limed twigs for crabs:
&lt;/p&gt;
&lt;p region="r2" tts:direction="rtl" tts:unicodeBidi="bidiOverride"&gt;
  I sometimes search the grassy knolls for the wheels of Hansom-cabs.
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p/>
<table id="style-attribute-writingMode-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Writing Mode</caption>
<tbody>
<tr>
<td><graphic source="images/writingMode.png" alt="DFXP writingMode style property"/></td>
</tr>
</tbody>
</table>
<note role="explanation">
<p>In the second paragraph in the above example that targets region
<code>r2</code>, the <att>tts:unicodeBidi</att> and
<att>tts:direction</att> properties are set to
<code>bidiOverride</code> and <code>rtl</code>, respectively, in order
to override the normally left-to-right directionality of characters in
the Latin script.</p>
</note>
<note role="derivation">
<p>The semantics of the style property
represented by this attribute are based upon that defined by <bibref ref="xsl10"/>,
&sect; 7.27.7.</p>
</note>
</div3>
<div3 id="style-attribute-zIndex">
<head>tts:zIndex</head>
<p>The <att>tts:zIndex</att> attribute is used to specify a style property that
defines the front-to-back ordering of region areas in the case that they overlap.</p>
<p>This attribute may be specified by any style specification element or content element
that permits use of attributes in the TT Style Namespace; however, this attribute applies
as a style property only to those element types indicated in the following table.</p>
<table id="style-property-details-zIndex" role="common">
<col width="25%"/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<code>auto</code> |
<loc href="#style-value-integer">&lt;integer&gt;</loc> |
<code>inherit</code>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>auto</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#layout-vocabulary-region"><el>region</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>no</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>N/A</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
</tbody>
</table>
<p>If two areas are associated with the same Z-index value, then, if those areas
overlap in space, the area(s) generated by lexically subsequent elements must be
rendered over area(s) generated by lexically prior elements, where lexical
order is defined as the postorder traversal of a document
instance.</p>
<p>The semantics of the value <code>auto</code> are those defined by
<bibref ref="xsl10"/>, &sect; 7.28.9, where the <el>tt</el> element
is considered to establish the root stacking context.</p>
<p>The <att>tts:zIndex</att> style is illustrated by the following example.</p>
<table id="style-attribute-zIndex-example-1" role="example">
<caption>Example Fragment &ndash; Z Index</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="r1"&gt;
  &lt;style tts:origin="0px 0px"/&gt;
  &lt;style tts:extent="400px 100px"/&gt;
  &lt;style tts:padding="5px"/&gt;
  &lt;style tts:backgroundColor="black"/&gt;
  &lt;style tts:color="white"/&gt;
  &lt;style <phrase role="strong">tts:zIndex="0"</phrase>/&gt;
&lt;/region&gt;
&lt;region xml:id="r2"&gt;
  &lt;style tts:origin="100px 60px"/&gt;
  &lt;style tts:extent="400px 100px"/&gt;
  &lt;style tts:padding="5px"/&gt;
  &lt;style tts:backgroundColor="red"/&gt;
  &lt;style tts:color="white"/&gt;
  &lt;style tts:textAlign="end"/&gt;
  &lt;style <phrase role="strong">tts:zIndex="1"</phrase>/&gt;
&lt;/region&gt;
&lt;region xml:id="r3"&gt;
  &lt;style tts:origin="0px 120px"/&gt;
  &lt;style tts:extent="400px 100px"/&gt;
  &lt;style tts:padding="5px"/&gt;
  &lt;style tts:backgroundColor="black"/&gt;
  &lt;style tts:color="white"/&gt;
  &lt;style <phrase role="strong">tts:zIndex="2"</phrase>/&gt;
&lt;/region&gt;
&lt;region xml:id="r4"&gt;
  &lt;style tts:origin="100px 180px"/&gt;
  &lt;style tts:extent="400px 100px"/&gt;
  &lt;style tts:padding="5px"/&gt;
  &lt;style tts:backgroundColor="red"/&gt;
  &lt;style tts:color="white"/&gt;
  &lt;style tts:textAlign="end"/&gt;
  &lt;style <phrase role="strong">tts:zIndex="3"</phrase>/&gt;
&lt;/region&gt;
...
&lt;p region="r1"&gt;
  I passed by his garden, and marked, with one eye,&lt;br/&gt;
  How the Owl and the Panther were sharing a pie.
&lt;/p&gt;
&lt;p region="r2"&gt;
  The Panther took pie-crust, and gravy, and meat,&lt;br/&gt;
  While the Owl had the dish as its share of the treat.
&lt;/p&gt;
&lt;p region="r3"&gt;
  When the pie was all finished, the Owl, as a boon,&lt;br/&gt;
  Was kindly permitted to pocket the spoon:
&lt;/p&gt;
&lt;p region="r4"&gt;
  While the Panther received knife and fork&lt;br/&gt;
  with a growl,&lt;br/&gt;
  And concluded the banquet by...
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p/>
<p/>
<table id="style-attribute-zIndex-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Z Index</caption>
<tbody>
<tr>
<td><graphic source="images/zIndex.png" alt="DFXP zIndex style property"/></td>
</tr>
</tbody>
</table>
<note role="derivation">
<p>The semantics of the style property
represented by this attribute are based upon that defined by <bibref ref="xsl10"/>,
&sect; 7.28.9.</p>
</note>
</div3>
</div2>
<div2 id="styling-style-value-expressions">
<head>Style Value Expressions</head>
<p>Style property values include the use of the following expressions:</p>
<ulist>
<item><p><specref ref="style-value-alpha"/></p></item>
<item><p><specref ref="style-value-color"/></p></item>
<item><p><specref ref="style-value-digit"/></p></item>
<item><p><specref ref="style-value-duration"/></p></item>
<item><p><specref ref="style-value-familyName"/></p></item>
<item><p><specref ref="style-value-flowFunction"/></p></item>
<item><p><specref ref="style-value-flowIntervalFunction"/></p></item>
<item><p><specref ref="style-value-genericFamilyName"/></p></item>
<item><p><specref ref="style-value-hexDigit"/></p></item>
<item><p><specref ref="style-value-integer"/></p></item>
<item><p><specref ref="style-value-namedColor"/></p></item>
<item><p><specref ref="style-value-quotedString"/></p></item>
<item><p><specref ref="style-value-string"/></p></item>
</ulist>
<div3 id="style-value-alpha">
<head>&lt;alpha&gt;</head>
<p>An &lt;alpha&gt; expression is used to express an opacity value,
where	0 means fully transparent and 1 means fully opaque.</p>
<table id="alpha-style-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;alpha&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;alpha&gt;
  : <emph>float</emph>
</eg>
</td>
</tr>
</tbody>
</table>
<p>In the above syntax representation, the syntactic element
<emph><code>float</code></emph> must adhere to the lexical representation defined
by <bibref ref="xsd-2"/>&nbsp;&sect;
3.2.4.1.</p>
</div3>
<div3 id="style-value-color">
<head>&lt;color&gt;</head>
<p>A &lt;color&gt; expression is used to specify a named color, exact RGB color triple,
or exact RGBA color tuple, where the alpha component, if expressed,
is maximum (255) at 100% opacity
and minimum (0) at 0% opacity, and where the applicable color space is
defined by <bibref ref="srgb"/>.</p>
<table id="color-style-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;color&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;color&gt;
  : "#" rrggbb
  | "#" rrggbbaa
  | "rgb" "(" r-value "," g-value "," b-value ")"
  | "rgba" "(" r-value "," g-value "," b-value "," a-value ")"
  | <loc href="#style-value-namedColor">&lt;namedColor&gt;</loc>

rrggbb
  :  <loc href="#style-value-hexDigit">&lt;hexDigit&gt;</loc>{6}

rrggbbaa
  :  <loc href="#style-value-hexDigit">&lt;hexDigit&gt;</loc>{8}

r-value | g-value | b-value | a-value
  : component-value

component-value
  : non-negative-integer                    // valid range: [0,255]

non-negative-integer
  : <loc href="#style-value-digit">&lt;digit&gt;</loc>+
</eg>
</td>
</tr>
</tbody>
</table>
<p>When expressing RGB component values, these values are considered
to <phrase role="strong">not</phrase> be premultiplied by alpha.</p>
<p>For the purpose of performing presentation processing such that
non-opaque or non-transparent alpha or opacity values apply, then the
semantics of compositing functions are defined with respect to the use of
the <bibref ref="srgb"/> color space for both inputs and outputs of
the composition function.</p>
<note role="clarification">
<p>The use of <bibref ref="srgb"/> for the stated semantics of
composition is not mean to prevent an actual processor from using some
other color space either for internal or external purposes. For
example, a presentation processor may ultimately convert the SRGB values
used here to the YUV color space for rendition on a television device.</p>
</note>
</div3>
<div3 id="style-value-digit">
<head>&lt;digit&gt;</head>
<p>A &lt;digit&gt; is used to express integers and other types of numbers or tokens.</p>
<table id="digit-style-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;digit&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;digit&gt;
  : "0" | "1" | "2" | "3" | "4" | "5" | "6" | "7" | "8" | "9"
</eg>
</td>
</tr>
</tbody>
</table>
</div3>
<div3 id="style-value-duration">
<head>&lt;duration&gt;</head>
<p>A &lt;duration&gt; expression is used to express a temporal duration value.</p>
<table id="duration-style-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;duration&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;duration&gt;
  : <loc href="#style-value-digit">&lt;digit&gt;</loc> ( "." <loc href="#style-value-digit">&lt;digit&gt;</loc>+ )? metric

metric
  : "s"                 // seconds
  | "ms"                // milliseconds
  | "f"                 // frames
  | "t"                 // ticks
</eg>
</td>
</tr>
</tbody>
</table>
<p>It is an error to omit the metric component of a duration.</p>
<p>When operating with <code>smpte</code> time base and
<code>discontinuous</code> mode, a duration expression must be
considered to denote a duration in (local) real-time, independently of the
governing time base.</p>
</div3>
<div3 id="style-value-familyName">
<head>&lt;familyName&gt;</head>
<p>A &lt;familyName&gt; expression specifies a font family name.</p>
<p>If the name contains a whitespace or quotation delimiter character,
then it must be expressed as a &lt;quotedString&gt;.</p>
<table id="familyName-style-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;familyName&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;familyName&gt;
  : <loc href="#style-value-string">&lt;string&gt;</loc>
  | <loc href="#style-value-quotedString">&lt;quotedString&gt;</loc>
</eg>
</td>
</tr>
</tbody>
</table>
</div3>
<div3 id="style-value-genericFamilyName">
<head>&lt;genericFamilyName&gt;</head>
<p>A &lt;genericFamilyName&gt; expression specifies a font family using a general
token that indicates a class of font families.</p>
<p>The resolution of a generic family name to a concrete font instance is considered to
be implementation dependent, both in the case of content authoring and content interpretation.</p>
<table id="genericFamilyName-style-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;genericFamilyName&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;genericFamilyName&gt;
  : "default"
  | "monospace"
  | "sansSerif"
  | "serif"
  | "monospaceSansSerif"
  | "monospaceSerif"
  | "proportionalSansSerif"
  | "proportionalSerif"
</eg>
</td>
</tr>
</tbody>
</table>
<p>The mapping between a generic (font) family name and an actual font is not
determined by this specification; however, the
distinction of monospace versus proportional and serif versus sans-serif
should be maintained if possible when performing presentation.</p>
<p>If a generic (font) family name of <code>monospace</code> is specified,
then it may be interpreted as equivalent to either <code>monospaceSansSerif</code>
or <code>monospaceSerif</code>. The generic family names <code>sansSerif</code>
and <code>serif</code> are to be interpreted as equivalent to <code>proportionalSansSerif</code>
and <code>proportionalSerif</code>, respectively.</p>
</div3>
<div3 id="style-value-flowFunction">
<head>&lt;flowFunction&gt;</head>
<p>A &lt;flowFunction&gt; expression specifies a unit of content to be dynamic
flowed into, within, and from a region according to an optional
dynamic flow style, flow transition effect, and flow transition effect
style.</p>
<table id="flowFunction-style-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;flowFunction&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;flowFunction&gt;
  : "in(" flowArguments ")"
  | "within(" flowArguments ")"
  | "out(" flowArguments ")"

flowArguments
  : flowUnit [ "," flowStyle [ "," flowTransition [ "," flowTransitionStyle ]]]

flowUnit
  : "pixel"
  | "glyph"
  | "inline"
  | "line"
  | "block"
  | "character"
  | "word"
  | extensionToken

flowStyle
  : "jump"
  | "smooth"
  | "fade"
  | extensionToken

flowTransition
  : "barWipe"
  | extensionToken

flowTransitionStyle
  : "leftToRight"
  | "topToBottom"
  | extensionToken

extensionToken
  : "x-" &lt;token&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>Dynamic flow can be specified independently for flowing content
into its region, flowing it within its region, and flowing it out of
its region. These three phases of dynamic flow are specified using the
<code>in()</code>, <code>within()</code>, and <code>out()</code> flow
functions respectively.</p>
<p>Dynamic flow occurs on the basis of specific visual or semantic
content units. In the case of <code>pixel</code>, <code>glyph</code>,
<code>inline</code>, <code>line</code>, and <code>block</code>, the
unit of dynamic flow is based upon a visually rendered construct
(<code>pixel</code> or <code>glyph</code>) or upon an area of the area
tree produced by formatting the affected content. In the case of
<code>character</code> and <code>word</code>, the unit of dynamic flow
is based upon a semantic unit associated with one or more visually
rendered or area units.</p>
<p>The dynamic flow unit <code>word</code> must be interpreted as
being dependent upon the language or writing system of the affected
content. If the language or writing system is unknown or unspecified,
then <code>word</code> is interpreted as follows:</p>
<olist>
<item><p>If the affected content consists solely or mostly of Unified CJK
Ideographic characters or of characters of another Unicode character
block that are afforded similar treatment to that of Unified CJK
Ideographic characters, then <code>word</code> is to be interpreted
as if <code>character</code> were specified.</p></item>
<item><p>Otherwise, <code>word</code> is to be interpreted as denoting
a sequence of one or more characters that are not interpreted as an
XML whitespace character.</p></item>
</olist>
<p>When a flow unit is flowed into, within, or out of its region, the
manner by which the unit is flowed is controlled by the optional
<code>flowStyle</code> argument of the relevant flow function. If the
flow style is specified as <code>jump</code>, or if no flow style is
specified, then the flow unit is instantaneously transitioned into,
within, or out of the region. If the flow style is
<code>smooth</code>, then the flow unit is smoothly transitioned by
means of pixel based exposure, movement, or hiding, respectively. If
the flow style is <code>fade</code>, then the flow unit is faded into
or out of the region by continuously incrementing or decrementing the
alpha component of the affected content.</p>
<p>In addition to the primary flow style, an optional flow transition
effect and flow transition effect style may be specified, in which
case the transition effect is additively (and simultaneously) applied
to the primary flow style transition.</p>
<p>For the permitted values of <code>flowTransition</code> and
<code>flowTransitionStyle</code>, the semantics specified by 
<bibref ref="smil21"/>, &sect; 12.8, apply.</p>
</div3>
<div3 id="style-value-flowIntervalFunction">
<head>&lt;flowIntervalFunction&gt;</head>
<p>A &lt;flowIntervalFunction&gt; expression specifies an interval or
duration that affects dynamic flow timing behavior.</p>
<table id="flowIntervalFunction-style-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;flowIntervalFunction&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;flowIntervalFunction&gt;
  : "intra(" flowIntervalArguments ")"
  | "inter(" flowIntervalArguments ")"

flowIntervalArguments
  : "auto"
  | <loc href="#style-value-duration">&lt;duration&gt;</loc>
  | flowIntervalRate

flowIntervalRate
  : <loc href="#style-value-digit">&lt;digit&gt;</loc>+ ( "." <loc href="#style-value-digit">&lt;digit&gt;</loc>+ )?
</eg>
</td>
</tr>
</tbody>
</table>
<p>The <code>intra()</code> flow interval function is used to
determine the <emph>computed fill interval</emph> state parameter for performing
dynamic flow processing, which expresses the
duration of time between fill
timer events, as specified by <specref ref="flowTimerFill"/>, which
in turn, limits the dynamic flowed content fill rate.</p>
<p>The <code>inter()</code> flow interval function is used to
determine the <emph>computed clear interval</emph> state parameter for performing
dynamic flow processing, which expresses the
duration of time between clear
timer events, as specified by <specref ref="flowTimerClear"/>, which in turn,
limits the dynamic flowed content retention period.</p>
<p>If a <loc href="#style-value-duration">&lt;duration&gt;</loc> is
specified as an argument to a flow interval function, then it is
considered to represent a <emph>definite duration</emph>.
If a flow interval rate is
specified as an argument to a flow interval function, then it is
considered to represent a <emph>definite rate</emph> in units per
second, where the applicable unit is determined in the context of
whether the rate is used with an <code>intra()</code> or
<code>inter()</code> flow interval function.</p>
<p>The computed fill and clear interval values are defined by
<specref ref="dynamicFlowIntervalTimingCalculation"/>.</p>
</div3>
<div3 id="style-value-hexDigit">
<head>&lt;hexDigit&gt;</head>
<p>A &lt;hexDigit&gt; is used to express integers and other types of numbers or tokens
that employ base 16 arithmetic.</p>
<p>For the purpose of parsing, no distinction must be made between lower and upper case.</p>
<table id="hexDigit-style-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;hexDigit&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;hexDigit&gt;
  : <loc href="#style-value-digit">&lt;digit&gt;</loc>
  | "a" | "b" | "c" | "d" | "e" | "f"
  | "A" | "B" | "C" | "D" | "E" | "F"
</eg>
</td>
</tr>
</tbody>
</table>
</div3>
<div3 id="style-value-integer">
<head>&lt;integer&gt;</head>
<p>An &lt;integer&gt; expression is used to express an arbitrary, signed integral value.</p>
<table id="integer-style-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;integer&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;integer&gt;
  : ( "+" | "-" )? <loc href="#style-value-digit">&lt;digit&gt;</loc>+
</eg>
</td>
</tr>
</tbody>
</table>
</div3>
<div3 id="style-value-length">
<head>&lt;length&gt;</head>
<p>A &lt;length&gt; expression is used to express either a coordinate component of point
in a cartesian space or a distance between two points in a cartesian space.</p>
<table id="length-style-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;length&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;length&gt;
  : scalar
  | percentage

scalar
  : number units

percentage
  : number "%"

sign
  : "+" | "-"

number
  : sign? non-negative-number

non-negative-number
  : non-negative-integer
  | non-negative-real

non-negative-integer
  : <loc href="#style-value-digit">&lt;digit&gt;</loc>+

non-negative-real
  : <loc href="#style-value-digit">&lt;digit&gt;</loc>* "." <loc href="#style-value-digit">&lt;digit&gt;</loc>+

units
  : "px"
  | "em"
  | "c"                                     // abbreviation of "cell"
</eg>
</td>
</tr>
</tbody>
</table>
<p>It is an error to omit the units component of a scalar length
value.</p>
<p>The semantics of
the unit of measure <code>px</code> (pixel) 
are as defined by <bibref ref="xsl10"/>, &sect; 5.9.13.</p>
<p>When specified relative to a font whose size is expressed as a single length
measure or as two length measures of equal length, the unit of measure <code>em</code> is considered to be
identical to that defined by <bibref ref="xsl10"/>, &sect; 5.9.13;
however, when specified relative to a font whose size is expressed as
two length measures of non-equal lengths, then one <code>em</code> is
equal to the inline progression dimension of the anisomorphically
scaled font when used to specify lengths in the inline progression
direction and equal to the block progression dimension of the scaled
font when used to specify lengths in the block progression direction.</p>
<p>The semantics of the unit of measure <code>c</code> (cell) are
defined by the parameter <specref
ref="parameter-attribute-cellResolution"/>.</p>
</div3>
<div3 id="style-value-namedColor">
<head>&lt;namedColor&gt;</head>
<p>A &lt;namedColor&gt; is used to express an RGBA color with a convenient name, and where the applicable color space is
defined by <bibref ref="srgb"/>.</p>
<p>For the purpose of parsing, no distinction must be made between lower and upper case.</p>
<table id="namedColor-style-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;namedColor&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;namedColor&gt;
  : "transparent"                           // #00000000
  | "black"                                 // #000000ff
  | "silver"                                // #c0c0c0ff
  | "gray"                                  // #808080ff
  | "white"                                 // #ffffffff
  | "maroon"                                // #800000ff
  | "red"                                   // #ff0000ff
  | "purple"                                // #800080ff
  | "fuchsia"                               // #ff00ffff
  | "magenta"                               // #ff00ffff (= fuchsia)
  | "green"                                 // #008000ff
  | "lime"                                  // #00ff00ff
  | "olive"                                 // #808000ff
  | "yellow"                                // #ffff00ff
  | "navy"                                  // #000080ff
  | "blue"                                  // #0000ffff
  | "teal"                                  // #008080ff
  | "aqua"                                  // #00ffffff
  | "cyan"                                  // #00ffffff (= aqua)
</eg>
</td>
</tr>
</tbody>
</table>
<note role="clarification">
<p>Except for <code>transparent</code>, the set of named colors specified above constitutes a proper
subset of the set of named colors specified by <bibref ref="svg11"/>, &sect; 4.2.</p>
</note>
</div3>
<div3 id="style-value-quotedString">
<head>&lt;quotedString&gt;</head>
<p>A &lt;quotedString&gt; is used to express a delimited string that may contain
a whitespace or a quotation delimiter character. Two types of quotation delimiters
are provided in order to accommodate strings that contain the other delimiter.</p>
<table id="quotedString-style-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;quotedString&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;quotedString&gt;
  : "\"" ( <emph>char</emph> - { "\"" } )* "\""
  | "\'" ( <emph>char</emph> - { "\'" } )* "\'"
</eg>
</td>
</tr>
</tbody>
</table>
<p>In the above syntax representation, the syntactic element <emph><code>char</code></emph> must adhere to production
[2] <code>Char</code> as defined by <bibref ref="xml11"/>&nbsp;&sect;
2.2.</p>
</div3>
<div3 id="style-value-string">
<head>&lt;string&gt;</head>
<p>A &lt;string&gt; expression consists of a sequence of characters where no character
is a whitespace or quotation delimiter character.</p>
<table id="string-style-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;string&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;string&gt;
  : ( <emph>char</emph> - { <emph>S</emph> | "\"" | "\'" } )+
</eg>
</td>
</tr>
</tbody>
</table>
<p>In the above syntax representation, the syntactic element <emph><code>char</code></emph> must adhere to production
[2] <code>Char</code> as defined by <bibref ref="xml11"/>&nbsp;&sect;
2.2, while the syntactic element <emph><code>S</code></emph> must adhere to production
[3] <code>S</code> as defined by <bibref ref="xml11"/>&nbsp;&sect;
2.3.</p>
</div3>
</div2>
<div2 id="semantics-style-association">
<head>Style Association</head>
<p>Style matter may be associated with content matter in a number of ways:</p>
<ulist>
<item><p>inline styling</p></item>
<item><p>referential styling</p></item>
<item><p>chained referential styling</p></item>
</ulist>
<div3 id="semantics-style-association-inline">
<head>Inline Styling</head>
<p>Style properties may be expressed in an inline manner by direct specification of an
attribute from the TT Style Namespace or TT Style Extension Namespace
on the affected element. When expressed in this manner, the association of style information
is referred to as <emph>inline styling</emph>.</p>
<p>Style properties associated by inline styling are afforded a higher priority than all other
forms of style association.</p>
<table id="style-association-example-1" role="example">
<caption>Example &ndash; Inline Styling</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;p <phrase role="strong">tts:color="white"</phrase>&gt;White 1&nbsp;&lt;span <phrase role="strong">tts:color="yellow"</phrase>&gt;Yellow&lt;/span&gt;&nbsp;White 2&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<note role="explanation">
<p>In the above example, the two text fragments <code>"White 1 "</code> and
<code>" White 2"</code>, which are interpreted as anonymous spans, are not
associated with a color style property; rather, they inherit their color style
from their parent <el>p</el> element as described in <specref
ref="semantics-style-inheritance-content"/> below.  </p>
</note>
</div3>
<div3 id="semantics-style-association-referential">
<head>Referential Styling</head>
<p>Style properties may be expressed in an out-of-line manner and referenced by the
affected element using the <att>style</att> attribute. When expressed in this manner,
the association of style information is referred to as <emph>referential styling</emph>.</p>
<p>If a <att>style</att> attribute specifies multiple references, then those references are
evaluated in the specified order, and that order applies to resolution of the value of a
style property in the case that it is specified along multiple reference paths.</p>
<note role="explanation">
<p>The use of referential styling encourages the reuse of style specifications while
sacrificing locality of reference.</p>
</note>
<note role="explanation">
<p>A single content element may be associated with style properties by a hybrid mixture of
inline and referential styling, in which case inline styling is given priority as described above
by <specref ref="semantics-style-association-inline"/>.</p>
</note>
<table id="style-association-example-2" role="example">
<caption>Example &ndash; Referential Styling</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;style <phrase role="strong">xml:id="s1"</phrase> tts:color="white"/&gt;
&lt;style <phrase role="strong">xml:id="s2"</phrase> tts:color="yellow"/&gt;
...
&lt;p <phrase role="strong">style="s1"</phrase>&gt;White 1&nbsp;&lt;span <phrase role="strong">style="s2"</phrase>&gt;Yellow&lt;/span&gt;&nbsp;White 2&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<note role="explanation">
<p>In the above example, the two text fragments <code>"White 1 "</code> and
<code>" White 2"</code>, which are interpreted as anonymous spans, are not
associated with a color style property; rather, they inherit their color style
from their parent <el>p</el> element as described in <specref
ref="semantics-style-inheritance-content"/> below.</p>
</note>
</div3>
<div3 id="semantics-style-association-chained-referential">
<head>Chained Referential Styling</head>
<p>Style properties may be expressed in an out-of-line manner and may themselves reference
other out-of-line style properties, thus creating a chain of references starting at the
affected element. When expressed in this manner, the association of style information
is referred to as <emph>chained referential styling</emph>.</p>
<p>If the same style property is specified in more than one referenced specification,
then the last referenced style specification applies, where the order of application starts from
the affected element and proceeds to referenced style specifications, and, in turn, to subsequent
referenced style specifications.</p>
<p>A loop in a sequence of chained style references must be considered an error.</p>
<note role="explanation">
<p>The use of chained referential styling encourages the grouping of style specifications
into general and specific sets, which further aids in style specification reuse.</p>
</note>
<note role="explanation">
<p>A single content element may be associated with style properties by a hybrid mixture of
inline, referential styling, and chained referential styling, in which case inline styling is
given priority as described above by <specref ref="semantics-style-association-inline"/>.</p>
</note>
<table id="style-association-example-3" role="example">
<caption>Example &ndash; Chained Referential Styling</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;style <phrase role="strong">xml:id="s1"</phrase> tts:color="white" tts:fontFamily="monospaceSerif"/&gt;
&lt;style <phrase role="strong">xml:id="s2"</phrase> <phrase role="strong">style="s1"</phrase> tts:color="yellow"/&gt;
...
&lt;p <phrase role="strong">style="s1"</phrase>&gt;White Monospace&lt;/p&gt;
&lt;p <phrase role="strong">style="s2"</phrase>&gt;Yellow Monospace&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
</div3>
</div2>
<div2 id="semantics-style-inheritance">
<head>Style Inheritance</head>
<p>Subsequent to the association of style matter with content matter as described above in
<specref ref="semantics-style-association"/>, styles are further propagated to content
matter using:
</p>
<ulist>
<item><p>content style inheritance</p></item>
<item><p>region style inheritance</p></item>
</ulist>
<div3 id="semantics-style-inheritance-content">
<head>Content Style Inheritance</head>
<p>Style properties are inherited from ancestor elements in the following case:</p>
<olist>
<item><p>if a style property is not associated with an element (or an anonymous span)
and the style property is designated as inheritable, or</p></item>
<item><p>if a style property is associated with an element, that
element is not the <el>body</el> element, and the associated style property value is <code>inherit</code>.</p></item>
</olist>
<p>If a style property is determined to require inheritance, then the inherited value must
be the value of the same named style property in the computed style specification set of the
element's immediate ancestor element.</p>
<table id="style-inheritance-example-1" role="example">
<caption>Example &ndash; Content Style Inheritance</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;p <phrase role="strong">tts:fontFamily="monospaceSansSerif"</phrase>&gt;
  &lt;span tts:color="yellow"&gt;Yellow Monospace&lt;/span&gt;
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<note role="explanation">
<p>In the above example, the <el>span</el> element that encloses the character items
<code>Yellow Monospace</code> is not associated with a <att>tts:fontFamily</att> style
property and this property is inheritable; therefore, the value of the <att>tts:fontFamily</att> style
is inherited from the computed style specification set of the ancestor <el>p</el> element,
and is added to the computed style specification set of the <el>span</el> element.</p>
</note>
</div3>
<div3 id="semantics-style-inheritance-region">
<head>Region Style Inheritance</head>
<p>Style properties are inherited from a region element in the following case:</p>
<olist>
<item><p>if a style property <emph>P</emph> is not associated with an element (or an anonymous span)
<emph>E</emph> and the style property is designated as inheritable, and</p></item>
<item><p>if that style property <emph>P</emph> is in the computed style specification set
of region <emph>R</emph> as defined by <specref ref="layout-vocabulary-region"/> below, and</p></item>
<item><p>if that element <emph>E</emph> is flowed into region <emph>R</emph>.</p></item>
</olist>
<table id="style-inheritance-example-2" role="example">
<caption>Example &ndash; Region Style Inheritance</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region <phrase role="strong">xml:id="r1"</phrase>&gt;
&nbsp;&nbsp;&lt;style tts:color="yellow"/&gt;
&nbsp;&nbsp;&lt;style tts:fontFamily="monospaceSerif"/&gt;
&lt;/region&gt;
...
&lt;p <phrase role="strong">region="r1"</phrase>&gt;Yellow Monospace&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
</div3>
</div2>
</div1>
<div1 id="layout">
<head>Layout</head>
<p>This section specifies the <emph>layout</emph> matter of the core
vocabulary catalog, where
layout is to be understood as a separable layer of information that applies to
content and that denotes authorial intentions about the presentation of
that content.</p>
<note role="elaboration">
<p>The two layers of layout and style matter are considered to be independently
separable. Layout matter specifies one or more spaces or areas into
which content is intended to be presented, while style matter specifies the manner in
which presentation occurs within the layout.</p>
<p>In certain cases, a content author may choose to embed (inline) style matter directly
into layout or content matter. In such cases, an alternative 
exists &ndash; use of referential styling &ndash;
in which the style
matter is not embedded (inlined).</p>
</note>
<div2 id="layout-element-vocabulary">
<head>Element Vocabulary</head>
<p>The following elements specify the structure and principal layout aspects of a
document instance:</p>
<ulist>
<item><p><specref ref="layout-vocabulary-layout"/></p></item>
<item><p><specref ref="layout-vocabulary-region"/></p></item>
</ulist>
<div3 id="layout-vocabulary-layout">
<head>layout</head>
<p>The <el>layout</el> element is a container element used to group
layout matter, including metadata that applies to layout matter.</p>
<p>The <el>layout</el> element accepts as its children zero or more
elements in the <code>Metadata.class</code> element group, followed by
zero or more <el>region</el> elements.</p>
<table id="elt-syntax-layout" role="syntax">
<caption>XML Representation &ndash; Element Information Item: layout</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;layout
  <loc href="#content-attribute-id">xml:id</loc> = ID
  <loc href="#content-attribute-lang">xml:lang</loc> = string
  <loc href="#content-attribute-space">xml:space</loc> = (<emph>default</emph>|<emph>preserve</emph>)
  {<emph>any attribute not in default or any TT namespace ...</emph>}&gt;
  <emph>Content:</emph> <loc href="#element-vocab-group-table">Metadata.class</loc>*, <loc href="#layout-vocabulary-region">region</loc>*
&lt;/layout&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>To the extent that time semantics apply to the content of the
<el>layout</el> element, the implied time interval of this element is
defined to be coterminous with the external time interval.</p>
</div3>
<div3 id="layout-vocabulary-region">
<head>region</head>
<p>The <el>region</el> element is used to define a space or area into which content is
to be flowed for the purpose of presentation.</p>
<p>The <el>region</el> element accepts as its children zero or more
elements in the <code>Metadata.class</code> element group,
followed by zero or more
elements in the <code>Animation.class</code> element group,
followed by
zero or more <el>style</el> elements.</p>
<p>Any metadata specified by children in the <code>Metadata.class</code>
element group applies semantically to the <el>region</el> element and its descendants as a whole.
Any animation elements specified by children in the <code>Animation.class</code>
element group apply semantically to the <el>region</el> element.
Any <el>style</el> child element must be considered a local style
definition that applies only to the containing <el>region</el>
element, i.e., does not apply for resolving referential styling.</p>
<table id="elt-syntax-region" role="syntax">
<caption>XML Representation &ndash; Element Information Item: region</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region
  <loc href="#timing-attribute-begin">begin</loc> = <loc href="#timing-value-timeExpression">&lt;timeExpression&gt;</loc>
  <loc href="#timing-attribute-dur">dur</loc> = <loc href="#timing-value-timeExpression">&lt;timeExpression&gt;</loc>
  <loc href="#timing-attribute-end">end</loc> = <loc href="#timing-value-timeExpression">&lt;timeExpression&gt;</loc>
  <loc href="#content-attribute-requiredExtensions">requiredExtensions</loc> = string
  <loc href="#content-attribute-requiredFeatures">requiredFeatures</loc> = string
  <loc href="#content-attribute-requiredFonts">requiredFeatures</loc> = string
  <loc href="#style-attribute-style">style</loc> = IDREFS
  <loc href="#timing-attribute-timeContainer">timeContainer</loc> = (<emph>par</emph>|<emph>seq</emph>)
  <loc href="#content-attribute-id">xml:id</loc> = ID
  <loc href="#content-attribute-lang">xml:lang</loc> = string
  <loc href="#content-attribute-space">xml:space</loc> = (<emph>default</emph>|<emph>preserve</emph>)
  {<emph>any attribute in TT Style namespace ...</emph>}
  {<emph>any attribute not in default or any TT namespace ...</emph>}&gt;
  <emph>Content:</emph> <loc href="#element-vocab-group-table">Metadata.class</loc>*, <loc href="#element-vocab-group-table">Animation.class</loc>*, <loc href="#styling-vocabulary-style">style</loc>*
&lt;/region&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>The declared value of an inline style attribute on a <el>region</el>
element must not be <code>inherit</code>.</p>
<p>A <el>region</el> element is considered to define a computed style
specification set, where the set is determined using the
following ordered rules:</p>
<olist>
<item>
<p>If a <att>style</att> attribute is specified on the <el>region</el> element,
then the set must be initialized so as to include each style specification contained in
the computed style specification set of each element referenced by
the <att>style</att> attribute. If the same named style property is specified
by more than one such referenced computed style specification set, then the value
of the named style property in following referenced sets takes precedence over the value
of the named style property in prior referenced sets, where following and prior are
determined according to the order of the referenced ID in the IDREFS value of the <att>style</att>
attribute.</p>
</item>
<item>
<p>If the <el>region</el> element has any <el>style</el> element children, then each
style specification of the computed style specification set of each child <el>style</el>
element either overrides an existing style
specification already contained within the set or augments the set with a new style
specification according to whether or not the named style property of the style specification
matches the named style property of an existing style specification already included in
the set, where the order of evaluation of child <el>style</el> elements proceeds from first
to last such child element.</p>
</item>
<item>
<p>If the <el>style</el> element specifies an attribute from the TT Style Namespace
or TT Style Extension Namespace, then each style
specification defined by that attribute either overrides an existing style
specification already contained within the set or augments the set with a new style
specification according to whether or not the named style property of the style specification
matches the named style property of an existing style specification already included in
the set.</p>
</item>
</olist>
<p>Two named style properties are considered to match if their expanded names match,
where <emph>expanded name</emph> is defined by <bibref ref="xmlns11"/>, &sect;2.1,
and the expanded name of a named style property is the expanded name of the attribute
that specifies the named style property.</p>
<p>If <att>begin</att> and (or) <att>end</att> attributes are specified on a
<el>region</el> element, then they specify the beginning and (or) ending points
of a time interval during which the region is eligible for activation and with
respect to which animation child elements of the region are timed.
If specified, these begin and end points are relative to the time
interval of the nearest ancestor element associated with a time
interval, irregardless of whether that interval is explicit or implied.</p>
<p>The nearest ancestor element of a <el>region</el> element that is associated
with a time interval is the document instance's root <el>tt</el> element.</p>
<p>If a <att>dur</att> attribute is specified on the <el>region</el> element, then it
specifies the simple duration of the region.</p>
<p>For the purpose of determining the semantics of presentation processing, a
region that is temporally inactive must not produce any visible marks when
presented on a visual medium.</p>
<note role="motivation">
<p>A <el>region</el> element may be associated with a time interval for two
purposes: (1) in order to temporally bound the presentation of the region and
its content, and (2) to provide a temporal context in which animations of region
styles may be effected.</p>
<p>For example, an author may wish a region that is otherwise empty, but
may have a visible background color to be presented starting at some time and
continuing over the region's duration.  The simple duration of the region serves
additionaly to scope the presentation effects of content that is targeted to the
region. An author may also wish to move a region within the root container
extent or change a region's background color by means of animation effects. In
both of these cases, it is necessary to posit an active time interval for a
region.</p>
</note>
</div3>
</div2>
<div2 id="layout-attribute-vocabulary">
<head>Attribute Vocabulary</head>
<p>This section defines the <specref ref="layout-attribute-region"/> attribute used with content elements.</p>
<div3 id="layout-attribute-region">
<head>region</head>
<p>The <att>region</att> attribute is used to reference a <el>region</el>
element which defines a space or area into which a content element is intended to be flowed.</p>
<p>The <att>region</att> attribute may be specified by an instance of the following
element types:</p>
<ulist>
<item><p><loc href="#document-structure-vocabulary-body"><el>body</el></loc></p></item>
<item><p><loc href="#content-vocabulary-div"><el>div</el></loc></p></item>
<item><p><loc href="#content-vocabulary-p"><el>p</el></loc></p></item>
<item><p><loc href="#content-vocabulary-span"><el>span</el></loc></p></item>
</ulist>
<note role="seealso">
<p>See <specref ref="semantics-region-layout"/> below for further information on content
flow in a region.</p>
</note>
</div3>
</div2>
<div2 id="semantics-region-layout">
<head>Region Layout and Presentation</head>
<p>This section defines the semantics of region layout and
presentation in terms of a standard processing model. Any
implementation is permitted provided that the externally observable
results are consistent with the results produced by this model.
</p>
<div3 id="semantics-region-layout-step-1">
<head>Synchronic Region Construction</head>
<p>For the purposes of performing presentation processing, the active time
duration of a document instance is divided into a sequence of time coordinates where at
each time coordinate, some element becomes temporally active or inactive,
then, at each such time coordinate, a document
instance is mapped from its original, source form to an intermediate form,
<emph>I</emph>, as follows:</p>
<olist>
<item>
<p>for each temporally active region <emph>R</emph>, replicate the
portion of the document's sub-tree headed by the <el>body</el> element;</p>
</item>
<item>
<p>evaluating this sub-tree in a postorder traversal, prune elements if they
are not a content element, if they are temporally inactive, if they are empty,
or if they aren't associated with region <emph>R</emph>;</p>
</item>
<item>
<p>if the pruned sub-tree is non-empty, then reparent it to the <emph>R</emph>
element;</p>
</item>
<item>
<p>finally, after completing the above steps, prune the original <el>body</el>
element from the intermediate document, then prune all <att>region</att>,
<att>begin</att>, <att>end</att>, and <att>dur</att> attributes, which are no
longer semantically relevant;</p>
</item>
</olist>
<p>The pseudo-code shown in <specref ref="content-hierarchy-region-mapping"/>
provides one possible algorithm that implements these processing steps.</p>
<table id="content-hierarchy-region-mapping" role="example">
<caption>Example &ndash; Content Hierarchy Region Mapping</caption>
<tbody>
<tr>
<td>
<eg>
PREPARE-CONTENT ( D ) := 
  foreach R in SELECT ( D, "/tt/head/layout/region" )
    if TEMPORALLY-ACTIVE? ( R )
      APPEND-CHILDREN ( R, SELECT ( D, "/tt/body" ) )
      foreach E in POSTORDER-TRAVERSE ( R )
        if CONTENT-ELEMENT? ( E ) and TEMPORALLY-ACTIVE? ( E )
	  if EMPTY? ( E ) or REGION-OF ( E ) != R and 
	    then PRUNE ( E )
  PRUNE ( SELECT ( D, "/tt/body" ) )
  PRUNE ( SELECT ( D, "//*/@region" ) )
  PRUNE ( SELECT ( D, "//*/@begin" ) )
  PRUNE ( SELECT ( D, "//*/@end" ) )
  PRUNE ( SELECT ( D, "//*/@dur" ) )
 
REGION-OF ( E ) :=
  if NULL? ( E )
    return NULL
  else if HAS-ATTRIBUTE? ( E, "region" )
    return VALUE-OF-ATTRIBUTE ( E, "region" )
  else
    return REGION-OF ( PARENT-OF ( E ) )
</eg>
</td>
</tr>
</tbody>
</table>
<p>The result of performing the processing described above will be a sequence of
<emph>N</emph> intermediate documents instances, <emph>I<sub>0</sub></emph> &hellip;
<emph>I<sub>N&minus;1</sub></emph>.</p>
</div3>
<div3 id="semantics-region-layout-step-2">
<head>Synchronic Flow Processing</head>
<p>Subsequent to performing a temporal (synchronic) slice and subsequent
remapping of regionally selected content hierarchy, the resulting intermediate document is
subjected to a flow transformation step that produces a rooted flow object tree
represented as an XSL FO document instance as defined by <bibref ref="xsl10"/>,
and semantically extended by TT AF specific style properties that have no XSL
FO counterpart.</p>
<p>Each intermediate document produced by <specref
ref="semantics-region-layout-step-1"/> is mapped to an XSL FO document instance,
<emph>F</emph>, as follows:</p>
<olist>
<item>
<p>for each significant text node in a content element that is not a child of a
<el>span</el> element, synthesize an anonymous span to enclose the text node,
substituting the new anonymous span for the original text node child in its
sibling and parent hierarchy;</p>
</item>
<item>
<p>for each element, determine its computed style specification set, if
applicable;</p>
</item>
<item>
<p>map the <el>tt</el> element to an <el>fo:root</el> element, populated
initially with an <el>fo:layout-master-set</el> element that contains a valid
<el>fo:simple-page-master</el> that, in turn, contains an
<el>fo:region-body</el> child, where the root container extent expressed on the
<el>tt</el> element is mapped to <att>page-width</att> and
<att>page-height</att> attributes on the <el>fo:simple-page-master</el>
element;</p>
</item>
<item>
<p>map the <el>layout</el> element to an <el>fo:page-sequence</el> element and a
child <el>fo:flow</el> element that reference the page master and page region
defined by the simple page master produced above;</p>
</item>
<item>
<p>map each non-empty <el>region</el> element to an <el>fo:block-container</el>
element with an <att>absolute-position</att> attribute with value
<code>absolute</code>, and where the region's position and extent are mapped to equivalent
<att>top</att>, <att>left</att>, <att>width</att>, and <att>height</att>
attributes;</p>
</item>
<item>
<p>for each <el>body</el>, <el>div</el>, and <el>p</el> element that is not
associated with a <att>tts:display</att> style property with the value
<code>none</code>, map the element to a distinct <el>fo:block</el> element,
populating the style properties of <el>fo:block</el> by using the computed style
specification set associated with each original TT AF content element;</p>
</item>
<item>
<p>for each <el>span</el> element that is not
associated with a <att>tts:display</att> style property with the value
<code>none</code> and for each anonymous span, map the element or
sequence of character items to a distinct <el>fo:inline</el> element,
populating the style properties of <el>fo:inline</el> by using the computed style
specification set associated with each original TT AF content element
or anonymous span;</p>
</item>
<item>
<p>for each <el>br</el> element that is not
associated with a <att>tts:display</att> style property with the value
<code>none</code>, map the element
to a distinct <el>fo:character</el> element having the following
properties:</p>
<ulist>
<item>
<p><code>character="&amp;#x000A;"</code></p>
</item>
<item>
<p><code>suppress-at-line-break="retain"</code></p>
</item>
</ulist>
</item>
<item>
<p>for each TT AF style property attribute in some computed style specification set that
has no counterpart in <bibref ref="xsl10"/>, map that attribute directly through
to the relevant formatting object produced by the input TT AF content element to
which the style property applies;</p>
</item>
<item>
<p>optionally, synthesize a unique <att>id</att> attribute on each resulting
formatting object element that relates that element to the input element that
resulted in that formatting object element;</p>
</item>
</olist>
<p>For each resulting XSL FO document instance <emph>F</emph>, if processing
requires presentation on a visual medium, then apply the formatting semantics
prescribed by <bibref ref="xsl10"/> in order to produce an XSL FO area tree that
may then be subsequently rendered onto the visual medium.</p>
<note>
<p>Due to the possible presence of TT AF style properties
or style property values in a given DFXP document instance for which
there is no <bibref ref="xsl10"/> counterpart, the use of a compliant <bibref ref="xsl10"/> formatting processor
is not necessarily sufficient to satisfy the presentation
semantics defined by this specification.</p>
</note>
</div3>
<div3 id="semantics-region-layout-example">
<head>Elaborated Example</head>
<p>An example of the processing steps described above is elaborated below, starting with <specref
ref="region-mapping-example-1-s"/>.</p>
<table id="region-mapping-example-1-s" role="example">
<caption>Example &ndash; Sample Source Document</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">&dfxp-ex1;</eg>
</td>
</tr>
</tbody>
</table>
<p>In the above document, the content hierarchy consists of two divisions, each
containing two paragraphs. This content is targeted (selected into) one of two
non-overlapping regions that are styled identically except for their position
and their foreground colors, the latter of which is inherited by and applies to
the (and, in this case, anonymous) spans reparented into the regions.</p>
<p>The following, first intermediate document shows the synchronic state at time
interval [0,1), during which time only division <code>d1</code> is temporally active,
and where paragraphs <code>p1</code> and <code>p2</code> (and their ancestors)
are selected into regions <code>r1</code> and <code>r2</code>, respectively.</p>
<note>
<p>The intermediate documents shown below are not valid DFXP document instances,
but rather, are representations of possible internal processing states used for
didactic purposes.</p>
</note>
<table id="region-mapping-example-1-i0" role="example">
<caption>Example &ndash; Intermediate Document &ndash; [0s,1s)</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">&dfxp-ex1-x-0;</eg>
</td>
</tr>
</tbody>
</table>
<p>An XSL FO document instance produced by performing flow processing
upon the first intermediate document is shown below.</p>
<table id="region-mapping-example-1-f0" role="example">
<caption>Example &ndash; XSL FO Document &ndash; [0s,1s)</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">&dfxp-ex1-p-0;</eg>
</td>
</tr>
</tbody>
</table>
<p>The following, second intermediate document shows the synchronic state at
time interval [1,2), at which time both divisions <code>d1</code> and
<code>d2</code> are temporally active, and where paragraphs <code>p1</code> and
<code>p4</code> (and their ancestors) are selected into region <code>r1</code>
and paragraphs <code>p2</code> and <code>p3</code> (and their ancestors) are
selected into region <code>r2</code>.</p>
<table id="region-mapping-example-1-i1" role="example">
<caption>Example &ndash; Intermediate Document &ndash; [1s,2s)</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">&dfxp-ex1-x-1;</eg>
</td>
</tr>
</tbody>
</table>
<p>The following, third intermediate document shows the synchronic state at time
interval [2,3), at which time only division <code>d2</code> is temporally active,
and where paragraphs <code>p4</code> and <code>p3</code> (and their ancestors)
are selected into regions <code>r1</code> and <code>r2</code>, respectively.</p>
<table id="region-mapping-example-1-i2" role="example">
<caption>Example &ndash; Intermediate Document &ndash; [2s,3s)</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">&dfxp-ex1-x-2;</eg>
</td>
</tr>
</tbody>
</table>
</div3>
</div2>
<div2 id="semantics-line-layout">
<head>Line Layout</head>
<p>The semantics of line layout, including line breaking, defined by 
<bibref ref="xsl10"/> apply to the performance of the composition and layout of
lines for presentation processing of a document instance on a visual medium.</p>
</div2>
</div1>
<div1 id="timing">
<head>Timing</head>
<p>This section specifies the <emph>timing</emph> matter of the core
vocabulary catalog, where
timing is to be understood as a separable layer of information that applies to
content and that denotes authorial intentions about the temporal presentation of
that content.</p>
<div2 id="timing-element-vocabulary">
<head>Element Vocabulary</head>
<p>No timing related element vocabulary is defined for use in the core
vocabulary catalog.</p>
</div2>
<div2 id="timing-attribute-vocabulary">
<head>Attribute Vocabulary</head>
<p>This section defines the following basic timing attributes for use with timed elements:</p>
<ulist>
<item><p><specref ref="timing-attribute-begin"/></p></item>
<item><p><specref ref="timing-attribute-end"/></p></item>
<item><p><specref ref="timing-attribute-dur"/></p></item>
</ulist>
<p>In addition, this section defines the <specref
ref="timing-attribute-timeContainer"/> attribute for use with timed elements
that serve simultaneously as timing containers.</p>
<div3 id="timing-attribute-begin">
<head>begin</head>
<p>The <att>begin</att> attribute is used to specify the begin
point of a temporal interval associated with a timed element. If
specified, the value of a <att>begin</att> attribute must adhere to
a &lt;timeExpression&gt; specification as defined by <specref
ref="timing-value-timeExpression"/>.</p>
<p>The begin point of a temporal interval is included in the
interval; i.e., the interval is left-wise closed.</p>
<note role="derivation">
<p>The semantics of the <att>begin</att> attribute are based upon that defined
by <bibref ref="smil21"/>, &sect; 10.3.1.</p>
</note>
</div3>
<div3 id="timing-attribute-end">
<head>end</head>
<p>The <att>end</att> attribute is used to specify the ending point
of a temporal interval associated with a timed element. If
specified, the value of an <att>end</att> attribute must adhere to a
&lt;timeExpression&gt; specification as defined by <specref
ref="timing-value-timeExpression"/>.</p>
<p>The ending point of a temporal interval is not included in the
interval; i.e., the interval is right-wise open.</p>
<p>The presentation effects of a non-empty active
temporal interval include the frame immediately prior to the frame
(or tick) equal to or immediately following the time specified by the ending
point, but do not extend into this latter frame (or tick).</p>
<note role="example">
<p>For example, if an active interval is [10s,10.33333s), and the
frame rate is 30 frames per second, then the presentation effects of the interval
are limited to frames 300 through 309 only (assuming that 0s corresponds
with frame 0). The same holds if the active interval is specified
as [300f,310f).</p>
</note>
<note role="derivation">
<p>The semantics of the <att>end</att> attribute are based upon that defined
by <bibref ref="smil21"/>, &sect; 10.3.1.</p>
</note>
</div3>
<div3 id="timing-attribute-dur">
<head>dur</head>
<p>The <att>dur</att> attribute is used to specify the duration of a
temporal interval associated with a timed element. If specified,
the value of a <att>dur</att> attribute must adhere to a
&lt;timeExpression&gt; specification as defined by <specref
ref="timing-value-timeExpression"/>.</p>
<note role="derivation">
<p>The semantics of the <att>dur</att> attribute are based upon that defined
by <bibref ref="smil21"/>, &sect; 10.3.1.</p>
</note>
</div3>
<div3 id="timing-attribute-timeContainer">
<head>timeContainer</head>
<p>The <att>timeContainer</att> attribute is used to specify a local temporal
context by means of which timed child elements are temporally situated.</p>
<p>If specified, the value of a <att>timeContainer</att> attribute must be one
of the following:</p>
<ulist>
<item><p><code>par</code></p></item>
<item><p><code>seq</code></p></item>
</ulist>
<p>If the time container semantics of an element instance is <code>par</code>,
then the temporal intervals of child elements are considered to apply in
parallel, i.e., simultaneously in time. Furthermore, the specification of
the time interval of each child element is considered to be relative to the temporal
interval of the container element instance.</p>
<p>If the time container semantics of an element instance is <code>seq</code>,
then the temporal intervals of child elements are considered to apply in
sequence, i.e., sequentially in time. Furthermore, the specification of
the time interval of each child element is considered to be relative to the temporal
interval of its sibling elements, unless it is the first child element, in which case
it is considered to be relative to the temporal interval of the container
element instance.</p>
<p>Each time container is considered to constitute an independent time base, i.e.,
time coordinate system.</p>
<p>If a <att>timeContainer</att> attribute is not specified on an element that
has time container semantics, then <code>par</code> time container semantics must apply.</p>
<p>Time container semantics applies only to the following element types:</p>
<ulist>
<item><p><loc href="#document-structure-vocabulary-body"><el>body</el></loc></p></item>
<item><p><loc href="#content-vocabulary-div"><el>div</el></loc></p></item>
<item><p><loc href="#content-vocabulary-p"><el>p</el></loc></p></item>
<item><p><loc href="#layout-vocabulary-region"><el>region</el></loc></p></item>
<item><p><loc href="#content-vocabulary-span"><el>span</el></loc></p></item>
</ulist>
<note role="derivation"> <p>The semantics of parallel and sequential time
containment are based upon that defined by <bibref ref="smil21"/>, &sect;
10.3.2.</p> </note>
</div3>
</div2>
<div2 id="timing-time-value-expressions">
<head>Time Value Expressions</head>
<p>Timing attribute values include the use of the following expressions:</p>
<ulist>
<item><p><specref ref="timing-value-timeExpression"/></p></item>
</ulist>
<div3 id="timing-value-timeExpression">
<head>&lt;timeExpression&gt;</head>
<p>A &lt;timeExpression&gt; is used to specify a coordinate along
some time base, where the applicable time base is determined by the
<att>ttp:timeBase</att> parameter.</p>
<note role="example">
<p>See <specref ref="parameter-attribute-timeBase"/>, <specref
ref="parameter-attribute-frameRate"/>, <specref
ref="parameter-attribute-subFrameRate"/>, and <specref
ref="parameter-attribute-tickRate"/> for further information on
explicit specification of time base, frame rate, sub-frame rate, and
tick rate.</p>
</note>
<table id="timeExpression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;timeExpression&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;timeExpression&gt;
  : clock-time
  | offset-time

clock-time
  : hours ":" minutes ":" seconds ( fraction | ":" frames ( "." sub-frames )? )?

offset-time
  : time-count fraction? metric

hours
  : <loc href="#style-value-digit">&lt;digit&gt;</loc> <loc href="#style-value-digit">&lt;digit&gt;</loc>
  | <loc href="#style-value-digit">&lt;digit&gt;</loc> <loc href="#style-value-digit">&lt;digit&gt;</loc> <loc href="#style-value-digit">&lt;digit&gt;</loc>+

minutes | seconds
  : <loc href="#style-value-digit">&lt;digit&gt;</loc> <loc href="#style-value-digit">&lt;digit&gt;</loc>

frames
  : <loc href="#style-value-digit">&lt;digit&gt;</loc> <loc href="#style-value-digit">&lt;digit&gt;</loc>
  | <loc href="#style-value-digit">&lt;digit&gt;</loc> <loc href="#style-value-digit">&lt;digit&gt;</loc> <loc href="#style-value-digit">&lt;digit&gt;</loc>+

sub-frames
  : <loc href="#style-value-digit">&lt;digit&gt;</loc>+

fraction
  : "." <loc href="#style-value-digit">&lt;digit&gt;</loc>+

time-count
  : <loc href="#style-value-digit">&lt;digit&gt;</loc>+

metric
  : "h"                 // hours
  | "m"                 // minutes
  | "s"                 // seconds
  | "ms"                // milliseconds
  | "f"                 // frames
  | "t"                 // ticks
</eg>
</td>
</tr>
</tbody>
</table>
<!--
<p>If a &lt;timeExpression&gt; is expressed in terms of an
<emph>offset-time</emph> and no <emph>metric</emph> term is specified,
then the default metric specified by a
<att>ttp:defaultTimeMetric</att> parameter is used. If no
default metric is specified, then the time count must be interpreted
as seconds.</p>
-->
<p>If a &lt;timeExpression&gt; is expressed in terms of a
<emph>clock-time</emph>, then leading zeroes are used when expressing hours,
minutes, seconds, and frames less than 10. Minutes are constrained to the range
[0&hellip;59], while seconds are constrained to [0&hellip;60], where the value 60
applies only to leap seconds.</p>
<p>If a &lt;timeExpression&gt; is expressed in terms of a
<emph>clock-time</emph> and a <emph>frames</emph> term is specified,
then the value of this term must be constrained to the interval
[0&hellip;<emph>F-1</emph>], where <emph>F</emph> is the frame rate
determined by the the <att>ttp:frameRate</att> parameter as defined
by <specref ref="parameter-attribute-frameRate"/>.</p>
<p>If a &lt;timeExpression&gt; is expressed in terms of a
<emph>clock-time</emph> and a <emph>sub-frames</emph> term is specified,
then the value of this term must be constrained to the interval
[0&hellip;<emph>S-1</emph>], where <emph>S</emph> is the sub-frame rate
determined by the the <att>ttp:subFrameRate</att> parameter as defined
by <specref ref="parameter-attribute-subFrameRate"/>.</p>
</div3>
</div2>
<div2 id="timing-time-intervals">
<head>Time Intervals</head>
<p>The semantics of time containment, durations, and intervals defined by
<bibref ref="smil21"/> apply to the interpretation of like-named timed elements and timing
vocabulary defined by this specification, given the following
constraints:</p>
<ulist>
<item>
<p>The implicit duration of <el>body</el>, <el>div</el>, <el>p</el>,
and <el>span</el> (whether anonyous or not) is defined as follows: if
the element's parent time container is a parallel time container, then
the implicit duration is equivalent to the <code>indefinite</code>
duration value as defined by <bibref ref="smil21"/>; if the element's
parent time container is a sequential time container, then the
implicit duration is equivalent to zero.</p>
</item>
<item>
<p>The implicit duration of the <el>region</el> element is defined to
be equivalent to the <code>indefinite</code>
duration value as defined by <bibref ref="smil21"/>.</p>
</item>
<item>
<p>If the governing time mode is <code>media</code> or
<code>smpte</code> with mode <code>continuous</code>, then time
expressions must be interpreted as equivalent to offset clock values
related to the associated media time line.</p>
</item>
<item>
<p>If the governing time mode is <code>smpte</code> with mode
<code>discontinuous</code>, then time expressions must be interpreted
as equivalent to marker values produced by an external marker event
source, in which case all time expressions are equivalent to event
based timing in <bibref ref="smil21"/>.</p>
</item>
<item>
<p>If the governing time mode is <code>clock</code>, then time
expressions must be interpreted as equivalent to wallclock time
expressions in <bibref ref="smil21"/>, where the applicable wallclock
used is determined by the clock mode parameter.</p>
</item>
</ulist>
</div2>
</div1>
<div1 id="animation">
<head>Animation</head>
<p>This section specifies the <emph>animation</emph> matter of the
core vocabulary catalog, where
animation is to be understood as a separable layer of information that combines
timing and styling in order to denote authorial intention about (temporally) dynamic
styling of content.</p>
<div2 id="animation-element-vocabulary">
<head>Element Vocabulary</head>
<p>The following elements specify the structure and principal animation aspects of a
document instance:</p>
<ulist>
<item><p><specref ref="animation-vocabulary-set"/></p></item>
</ulist>
<div3 id="animation-vocabulary-set">
<head>set</head>
<p>The <el>set</el> element is used as a child element of a content
element in order to express a discrete change of some style parameter value
that applies over some time interval.</p>
<p>The <el>set</el> element accepts as its children zero or more
elements in the <code>Metadata.class</code> element group.</p>
<table id="elt-syntax-set" role="syntax">
<caption>XML Representation &ndash; Element Information Item: set</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;set
  <loc href="#timing-attribute-begin">begin</loc> = <loc href="#timing-value-timeExpression">&lt;timeExpression&gt;</loc>
  <loc href="#timing-attribute-dur">dur</loc> = <loc href="#timing-value-timeExpression">&lt;timeExpression&gt;</loc>
  <loc href="#timing-attribute-end">end</loc> = <loc href="#timing-value-timeExpression">&lt;timeExpression&gt;</loc>
  <loc href="#content-attribute-requiredExtensions">requiredExtensions</loc> = string
  <loc href="#content-attribute-requiredFeatures">requiredFeatures</loc> = string
  <loc href="#content-attribute-requiredFonts">requiredFeatures</loc> = string
  <loc href="#content-attribute-id">xml:id</loc> = ID
  <loc href="#content-attribute-lang">xml:lang</loc> = string
  <loc href="#content-attribute-space">xml:space</loc> = (<emph>default</emph>|<emph>preserve</emph>)
  {<emph>a single attribute in TT Style or TT Style Extension namespace</emph>}
  {<emph>any attribute not in default or any TT namespace ...</emph>}&gt;
  <emph>Content:</emph> <loc href="#element-vocab-group-table">Metadata.class</loc>*
&lt;/set&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<note role="example">
<p>The use of multiple <el>set</el> element children may be used to effect fade and
position transitions.</p>
</note>
<note role="derivation">
<p>The semantics of the <el>set</el> element
are based upon that defined by <bibref ref="smil21"/>,
&sect; 3.5.2.</p>
</note>
</div3>
</div2>
<div2 id="animation-attribute-vocabulary">
<head>Attribute Vocabulary</head>
<p>No animation related attribute vocabulary is defined for use in the
core vocabulary catalog.</p>
</div2>
</div1>
<div1 id="metadata">
<head>Metadata</head>
<p>This section specifies the <emph>metadata</emph> matter of the core
vocabulary catalog, where
metadata is to be understood as a separable layer of information that applies to
content, style, layout, timing, and even metadata itself, where the information
represented by metadata takes one of two forms: (1) metadata defined by this
specification for standardized use in a document instance, and (2) arbitrary
metadata defined outside of the scope of this specification, whose use and
semantics depend entirely upon an application's use of TT AF content.</p>
<div2 id="metadata-element-vocabulary">
<head>Element Vocabulary</head>
<p>The <specref ref="metadata-vocabulary-metadata"/> element serves as
a generic container element for grouping metadata information.</p>
<p>In addition, the following elements, all defined in the TT Metadata Namespace,
provide standard representations for common metadata that is expected to be commonly
used in a document instances:
</p>
<ulist>
<item><p><specref ref="metadata-vocabulary-title"/></p></item>
<item><p><specref ref="metadata-vocabulary-desc"/></p></item>
<item><p><specref ref="metadata-vocabulary-copyright"/></p></item>
<item><p><specref ref="metadata-vocabulary-agent"/></p></item>
<item><p><specref ref="metadata-vocabulary-name"/></p></item>
<item><p><specref ref="metadata-vocabulary-actor"/></p></item>
</ulist>
<div3 id="metadata-vocabulary-metadata">
<head>metadata</head>
<p>The <el>metadata</el> element functions as a generic container for metadata
information.</p>
<p>Metadata information may be expressed by a <el>metadata</el> element
in one of two (non-mutually exclusive) manners: (1) by specifying one
or more metadata attributes on the element, and (2) by specifying one
or more <el>metadata</el> child elements that express metadata. Both types of metadata
are referred to in this document as <emph>metadata items</emph>.</p>
<table id="elt-syntax-metadata" role="syntax">
<caption>XML Representation &ndash; Element Information Item: metadata</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;metadata
  <loc href="#content-attribute-requiredExtensions">requiredExtensions</loc> = string
  <loc href="#content-attribute-requiredFeatures">requiredFeatures</loc> = string
  <loc href="#content-attribute-requiredFonts">requiredFeatures</loc> = string
  <loc href="#content-attribute-id">xml:id</loc> = ID
  <loc href="#content-attribute-lang">xml:lang</loc> = string
  <loc href="#content-attribute-space">xml:space</loc> = (<emph>default</emph>|<emph>preserve</emph>)
  {<emph>any attribute in TT Metadata namespace ...</emph>}
  {<emph>any attribute not in default or any TT namespace ...</emph>}&gt;
  <emph>Content:</emph> {<emph>any element not in TT namespace</emph>}*
&lt;/metadata&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<note role="explanation">
<p>The meaning of a specific metadata item must be evaluated in the
context of where it appears. The core vocabulary catalog permits an arbitrary number of
<el>metadata</el> element children of any non-empty element type except
for the <el>body</el> element. See specific element vocabulary
definitions for any constraints that apply to such usage.</p>
</note>
</div3>
<div3 id="metadata-vocabulary-title">
<head>ttm:title</head>
<p>The <el>ttm:title</el> element is used to express a human-readable title of
a specific element instance.</p>
<table id="elt-syntax-metadata-title" role="syntax">
<caption>XML Representation &ndash; Element Information Item: ttm:title</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;ttm:title
  <loc href="#content-attribute-id">xml:id</loc> = ID
  <loc href="#content-attribute-lang">xml:lang</loc> = string
  <loc href="#content-attribute-space">xml:space</loc> = (<emph>default</emph>|<emph>preserve</emph>)
  {<emph>any attribute not in default or any TT namespace ...</emph>}&gt;
  <emph>Content:</emph> #PCDATA
&lt;/ttm:title&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<note role="elaboration">
<p>No specific use of the <el>ttm:title</el> element is defined by this specification.</p>
</note>
</div3>
<div3 id="metadata-vocabulary-desc">
<head>ttm:desc</head>
<p>The <el>ttm:desc</el> element is used to express a human-readable description of
a specific element instance.</p>
<table id="elt-syntax-metadata-desc" role="syntax">
<caption>XML Representation &ndash; Element Information Item: ttm:desc</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;ttm:desc
  <loc href="#content-attribute-id">xml:id</loc> = ID
  <loc href="#content-attribute-lang">xml:lang</loc> = string
  <loc href="#content-attribute-space">xml:space</loc> = (<emph>default</emph>|<emph>preserve</emph>)
  {<emph>any attribute not in default or any TT namespace ...</emph>}&gt;
  <emph>Content:</emph> #PCDATA
&lt;/ttm:desc&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<note role="elaboration">
<p>No specific use of the <el>ttm:desc</el> element is defined by this specification.</p>
</note>
</div3>
<div3 id="metadata-vocabulary-copyright">
<head>ttm:copyright</head>
<p>The <el>ttm:copyright</el> element is used to express a human-readable copyright that
applies to some scoping level.</p>
<p>A copyright statement that applies to a document as a whole should appear as a
child of the <el>head</el> element.</p>
<table id="elt-syntax-metadata-copyright" role="syntax">
<caption>XML Representation &ndash; Element Information Item: ttm:copyright</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;ttm:copyright
  <loc href="#content-attribute-id">xml:id</loc> = ID
  <loc href="#content-attribute-lang">xml:lang</loc> = string
  <loc href="#content-attribute-space">xml:space</loc> = (<emph>default</emph>|<emph>preserve</emph>)
  {<emph>any attribute not in default or any TT namespace ...</emph>}&gt;
  <emph>Content:</emph> #PCDATA
&lt;/ttm:copyright&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<note role="elaboration">
<p>No specific use of the <el>ttm:copyright</el> element is defined by this specification.</p>
</note>
</div3>
<div3 id="metadata-vocabulary-agent">
<head>ttm:agent</head>
<p>The <el>ttm:agent</el> element is used to define an agent for the purpose of associating
content information with an agent who is involved in the production or expression of that content.</p>
<p>The <el>ttm:agent</el> element accepts as its children zero or more <el>ttm:name</el> elements followed by
zero or one <el>ttm:actor</el> element.</p>
<p>At least one <el>ttm:name</el> element child should be specified that expresses a name for the
agent, whether it be the name of a person, character, group, or organization.</p>
<table id="elt-syntax-metadata-agent" role="syntax">
<caption>XML Representation &ndash; Element Information Item: ttm:agent</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;ttm:agent
  <phrase role="reqattr">type</phrase> = (<emph>person</emph>|<emph>character</emph>|<emph>group</emph>|<emph>organization</emph>|<emph>other</emph>)
  <loc href="#content-attribute-id">xml:id</loc> = ID
  <loc href="#content-attribute-lang">xml:lang</loc> = string
  <loc href="#content-attribute-space">xml:space</loc> = (<emph>default</emph>|<emph>preserve</emph>)
  {<emph>any attribute not in default or any TT namespace ...</emph>}&gt;
  <emph>Content:</emph> <loc href="#metadata-vocabulary-name">ttm:name</loc>*, <loc href="#metadata-vocabulary-actor">ttm:actor</loc>?
&lt;/ttm:agent&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>A <att>type</att> attribute must be specified on each <el>ttm:agent</el> element, and,
if specified, must have one of the following values:</p>
<ulist>
<item><p><el>person</el></p></item>
<item><p><el>character</el></p></item>
<item><p><el>group</el></p></item>
<item><p><el>organization</el></p></item>
<item><p><el>other</el></p></item>
</ulist>
<p>If the value of the <att>type</att> attribute is <code>character</code>, then the
<el>ttm:agent</el> element instance should specify a <el>ttm:actor</el> child that
specifies the agent that plays the role of the actor.</p>
<p>A <att>ttm:agent</att> metadata item is considered to be significant only
when specified as a child of the <el>head</el> element or as a child of a
<el>metadata</el> element child of the <el>head</el> element.</p>
<note role="elaboration">
<p>A <el>ttm:agent</el> element instance is typically referenced using a <att>ttm:agent</att>
attribute on a content element.</p>
</note>
<note role="elaboration">
<p>If a character agent is played by multiple actors, then multiple character
agents may be specified (and referenced) wherein different definitions of the
character specify different actors.</p>
</note>
</div3>
<div3 id="metadata-vocabulary-name">
<head>ttm:name</head>
<p>The <el>ttm:name</el> element is used to specify a name of a person, character,
group, or organization.</p>
<table id="elt-syntax-metadata-name" role="syntax">
<caption>XML Representation &ndash; Element Information Item: ttm:name</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;ttm:name
  <phrase role="reqattr">type</phrase> = (<emph>full</emph>|<emph>family</emph>|<emph>given</emph>|<emph>alias</emph>|<emph>other</emph>)
  <loc href="#content-attribute-id">xml:id</loc> = ID
  <loc href="#content-attribute-lang">xml:lang</loc> = string
  <loc href="#content-attribute-space">xml:space</loc> = (<emph>default</emph>|<emph>preserve</emph>)
  {<emph>any attribute not in default or any TT namespace ...</emph>}&gt;
  <emph>Content:</emph> #PCDATA
&lt;/ttm:name&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>A <att>type</att> attribute must be specified on each <el>ttm:name</el> element, and,
if specified, must have one of the following values:</p>
<ulist>
<item><p><el>full</el></p></item>
<item><p><el>family</el></p></item>
<item><p><el>given</el></p></item>
<item><p><el>alias</el></p></item>
<item><p><el>other</el></p></item>
</ulist>
<p>The relationship between the type of a name and the syntactic expression of the name
is not defined by this specification.</p>
</div3>
<div3 id="metadata-vocabulary-actor">
<head>ttm:actor</head>
<p>The <el>ttm:actor</el> element is used to link the definition of a (role-based) character
agent with another agent that portrays the character.</p>
<table id="elt-syntax-metadata-actor" role="syntax">
<caption>XML Representation &ndash; Element Information Item: ttm:actor</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;ttm:actor
  <phrase role="reqattr">agent</phrase> = IDREF
  <loc href="#content-attribute-id">xml:id</loc> = ID
  <loc href="#content-attribute-lang">xml:lang</loc> = string
  <loc href="#content-attribute-space">xml:space</loc> = (<emph>default</emph>|<emph>preserve</emph>)
  {<emph>any attribute not in default or any TT namespace ...</emph>}&gt;
  <emph>Content:</emph> EMPTY
&lt;/ttm:actor&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>The <att>agent</att> attribute of a <el>ttm:actor</el> element must
reference a <el>ttm:agent</el> element that denotes the person,
group, or organization acting the part of a character.</p>
</div3>
</div2>
<div2 id="metadata-attribute-vocabulary">
<head>Attribute Vocabulary</head>
<p>This section specifies the following attributes in the TT Metadata Namespace
for use with the <el>metadata</el> element and with certain content elements:</p>
<ulist>
<item><p><specref ref="metadata-attribute-agent"/></p></item>
<item><p><specref ref="metadata-attribute-role"/></p></item>
</ulist>
<note role="explanation">
<p>Only certain metadata item attributes may be used with content elements. See
the definitions of content elements to determine permissible usage.</p>
</note>
<div3 id="metadata-attribute-agent">
<head>ttm:agent</head>
<p>The <att>ttm:agent</att> attribute takes an <code>IDREFS</code>
value, and is used with certain content elements to designate the agent that performs
or is involved in the performance of the content.</p>
<p>If specified, a <att>ttm:agent</att> attribute must reference a <el>ttm:agent</el> element
instance that appears as a descendent of the same document instance as
that of the referring element.</p>
</div3>
<div3 id="metadata-attribute-role">
<head>ttm:role</head>
<p>The <att>ttm:role</att> attribute may be used by a content author
to express a role, function, or characteristic of some content element that is so labeled.</p>
<p>If specified, the value of this attribute must adhere to the following syntax:</p>
<table id="metadata-attribute-role-syntax" role="syntax">
<caption>Syntax Representation &ndash; ttm:role</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
ttm:role
  : "action"
  | "caption"
  | "dialog"
  | "expletive"
  | "kinesic"
  | "lyrics"
  | "music"
  | "narration"
  | "quality"
  | "sound"
  | "source"
  | "suppressed"
  | "reproduction"
  | "thought"
  | "title"
  | "transcription"
  | extension-role

extension-role
  : "x-" token-char+

token-char
  : { XML NameChar }    // XML 1.1 Production [4a]
</eg>
</td>
</tr>
</tbody>
</table>
<note role="extensibility">
<p>All values of <att>ttm:role</att> that do not start with the prefix
<code>x-</code> are reserved for future standardization.</p>
</note>
</div3>
</div2>
</div1>
</body>
<back>
<div1 id="reduced-infoset">
<head>Reduced XML Infoset</head>
<p><emph>This appendix is normative.</emph></p>
<p>For the purposes of this specification, a Reduced XML Infoset is
an XML Information Set <bibref ref="infoset"/> that consists of only the following information items
and information item properties:</p>
<div2 id="reduced-infoset-document">
<head>Document Information Item</head>
<ulist>
<item><p><code>[document element]</code></p></item>
</ulist>
</div2>
<div2 id="reduced-infoset-element">
<head>Element Information Item</head>
<ulist>
<item><p><code>[namespace URI]</code></p></item>
<item><p><code>[local name]</code></p></item>
<item><p><code>[children]</code></p></item>
<item><p><code>[attributes]</code></p></item>
</ulist>
<p>Child information items <code>[children]</code> are reduced to 
only element and character information items.</p>
</div2>
<div2 id="reduced-infoset-attribute">
<head>Attribute Information Item</head>
<ulist>
<item><p><code>[namespace URI]</code></p></item>
<item><p><code>[local name]</code></p></item>
<item><p><code>[normalized value]</code></p></item>
</ulist>
</div2>
<div2 id="reduced-infoset-character">
<head>Character Information Item</head>
<ulist>
<item><p><code>[character code]</code></p></item>
</ulist>
<p>Contiguous character information items are not required to be represented distinctly,
but may be aggregated (chunked) into a sequence of character codes (i.e., a character string).</p>
</div2>
</div1>
<div1 id="dynamicFlowModel">
<head>Dynamic Flow Processing Model</head>
<p><emph>This appendix is normative.</emph></p>
<p>This appendix specifies a dynamic flow processing model that is
used to present content in a region whose <att>tts:overflow</att>
property is assigned a value of <code>scroll</code>.</p>
<div2 id="dynamicFlowIntroduction">
<head>Introduction</head>
<p><emph>This sub-section is non-normative.</emph></p>
<p>Dynamic flow provides a mechanism by means of which content may be
flowed through a presentation region over time where the rate of
presentation is dynamically determined by a presentation processor
based upon the region's extent, the textual content to be presented in
the region, the formatting styles applied to this content, and a set
of parameters that control in-flow and out-flow rates of content.</p>
<p>It is expected that this mechanism will be used by authors in a
variety of circumstances in order to specify behavior that would
otherwise be impossible or impractical to pre-compute at authoring time, since, for
example, a region's absolute size or the font metrics used to present
content may not be known at authoring time. In certain real-time
streaming contexts, even the content is not known at authoring time,
but is only known at time of streaming.</p>
<p>In describing dynamic flow, the flow process is logically divided
into three types of flow operations:</p>
<ulist>
<item><p><emph>fill into</emph>&nbsp;&ndash; causes new content
to consume extent in the designated presentation region;</p></item>
<item><p><emph>reflow within</emph>&nbsp;&ndash; causes content
presently consuming extent to be moved, possibly entailing new line break
positions, within its designated
presentation region;</p></item>
<item><p><emph>clear out</emph>&nbsp;&ndash; causes content
presently consuming extent in the designated presentation region to no
longer consume extent.</p></item>
</ulist>
<p>Each region subject to dynamic flow processing may be modeled in terms of:</p>
<olist>
<item><p>the region with a definite extent, into which content is to be
flowed;</p></item>
<item><p>a content buffer consisting of a sequence of content blocks,
each of which consists of a sequence of content inlines (spans), where
each block and inline has a computed style set, and where an inline
has a (possibly empty) sequence of characters that express the textual
content of the inline;</p></item>
<item><p>two independent flow operation single-shot timers: a fill timer and a clear
timer;</p></item>
<item><p>a set of state parameters that includes:</p>
<olist>
<item><p><emph>fill unit</emph>, as specified by the <code>flowUnit</code> argument
of the <code>in()</code> flow function;</p></item>
<item><p><emph>fill style</emph>, as specified by the <code>flowStyle</code> argument
of the <code>in()</code> flow function;</p></item>
<item><p><emph>fill transition</emph>, as specified by the <code>flowTransition</code> argument
of the <code>in()</code> flow function;</p></item>
<item><p><emph>fill transition style</emph>, as specified by the
<code>flowTransitionStyle</code> argument
of the <code>in()</code> flow function;</p></item>
<item><p><emph>reflow unit</emph>, as specified by the <code>flowUnit</code> argument
of the <code>within()</code> flow function;</p></item>
<item><p><emph>reflow style</emph>, as specified by the <code>flowStyle</code> argument
of the <code>within()</code> flow function;</p></item>
<item><p><emph>reflow transition</emph>, as specified by the <code>flowTransition</code> argument
of the <code>within()</code> flow function;</p></item>
<item><p><emph>reflow transition style</emph>, as specified by the
<code>flowTransitionStyle</code> argument
of the <code>within()</code> flow function;</p></item>
<item><p><emph>clear unit</emph>, as specified by the <code>flowUnit</code> argument
of the <code>out()</code> flow function;</p></item>
<item><p><emph>clear style</emph>, as specified by the <code>flowStyle</code> argument
of the <code>out()</code> flow function;</p></item>
<item><p><emph>clear transition</emph>, as specified by the <code>flowTransition</code> argument
of the <code>out()</code> flow function;</p></item>
<item><p><emph>clear transition style</emph>, as specified by the
<code>flowTransitionStyle</code> argument
of the <code>out()</code> flow function;</p></item>
<item><p><emph>fill interval</emph>, as specified by the <code>intra()</code>
flow interval function;</p></item>
<item><p><emph>clear interval</emph>, as specified by the <code>inter()</code>
flow interval function;</p></item>
<item><p><emph>computed fill interval, as determined by the flow
interval timing calculation below;</emph></p></item>
<item><p><emph>computed clear interval, as determined by the flow
interval timing calculation below;</emph></p></item>
</olist>
</item>
</olist>
<p>Except for the computed fill and clear intervals, the flow interval
state parameters enumerated above are static and specified at authoring time.</p>
</div2>
<div2 id="dynamicFlowEvents">
<head>Flow Buffer</head>
<p>Each region which is assigned a <att>tts:overflow</att> property
with the value <code>scroll</code> is associated with a <emph>flow
buffer</emph>, whose implementation is not defined by this
specification.</p>
<p>The content of a flow buffer is defined to be equivalent (in form) to the
content of an <el>fo:block-container</el> element produced by
<specref ref="semantics-region-layout-step-2"/>, and represents
content that is awaiting, but has not yet been flowed into (made
visible in) the
presentation region with which the flow buffer is associated.</p>
<p>The temporal content of a flow buffer is related to the performance
of <specref ref="semantics-region-layout"/> as follows:</p>
<olist>
<item><p>At the time a dynamically flowed presentation region becomes
temporally active, its flow buffer is reset to the empty state;</p></item>
<item><p>If times <code>T<sub>k</sub></code> and
<code>T<sub>k+1</sub></code> are two immediately adjacent time
coordinates at which synchronic region construction occurs, with
<code>T<sub>k</sub>&le;T<sub>k+1</sub></code>, then compute the
difference between the content produced for use in the region between 
time <code>T<sub>k</sub></code> and time <code>T<sub>k+1</sub></code>,
characterizing the difference as one of the following:</p>
<olist>
<item><p>no difference present;</p></item>
<item><p>difference present, but only before the logical content
position that corresponds with the most logically prior content presently
visible in the region;</p></item>
<item><p>difference present, but only between the logical content
positions that correspond with the most logically prior and subsequent
content presently visible in the region;</p></item>
<item><p>difference present, but only after the logical content
position that corresponds with the most logically subsequent content presently
visible in the region;</p></item>
<item><p>difference present, but not limited to before, between, or after
the positions that correspond with the most logically prior
and subsequent content presently visible in the region;</p></item>
</olist>
</item>
<item><p>If any one of the conditions 2a, 2b, and 2c applies, then do not
change the flow buffer.</p></item>
<item><p>If condition 2d applies, then instantaneously replace the
content of the flow buffer with the new content (in part or in whole) that corresponds with
time <code>T<sub>k+1</sub></code> such that the position of the content that
corresponds with the start of the flow buffer does not change with
respect to the corresponding position of the previous content.</p></item>
<item><p>If condition 2e applies, then subdivide the new content that
corresponds with time <code>T<sub>k+1</sub></code> into two parts: (1)
that part that wholly precedes the position that corresponds with the
most logically subsequent content presently visible in the region, and
(2) that part that corresponds with or wholly follows the position
that corresponds with the most logically subsequent content presently
visible in the region, then ignore the first part and process the second part 
in the same manner as if condition 2d had originally applied.</p></item>
<item><p>If after performing the above steps the flow buffer is
non-empty, then perform the following steps:</p>
<olist>
<item><p>If using automatic flow interval timing, then re-perform the process
described in <specref ref="dynamicFlowIntervalTimingCalculation"/>.</p></item>
<item><p>If the fill timer is not active, then restart the
timer.</p></item>
</olist>
</item>
</olist>
</div2>
<div2 id="dynamicFlowIntervalTimingCalculation">
<head>Flow Interval Timing Calculation</head>
<p>Flow interval timing is either statically specified at authoring
time or is dependent upon the content of the flow buffer or the
presentation region or both, in which case timing is recomputed
dynamically upon changes to the content of the flow buffer or the
presentation region or both.</p>
<div3 id="flowIntervalFillTiming">
<head>Computed Fill Timing Interval</head>
<p>The computed fill timing interval is determined as follows:</p>
<olist>
<item><p>If the value of the <emph>fill interval</emph> parameter is a
definite duration, then use this duration as the computed fill
interval;</p></item>
<item><p>otherwise, if the value of the <emph>fill interval</emph> parameter is a
definite rate, then the computed fill interval is equal to the number of fill units currently
available in the <emph>flow buffer</emph> divided by specified rate
(in fill units per second);</p></item>
<item><p>otherwise, if the value of the <emph>fill interval</emph> is
<code>auto</code>, then the computed fill interval is equal to the
difference between the time coordinate associated with the most
temporally prior beginning point of an active duration of some
content unit present in the flow buffer and the most temporally
subsequent ending point of an active duration of some content unit
present in the flow buffer divided by the number of fill units
currently available in the flow buffer.</p></item>
</olist>
</div3>
<div3 id="flowIntervalClearTiming">
<head>Computed Clear Timing Interval</head>
<p>The computed clear timing interval is determined as follows:</p>
<olist>
<item><p>If the value of the <emph>clear interval</emph> parameter is a
definite duration, then use this duration as the computed clear
interval;</p></item>
<item><p>otherwise, if the value of the <emph>clear interval</emph> parameter is a
definite rate, then the computed clear interval is equal to the number of clear units currently
available in the <emph>presentation region</emph> divided by specified rate
(in clear units per second);</p></item>
<item><p>otherwise, if the value of the <emph>clear interval</emph> is
<code>auto</code>, then the computed clear interval is equal to the
difference between the time coordinate associated with the most
temporally prior beginning point of an active duration of some
content unit present in the presentation region and the most temporally
subsequent ending point of an active duration of some content unit
present in the presentation region divided by the number of clear units
currently available in the presentation region.</p></item>
</olist>
</div3>
</div2>
<div2 id="dynamicFlowOperations">
<head>Flow Operations</head>
<p>Flow operations perform the filling, reflowing, and clearing of
formatted content into, within, and from a presentation undergoing dynamic flow processing.</p>
<div3 id="flowOperationFill">
<head>Fill Operation</head>
<p>A <emph>fill operation</emph> causes the following ordered steps
to be performed:</p>
<olist>
<item><p>remove sufficient content from the beginning of the
<emph>flow buffer</emph> to constitute a <emph>fill
unit</emph>;</p></item>
<item><p>format the content removed from the
<emph>flow buffer</emph> in the previous step in order to
create a sequence of glyph areas or a sequence of (full or
partial measure) line areas each containing a sequence of glyph
areas;</p></item>
<item><p>append the sequence of areas produced in the previous step to
the sequence of areas currently associated with the presentation
region, where new glyph areas are appended to the current line area
and new line areas are appended to the sequence of line areas;</p></item>
<item><p>cause the newly appended areas to be made visible according
to the <emph>fill style</emph>, <emph>fill transition</emph>, and <emph>fill transition
style</emph> state parameters in force.</p></item>
</olist>
</div3>
<div3 id="flowOperationReflow">
<head>Reflow Operation</head>
<p>A <emph>reflow operation</emph> causes the following ordered steps
to be performed:</p>
<olist>
<item><p>translate glyph areas or (full or partial measure) line areas
that correspond with a <emph>reflow unit</emph> of formatted content
that follows (in inline or block progression dimension order) the space
cleared by the immediately preceding <emph>clear operation</emph> to a
new position such that the glyph area that corresponds to the most
logically prior content is aligned with the before and start edges of
the presentation region, and where the translation adheres to
the <emph>reflow style</emph>, <emph>reflow transition</emph>, and <emph>reflow transition
style</emph> state parameters in force.</p></item>
</olist>
</div3>
<div3 id="flowOperationClear">
<head>Clear Operation</head>
<p>A <emph>clear operation</emph> causes the following ordered steps
to be performed:</p>
<olist>
<item><p>remove glyph areas or (full or partial measure) line areas
that correspond with a <emph>clear unit</emph> of formatted content
from the starting edge or the before edge of the presentation region
in inline or block progression direction, respectively, applying
the <emph>clear style</emph>, <emph>clear transition</emph>, and <emph>clear transition
style</emph> state parameters in force.</p></item>
</olist>
</div3>
</div2>
<div2 id="dynamicFlowTimers">
<head>Flow Timers</head>
<p>Flow timers control the filling and clearing of formatted content
from a presentation undergoing dynamic flow processing.</p>
<note> <p>The semantics of flow timer initiated processing expressed
below reflects the intent that clear and reflow
operations or clear, reflow, and flow operations are performed
simultaneously if the (logically, but not necesesarily temporally)
prior operation would create sufficient space in the presentation
region to accept the subsequent unit of formatted content.</p> </note>
<div3 id="flowTimerFill">
<head>Fill Timer</head>
<p>The fill timer is used to pace the addition of formatted content to the
presentation region undergoing dynamic flow processing.</p>
<p>Each time the fill timer expires, the following ordered steps are
performed:</p>
<olist>
<item><p>
If the <emph>fill buffer</emph> is non-empty and contains sufficient
content to compose a <emph>fill unit</emph> and if
sufficient space is present in the presentation region to accept a
unit of formatted content that corresponds to a <emph>fill unit</emph>, then
perform the processing described in <specref
ref="flowOperationFill"/>, where, if the fill timer was expired or
simulated as a result of performing a prior reflow operation, this operation commences at the same
time as the reflow operation;</p></item>
<item><p>If the <emph>fill buffer</emph> is non-empty, then
reset the fill timer to the current value of the computed fill
interval;</p></item>
<item><p>
If the <emph>presentation region</emph> is non-empty and if the clear
timer is not active, then
reset the clear timer to the current value of the computed clear
interval.</p></item>
</olist>
</div3>
<div3 id="flowTimerClear">
<head>Clear Timer</head>
<p>The clear timer is used to pace the removal of formatted content from the
presentation region undergoing dynamic flow processing.</p>
<olist>
<item><p>
If the <emph>presentation region</emph> is non-empty and contains sufficient
formatted content to compose a <emph>clear unit</emph>, then
perform the processing described in <specref
ref="flowOperationClear"/>;</p>
</item>
<item><p>If the space created by performing the clear operation
indicated by the above step would be sufficient to accept a unit of
formatted content that corresponds to a <emph>reflow unit</emph> and
if sufficient formatted content remains after this point in the
presentation region, then perform the processing described in <specref
ref="flowOperationReflow"/>, where this operation commences at the
same time as the clear operation;</p></item>
<item><p>If a reflow operation would be performed as indicated by the above
step and if the space created by performing this reflow operation
would be sufficient to accept a unit of formatted content that
corresponds to a <emph>fill unit</emph> and if the fill buffer is
non-empty, then, if active, cause the fill timer to immediately expire
or, if not active, simulate fill timer expiration, such that the
expiration permits a fill operation to commence simultaneously with
the reflow operation;</p></item>
<item><p> If the previous step did not cause the fill timer to expire
and if the <emph>presentation region</emph> is non-empty, then reset
the clear timer to the current value of the computed clear
interval.</p></item>
</olist>
</div3>
</div2>
</div1>
<div1 id="schemas">
<head>Schemas</head>
<p><emph>This appendix is normative.</emph></p>
<p>This appendix specifies the following schemas for use with
DFXP document instances:</p>
<ulist>
<item><p>Relax NG, Compact Syntax (RNC) Schema</p></item>
<item><p>XML Schema Definition (XSD) Schema</p></item>
</ulist>
<p>In any case where a schema specified by this appendix differs from the
normative definitions of document type, element type, or attribute type
as defined by the body of this specification, then the body of this
specification takes precedence.</p>
<div2 id="dfxp-schema-rnc">
<head>Relax NG Schema</head>
<p>This section specifies a Relax NG Compact Syntax (RNC) <bibref ref="rng"/> based schema
for DFXP, also available in a <loc href="rnc/schema.zip">ZIP
Archive</loc>.</p>
<div3 id="rnc-dfxp-driver-schema">
<head>Driver</head>
<eg xml:space="preserve">&rnc-dfxp-driver;</eg>
</div3>
<div3 id="rnc-dfxp-modules">
<head>Modules</head>
<div4 id="rnc-dfxp-animation-module">
<head>Animation Module</head>
<eg xml:space="preserve">&rnc-dfxp-animation-module;</eg>
</div4>
<div4 id="rnc-dfxp-classes-module">
<head>Classes Module</head>
<eg xml:space="preserve">&rnc-dfxp-classes-module;</eg>
</div4>
<div4 id="rnc-dfxp-content-module">
<head>Content Module</head>
<eg xml:space="preserve">&rnc-dfxp-content-module;</eg>
</div4>
<div4 id="rnc-dfxp-core-attribs-module">
<head>Core Attributes Module</head>
<eg xml:space="preserve">&rnc-dfxp-core-attribs-module;</eg>
</div4>
<div4 id="rnc-dfxp-datatypes-module">
<head>Data Types Module</head>
<eg xml:space="preserve">&rnc-dfxp-datatypes-module;</eg>
</div4>
<div4 id="rnc-dfxp-document-module">
<head>Document Module</head>
<eg xml:space="preserve">&rnc-dfxp-document-module;</eg>
</div4>
<div4 id="rnc-dfxp-head-module">
<head>Header Module</head>
<eg xml:space="preserve">&rnc-dfxp-head-module;</eg>
</div4>
<div4 id="rnc-dfxp-layout-module">
<head>Layout Module</head>
<eg xml:space="preserve">&rnc-dfxp-layout-module;</eg>
</div4>
<div4 id="rnc-dfxp-metdata-module">
<head>Metadata Module</head>
<eg xml:space="preserve">&rnc-dfxp-metadata-module;</eg>
</div4>
<div4 id="rnc-dfxp-metdata-items-module">
<head>Metadata Items Module</head>
<eg xml:space="preserve">&rnc-dfxp-metadata-items-module;</eg>
</div4>
<div4 id="rnc-dfxp-metadata-attribs-module">
<head>Metadata Attributes Module</head>
<eg xml:space="preserve">&rnc-dfxp-metadata-attribs-module;</eg>
</div4>
<div4 id="rnc-dfxp-parameter-attribs-module">
<head>Parameter Attributes Module</head>
<eg xml:space="preserve">&rnc-dfxp-parameter-attribs-module;</eg>
</div4>
<div4 id="rnc-dfxp-styling-attribs-module">
<head>Styling Attributes Module</head>
<eg xml:space="preserve">&rnc-dfxp-styling-attribs-module;</eg>
</div4>
<div4 id="rnc-dfxp-styling-module">
<head>Styling Module</head>
<eg xml:space="preserve">&rnc-dfxp-styling-module;</eg>
</div4>
<div4 id="rnc-dfxp-timing-attribs-module">
<head>Timing Attributes Module</head>
<eg xml:space="preserve">&rnc-dfxp-timing-attribs-module;</eg>
</div4>
</div3>
</div2>
<div2 id="dfxp-schema-xsd">
<head>XML Schema Definition (XSD) Schema</head>
<p>This section specifies a W3C XML Schema Definition (XSD) <bibref ref="xsd-1"/> based schema
for DFXP, also available in a <loc href="xsd/schema.zip">ZIP
Archive</loc>.</p>
<div3 id="xsd-dfxp-driver-schema">
<head>Driver</head>
<eg xml:space="preserve">&xsd-dfxp-driver;</eg>
</div3>
<div3 id="xsd-dfxp-modules">
<head>Modules</head>
<div4 id="xsd-dfxp-animation-module">
<head>Animation Module</head>
<eg xml:space="preserve">&xsd-dfxp-animation-module;</eg>
</div4>
<div4 id="xsd-dfxp-content-module">
<head>Content Module</head>
<eg xml:space="preserve">&xsd-dfxp-content-module;</eg>
</div4>
<div4 id="xsd-dfxp-core-attribs-module">
<head>Core Attributes Module</head>
<eg xml:space="preserve">&xsd-dfxp-core-attribs-module;</eg>
</div4>
<div4 id="xsd-dfxp-datatypes-module">
<head>Data Types Module</head>
<eg xml:space="preserve">&xsd-dfxp-datatypes-module;</eg>
</div4>
<div4 id="xsd-dfxp-document-module">
<head>Document Module</head>
<eg xml:space="preserve">&xsd-dfxp-document-module;</eg>
</div4>
<div4 id="xsd-dfxp-head-module">
<head>Header Module</head>
<eg xml:space="preserve">&xsd-dfxp-head-module;</eg>
</div4>
<div4 id="xsd-dfxp-layout-module">
<head>Layout Module</head>
<eg xml:space="preserve">&xsd-dfxp-layout-module;</eg>
</div4>
<div4 id="xsd-dfxp-metdata-module">
<head>Metadata Module</head>
<eg xml:space="preserve">&xsd-dfxp-metadata-module;</eg>
</div4>
<div4 id="xsd-dfxp-metdata-items-module">
<head>Metadata Items Module</head>
<eg xml:space="preserve">&xsd-dfxp-metadata-items-module;</eg>
</div4>
<div4 id="xsd-dfxp-metadata-attribs-module">
<head>Metadata Attributes Module</head>
<eg xml:space="preserve">&xsd-dfxp-metadata-attribs-module;</eg>
</div4>
<div4 id="xsd-dfxp-parameter-attribs-module">
<head>Parameter Attributes Module</head>
<eg xml:space="preserve">&xsd-dfxp-parameter-attribs-module;</eg>
</div4>
<div4 id="xsd-dfxp-styling-attribs-module">
<head>Styling Attributes Module</head>
<eg xml:space="preserve">&xsd-dfxp-styling-attribs-module;</eg>
</div4>
<div4 id="xsd-dfxp-styling-module">
<head>Styling Module</head>
<eg xml:space="preserve">&xsd-dfxp-styling-module;</eg>
</div4>
<div4 id="xsd-dfxp-timing-attribs-module">
<head>Timing Attributes Module</head>
<eg xml:space="preserve">&xsd-dfxp-timing-attribs-module;</eg>
</div4>
<div4 id="xsd-dfxp-xml-attrs-module">
<head>XML Attributes Module</head>
<eg xml:space="preserve">&xsd-dfxp-xml-attrs-module;</eg>
</div4>
</div3>
</div2>
</div1>
<div1 id="media-type-registration">
<head>Media Type Registration</head>
<p><emph>This appendix is normative.</emph></p>
<p>This appendix registers a new MIME media type,
"application/ttaf+xml" in conformance with
<loc href="http://www.ietf.org/rfc/rfc4288.txt">BCP 13</loc> and
<loc
href="http://www.w3.org/2002/06/registering-mediatype.html">W3CRegMedia</loc>.
The information in this appendix is being submitted to the Internet
Engineering Steering Group (IESG) for review, approval, and
registration with the Internet Assigned Numbers Authority (IANA).</p>
<glist>
<gitem>
<label>MIME media type name:</label>
<def>
<p>application</p>
</def>
</gitem>
<gitem>
<label>MIME subtype name:</label>
<def>
<p>ttaf+xml</p>
</def>
</gitem>
<gitem>
<label>Required parameters:</label>
<def>
<p>None.</p>
</def>
</gitem>
<gitem>
<label>Optional parameters:</label>
<def>
<p>The encoding of a TT AF document must be determined by the XML
encoding declaration. This has identical semantics to the
application/xml media type in the case where the charset parameter is
omitted, as specified in <bibref ref="xml-media"/>, Sections 8.9,
8.10 and 8.11.</p>
<p>The document profile of a TT AF document may be specified using
an optional <code>profile</code> parameter, which, if specified,
the value of which must adhere to the syntax and semantics of
<att>ttp:profile</att> parameter defined by
Section
<specref ref="parameter-attribute-profile"/>
of the published specification.</p>
</def>
</gitem>
<gitem>
<label>Encoding considerations:</label>
<def>
<p>Same for application/xml. See <bibref ref="xml-media"/>, Section
3.2.</p>
</def>
</gitem>
<gitem>
<label>Restrictions on usage:</label>
<def>
<p>None.</p>
</def>
</gitem>
<gitem>
<label>Security considerations:</label>
<def>
<p>As with other XML types and as noted in
<bibref ref="xml-media"/>
Section 10, repeated expansion of maliciously constructed XML entities
can be used to consume large amounts of memory, which may cause XML
processors in constrained environments to fail.</p>
<p>In addition, because of the extensibility features for TT AF and of XML
in general, it is possible that "application/ttaf+xml" may describe content
that has security implications beyond those described here. However,
if the processor follows only the normative semantics of the published
specification, this content will be outside TT AF namespaces and
may be ignored. Only in the case where the processor recognizes and
processes the additional content, or where further processing of that
content is dispatched to other processors, would security issues
potentially arise. And in that case, they would fall outside the
domain of this registration document.</p>
</def>
</gitem>
<gitem>
<label>Interoperability considerations:</label>
<def>
<p>The published specification describes processing semantics that dictate
behavior that must be followed when dealing with, among other things,
unrecognized elements and attributes, both in TT AF namespaces and in
other namespaces.</p>
<p>Because TT AF is extensible, conformant "application/ttaf+xml" processors must
expect that content received is well-formed XML, but it cannot be
guaranteed that the content is valid to a particular DTD or Schema or
that the processor will recognize all of the elements and attributes
in the document.</p>
</def>
</gitem>
<gitem>
<label>Published specification:</label>
<def>
<p>This media type registration is extracted from Appendix <specref
ref="media-type-registration"/> of the <loc
href="http://www.w3.org/TR/ttaf1-dfxp/">Timed Text (TT) Authoring
Format 1.0 - Distribution Format Exchange Profile (DFXP)</loc>
specification.</p>
</def>
</gitem>
<gitem>
<label>Additional information:</label>
<def>
<p>None.</p>
</def>
</gitem>
<gitem>
<label>Person &amp; email address to contact for further information:</label>
<def>
<p>Glenn Adams (public-tt@w3.org)</p>
</def>
</gitem>
<gitem>
<label>Intended usage:</label>
<def>
<p>COMMON</p>
</def>
</gitem>
<gitem>
<label>Author/Change controller:</label>
<def>
<p>The published specification is a work product of the World Wide Web
Consortium's Timed Text (TT) Working Group. The W3C has change control
over this specification.</p>
</def>
</gitem>
</glist>
</div1>
<div1 id="references">
<head>References</head>
<p><emph>This appendix is normative.</emph></p>
<blist>
<bibl id="css2" key="CSS2">Bert Bos et al.,
<titleref
href="http://www.w3.org/TR/1998/REC-CSS2-19980512/">Cascading
Style Sheets, Level 2</titleref>, W3C Recommendation, 12
May 1998. (See
<xspecref href="http://www.w3.org/TR/1998/REC-CSS2-19980512/">http://www.w3.org/TR/1998/REC-CSS2-19980512/</xspecref>.)
</bibl>
<bibl id="gps" key="GPS">
<titleref href="http://tycho.usno.navy.mil/gpsinfo.html">Global
Positioning System</titleref>, US Naval Observatory.
(See
<xspecref href="http://tycho.usno.navy.mil/gpsinfo.html">http://tycho.usno.navy.mil/gpsinfo.html</xspecref>.)
</bibl>
<bibl id="mime-media" key="MIME">Ned Freed and Nathaniel Borenstein,  
<titleref
href="http://www.rfc-editor.org/rfc/rfc2046.txt">Multipurpose Internet
Mail Extensions (MIME) Part Two: Media Types</titleref>,
RFC 2046, November 1996, IETF.(See
<xspecref href="http://www.rfc-editor.org/rfc/rfc2046.txt">http://www.rfc-editor.org/rfc/rfc2046.txt</xspecref>.)
</bibl>
<bibl id="rng" key="RELAX NG">ISO/IEC 19757-2,
<titleref href="http://www.iso.org/">Information technology &ndash; Document
Schema Definition Language (DSDL) &ndash; Part 2: Regular-grammar-based validation &ndash; RELAX NG</titleref>,
International Organization for Standardization (ISO).
</bibl>
<bibl id="smil21" key="SMIL 2.1">Dick Bultermann, et al.,
<titleref href="http://www.w3.org/TR/2005/REC-SMIL2-20051213/">Synchronized
Multimedia Integration Language (SMIL 2.1)</titleref>,
W3C Recommendation, 13 December 2005. (See
<xspecref href="http://www.w3.org/TR/2005/REC-SMIL2-20051213/">http://www.w3.org/TR/2005/REC-SMIL2-20051213/</xspecref>.)
</bibl>
<bibl id="smpte12m" key="SMPTE 12M">ANSI/SMPTE 12M,
<titleref href="http://www.smpte.org/">Television, Audio and Film &ndash;
Time and Control Code</titleref>, SMPTE Standard.
</bibl>
<bibl id="srgb" key="SRGB">IEC 61966-2-1,
<titleref
href="http://www.iec.ch/">Multimedia
systems and equipment &ndash; Colour measurement and management
&ndash; Part 2-1: Colour management &ndash; Default RGB colour space
&ndash; sRGB</titleref>, International Electrotechnical
Commission (IEC).
</bibl>
<bibl id="uaag" key="UAAG">Ian Jacobs, Jon Gunderson, and Eric Hansen, Eds.,
<titleref href="http://www.w3.org/TR/2002/REC-UAAG10-20021217/">User
Agent Accessibility Guidelines 1.0</titleref>, W3C Recommendation, 17
December 2002. (See
<xspecref href="http://www.w3.org/TR/2002/REC-UAAG10-20021217/">http://www.w3.org/TR/2002/REC-UAAG10-20021217/</xspecref>.)
</bibl>
<bibl id="utc" key="UTC">
Recommendation TF.460,
<titleref
href="http://www.itu.int/rec/">Standard-Frequency and Time-Signal
Emissions</titleref>, International
Telecommunciations Union, Radio Sector (ITU-R).
</bibl>
<bibl id="wcag" key="WCAG">Wendy Chisholm, Gregg Vanderheiden, and Ian Jacobs, Eds.,
<titleref href="http://www.w3.org/TR/1999/WAI-WEBCONTENT-19990505/">Web
Content Accessibility Guidelines 1.0</titleref>, W3C Recommendation, 05
May 1999. (See
<xspecref href="http://www.w3.org/TR/1999/WAI-WEBCONTENT-19990505/">http://www.w3.org/TR/1999/WAI-WEBCONTENT-19990505/</xspecref>.)
</bibl>
<bibl id="xml11" key="XML 1.1">Tim Bray, et al.
<titleref href="http://www.w3.org/TR/2004/REC-xml11-20040204/">Extensible Markup Language (XML)
1.1</titleref>, W3C Recommendation, 04 February 2004, updated 15 Apr 2004. (See
<xspecref href="http://www.w3.org/TR/2004/REC-xml11-20040204/">http://www.w3.org/TR/2004/REC-xml11-20040204/</xspecref>.)
</bibl>
<bibl id="xmlid" key="XML ID">Jonathan Marsh, Daniel Veillard, Norman Walsh, Eds.,
<titleref href="http://www.w3.org/TR/2005/REC-xml-id-20050909/">xml:id Version 1.0</titleref>,
W3C Recommendation, 09 September 2005. (See
<xspecref href="http://www.w3.org/TR/2005/REC-xml-id-20050909/">http://www.w3.org/TR/2005/REC-xml-id-20050909/</xspecref>.)
</bibl>
<bibl id="xml-media" key="XML Media">Makato Murata, Simon St. Laurent,
Kan Khon, <titleref
href="http://www.rfc-editor.org/rfc/rfc3023.txt">XML Media Types</titleref>,
RFC 3023, January 2001, IETF.(See
<xspecref
href="http://www.rfc-editor.org/rfc/rfc3023.txt">http://www.rfc-editor.org/rfc/rfc3023.txt</xspecref>.)
</bibl>
<bibl id="infoset" key="XML InfoSet">John Cowan and Richard Tobin,
<titleref href="http://www.w3.org/TR/2004/REC-xml-infoset-20040204/">XML Information Set (Second Edition)</titleref>,
W3C Recommendation, 04 February 2004. (See
<xspecref href="http://www.w3.org/TR/2004/REC-xml-infoset-20040204/">http://www.w3.org/TR/2004/REC-xml-infoset-20040204/</xspecref>.)
</bibl>
<bibl id="rfc3023" key="XML Media Types">Makato Murata, et al.,
<titleref
href="http://www.rfc-editor.org/rfc/rfc3023.txt">XML Media Types</titleref>,
RFC 3023, January 2001, IETF.(See
<xspecref
href="http://www.rfc-editor.org/rfc/rfc3023.txt">http://www.rfc-editor.org/rfc/rfc3023.txt</xspecref>.)
</bibl>
<bibl id="xmlns11" key="XML Namespaces 1.1">Tim Bray, et al.
<titleref href="http://www.w3.org/TR/2004/REC-xml-names11-20040204/">Namespaces
in XML 1.1</titleref>, W3C Recommendation, 04 February 2004. (See
<xspecref href="http://www.w3.org/TR/2004/REC-xml-names11-20040204/">http://www.w3.org/TR/2004/REC-xml-names11-20040204/</xspecref>.)
</bibl>
<bibl id="xsd-1" key="XML Schema Part 1">Henry S. Thompson, David Beech,
Murray Maloney, Noah Mendelsohn, Eds.,
<titleref href="http://www.w3.org/TR/xmlschema-1/">XML Schema Part 1: Structures</titleref>,
W3C Recommendation, 28 October 2004. (See
<xspecref href="http://www.w3.org/TR/xmlschema-1/">http://www.w3.org/TR/xmlschema-1/</xspecref>.)
</bibl>
<bibl id="xsd-2" key="XML Schema Part 2">Paul Biron and Ashok Malhotra,
<titleref href="http://www.w3.org/TR/xmlschema-2/">XML Schema Part 2: Datatypes</titleref>,
W3C Recommendation, 28 October 2004. (See
<xspecref href="http://www.w3.org/TR/xmlschema-2/">http://www.w3.org/TR/xmlschema-2/</xspecref>.)
</bibl>
<bibl id="xsl10" key="XSL 1.0">Sharon Adler, Anders Berglund, et al., Eds.,
<titleref href="http://www.w3.org/TR/2001/REC-xsl-20011015/">Extensible Stylesheet Language, Version 1.0</titleref>,
W3C Recommendation, 15 October 2001. (See
<xspecref href="http://www.w3.org/TR/2001/REC-xsl-20011015/">http://www.w3.org/TR/2001/REC-xsl-20011015/</xspecref>.)
</bibl>
</blist>
</div1>
<inform-div1 id="other-references">
<head>Other References</head>
<blist>
<bibl id="cea608c" key="CEA-608-C">
EIA/CEA-608-C,
<titleref href="http://members.ce.org/standards/StandardDetails.aspx?Id=1506">Line 21 Data
Services</titleref>, EIA/CEA Standard,
Consumer Electronics Association (CEA).
</bibl>
<bibl id="css3-color" key="CSS3 Color">Tantek &Ccedil;elik and Chris Lilley,
<titleref href="http://www.w3.org/TR/2003/CR-css3-color-20030514/">CSS3 Color
Module</titleref>, W3C Candidate Recommendation, 14 May 2003. (See
<xspecref href="http://www.w3.org/TR/2003/CR-css3-color-20030514/">http://www.w3.org/TR/2003/CR-css3-color-20030514/</xspecref>.)
</bibl>
<bibl id="dcmes" key="DCMES 1.1">Dublin Core Metadata Initiative,
<titleref href="http://dublincore.org/documents/dces/">Dublin Core Metadata Element Set, Version 1.1: Reference Description</titleref>. (See
<xspecref href="http://dublincore.org/documents/dces/">http://dublincore.org/documents/dces/</xspecref>.)
</bibl>
<bibl id="mpeg7-5" key="MPEG7-5">
ISO/IEC 15938-5,
<titleref
href="http://www.iso.org/">Information technology &ndash; Multimedia content description
interface &ndash; Part 5: Multimedia description schemes</titleref>,
International Organization for Standardization (ISO).
</bibl>
<bibl id="qaf-sg" key="QAF SG">Karl Dubost, et al.,
<titleref
href="http://www.w3.org/TR/2005/REC-qaframe-spec-20050817/">QA
Framework: Specifications Guidelines</titleref>, W3C Recommendation, 17
August 2005. (See
<xspecref href="http://www.w3.org/TR/qaframe-spec/">http://www.w3.org/TR/qaframe-spec/</xspecref>.)
</bibl>
<bibl id="scheme" key="SCHEME">Guy Steele and Gerald Sussman,
<titleref
href="http://swiss.csail.mit.edu/projects/scheme/">Scheme Programming
Environment</titleref>,
Massachusetts Institute of Technology. (See 
<xspecref
href="http://swiss.csail.mit.edu/projects/scheme/">http://swiss.csail.mit.edu/projects/scheme/</xspecref>.)
</bibl>
<bibl id="smpte170m" key="SMPTE 170M">ANSI/SMPTE 170M, 
<titleref
href="http://www.smpte.org/">Television &ndash; Composite Analog Video
Signal &ndash; NTSC for Studio Applications</titleref>, SMPTE Standard.
</bibl>
<bibl id="svg11" key="SVG 1.1">Jon Ferraiolo, Jun Fujisawa, Dean Jackson, Eds.,
<titleref
href="http://www.w3.org/TR/2003/REC-SVG11-20030114/">Scalable
Vector Graphics (SVG) 1.1 Specification</titleref>, W3C Recommendation, 14
January 2003. (See
<xspecref href="http://www.w3.org/TR/2003/REC-SVG11-20030114/">http://www.w3.org/TR/2003/REC-SVG11-20030114/</xspecref>.)
</bibl>
<bibl id="ttaf1-req" key="TTAF1-REQ">Glenn Adams, Editor,
<titleref href="http://www.w3.org/TR/2006/NOTE-ttaf1-req-20060427/">Timed Text (TT) Authoring Format 1.0 Use
Cases and Requirements</titleref>,
W3C Working Group Note, 27 April 2006. (See
<xspecref
href="http://www.w3.org/TR/2006/NOTE-ttaf1-req-20060427/">http://www.w3.org/TR/2006/NOTE-ttaf1-req-20060427/</xspecref>.)
</bibl>
<bibl id="xhtml10" key="XHTML 1.0">Steven Pemberton, et al.,
<titleref
href="http://www.w3.org/TR/2002/REC-xhtml1-20020801/">XHTML&trade; 1.0,
The Extensible Hypertext Markup Language (Second Edition)</titleref>,
W3C Recommendation, 01
August 2002. (See
<xspecref href="http://www.w3.org/TR/2002/REC-xhtml1-20020801/">http://www.w3.org/TR/2002/REC-xhtml1-20020801/</xspecref>.)
</bibl>
</blist>
</inform-div1>
<inform-div1 id="sample-code">
<head>Sample Code</head>
<p>This appendix contains sample code, also available in
a <loc href="scm/code.zip">ZIP Archive</loc> along with related files, that implements
certain algorithms described by this specification. This code makes
use of the MIT Scheme <bibref ref="scheme"/> dialect of the Lisp Programming Language.</p>
<p>The following algorithms are implemented by this code:</p>
<ulist>
<item><p>Reduced XML Infoset (RXI)</p></item>
<item><p>Abstract Document Instance (ADI)</p></item>
<item><p>Time Interval Resolver (TIR)</p></item>
<item><p>Flow Object Transformer (FOX)</p></item>
<item><p>Dynamic Text Flow Processor (DTF)</p></item>
</ulist>
<p>Subsequent to the sample code listings, a transcript of a sample
compile, load, and run session is provided.</p>
<div2 id="code-rxi">
<head>Reduced XML Infoset (RXI) &ndash;&nbsp;<code>RXI.SCM</code></head>
<eg xml:space="preserve">&code-rxi;</eg>
</div2>
<div2 id="code-adi">
<head>Abstract Document Instance (ADI) &ndash;&nbsp;<code>ADI.SCM</code></head>
<eg xml:space="preserve">&code-adi;</eg>
</div2>
<div2 id="code-tir">
<head>Time Interval Resolver (TIR) &ndash;&nbsp;<code>TIR.SCM</code></head>
<eg xml:space="preserve">&code-tir;</eg>
</div2>
<div2 id="code-fox">
<head>Flow Object Transformer (FOX) &ndash;&nbsp;<code>FOX.SCM</code></head>
<eg xml:space="preserve">&code-tir;</eg>
</div2>
<div2 id="code-dtf">
<head>Dynamic Text Flow Processor (DTF) &ndash;&nbsp;<code>DTF.SCM</code></head>
<eg xml:space="preserve">&code-dtf;</eg>
</div2>
<div2 id="code-run">
<head>Sample Compile, Load, and Run Session</head>
<p>The following transcript shows a sample compile, load, and run
session of the sample code, where the following steps are
performed:</p>
<olist>
<item>
<p>Start scheme using Edwin editor (included with MIT Scheme).</p>
</item>
<item>
<p>Change working directory to sample code directory.</p>
</item>
<item>
<p>Compile DFXP optional package by loading <code>compile.scm</code>.</p>
</item>
<item>
<p>Load DFXP optional package by loading <code>load.scm</code>.</p>
</item>
<item>
<p>Dump world identity to show that the just compiled, DFXP optional
package has been loaded (MIT Scheme SOS, CREF, and XML optional packages are also
loaded a side effect.)</p>	
</item>
<item>
<p>Load DFXP document instance using <code>ADI-DOCUMENT/LOAD</code>
function and save resulting <code>ADI-DOCUMENT</code> instance into variable
<code>D</code>.</p>
</item>
<item>
<p>Convert loaded <code>ADI-DOCUMENT</code> into a list structure and pretty print
this structure using <code>PP</code> environment function.</p>
</item>
<item>
<p>Serialize loaded <code>ADI-DOCUMENT</code> to file
<code>out.xml</code>.</p>
</item>
<item>
<p>Exit scheme interpreter.</p>
</item>
</olist>
<p>The forms to be entered to accomplish the above tasks are depicted in boldface.</p>
<eg xml:space="preserve">
Scheme saved on Tuesday June 18, 2002 at 12:25:05 AM
  Release 7.7.1
  Microcode 14.9
  Runtime 15.1
  Win32 1.6
  SF 4.40
  Liar (Intel i386) 4.115
  Edwin 3.112

;You are in an interaction window of the Edwin editor.
;Type C-h for help.  C-h m will describe some commands.
;Package: (user)

<phrase role="strong">(cd "/work/dfxp/scm")</phrase>
;Value 12: #[pathname 12 "c:\\work\\dfxp\\scm\\"]

<phrase role="strong">(load "compile")</phrase>
;Loading "compile.scm"
;Loading "load.scm"
;Loading "load.scm"
;Loading "sos-w32.pkd" -- done
;Loading "slot.com" -- done
;Loading "class.com" -- done
;Loading "instance.com" -- done
;Loading "method.com" -- done
;Loading "printer.com" -- done
;Loading "macros.com" -- done
 -- done
;Loading "xml-w32.pkd" -- done
;Loading "xml-struct.com" -- done
;Loading "xml-chars.com" -- done
;Loading "xml-parser.com" -- done
;Loading "xml-output.com" -- done
 -- done
;Loading "make.com" -- done
;Loading "cref-w32.pkd" -- done
;Loading "mset.com" -- done
;Loading "object.com" -- done
;Loading "toplev.com" -- done
;Loading "anfile.com" -- done
;Loading "conpkg.com" -- done
;Loading "forpkg.com" -- done
;Loading "redpkg.com" -- done
;Generating "rxi.bin" because of: "rxi.scm"
Syntax file: "rxi.scm" "rxi.bin"
    Read...
      Time taken: .031 (process time); .031 (real time)
    Syntax...
      Time taken: .032 (process time); .031 (real time)
    Transform...
      Time taken: 0. (process time); 0. (real time)
    Optimize...
;Warning: Unreferenced bound variable: is-attribute? (rxi-name/transform-to-xml)
      Time taken: .015 (process time); .016 (real time)
    Generate SCode...
      Time taken: 0. (process time); 0. (real time)
;Dumping "rxi.ext" -- done
;Dumping "rxi.bin" -- done
;Generating "rxi.com" because of: "rxi.bin"
Compile File: "rxi.bin" => "rxi.com"
;Loading "rxi.bin" -- done
    Compiling procedure: rxi-bindings/bindings...
    Compiling procedure: set-rxi-bindings/bindings!...
    Compiling procedure: rxi-bindings/push!...
    Compiling procedure: rxi-bindings/pop!...
    Compiling procedure: rxi-bindings/lookup...
    Compiling procedure: rxi-bindings/resolve...
    Compiling procedure: rxi-name/local...
    Compiling procedure: rxi-name/namespace...
    Compiling procedure: rxi-name->list...
    Compiling procedure: rxi-name/transform-from-xml...
    Compiling procedure: rxi-attribute/name...
    Compiling procedure: rxi-attribute/value...
    Compiling procedure: rxi-attribute->list...
    Compiling procedure: rxi-attribute/transform-from-xml...
    Compiling procedure: rxi-element/name...
    Compiling procedure: rxi-element/attributes...
    Compiling procedure: rxi-element/children...
    Compiling procedure: set-rxi-element/attributes!...
    Compiling procedure: set-rxi-element/children!...
    Compiling procedure: rxi-element->list...
    Compiling procedure: namespace-attribute?...
    Compiling procedure: extract-namespace-bindings...
    Compiling procedure: rxi-element/transform-from-xml...
    Compiling procedure: rxi-document/annotations...
    Compiling procedure: rxi-document/root...
    Compiling procedure: set-rxi-document/annotations!...
    Compiling procedure: set-rxi-document/root!...
    Compiling procedure: rxi-document/annotation...
    Compiling procedure: set-rxi-document/annotation!...
    Compiling procedure: rxi-document/remove-annotation!...
    Compiling procedure: rxi-document->list...
    Compiling procedure: rxi-document/transform-from-xml...
    Compiling procedure: rxi-document/load...
    Compiling procedure: rxi-reverse-bindings/reverse-bindings...
    Compiling procedure: set-rxi-reverse-bindings/reverse-bindings!...
    Compiling procedure: rxi-reverse-bindings/lookup...
    Compiling procedure: rxi-reverse-bindings/generate-prefix...
    Compiling procedure: rxi-reverse-bindings/add!...
    Compiling procedure: rxi-reverse-bindings/sort!...
    Compiling procedure: rxi-reverse-bindings/normalize-preferred...
    Compiling procedure: rxi-name/transform-to-xml...
    Compiling procedure: rxi-attribute/transform-to-xml...
    Compiling procedure: maybe-add-reverse-binding!...
    Compiling procedure: rxi-element/collect-reverse-bindings...
    Compiling procedure: rxi-element/transform-to-xml...
    Compiling procedure: xml-document-add-bindings!...
    Compiling procedure: rxi-document/collect-reverse-bindings...
    Compiling procedure: rxi-document/transform-to-xml...
    Compiling procedure: rxi-document/save...
;"rxi.bci" dumped 
;Dumping "rxi.com" -- done
;Generating "adi.bin" because of: "adi.scm"
Syntax file: "adi.scm" "adi.bin"
    Read...
      Time taken: 0. (process time); 0. (real time)
    Syntax...
      Time taken: 0. (process time); 0. (real time)
    Transform...
      Time taken: .016 (process time); .015 (real time)
    Optimize...
      Time taken: 0. (process time); 0. (real time)
    Generate SCode...
      Time taken: 0. (process time); 0. (real time)
;Dumping "adi.bin" -- done
;Generating "adi.com" because of: "adi.bin"
Compile File: "adi.bin" => "adi.com"
;Loading "adi.bin" -- done
    Compiling procedure: in-per-element-namespace?...
    Compiling procedure: in-dfxp-namespace?...
    Compiling procedure: in-xml-namespace?...
    Compiling procedure: in-dfxp-or-xml-namespace?...
    Compiling procedure: empty-dfxp-element-type?...
    Compiling procedure: only-whitespace-children?...
    Compiling procedure: rxi-document/adi-transform-element...
    Compiling procedure: rxi-document/adi-transform...
    Compiling procedure: adi-document/load...
    Compiling procedure: adi-document/save...
;"adi.bci" dumped 
;Dumping "adi.com" -- done
;Generating "tir.bin" because of: "tir.scm"
Syntax file: "tir.scm" "tir.bin"
    Read...
      Time taken: 0. (process time); 0. (real time)
    Syntax...
      Time taken: 0. (process time); 0. (real time)
    Transform...
      Time taken: 0. (process time); 0. (real time)
    Optimize...
      Time taken: 0. (process time); 0. (real time)
    Generate SCode...
      Time taken: 0. (process time); 0. (real time)
;Dumping "tir.bin" -- done
;Generating "tir.com" because of: "tir.bin"
Compile File: "tir.bin" => "tir.com"
;Loading "tir.bin" -- done
    Compiling procedure: adi-document/tir-transform...
;"tir.bci" dumped 
;Dumping "tir.com" -- done
;Generating "fox.bin" because of: "fox.scm"
Syntax file: "fox.scm" "fox.bin"
    Read...
      Time taken: 0. (process time); 0. (real time)
    Syntax...
      Time taken: 0. (process time); 0. (real time)
    Transform...
      Time taken: 0. (process time); 0. (real time)
    Optimize...
      Time taken: 0. (process time); 0. (real time)
    Generate SCode...
      Time taken: 0. (process time); 0. (real time)
;Dumping "fox.bin" -- done
;Generating "fox.com" because of: "fox.bin"
Compile File: "fox.bin" => "fox.com"
;Loading "fox.bin" -- done
    Compiling procedure: adi-document/fox-transform...
;"fox.bci" dumped 
;Dumping "fox.com" -- done
;Generating "dtf.bin" because of: "dtf.scm"
Syntax file: "dtf.scm" "dtf.bin"
    Read...
      Time taken: 0. (process time); 0. (real time)
    Syntax...
      Time taken: 0. (process time); 0. (real time)
    Transform...
      Time taken: 0. (process time); 0. (real time)
    Optimize...
      Time taken: 0. (process time); 0. (real time)
    Generate SCode...
      Time taken: 0. (process time); 0. (real time)
;Dumping "dtf.bin" -- done
;Generating "dtf.com" because of: "dtf.bin"
Compile File: "dtf.bin" => "dtf.com"
;Loading "dtf.bin" -- done
    Compiling procedure: adi-document/dtf-process...
;"dtf.bci" dumped 
;Dumping "dtf.com" -- done
;Loading "dtf.bin" -- done
;Loading "fox.bin" -- done
;Loading "tir.bin" -- done
;Loading "adi.bin" -- done
;Loading "rxi.bin" -- done
;Dumping "dfxp-w32.fre" -- done
;Dumping "dfxp-w32.pkd" -- done
 -- done
;Unspecified return value

<phrase role="strong">(load "load")</phrase>
;Loading "load.scm"
;Loading "dfxp-w32.pkd" -- done
;Loading "rxi.com" -- done
;Loading "adi.com" -- done
;Loading "tir.com" -- done
;Loading "fox.com" -- done
;Loading "dtf.com" -- done
 -- done
;Unspecified return value

<phrase role="strong">(identify-world)</phrase>
Scheme saved on Tuesday June 18, 2002 at 12:25:05 AM
  Release 7.7.1
  Microcode 14.9
  Runtime 15.1
  Win32 1.6
  SF 4.40
  Liar (Intel i386) 4.115
  Edwin 3.112
  SOS 1.7
  XML 0.2
  CREF 2.3
  DFXP 0.8
;Unspecified return value

<phrase role="strong">(define d (adi-document/load "test.xml"))</phrase>
;Value: d

<phrase role="strong">(pp (rxi-document->list d))</phrase>
(((adi-transform . #t))
 (("tt" "http://www.w3.org/2006/10/ttaf1")
  ((("profile" "http://www.w3.org/2006/10/ttaf1#parameter")
    "http://www.w3.org/2006/10/ttaf1#profile-dfxp")
   (("lang" "http://www.w3.org/XML/1998/namespace") "en"))
  ("\n  "
   (("head" "http://www.w3.org/2006/10/ttaf1")
    ()
    ("\n    "
     (("metadata" "http://www.w3.org/2006/10/ttaf1")
      ()
      ("\n      "
       (("title" "http://www.w3.org/2006/10/ttaf1#metadata") () ("Timed Text DFXP Example"))
       "\n      "
       (("copyright" "http://www.w3.org/2006/10/ttaf1#metadata") () ("The Authors (c) 2006"))
       "\n    "))
     "\n    "
     (("styling" "http://www.w3.org/2006/10/ttaf1")
      ()
      ("\n      \n      "
       (("style" "http://www.w3.org/2006/10/ttaf1")
        ((("xml:id" ()) "s1")
         (("color" "http://www.w3.org/2006/10/ttaf1#style") "white")
         (("fontFamily" "http://www.w3.org/2006/10/ttaf1#style") "proportionalSansSerif")
         (("fontSize" "http://www.w3.org/2006/10/ttaf1#style") "22px")
         (("textAlign" "http://www.w3.org/2006/10/ttaf1#style") "center"))
        ())
       "\n      \n      "
       (("style" "http://www.w3.org/2006/10/ttaf1")
        ((("xml:id" ()) "s2") (("style" ()) "s1")
                          (("color" "http://www.w3.org/2006/10/ttaf1#style") "yellow"))
        ())
       "\n      \n      "
       (("style" "http://www.w3.org/2006/10/ttaf1")
        ((("xml:id" ()) "s1Right") (("style" ()) "s1")
                               (("textAlign" "http://www.w3.org/2006/10/ttaf1#style") "end"))
        ())
       "     \n      \n      "
       (("style" "http://www.w3.org/2006/10/ttaf1")
        ((("xml:id" ()) "s2Left") (("style" ()) "s2")
                              (("textAlign" "http://www.w3.org/2006/10/ttaf1#style") "start"))
        ())
       "\n    "))
     "\n    "
     (("layout" "http://www.w3.org/2006/10/ttaf1")
      ()
      ("\n      "
       (("region" "http://www.w3.org/2006/10/ttaf1")
        ((("xml:id" ()) "subtitleArea")
         (("style" ()) "s1")
         (("extent" "http://www.w3.org/2006/10/ttaf1#style") "560px 62px")
         (("padding" "http://www.w3.org/2006/10/ttaf1#style") "5px 3px")
         (("backgroundColor" "http://www.w3.org/2006/10/ttaf1#style") "black")
         (("displayAlign" "http://www.w3.org/2006/10/ttaf1#style") "after"))
        ())
       "\n    "))
     "  \n  "))
   "\n  "
   (("body" "http://www.w3.org/2006/10/ttaf1")
    ((("region" ()) "subtitleArea"))
    ("\n    "
     (("div" "http://www.w3.org/2006/10/ttaf1")
      ()
      ("\n      "
       (("p" "http://www.w3.org/2006/10/ttaf1")
        ((("xml:id" ()) "subtitle1") (("begin" ()) "0.76s") (("end" ()) "3.45s"))
        ("\n        It seems a paradox, does it not,\n      "))
       "\n      "
       (("p" "http://www.w3.org/2006/10/ttaf1")
        ((("xml:id" ()) "subtitle2") (("begin" ()) "5.0s") (("end" ()) "10.0s"))
        ("\n        that the image formed on" (("br" "http://www.w3.org/2006/10/ttaf1") () ())
                                              "\n        the Retina should be inverted?\n      "))
       "\n      "
       (("p" "http://www.w3.org/2006/10/ttaf1")
        ((("xml:id" ()) "subtitle3") (("begin" ()) "10.0s") (("end" ()) "16.0s") (("style" ()) "s2"))
        ("\n        It is puzzling, why is it" (("br" "http://www.w3.org/2006/10/ttaf1") () ())
                                               "\n        we do not see things upside-down?\n      "))
       "\n      "
       (("p" "http://www.w3.org/2006/10/ttaf1")
        ((("xml:id" ()) "subtitle4") (("begin" ()) "17.2s") (("end" ()) "23.0s"))
        ("\n        You have never heard the Theory,"
         (("br" "http://www.w3.org/2006/10/ttaf1") () ())
         "\n        then, that the Brain also is inverted?\n      "))
       "\n      "
       (("p" "http://www.w3.org/2006/10/ttaf1")
        ((("xml:id" ()) "subtitle5") (("begin" ()) "23.0s") (("end" ()) "27.0s") (("style" ()) "s2"))
        ("\n        No indeed! What a beautiful fact!\n      "))
       "\n      "
       (("p" "http://www.w3.org/2006/10/ttaf1")
        ((("xml:id" ()) "subtitle6a") (("begin" ()) "28.0s") (("end" ()) "34.6s") (("style" ()) "s2Left"))
        ("\n        But how is it proved?\n      "))
       "\n      "
       (("p" "http://www.w3.org/2006/10/ttaf1")
        ((("xml:id" ()) "subtitle6b") (("begin" ()) "28.0s") (("end" ()) "34.6s") (("style" ()) "s1Right"))
        ("\n        Thus: what we call\n      "))
       "\n      "
       (("p" "http://www.w3.org/2006/10/ttaf1")
        ((("xml:id" ()) "subtitle7") (("begin" ()) "34.6s") (("end" ()) "45.0s") (("style" ()) "s1Right"))
        ("\n        the vertex of the Brain" (("br" "http://www.w3.org/2006/10/ttaf1") () ())
                                             "\n        is really its base\n      "))
       "\n      "
       (("p" "http://www.w3.org/2006/10/ttaf1")
        ((("xml:id" ()) "subtitle8") (("begin" ()) "45.0s") (("end" ()) "52.0s") (("style" ()) "s1Right"))
        ("\n        and what we call its base" (("br" "http://www.w3.org/2006/10/ttaf1") () ())
                                               "\n        is really its vertex,\n      "))
       "\n      "
       (("p" "http://www.w3.org/2006/10/ttaf1")
        ((("xml:id" ()) "subtitle9a") (("begin" ()) "53.5s") (("end" ()) "58.7s"))
        ("\n        it is simply a question of nomenclature.\n      "))
       "\n      "
       (("p" "http://www.w3.org/2006/10/ttaf1")
        ((("xml:id" ()) "subtitle9b") (("begin" ()) "53.5s") (("end" ()) "58.7s") (("style" ()) "s2"))
        ("\n        How truly delightful!\n      "))
       "\n    "))
     "    \n  "))
   "\n")))
;Unspecified return value

<phrase role="strong">(adi-document/save d "out.xml")</phrase>
;Unspecified return value

<phrase role="strong">(exit)</phrase>
</eg>
</div2>
</inform-div1>
<inform-div1 id="requirements">
<head>Requirements</head>
<p>The Distribution Format Exchange Profile (DFXP) of the Timed Text Authoring
Format (TT AF) satisfies a subset of the requirements established by
<bibref ref="ttaf1-req"/>. The following table enumerates these requirements and
indicates the extent to which they are satisfied by this specification, where
<emph>S</emph> denotes a requirement is satisfied, <emph>P</emph> denotes
a requirement is partially satisfied, and <emph>N</emph> denotes a
requirement is not satisfied.</p>
<table id="requirements-table" role="common">
<caption>Table H-1 &ndash; Requirement Satisfaction</caption>
<col width="10%"/>
<col width="40%"/>
<col width="10%"/>
<tbody>
<tr>
<th>ID</th>
<th>Name</th>
<th>Status</th>
<th>Comments</th>
</tr>
<tr>
<td>R100</td>
<td>Specification Format</td>
<td>S</td>
<td/>
</tr>
<tr>
<td>R101</td>
<td>Specification Modularity</td>
<td>S</td>
<td/>
</tr>
<tr>
<td>R102</td>
<td>Specification Organization</td>
<td>S</td>
<td/>
</tr>
<tr>
<td>R103</td>
<td>Core and Periphery</td>
<td>S</td>
<td>TT extension namespaces</td>
</tr>
<tr>
<td>R104</td>
<td>Evolution of Core</td>
<td>S</td>
<td>TT extension namespaces</td>
</tr>
<tr>
<td>R105</td>
<td>Ownership of Core</td>
<td>S</td>
<td>TT namespaces</td>
</tr>
<tr>
<td>R106</td>
<td>Surjection of Core</td>
<td>S</td>
<td/>
</tr>
<tr>
<td>R107</td>
<td>Evolution of Periphery</td>
<td>S</td>
<td>TT extension namespaces</td>
</tr>
<tr>
<td>R108</td>
<td>Ownership of Periphery</td>
<td>S</td>
<td>Non-TT namespaces</td>
</tr>
<tr>
<td>R109</td>
<td>Transformation</td>
<td>S</td>
<td>Supports 3GPP, QText, RealText, SAMI</td>
</tr>
<tr>
<td>R110</td>
<td>Streamable Transformation</td>
<td>S</td>
<td>Progressive decoding</td>
</tr>
<tr>
<td>R111</td>
<td>Accessibility &ndash; Content</td>
<td>S</td>
<td>Alternative document instances</td>
</tr>
<tr>
<td>R112</td>
<td>Accessibility &ndash; Authoring System</td>
<td>S</td>
<td/>
</tr>
<tr>
<td>R200</td>
<td>Authorability</td>
<td>S</td>
<td/>
</tr>
<tr>
<td>R201</td>
<td>Multiple Natural Languages</td>
<td>S</td>
<td>Alternative document instances</td>
</tr>
<tr>
<td>R202</td>
<td>Natural Language Coverage</td>
<td>S</td>
<td>Unicode 4.0</td>
</tr>
<tr>
<td>R203</td>
<td>Natural Language Association Granularity</td>
<td>S</td>
<td>See <code>xml:lang</code></td>
</tr>
<tr>
<td>R204</td>
<td>Minimum Character Representability</td>
<td>S</td>
<td>Unicode 4.0</td>
</tr>
<tr>
<td>R205</td>
<td>Intrinsic and Extrinsic Text Content</td>
<td>P</td>
<td>Intrinsic only</td>
</tr>
<tr>
<td>R206</td>
<td>Markup Association</td>
<td>P</td>
<td>Intrinsic only</td>
</tr>
<tr>
<td>R207</td>
<td>Conditional Content</td>
<td>N</td>
<td/>
</tr>
<tr>
<td>R208</td>
<td>Flowed Text</td>
<td>S</td>
<td/>
</tr>
<tr>
<td>R209</td>
<td>Logical Flowed Text Vocabulary</td>
<td>S</td>
<td/>
</tr>
<tr>
<td>R210</td>
<td>Presentational Flowed Text Vocabulary</td>
<td>S</td>
<td>Implied mapping from logical flowed text.</td>
</tr>
<tr>
<td>R211</td>
<td>Flowed Text Vocabulary Relationship</td>
<td>S</td>
<td/>
</tr>
<tr>
<td>R212</td>
<td>Flowed Text Vocabulary Separation</td>
<td>N</td>
<td/>
</tr>
<tr>
<td>R213</td>
<td>Non-Flowed Text</td>
<td>N</td>
<td/>
</tr>
<tr>
<td>R214</td>
<td>Non-Flowed Text Vocabulary</td>
<td>N</td>
<td/>
</tr>
<tr>
<td>R215</td>
<td>Hybrid Flowed and Non-Flowed Text</td>
<td>N</td>
<td/>
</tr>
<tr>
<td>R216</td>
<td>Hyperlinking</td>
<td>N</td>
<td>Can support via XLink</td>
</tr>
<tr>
<td>R217</td>
<td>Embedded Graphics</td>
<td>N</td>
<td/>
</tr>
<tr>
<td>R218</td>
<td>Non-Embedded Graphics</td>
<td>N</td>
<td/>
</tr>
<tr>
<td>R219</td>
<td>Embedded Fonts</td>
<td>N</td>
<td/>
</tr>
<tr>
<td>R220</td>
<td>Non-Embedded Fonts</td>
<td>N</td>
<td/>
</tr>
<tr>
<td>R221</td>
<td>Descriptive Vocabulary</td>
<td>S</td>
<td>See <code>ttm:agent</code>, <code>ttm:role</code></td>
</tr>
<tr>
<td>R222</td>
<td>Embedded Audio</td>
<td>N</td>
<td/>
</tr>
<tr>
<td>R223</td>
<td>Non-Embedded Audio</td>
<td>N</td>
<td/>
</tr>
<tr>
<td>R290</td>
<td>Markup Format</td>
<td>S</td>
<td/>
</tr>
<tr>
<td>R291</td>
<td>Markup Format and Unicode Interaction</td>
<td>S</td>
<td/>
</tr>
<tr>
<td>R292</td>
<td>Extrinsic Resource References</td>
<td>N</td>
<td>No extrinsic references</td>
</tr>
<tr>
<td>R293</td>
<td>Schema Validity Specification</td>
<td>S</td>
<td/>
</tr>
<tr>
<td>R300</td>
<td>Inline Styling</td>
<td>S</td>
<td/>
</tr>
<tr>
<td>R301</td>
<td>Inline Styling Form</td>
<td>P</td>
<td>Inline and referential styling</td>
</tr>
<tr>
<td>R301</td>
<td>Out-of-Line Styling</td>
<td>N</td>
<td/>
</tr>
<tr>
<td>R301</td>
<td>Out-of-Line Styling Form</td>
<td>N</td>
<td/>
</tr>
<tr>
<td>R304</td>
<td>Styling Prioritization</td>
<td>S</td>
<td/>
</tr>
<tr>
<td>R305</td>
<td>Style Parameters &ndash; Aural</td>
<td>N</td>
<td/>
</tr>
<tr>
<td>R306</td>
<td>Style Parameters &ndash; Visual</td>
<td>P</td>
<td>Supports absolute position, background color, color, display none, display alignment,
font family, font size, font style, font weight, height, line height, origin,
opacity, overflow, padding (before, after, start, end), text alignment,
text shadow (as outline), visibility, width, writing mode, z-index</td>
</tr>
<tr>
<td>R307</td>
<td>Style Parameters &ndash; Temporal Fill Mode</td>
<td>S</td>
<td>See <code>tts:dynamicFlow</code></td>
</tr>
<tr>
<td>R390</td>
<td>Style Parameter Symmetry</td>
<td>S</td>
<td/>
</tr>
<tr>
<td>R391</td>
<td>Style Parameter Definitions</td>
<td>S</td>
<td/>
</tr>
<tr>
<td>R392</td>
<td>Style Parameter Shorthands</td>
<td>S</td>
<td/>
</tr>
<tr>
<td>R401</td>
<td>Inline Timing</td>
<td>S</td>
<td/>
</tr>
<tr>
<td>R402</td>
<td>Out-of-Line Timing</td>
<td>N</td>
<td/>
</tr>
<tr>
<td>R403</td>
<td>Synchronization Parameters</td>
<td>P</td>
<td>Supports begin, end, dur</td>
</tr>
<tr>
<td>R404</td>
<td>Synchronization Parameter Value Spaces</td>
<td>P</td>
<td>Supports offset values, media marker values (SMPTE 12M), wallclock values</td>
</tr>
<tr>
<td>R405</td>
<td>Time Containment Semantics</td>
<td>P</td>
<td>Supports sequential, parallel</td>
</tr>
<tr>
<td>R500</td>
<td>Animation Modes</td>
<td>P</td>
<td>Supports discrete</td>
</tr>
<tr>
<td>R501</td>
<td>Scroll Animation</td>
<td>S</td>
<td>See <code>tts:dynamicFlow</code></td>
</tr>
<tr>
<td>R502</td>
<td>Highlight Animation</td>
<td>S</td>
<td><code>&lt;set tts:backgroundColor="..."/&gt;</code></td>
</tr>
<tr>
<td>R503</td>
<td>Fade Transition Animation</td>
<td>S</td>
<td><code>&lt;set tts:opacity="..."/&gt;</code></td>
</tr>
<tr>
<td>R504</td>
<td>Animated Style Parameters &ndash; Aural</td>
<td>N</td>
<td/>
</tr>
<tr>
 <td>R505</td>
<td>Animated Style Parameters &ndash; Visual</td>
<td>P</td>
<td>Supports animating background color, color, display, opacity, origin, visibility</td>
</tr>
<tr>
<td>N506</td>
<td>Animated Content</td>
<td>S</td>
<td/>
</tr>
<tr>
<td>R600</td>
<td>Metadata Item Association</td>
<td>S</td>
<td>See <code>metadata</code>, <code>Metadata.class</code></td>
</tr>
<tr>
<td>R601</td>
<td>Metadata Item Constituents</td>
<td>P</td>
<td>Supports name, value</td>
</tr>
<tr>
<td>R602</td>
<td>Metadata Item Value Representation</td>
<td>P</td>
<td>See <code>metadata</code></td>
</tr>
<tr>
<td>R603</td>
<td>Metadata Item Extensibility</td>
<td>S</td>
<td>See <code>metadata</code></td>
</tr>
<tr>
<td>R604</td>
<td>Metadata Item Validation</td>
<td>S</td>
<td>See <code>metadata</code></td>
</tr>
<tr>
<td>R690</td>
<td>Dublin Core Preference</td>
<td>N</td>
<td>Uses <code>ttm:copyright</code>, <code>ttm:desc</code>, <code>ttm:title</code></td>
</tr>
</tbody>
</table>
</inform-div1>
<inform-div1 id="derivation">
<head>Vocabulary Derivation</head>
<p>This appendix provides information about the derivation of TT AF
vocabulary, separately describing derivation of elements and
attributes.</p>
<div2>
<head>Element Derivation</head>
<p>The first column of <specref ref="element-vocab-derivation-table"/>
specifies a TT AF element vocabulary item; the second column specifies the
syntactic and/or semantic model on which the vocabulary item is based;
the third column specifies the reference that defines
the model (if a model is indicated);
the fourth column specifies details about the derivation; the last
column refers to additional notes describing the nature of the
derivation.</p>
<p>In the fourth column, which describes details of derivation, a
notation is use to indicate the addition or removal of an attribute.
For example, in the derivation of the <el>tt:div</el> element, the
details column includes "-@class", which denotes that the
<att>class</att> attribute that is specified for use with the
<el>xhtml:div</el> model element is not specified for use with the
corresponding TT AF element; in contrast, the details column includes
"+@begin", which denotes that a <att>begin</att> attribute is added
that is not specified for use with the <el>xhtml:div</el> model
element.</p>
<table id="element-vocab-derivation-table" role="common">
<caption>Table I-1 &ndash; Elements</caption>
<col width="20%"/>
<col width="17%"/>
<col width="13%" align="center"/>
<col width="40%"/>
<col width="10%" align="center"/>
<tbody>
<tr>
<td><phrase role="strong">Element</phrase></td>
<td><phrase role="strong">Model</phrase></td>
<td><phrase role="strong">Reference</phrase></td>
<td><phrase role="strong">Details</phrase></td>
<td><phrase role="strong">Notes</phrase></td>
</tr>
<tr>
<td><loc href="#document-structure-vocabulary-body"><code>tt:body</code></loc></td>
<td><code>xhtml:body</code></td>
<td><bibref ref="xhtml10"/></td>
<td>-@class, -@dir, -@lang, -@on*, -@title; +@begin, +@dur, +@end, +@region,
+@timeContainer, +@ttm:*, +@tts:*; content model
subsetted to zero or more division (div) children, and supersetted by
optional metadata and animation children</td>
<td>1,2</td>
</tr>
<tr>
<td><loc href="#content-vocabulary-br"><code>tt:br</code></loc></td>
<td><code>xhtml:br</code></td>
<td><bibref ref="xhtml10"/></td>
<td>-@class, -@title; +@ttm:*, +@tts:*, +@xml:lang, +@xml:space;
content model supersetted by
optional metadata and animation children for congruity with other
content vocabulary</td>
<td>1,2</td>
</tr>
<tr>
<td><loc href="#content-vocabulary-div"><code>tt:div</code></loc></td>
<td><code>xhtml:div</code></td>
<td><bibref ref="xhtml10"/></td>
<td>-@class, -@dir, -@lang, -@on*, -@title; +@begin, +@dur, +@end, +@region,
+@timeContainer, +@ttm:*, +@tts:*, +@xml:space; content model
subsetted to zero or more paragraph (p) children, and supersetted by
optional metadata and animation children</td>
<td>1,2,3</td>
</tr>
<tr>
<td><loc href="#document-structure-vocabulary-head"><code>tt:head</code></loc></td>
<td><code>xhtml:head</code></td>
<td><bibref ref="xhtml10"/></td>
<td>-@dir, -@lang, -@profile; +@id, +@xml:space; content model changed to
optional metadata children, followed by optional styling child,
followed by optional layout child</td>
<td>1,3</td>
</tr>
<tr>
<td><loc href="#layout-vocabulary-layout"><code>tt:layout</code></loc></td>
<td><code>fo:simple-page-master</code></td>
<td><bibref ref="xsl10"/></td>
<td>conceptual derivation</td>
<td>4</td>
</tr>
<tr>
<td><loc href="#metadata-vocabulary-metadata"><code>tt:metadata</code></loc></td>
<td><code>svg:metadata</code></td>
<td><bibref ref="svg11"/></td>
<td>-@xml:base; +@ttm:*, +@xml:lang, +@xml:space; content model
subsetted to foreign namespace element content only (no #PCDATA)</td>
<td>3,5</td>
</tr>
<tr>
<td><loc href="#content-vocabulary-p"><code>tt:p</code></loc></td>
<td><code>xhtml:p</code></td>
<td><bibref ref="xhtml10"/></td>
<td>-@class, -@dir, -@lang, -@on*, -@title; +@begin, +@dur, +@end, +@region,
+@timeContainer, +@ttm:*, +@tts:*, +@xml:space; content model
subsetted to zero or more span children, and supersetted by optional
metadata and animation children</td>
<td>1,2,3</td>
</tr>
<tr>
<td><loc href="#layout-vocabulary-region"><code>tt:region</code></loc></td>
<td><code>fo:region-*</code></td>
<td><bibref ref="xsl10"/></td>
<td>conceptual derivation</td>
<td>4</td>
</tr>
<tr>
<td><loc href="#animation-vocabulary-set"><code>tt:set</code></loc></td>
<td><code>svg:set</code></td>
<td><bibref ref="svg11"/></td>
<td>-@* except begin, dur, end; +@tts:*, +@xml:lang, +@xml:space</td>
<td>3,6</td>
</tr>
<tr>
<td><loc href="#content-vocabulary-span"><code>tt:span</code></loc></td>
<td><code>xhtml:span</code></td>
<td><bibref ref="xhtml10"/></td>
<td>-@class, -@dir, -@lang, -@on*, -@title; +@begin, +@dur, +@end, +@region,
+@timeContainer, +@ttm:*, +@tts:*, +@xml:space; content model
subsetted to zero or more #PCDATA or break (br) children, and
supersetted by optional metadata and animation children</td>
<td>1,2,3</td>
</tr>
<tr>
<td><loc href="#styling-vocabulary-style"><code>tt:style</code></loc></td>
<td><emph>style specification</emph></td>
<td><bibref ref="css2"/></td>
<td>XML representation of identified set of pairs of style property
name and value, with optional inclusion of other styles by reference
to other style elements</td>
<td>7</td>
</tr>
<tr>
<td><loc href="#styling-vocabulary-styling"><code>tt:styling</code></loc></td>
<td><code>xhtml:style</code></td>
<td><bibref ref="xhtml10"/></td>
<td>XML representation of a set of style specifications sets, each
represented by a style child element</td>
<td>1,7</td>
</tr>
<tr>
<td><loc href="#document-structure-vocabulary-tt"><code>tt:tt</code></loc></td>
<td><code>xhtml:html</code></td>
<td><bibref ref="xhtml10"/></td>
<td>-@dir, -@lang; +@id, +@ttp:*, +@xml:space; content model subsetted by
permitting body and/or head to be optional</td>
<td>1,8</td>
</tr>
<tr>
<td><loc href="#metadata-vocabulary-actor"><code>ttm:actor</code></loc></td>
<td><code>mpeg7:Creator</code></td>
<td><bibref ref="mpeg7-5"/></td>
<td>conceptual derivation</td>
<td>4</td>
</tr>
<tr>
<td><loc href="#metadata-vocabulary-agent"><code>ttm:agent</code></loc></td>
<td><code>mpeg7:Agent</code></td>
<td><bibref ref="mpeg7-5"/></td>
<td>conceptual derivation</td>
<td>4</td>
</tr>
<tr>
<td><loc href="#metadata-vocabulary-copyright"><code>ttm:copyright</code></loc></td>
<td><code>mpeg7:CopyrightString</code></td>
<td><bibref ref="mpeg7-5"/></td>
<td>conceptual derivation</td>
<td>4</td>
</tr>
<tr>
<td><loc href="#metadata-vocabulary-desc"><code>ttm:desc</code></loc></td>
<td><code>svg:desc</code></td>
<td><bibref ref="svg11"/></td>
<td>-@class, -@style, -@xml:base</td>
<td>2,5,9</td>
</tr>
<tr>
<td><loc href="#metadata-vocabulary-name"><code>ttm:name</code></loc></td>
<td><code>mpeg7:Name</code></td>
<td><bibref ref="mpeg7-5"/></td>
<td>conceptual derivation</td>
<td>4</td>
</tr>
<tr>
<td><loc href="#metadata-vocabulary-title"><code>ttm:title</code></loc></td>
<td><code>svg:title</code></td>
<td><bibref ref="svg11"/></td>
<td>-@class, -@style, -@xml:base</td>
<td>2,5,9</td>
</tr>
</tbody>
</table>
<note>
<olist>
<item>
<p>Derivation is indicated with respect to the strict DTD defined
by <bibref ref="xhtml10"/>, &sect;A.1.</p>
</item>
<item>
<p>The <att>class</att> attribute is effectively replaced by the
<att>style</att>
attribute, which, instead of specifying an inline style,
refers indirectly to one or more <loc
href="#styling-vocabulary-style"><el>style</el></loc>
elements that define a set of style specification sets.</p>
</item>
<item>
<p>The <att>xml:lang</att> and <att>xml:space</att> attributes are defined for all element
types in order to support their inheritance semantics to operate in
the context of foreign namespace elements.</p>
</item>
<item>
<p>Derivation is conceptual (notional) only.</p>
</item>
<item>
<p>The <att>xml:base</att> attribute is not used since there are no external
references from core vocabulary.</p>
</item>
<item>
<p>The <att>attributeName</att> and <att>to</att> attributes of
<el>svg:set</el> are replaced by the
direct expression of the target attribute name and value by use of a
<att>tts:*</att> attribute.</p>
</item>
<item>
<p>CSS style specification syntax is mapped to XML by use of
attributes defined in the TT Style Namespace.</p>
</item>
<item>
<p>The <att>xml:id</att> attribute is defined for use on all element types.</p>
</item>
<item>
<p>The <att>style</att> attribute is supported only on content
elements.</p>
</item>
</olist>
</note>
</div2>
<div2>
<head>Attribute Derivation</head>
<p>The first column of <specref ref="attribute-vocab-derivation-table"/>
specifies a TT AF attribute vocabulary item; the second column specifies the
syntactic and/or semantic model on which the vocabulary item is based;
the third column specifies the reference that defines
the model (if a model is indicated);
the fourth column specifies details about the derivation; the last
column refers to additional notes describing the nature of the
derivation.</p>
<p>In the fourth column, which describes details of derivation, a
notation is use to indicate the addition or removal of an attribute
value.  For example, in the derivation of the <att>timeContainer</att>
attribute,
the details column includes "-excl", which denotes that the
<code>excl</code> value that is specified for use with the
<att>timeContainer</att> model attribute is not specified for use with the
corresponding TT AF attribute; similarly, an "+<emph>value</emph>"
in the details column indicates that the attribute's values have been
extended to include <emph>value</emph>.</p>
<p>Only those attributes that are specified for use on more than one TT AF
element type are listed below. Those per-element namespace attributes
that are uniquely defined for a specific TT AF element type are not
listed below, but are considered to be part of the specific element
type's derivation described in <specref
ref="element-vocab-derivation-table"/>
above.</p>
<table id="attribute-vocab-derivation-table" role="common">
<caption>Table I-2 &ndash; Attributes</caption>
<col width="20%"/>
<col width="17%"/>
<col width="13%" align="center"/>
<col width="40%"/>
<col width="10%" align="center"/>
<tbody>
<tr>
<td><phrase role="strong">Attribute</phrase></td>
<td><phrase role="strong">Model</phrase></td>
<td><phrase role="strong">Reference</phrase></td>
<td><phrase role="strong">Details</phrase></td>
<td><phrase role="strong">Notes</phrase></td>
</tr>
<tr>
<td><loc href="#timing-attribute-begin"><code>begin</code></loc></td>
<td><code>begin</code></td>
<td><bibref ref="smil21"/></td>
<td>see notes</td>
<td>2,3,4</td>
</tr>
<tr>
<td><loc href="#timing-attribute-dur"><code>dur</code></loc></td>
<td><code>dur</code></td>
<td><bibref ref="smil21"/></td>
<td>see notes</td>
<td>2,3,4</td>
</tr>
<tr>
<td><loc href="#timing-attribute-end"><code>end</code></loc></td>
<td><code>end</code></td>
<td><bibref ref="smil21"/></td>
<td>see notes</td>
<td>2,3,4</td>
</tr>
<tr>
<td><loc href="#layout-attribute-region"><code>region</code></loc></td>
<td><code>master-reference</code></td>
<td><bibref ref="xsl10"/></td>
<td>conceptual derivation</td>
<td></td>
</tr>
<tr>
<td><loc href="#style-attribute-style"><code>style</code></loc></td>
<td><code>class</code></td>
<td><bibref ref="css2"/></td>
<td>dereferences style specification(s) directly</td>
<td></td>
</tr>
<tr>
<td><loc href="#timing-attribute-timeContainer"><code>timeContainer</code></loc></td>
<td><code>timeContainer</code></td>
<td><bibref ref="smil21"/></td>
<td>-excl, -none; no default attribute value</td>
<td>5</td>
</tr>
<tr>
<td><loc href="#metadata-attribute-agent"><code>ttm:agent</code></loc></td>
<td><emph>none</emph></td>
<td></td>
<td>used to attribute agent of content</td>
<td></td>
</tr>
<tr>
<td><loc href="#metadata-attribute-role"><code>ttm:role</code></loc></td>
<td><emph>none</emph></td>
<td></td>
<td>used to attribute role of content</td>
<td></td>
</tr>
<tr>
<td><loc href="#parameter-attribute-cellResolution"><code>ttp:cellResolution</code></loc></td>
<td><emph>none</emph></td>
<td></td>
<td>expresses uniform grid resolution for cell based coordinates</td>
<td></td>
</tr>
<tr>
<td><loc href="#parameter-attribute-clockMode"><code>ttp:clockMode</code></loc></td>
<td><emph>none</emph></td>
<td></td>
<td>determines how to interpret time expressions</td>
<td></td>
</tr>
<tr>
<td><loc href="#parameter-attribute-frameRate"><code>ttp:frameRate</code></loc></td>
<td><emph>none</emph></td>
<td></td>
<td>expresses integral frame rate</td>
<td></td>
</tr>
<tr>
<td><loc href="#parameter-attribute-frameRateMultiplier"><code>ttp:frameRateMultiplier</code></loc></td>
<td><emph>none</emph></td>
<td></td>
<td>used to express non-integral, rational frame rates</td>
<td></td>
</tr>
<tr>
<td><loc href="#parameter-attribute-markerMode"><code>ttp:markerMode</code></loc></td>
<td><emph>none</emph></td>
<td></td>
<td>expresses marker continuity semantics</td>
<td></td>
</tr>
<tr>
<td><loc href="#parameter-attribute-pixelAspectRatio"><code>ttp:pixelAspectRatio</code></loc></td>
<td><emph>none</emph></td>
<td></td>
<td>expresses pixel aspect ratio of related media</td>
<td></td>
</tr>
<tr>
<td><loc href="#parameter-attribute-profile"><code>ttp:profile</code></loc></td>
<td><emph>none</emph></td>
<td></td>
<td>expresses profile of TT AF used by document instance</td>
<td></td>
</tr>
<tr>
<td><loc href="#parameter-attribute-smpteMode"><code>ttp:smpteMode</code></loc></td>
<td><emph>none</emph></td>
<td></td>
<td>expresses frame counting (drop) modes</td>
<td></td>
</tr>
<tr>
<td><loc href="#parameter-attribute-subFrameRate"><code>ttp:subFrameRate</code></loc></td>
<td><emph>none</emph></td>
<td></td>
<td>expresses sub-frame rate</td>
<td></td>
</tr>
<tr>
<td><loc href="#parameter-attribute-tickRate"><code>ttp:tickRate</code></loc></td>
<td><emph>none</emph></td>
<td></td>
<td>used to interpret tick based time expressions</td>
<td></td>
</tr>
<tr>
<td><loc href="#parameter-attribute-timeBase"><code>ttp:timeBase</code></loc></td>
<td><emph>none</emph></td>
<td></td>
<td>used to interpret semantics of time expressions</td>
<td></td>
</tr>
<tr>
<td><loc href="#style-attribute-backgroundColor"><code>tts:backgroundColor</code></loc></td>
<td><code>background-color</code></td>
<td><bibref ref="xsl10"/></td>
<td>see notes</td>
<td>1,6</td>
</tr>
<tr>
<td><loc href="#style-attribute-color"><code>tts:color</code></loc></td>
<td><code>color</code></td>
<td><bibref ref="xsl10"/></td>
<td>initial value specified as <code>transparent</code></td>
<td>6</td>
</tr>
<tr>
<td><loc href="#style-attribute-direction"><code>tts:direction</code></loc></td>
<td><code>direction</code></td>
<td><bibref ref="xsl10"/></td>
<td>complies with model</td>
<td></td>
</tr>
<tr>
<td><loc href="#style-attribute-display"><code>tts:display</code></loc></td>
<td><code>display</code></td>
<td><bibref ref="css2"/></td>
<td>only auto, none, inherit</td>
<td></td>
</tr>
<tr>
<td><loc href="#style-attribute-displayAlign"><code>tts:displayAlign</code></loc></td>
<td><code>display-align</code></td>
<td><bibref ref="xsl10"/></td>
<td>except for name normalization, complies with model</td>
<td>1</td>
</tr>
<tr>
<td><loc href="#style-attribute-dynamicFlow"><code>tts:dynamicFlow</code></loc></td>
<td><emph>none</emph></td>
<td></td>
<td>defines scroll overflow behavior</td>
<td></td>
</tr>
<tr>
<td><loc href="#style-attribute-extent"><code>tts:extent</code></loc></td>
<td><code>width</code>, <code>height</code></td>
<td><bibref ref="xsl10"/></td>
<td>shorthand property</td>
<td></td>
</tr>
<tr>
<td><loc href="#style-attribute-fontFamily"><code>tts:fontFamily</code></loc></td>
<td><code>font-family</code></td>
<td><bibref ref="xsl10"/></td>
<td>extends generic family names</td>
<td>1</td>
</tr>
<tr>
<td><loc href="#style-attribute-fontSize"><code>tts:fontSize</code></loc></td>
<td><code>font-size</code></td>
<td><bibref ref="xsl10"/></td>
<td>see notes</td>
<td>1,7</td>
</tr>
<tr>
<td><loc href="#style-attribute-fontStyle"><code>tts:fontStyle</code></loc></td>
<td><code>font-style</code></td>
<td><bibref ref="xsl10"/></td>
<td>uses alias <code>reverseOblique</code> for <code>backslant</code></td>
<td>1</td>
</tr>
<tr>
<td><loc href="#style-attribute-fontWeight"><code>tts:fontWeight</code></loc></td>
<td><code>font-weight</code></td>
<td><bibref ref="xsl10"/></td>
<td>-bolder, -lighter, -&lt;number&gt;</td>
<td>1</td>
</tr>
<tr>
<td><loc href="#style-attribute-lineHeight"><code>tts:lineHeight</code></loc></td>
<td><code>line-height</code></td>
<td><bibref ref="xsl10"/></td>
<td>-&lt;number&gt;, -&lt;space&gt;</td>
<td>1</td>
</tr>
<tr>
<td><loc href="#style-attribute-opacity"><code>tts:opacity</code></loc></td>
<td><code>opacity</code></td>
<td><bibref ref="css3-color"/></td>
<td>complies with model</td>
<td></td>
</tr>
<tr>
<td><loc href="#style-attribute-origin"><code>tts:origin</code></loc></td>
<td><code>top</code>, <code>left</code></td>
<td><bibref ref="xsl10"/></td>
<td>shorthand property</td>
<td></td>
</tr>
<tr>
<td><loc href="#style-attribute-overflow"><code>tts:overflow</code></loc></td>
<td><code>overflow</code></td>
<td><bibref ref="xsl10"/></td>
<td>-auto, -error-if-overflow; scroll redefined</td>
<td>8</td>
</tr>
<tr>
<td><loc href="#style-attribute-padding"><code>tts:padding</code></loc></td>
<td><code>padding</code></td>
<td><bibref ref="xsl10"/></td>
<td>see notes</td>
<td>9</td>
</tr>
<tr>
<td><loc href="#style-attribute-showBackground"><code>tts:showBackground</code></loc></td>
<td><code>showBackground</code></td>
<td><bibref ref="smil21"/></td>
<td>complies with model</td>
</tr>
<tr>
<td><loc href="#style-attribute-textAlign"><code>tts:textAlign</code></loc></td>
<td><code>text-align</code></td>
<td><bibref ref="xsl10"/></td>
<td>except for name normalization, complies with model</td>
<td>1</td>
</tr>
<tr>
<td><loc href="#style-attribute-textDecoration"><code>tts:textDecoration</code></loc></td>
<td><code>text-decoration</code></td>
<td><bibref ref="xsl10"/></td>
<td>except for name normalization, complies with model</td>
<td>1,10</td>
</tr>
<tr>
<td><loc href="#style-attribute-textOutline"><code>tts:textOutline</code></loc></td>
<td><code>text-shadow</code></td>
<td><bibref ref="xsl10"/></td>
<td>see notes</td>
<td>11</td>
</tr>
<tr>
<td><loc href="#style-attribute-unicodeBidi"><code>tts:unicodeBidi</code></loc></td>
<td><code>unicode-bidi</code></td>
<td><bibref ref="xsl10"/></td>
<td>except for name normalization, complies with model</td>
<td>1</td>
</tr>
<tr>
<td><loc href="#style-attribute-visibility"><code>tts:visibility</code></loc></td>
<td><code>visibility</code></td>
<td><bibref ref="xsl10"/></td>
<td>-collapse</td>
<td></td>
</tr>
<tr>
<td><loc href="#style-attribute-wrapOption"><code>tts:wrapOption</code></loc></td>
<td><code>wrap-option</code></td>
<td><bibref ref="xsl10"/></td>
<td>except for name normalization, complies with model</td>
<td>1</td>
</tr>
<tr>
<td><loc href="#style-attribute-writingMode"><code>tts:writingMode</code></loc></td>
<td><code>writing-mode</code></td>
<td><bibref ref="xsl10"/></td>
<td>+tblr</td>
<td>1</td>
</tr>
<tr>
<td><loc href="#style-attribute-zIndex"><code>tts:zIndex</code></loc></td>
<td><code>z-index</code></td>
<td><bibref ref="xsl10"/></td>
<td>except for name normalization, complies with model</td>
<td>1</td>
</tr>
<tr>
<td><loc href="#content-attribute-id"><code>xml:id</code></loc></td>
<td><code>xml:id</code></td>
<td><bibref ref="xmlid"/></td>
<td>complies with model</td>
<td></td>
</tr>
<tr>
<td><loc href="#content-attribute-lang"><code>xml:lang</code></loc></td>
<td><code>xml:lang</code></td>
<td><bibref ref="xml11"/></td>
<td>complies with model</td>
<td></td>
</tr>
<tr>
<td><loc href="#content-attribute-space"><code>xml:space</code></loc></td>
<td><code>xml:space</code></td>
<td><bibref ref="xml11"/></td>
<td>see notes</td>
<td>12</td>
</tr>
</tbody>
</table>
<note>
<olist>
<item>
<p>Attribute name and/or value(s) are normalized to use
<emph>lowerCamelCase</emph> naming convention.</p>
</item>
<item>
<p>Restricted to expressing a clock value that denotes one of the
following in accordance to whether the parameter expressed by the
<att>ttp:timeBase</att> attribute is <code>media</code>, <code>smpte</code>,
or <code>clock</code>, respectively:
(1) an offset from an implicit syncbase that is linked to a media time
line, (2) an event time
that represents the occurrence of an implicit media marker, or (3) a wallclock
time.</p>
</item>
<item>
<p>Syntactically subsets and supersets the <bibref
ref="smil21"/>&nbsp;<code>Clock-value</code> syntax as follows:
(1) requires non-negative <code>Full-clock-value</code> or
<code>Timecount-value</code>;
(2) if <code>Full-clock-value</code>
then <emph>hours</emph> must be two or more digits;
(3) if <code>Timecount-value</code>, then <emph>metric</emph> must be
specified;
(4) uses <code>m</code> as alias for <code>min</code> metric to denote
minutes;
(5) adds <code>f</code> and <code>t</code> metrics denoting frames and
ticks, respectively;
(6) adds alternative expression of optional <code>Fraction</code> in
<code>Full-clock-value</code> by specifying frame count or frame
count with subframe count.
</p>
</item>
<item>
<p>
Interpretation of time expression is further constrained by
parameters expressed by
<att>ttp:clockMode</att>,
<att>ttp:frameRate</att>,
<att>ttp:frameRateMultiplier</att>,
<att>ttp:markerMode</att>,
<att>ttp:smpteMode</att>,
<att>ttp:subFrameRate</att>,
<att>ttp:tickRate</att>, and
<att>ttp:timeBase</att> attributes.</p>
</item>
<item>
<p>Uses subset of named colors from model to which two aliases are
added as follows: <code>magenta</code> as <code>fuchsia</code>, and <code>cyan</code>
as <code>aqua</code>.</p>
</item>
<item>
<p>If not specified, then parallel (par) container semantics apply to
the element types specified by <specref
ref="timing-attribute-timeContainer"/>.</p>
</item>
<item>
<p>Restricts size to length specification which can be a percentage;
adds optional second length (or percentage) for
specifying separate horizontal and vertical scaling of glyph's EM
square.</p>
</item>
<item>
<p>The value <code>scroll</code> is defined in terms of the <loc
href="#style-attribute-dynamicFlow"><att>tts:dynamicFlow</att></loc>
style property.</p>
</item>
<item>
<p>Expressed in terms of writing mode relative padding properties
rather than absolute padding properties.</p>
</item>
<item>
<p>Excludes <code>blink</code> and <code>no-blink</code> values.</p>
</item>
<item>
<p>Uses only one length specification instead of two, where one length
defines distance of outline effect from nominal edge of glyph contour
outline perpendicular to point of glyph contour. Percentage lengths
are also added to express outline effect in relative to font size.
Outline effects are intended to be drawn both outside of outer closed
contours and inside of inner closed contours.</p>
</item>
<item>
<p>On root element, default attribute value specified as
<code>default</code>, which is defined in terms of whitespace
normalization. Semantics of preservation and default normalization are
defined in terms of presentation semantics by <specref
ref="content-attribute-space"/>.</p>
</item>
</olist>
</note>
</div2>
</inform-div1>
<inform-div1 id="qa">
<head>QA Framework Compliance</head>
<p>This appendix specifies the compliance of this specification with the
requirements and guidelines defined by <xspecref
href="http://www.w3.org/TR/2005/REC-qaframe-spec-20050817/">QA
Framework Specifications Guidelines</xspecref>&nbsp;<bibref
ref="qaf-sg"/>.</p>
<div2>
<head>Requirements</head>
<table id="qa-framework-requirements-table" role="common">
<caption>Table J-1 &ndash; QA Framework Requirements Checklist</caption>
<col width="76%"/>
<col width="6%" align="center"/>
<col width="6%" align="center"/>
<col width="6%" align="center"/>
<col width="6%" align="center"/>
<tbody>
<tr>
<td><phrase role="strong">Requirement</phrase></td>
<td><phrase role="strong">YES</phrase></td>
<td><phrase role="strong">NO</phrase></td>
<td><phrase role="strong">N/A</phrase></td>
<td><phrase role="strong">Notes</phrase></td>
</tr>
<tr>
<td><xspecref href="http://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#include-conformance-clause-principle">Requirement 01: Include a conformance
clause</xspecref></td>
<td><loc href="#conformance">YES</loc></td>
<td/>
<td/>
<td/>
</tr>
<tr>
<td><xspecref href="http://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#define-scope-principle">Requirement 02: Define the scope.</xspecref></td>
<td><loc href="#intro">YES</loc></td>
<td/>
<td/>
<td/>
</tr>
<tr>
<td><xspecref href="http://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#implement-principle">Requirement 03: Identify who or what will implement the specification.</xspecref></td>
<td><loc href="#conformance">YES</loc></td>
<td/>
<td/>
<td/>
</tr>
<tr>
<td><xspecref href="http://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#ref-norm-principle">Requirement 04: Make a list of normative references.</xspecref></td>
<td><loc href="#references">YES</loc></td>
<td/>
<td/>
<td/>
</tr>
<tr>
<td><xspecref href="http://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#define-terms-principle">Requirement 05: Define the terms used in the normative parts of the specification.</xspecref></td>
<td><loc href="#definitions">YES</loc></td>
<td/>
<td/>
<td/>
</tr>
<tr>
<td><xspecref href="http://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#conf-label-principle">Requirement 06: Create conformance labels for each part of the conformance model.</xspecref></td>
<td><loc href="#conformance">YES</loc></td>
<td/>
<td/>
<td/>
</tr>
<tr>
<td><xspecref href="http://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#consistent-style-principle">Requirement 07: Use a consistent style for conformance requirements and explain how to distinguish them.</xspecref></td>
<td><loc href="#conventions">YES</loc></td>
<td/>
<td/>
<td/>
</tr>
<tr>
<td><xspecref href="http://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#req-opt-conf-principle">Requirement 08: Indicate which conformance requirements are mandatory, which are recommended, and which are optional.</xspecref></td>
<td><loc href="#conventions">YES</loc></td>
<td/>
<td/>
<td/>
</tr>
<tr>
<td><xspecref href="http://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#subdivide-mandatory-principle">Requirement 09: If the technology is subdivided, then indicate which subdivisions are mandatory for conformance.</xspecref></td>
<td><loc href="#conformance">YES</loc></td>
<td/>
<td/>
<td/>
</tr>
<tr>
<td><xspecref href="http://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#subdiv-constraints-principle">Requirement 10: If the technology is subdivided, then address subdivision constraints.</xspecref></td>
<td><loc href="#conformance">YES</loc></td>
<td/>
<td/>
<td/>
</tr>
<tr>
<td><xspecref href="http://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#likehood-extension-principle">Requirement 11: Address Extensibility.</xspecref></td>
<td><loc href="#doctypes">YES</loc></td>
<td/>
<td/>
<td/>
</tr>
<tr>
<td><xspecref href="http://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#deprecated-feature-principle">Requirement 12: Identify deprecated features.</xspecref></td>
<td/>
<td/>
<td>N/A</td>
<td>1</td>
</tr>
<tr>
<td><xspecref href="http://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#degree-support-principle">Requirement 13: Define how each class of product handles each deprecated feature.</xspecref></td>
<td/>
<td/>
<td>N/A</td>
<td>1</td>
</tr>
</tbody>
</table>
<note>
<olist>
<item>
<p>No feature is deprecated by this version of this specification.</p>
</item>
</olist>
</note>
</div2>
<div2>
<head>Guidelines</head>
<table id="qa-framework-guidelines-table" role="common">
<caption>Table J-2 &ndash; QA Framework Guidelines Checklist</caption>
<col width="76%"/>
<col width="6%" align="center"/>
<col width="6%" align="center"/>
<col width="6%" align="center"/>
<col width="6%" align="center"/>
<tbody>
<tr>
<td><phrase role="strong">Guideline</phrase></td>
<td><phrase role="strong">YES</phrase></td>
<td><phrase role="strong">NO</phrase></td>
<td><phrase role="strong">N/A</phrase></td>
<td><phrase role="strong">Notes</phrase></td>
</tr>
<tr>
<td><xspecref href="http://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#conformance-model-gp">Good Practice 01: Define the specification's conformance model in the conformance clause.</xspecref></td>
<td><loc href="#conformance">YES</loc></td>
<td/>
<td/>
<td/>
</tr>
<tr>
<td><xspecref href="http://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#norm-informative-gp">Good Practice 02: Specify in the conformance clause how to distinguish normative from informative content.</xspecref></td>
<td><loc href="#conventions">YES</loc></td>
<td/>
<td/>
<td/>
</tr>
<tr>
<td><xspecref href="http://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#conformance-claim-gp">Good Practice 03: Provide the wording for conformance claims.</xspecref></td>
<td><loc href="#claims">YES</loc></td>
<td/>
<td/>
<td/>
</tr>
<tr>
<td><xspecref href="http://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#ics-gp">Good Practice 04: Provide an Implementation Conformance Statement Pro Forma.</xspecref></td>
<td/>
<td>NO</td>
<td/>
<td/>
</tr>
<tr>
<td><xspecref href="http://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#ics-claim-gp">Good Practice 05: Require an Implementation Conformance Statement as part of valid conformance claims.</xspecref></td>
<td><loc href="#claims">YES</loc></td>
<td/>
<td/>
</tr>
<tr>
<td><xspecref href="http://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#use-example-gp">Good Practice 06: Provide examples, use cases, and graphics.</xspecref></td>
<td><loc href="#example">YES</loc></td>
<td/>
<td/>
<td/>
</tr>
<tr>
<td><xspecref href="http://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#write-sample-gp">Good Practice 07: Write sample code or tests.</xspecref></td>
<td><loc href="#sample-code">YES</loc></td>
<td/>
<td/>
<td/>
</tr>
<tr>
<td><xspecref href="http://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#ref-define-practice">Good Practice 08: When imposing requirements by normative references, address conformance dependencies.</xspecref></td>
<td><loc href="#references">YES</loc></td>
<td/>
<td/>
<td>1</td>
</tr>
<tr>
<td><xspecref href="http://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#define-terms-inline-gp">Good Practice 09: Define unfamiliar terms in-line and consolidate the definitions in a glossary section.</xspecref></td>
<td><loc href="#definitions">YES</loc></td>
<td/>
<td/>
<td/>
</tr>
<tr>
<td><xspecref href="http://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#reuse-terms-gp">Good Practice 10: Use terms already defined without changing their definition.</xspecref></td>
<td><loc href="#definitions">YES</loc></td>
<td/>
<td/>
<td>2</td>
</tr>
<tr>
<td><xspecref href="http://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#formal-language-gp">Good Practice 11: Use formal languages when possible.</xspecref></td>
<td><loc href="#schemas">YES</loc></td>
<td/>
<td/>
<td/>
</tr>
<tr>
<td><xspecref href="http://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#write-assertion-gp">Good Practice 12: Write Test Assertions.</xspecref></td>
<td/>
<td>NO</td>
<td/>
<td>3</td>
</tr>
<tr>
<td><xspecref href="http://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#subdivide-foster-gp">Good Practice 13: Create subdivisions of the technology when warranted.</xspecref></td>
<td><loc href="#conformance">YES</loc></td>
<td/>
<td/>
<td/>
</tr>
<tr>
<td><xspecref href="http://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#rules-profiles-gp">Good Practice 14: If the technology is profiled, define rules for creating new profiles.</xspecref></td>
<td><loc href="#vocabulary-profiles">YES</loc></td>
<td/>
<td/>
<td/>
</tr>
<tr>
<td><xspecref href="http://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#need-option-gp">Good Practice 15:Use optional features as warranted.</xspecref></td>
<td>YES</td>
<td/>
<td/>
<td/>
</tr>
<tr>
<td><xspecref href="http://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#label-options-gp">Good Practice 16: Clearly identify optional features.</xspecref></td>
<td>YES</td>
<td/>
<td/>
<td/>
</tr>
<tr>
<td><xspecref href="http://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#constraints-gp">Good Practice 17: Indicate any limitations or constraints on optional features.</xspecref></td>
<td>YES</td>
<td/>
<td/>
<td/>
</tr>
<tr>
<td><xspecref href="http://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#extensions-prohibited-gp">Good Practice 18: If extensibility is allowed, define an extension mechanism.</xspecref></td>
<td><loc href="#extension-vocabulary-overview">YES</loc></td>
<td/>
<td/>
<td/>
</tr>
<tr>
<td><xspecref href="http://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#breaking-conformance-gp">Good Practice 19: Warn extension creators to create extensions that do not interfere with conformance.</xspecref></td>
<td><loc href="#extension-vocabulary-overview">YES</loc></td>
<td/>
<td/>
<td/>
</tr>
<tr>
<td><xspecref href="http://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#define-error-gp">Good Practice 20: Define error-handling for unknown extensions.</xspecref></td>
<td><loc href="#conformance-processor">YES</loc></td>
<td/>
<td/>
<td>4</td>
</tr>
<tr>
<td><xspecref href="http://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#workaround-gp">Good Practice 21: Explain how to avoid using a deprecated feature.</xspecref></td>
<td/>
<td/>
<td>N/A</td>
<td>5</td>
</tr>
<tr>
<td><xspecref href="http://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#obsolete-gp">Good Practice 22: Identify obsolete features.</xspecref></td>
<td/>
<td/>
<td>N/A</td>
<td>5</td>
</tr>
<tr>
<td><xspecref href="http://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#error-handling-gp">Good Practice 23: Define an error handling mechanism.</xspecref></td>
<td><loc href="#reduced-infoset">YES</loc></td>
<td/>
<td/>
<td/>
</tr>
</tbody>
</table>
<note>
<olist>
<item>
<p>When making normative references to external specifications,
specific clauses or sections are cited.</p>
</item>
<item>
<p>See also <specref ref="derivation"/>.</p>
</item>
<item>
<p>Test assertions and test suites will be provided prior to entering
Proposed Recommendation (PR) phase.</p>
</item>
<item>
<p>See criterion #3 in <specref
ref="conformance-processor"/> and definition of
<loc href="#doctypes">TT AF Abstract Document Instance</loc>.</p>
</item>
<item>
<p>No feature is deprecated or obsoleted by this version of this specification.</p>
</item>
</olist>
</note>
</div2>
</inform-div1>
<inform-div1 id="streaming">
<head>Streaming DFXP Content</head>
<p>DFXP Content is designed to support streamability by implementing the
following properties:</p>
<ulist>
<item>
<p>can be progressively encoded (i.e., does not require computing
subsequent data prior to sending current data);</p>
</item>
<item>
<p>can be progressively decoded (i.e., does not require forward
references, but uses only reverse references when necessary);</p>
</item>
<item>
<p>does not require dereferencing (and subsequent loading) of any
resources other than DFXP content (i.e., no embedded URIs);</p>
</item>
<item>
<p>does not support alternative content forms (e.g., different
language, graphics formats, time bases) in a single document;</p>
</item>
<item>
<p>has timing structure compiled into inline format that makes
possible a temporal ordering of content that follows temporal
presentation order;</p>
</item>
<item>
<p>constrains content models to prevent arbitrary nested content
structures;</p>
</item>
</ulist>
<p>One possible means by which DFXP Content may be streamed is to
partition a DFXP document instance's information set into
non-overlapping fragments, where one particular fragment, call it the
<emph>root fragment</emph>, represents the front matter (head) of the
document instance as well as its top level structural elements, and
other fragments represent content whose time intervals are expected to
be active in parallel.</p>
<p>In applications that require arbitrary (random) entry into a
stream, i.e., the property of being able to start reading data at an
arbitrary data access unit, the root fragment will be repetitively
transmitted (inserted) into the stream in order to permit a decoder to
resynchronize and acquire sufficient structural information in the
information set in order to interpret subsequent content
fragments.</p>
<p>An example of such a fragmentation of a DFXP document instance is
shown in <specref ref="fragment-streaming-graphic"/>.</p>
<table id="fragment-streaming-graphic" role="example-images">
<caption>Figure 2 &ndash; Fragment Streaming</caption>
<tbody>
<tr>
<td><graphic id="graphic-fragment-streaming" source="images/streaming.png" alt="Fragment Streaming"/></td>
</tr>
</tbody>
</table>
<note>
<p>This specification does not define a transport buffer model or a decoder
capabilities model.</p>
</note>
</inform-div1>
<inform-div1 id="acknowledgements">
<head>Acknowledgments</head>
<p>The editor acknowledges the members of the Timed Text Working
Group, the members of other W3C Working Groups, and industry experts
in other forums who have contributed directly or indirectly to the
process or content of creating this document.</p>
<p>The current and former members of the Timed Text Working Group are:
Glenn Adams, Extensible Formatting Systems, Inc. (chair);
Kees Blom, CWI;
Brad Botkin, WGBH National Center for Accessible Media;
Dick Bulterman, CWI;
Michael Dolan, Invited Expert;
Gerry Fields, WGBH (formerly);
Geoff Freed, WGBH National Center for Accessible Media;
Markus Gylling, DAISY Consortium;
Markku Hakkinen, Japanese Society for Rehabilitation of Persons with Disabilities;
Sean Hayes, Microsoft;
Erik Hodge, RealNetworks;
Masahiko Kaneko, Microsoft;
George Kerscher, DAISY Consortium;
David Kirby, BBC;
Thierry Michel, W3C (team contact);
Patrick Schmitz, Invited Expert;
and, Dave Singer, Apple Computer.
</p>
<p>The editor wishes to especially acknowledge the following contributions
by members: Micheal Dolan (SMPTE time codes, streaming; SMPTE liaison), David
Kirby (introductory example document; SMPTE time codes, descriptive metadata; EBU/AAF liaison), Geoff Freed (styling
and example images of style properties), Sean Hayes (advanced profile
concepts, including applicative timing), Eric Hodge (timing),
Thierry Michel (metadata), and Dave Singer (animation, scrolling).</p>
<p>The Timed Text Working Group has benefited in its work from the
participation and contributions of a number of people not currently
members of the Working Group, including in particular those named
below. Affiliations given are those current at the time of their work
with the WG.</p>
<p>
John Birch, Screen Subtitling Systems;
Bert Bos, W3C (chair, CSS WG);
Martin D&uuml;rst, W3C (leader, I18N Activity);
Al Gilman (chair, WAI Protocol and Formats WG);
Philipp Hoschka, W3C (leader, Interaction Domain);
Chris Lilley, W3C (chair, SVG WG).
</p>
<p>The editor wishes to especially acknowledge the following contributions
by non-members: John Birch (dynamic flow).</p>
</inform-div1>
<inform-div1 id="change-history">
<head>Change History</head>
<div2 id="change-history-lc1-to-lc2">
<head>Changes from First to Second Last Call Working Draft</head>
<eg xml:space="preserve">
<phrase role="strong">Technical Changes</phrase>

The following changes result in a technical change of the conformance
criteria, the normative abstract document type that is defined
for use with DFXP, or the defined value space of an attribute or
property:

* Update namespace URIs to use 2006/04 instead of 2004/11;
* Remove ttp:defaultLengthUnit definition and all references;
  + change initial (default) value definition of tts:fontSize to
    be 1/24th of the height of the root container in all cases;
  + change syntax of scalar form of &lt;length&gt; to require units
* Remove ttp:defaultTimeMetric definition and all references;
  + change syntax of &lt;duration&gt; to require a metric
* Add "transcription" to ttm:role enumeration in section 12.2.2;
* In section 8.2.16, change "dynamic" value to read "scroll" instead,
  which is already defined by CSS/XSL and given UA dependent
  semantics; here we will specify fixed semantics and map to dynamic
  flow; change also usage in 8.1.7 to refer to "scroll";
* In section 6.2.1, change implied default value of ttp:cellResolution
  from 1col/1row to 32cols/15rows, based on CEA/EIA-608-C maximum values;
* In 8.3.12, add "cyan" and "magenta" as aliases for "aqua" and
  "fucshia", since it turns out these are defined by SVG1.0;
* Add following new values for ttm:role to support EIA/CEA-708 caption
  text functions: dialog, expletive, narration, quality, source,
  suppressed; remove associated editorial note;
* In 3.1, add new conformance criteria item 1 that specifies the use
  of application/ttaf+xml as MIME media type with optional "profile"
  parameter; use new references to MIME and XML Media Types;
* Remove begin, dur, and end attributes and descriptions thereof from
  &lt;tt/&gt; and &lt;layout/&gt;;
* Move description of tts:extent attribute from &lt;tt/&gt; to
  &lt;body/&gt;;
* Change "meta" element name to "metadata" to match SVG usage, on
  which this vocabulary item is modeled;
* Remove name attribute from &lt;metadata/&gt; element;
* Change initial (default) value definition of tts:fontSize to
  be 1c (one grid cell) in order to match implied default value for
  ttp:cellResolution row count;
* For sake of symmetry, add Metadata.class and Animation.class children to
  content model of &lt;br/&gt;;
* Add style, ttm:*, tts:* and foreign namespace attributes to
  &lt;br/&gt;;
* Add usage of tts:padding property that takes three length specifications;
* Add left and right values to textAlign;
* Add monospace, serif, and sansSerif to generic font family names;
* Add missing "auto" value to zIndex, and make "auto" initial value
  in order to comply with XSL/CSS usage;
* Add means to specify rate (in units per second) to definition of
  flowIntervalArguments in section 8.3.8;
* Populate Appendix B on Dynamic Flow Processing which defines normative
  semantics (previously unspecified);

<phrase role="strong">Editorial Changes</phrase>

The following changes are editorial in nature or entail semantic
clarifications that do not affect the abstract document type or defined
schemas for DFXP:

* Add "Contributing Authors" to preamble, listing contributors;
* Merge current and former members description in Appendix H (now
  Appendix K);
* Remove references to AFXP as follows:
  + remove 1st note in section 1
  + remove 1st note in section 1.1
  + remove definition of AFXP from glossary
  + remove section 4.2
  + remove AFXP profile entry from Table 2 - Profiles
  + remove reference to 2nd catalog in section 5.3 preamble
  + remove last clause of 2nd para of section 5.3
  + change "AFXP" to "future profiles" in 1st para of section 5.3.1
  + remove section 5.3.2
  + remove last sentence of 2nd note in section 7.1.4
  + remove last sentence of 1st note in section 7.1.6
  + change "AFXP" to "advanced profiles" in 3rd para of Appendix H (now
  Appendix K);
* Add clarifying language in the last para of section 8.3.6;
* Clarify definition of "Valid Abstract Document Instance" in section 4
  to account for the pruning of attributes in other namespaces and
  residual requirements on the presence and value type of attributes;
  + remove redundant definition in glossary to prevent competing
    definitions
* Add informative reference to SMPTE170M (for NTSC); add a
  reference to this bibliographic entry from the 1st note under
  section 6.2.4; add new sentence to this same note indicating
  that other frame rate multipliers apply in other regions and
  with other video formats;
* Add normative reference to UAAG; add recommendation in
  conformance clause 3.2 item (5) that a presentation processor
  should satisfy UAAG defined guidelines;
* Add note in introduction expressing that a related sign language
  representation may be appropriate in some circumstances, but that
  this is not addressed explicitly by DFXP;
* Add note in section 6.2.11 indicating that control over state of
  external media time base is outside the scope of DFXP;
* Add note in section 5.2 indicating possible uses of profile
  information;
* Fix typos:
  + section 6.2.1: s/express number/express the number/
  + section 6.2.5 (now 6.2.3): s/in document/in a document/
  + section 6.2.6 (now 6.2.4): s/MHz/Hz/
* Add note to 6.2.2 referring to section 10.3 Time Value Expressions;
* Add normative reference to UTC, using reference in section 6.2.2;
* Add normative reference to GPS, using reference in section 6.2.2;
* Add note to 6.2.2 summarizing difference between GPS and UTC;
* Add para to 6.2.2 clarifying that ttp:clockMode is significant
  only on &lt;tt/&gt; element;
* In section 8.3.11, add or refer to definitions of "px", "em", and
  "c";
* In section 7.2.3, replace definition of semantics of xml:space
  values with a new definition that maps to XSL-FO properties;
* In section 9.3.2, add new item (8) that specifies mapping for
  &lt;br/&gt; elements to &lt;fo:character/&gt;;
* In section 4, add new step 2 to definition of Abstract Document
  Instance, which is needed to remove certain XML whitespace that
  remains after pruning elements; e.g., a &lt;br/&gt; element may have
  children from another namespace, that, after pruning, would result
  in a non-empty &lt;br/&gt; element; this new step ensures that the
  element is emptied prior to validation against its abstract
  document type;
* In section 8 preamble, add new para indicating that no normative
  use of a stylesheet PI is defined;
* In section 8.2.16, add condition tts:wrapOption="noWrap" in note;
* In section 8.2.22, move visibility="hidden" from &lt;p/&gt; to &lt;span/&gt;s;
  otherwise, content would remain hidden due to &lt;p/&gt; being hidden;
* Add informative reference to CEA/EIA-608-C; use this reference
  in a new note in 6.2.1;
* Add note in 6.2.1 explaining that it is not expected that glyph
  areas align with uniform grid defined by ttp:cellResolution,
  indicate that such alignment would occur only when using monospace
  font whose EM square exactly matches grid's cell size;
* Add normative reference to SRGB definition;
* Add normative use of SRGB in section 8.3.2 &lt;color&gt; and 8.3.12 &lt;namedColor&gt;
* In 8.3.2, add para indicating that SRGB is used for both input and
  output of notional composition functions; add note indicating that
  a presentation processor may actually use another color space for
  internal or external purposes;
* In 8.2.14, specify that opacity applies on a linear scale;
* Add informative reference to SVG 1.0;
* Add note in 8.3.12 indicating that named color set is a strict
  subset of SVG 1.0 named color set;
* Add empty informative Appendices H, I, and L, to document Vocabulary
  Derivation, QA Framework Compliance, and Change History,
  respectively; renumber former appendices G and H as Appendices J
  and K, respectively;
* Add normative reference to RFC2046, MIME Media Types;
* Add normative reference to RFC3023, XML Media Types;
* Change description of implied begin/end on &lt;tt/&gt; to refer to
  external context temporal interval;
* Change description of implied begin/end on &lt;body/&gt; to refer to
  external time interval;
* In 7.1.2, 8.1.1, and 9.1.1, specify that implied time intervals of
  head, styling, and layout are coterminous with external time
  interval;
* In 9.1.2, indicate that begin/end points specified on &lt;region/&gt;
  are relative to the time interval of the nearest ancestor associated
  with a time interval;
* In 9.1.2, remove constraint that if no tts:extent is specified in
  computed style set then no content is flowed into region; this
  constraint is redundant since the initial value of tts:extent is
  "auto" which is defined to be extent of root container;
* Fix typos:
  + section 9.1.2, s/layout/region/ in para describing dur attribute;
* Add note at end of the preamble to section 8.2, [Styling] Attribute
  Vocabulary, indicating that (to support inheritance) any style
  property may be specified on any content element independently of
  whether it applies to that element;
* Remove note in 7.1.7 that indicated that &lt;br/&gt; is empty in
  the reduced XML infoset, which no longer holds as both metadata and
  animation children may be present;
* In Appendix I, add table I-1 with element vocabulary derivation;
* Define monospace to be either serifed or not; define serif and
  sansSerif to be equivalent to proportionalSerif and proportionalSansSerif,
  respectively;
* Add time metric to time expressions in example content;
* Add definition of implicit duration of document instance in section 7.1.1;
* In definition of &lt;time-expression&gt; syntax in section 10.3.1,
  remove paragraph referring to default time metric, which no longer
  applies now that time metric must be specified;
* In Appendix I, add table I-2 with attribute vocabulary derivation;
* Add definition of percentage lengths to each style property
  definition. Percentages apply to the following styles: extent,
  fontSize, lineHeight, origin, padding, and textOutline;
* Fill in Appendix I with QA Framework compliance information;
* Add section 5.3.2 defining a presently empty "Extension Catalog"
  that serves as a placeholder for future standardized extensions and
  additionally specifies that document instance may contain arbitrary
  namespace qualified elements and attributes from other namespaces;
* Add section 3.3 defining conformance claims and requirements
  regarding for providing an implementation compliance statement;
* Add hyperlinks throughout document for references to elements,
  attributes, and value expressions;
* Add new Appendix F containing sample code and sample compile,
  load, run session transcript;
* Change IDREF to IDREFS as value of ttm:agent as found in prose in
  section 12.2.1;
</eg>
</div2>

<div2 id="change-history-lc2-to-cr">
<head>Changes from Second Last Call Working Draft to Candidate
Recommendation</head>
<eg xml:space="preserve">
<phrase role="strong">Technical Changes</phrase>

The following changes result in a technical change of the conformance
criteria, the normative abstract document type that is defined
for use with DFXP, or the defined value space of an attribute or
property:

* Restore support for nested div and span elements [that had
  been removed in an early working draft].
* Change "id" attribute to "xml:id".
* Add tts:textDecoration style property.
* Update namespace URIs to use 2006/10 instead of 2006/04.
* Update profile URIs to use 2006/10 instead of 2006/04.

<phrase role="strong">Editorial Changes</phrase>

The following changes are editorial in nature or entail semantic
clarifications that do not affect the abstract document type, defined
schemas, or conformance criteria for DFXP:

* Update "status of this document" (SOTD) section to
  reflect CR transition.
* Add normative reference to xml:id recommendation.
* Add note in section 9.3.3 indicating that intermediate document
  examples are internal processing states and do not represent
  valid DFXP documents.
* Add "Except for transparent, " to note in section 8.3.12.
* Add recommendation, in section 3.1 item 5, that conformant
  reduced infoset "should" adhere to WCAG1.0.
* Add normative reference to WCAG1.0.
* Update informative reference to SVG1.0 to reference SVG1.1
  instead.
* Insert new (normative) Appendix D that specifies the
  MIME Media Type registration information for application/ttaf+xml.
* Add normative reference to RFC3023 tagged as [XML Media Types],
  for use by new Appendix D.
* Normalize and add missing dates of W3C Recs cited in
  Appendices E (References) and F (Other References).
* In Table 4, express groups as choice lists instead of
  sequences (which might have been confusing).
* Revise content models of XML Representation of div, p,
  and span element information items in order to make
  reference to Block.class and Inline.class element
  groups.
* Add "This appendix is normative" to beginning of each
  normative appendix.
* Add clarifications in sections 8.3.13 and 8.3.14 that
  syntactic element "char" adheres to production [2] of
  XML1.1, while syntactic element "S" adheres to
  production [3] of XML1.1.
* Add note to section 7.1.7 (and rearrange paragraph ordering)
  to indicate that two &lt;br&gt; elements are intended to
  produce two forced line breaks in a sequence.
* Add note to section 6.2.4 that indicates that PAL
  formatted video nominally uses a 1:1 frame rate multiplier
  (except for PAL/M).
* Add note to end of section 9.3.2 that indicates that a
  compliant XSL1.0 presentation processor may be insufficient
  to satisfy the presentation semantics of DFXP.
* Clarify syntax of &lt;alpha&gt; style value expression to
  use XML Scheme Datatype lexical representation of xs:float,
  which was the intended syntactic value space for this
  expression.
* Clarify that ttp:cellResolution columns or rows must not be zero
  if present.
* Clarify that ttp:frameRate must be greater than zero if present.
* Clarify that ttp:frameRateMultipler denominator must not be zero
  if present. Correct misspelling "demoninator".
* Clarify that ttp:pixelAspectRatio width or height must not be zero
  if present.
* Clarify that ttp:subFrameRate must not be zero if present.
* Clarify that ttp:tickRate must not be zero if present.
* Remove superfluous end tag close (&gt;) in XML representation of
  metadata element information item in section 12.1.1.
* Add clarification that the declared value of an inline style
  attribute on body, region, and style elements must not be "inherit".
* Add clarification in section 8.5.1 item 2 that use of value
  "inherit" does not apply if element is body element.
* Clarify that tt element establishes the root stacking context
  for the purpose of interpreting the tts:zIndex style property;
  this corresponds with the prescribed mapping of tt:tt to fo:root
  as described in section 9.3.2 item 3.
* Clarify that ttp:{markerMode,smpteMode,tickRate,timeBase} are
  significant only when specified on tt element.
* Add note at end of section 8.2.17 that padding style attribute
  is based on XSL 1.0 shorthand "padding" property except that
  the individual values map to writing mode relative padding
  properties, i.e., padding-before, padding-after, etc.
* Update attribute derivation table (Appendix I.2) to reflect
  addition of tts:textDecoration and change from id to xml:id.
* Update publishing date and dates in SOTD CR publication.
* Update SOTD to remove use of sample code as satisfying 2
  implementation convention for exit criteria. Note that sample
  code can still serve as 1 implementation of 2 required.
* Add paragraph to SOTD describing unsatisfied comments during
  first LC.
* Change "reference code" to read "sample code".
</eg>
</div2>
<div2 id="change-history-cr-to-pr">
<head>Changes from Candidate Recommendation to Proposed Recommendation</head>
<eg xml:space="preserve">
<phrase role="strong">Technical Changes</phrase>

The following changes result in a technical change of the conformance
criteria, the normative abstract document type that is defined
for use with DFXP, or the defined value space of an attribute or
property:

* Add requiredExtensions, requiredFeatures, and requiredFonts attributes.

<phrase role="strong">Editorial Changes</phrase>

The following changes are editorial in nature or entail semantic
clarifications that do not affect the abstract document type, defined
schemas, or conformance criteria for DFXP:
</div2>
</inform-div1>
</back>
</spec>

<p>{{SeeCompatTable}}{{securecontext_header}}{{DefaultAPISidebar(“HTML Sanitizer API”)}}</p>
<p>The <strong><code>Sanitizer()</code></strong> constructor creates a new {{domxref(“Sanitizer”)}} object, which can be used to sanitize untrusted strings of HTML, or untrusted {{domxref(“Document”)}} or {{domxref(“DocumentFragment”)}} objects, making them safe for insertion into a document’s DOM.</p>
<p>The default <code>Sanitizer()</code> configuration causes sanitizer operations to strip out XSS-relevant input by default, including {{HTMLElement(“script”)}} tags, custom elements, and comments. The constructor options shown below can be used to customize the sanitizer behavior.</p>
<h2 id="syntax">Syntax</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">new</span> <span class="at">Sanitizer</span>()</a>
<a class="sourceLine" id="cb1-2" title="2"><span class="kw">new</span> <span class="at">Sanitizer</span>(config)</a></code></pre></div>
<h3 id="parameters">Parameters</h3>
<blockquote>
<p><strong>Note:</strong> The custom configuration options described here are not yet supported (because at time of writing the sanitizer configuration object is still being defined).</p>
</blockquote>
<ul>
<li><p><code>config</code> {{optional_inline}}</p>
<ul>
<li><p>: A sanitizer configuration object with the following options (referred to as <code>SanitizerConfig</code> in the specification):</p>
<ul>
<li><code>allowElements</code> {{optional_inline}}
<ul>
<li>: An {{jsxref(‘Array’)}} of {{jsxref(‘String’,‘strings’)}} indicating elements the sanitizer should not remove.</li>
</ul></li>
<li><code>blockElements</code> {{optional_inline}}
<ul>
<li>: An {{jsxref(‘Array’)}} of {{jsxref(‘String’,‘strings’)}} indicating elements the sanitizer should remove, keeping their child elements. Child elements are retained.</li>
</ul></li>
<li><code>dropElements</code> {{optional_inline}}
<ul>
<li>: An {{jsxref(‘Array’)}} of {{jsxref(‘String’,‘strings’)}} indicating elements the sanitizer should remove, along with their child elements.</li>
</ul></li>
<li><code>allowAttributes</code> {{optional_inline}}
<ul>
<li>: An {{jsxref(‘Array’)}} of {{jsxref(‘String’,‘strings’)}} indicating attributes the sanitizer should not remove.</li>
</ul></li>
<li><code>dropAttributes</code> {{optional_inline}}
<ul>
<li>: An {{jsxref(‘Array’)}} of {{jsxref(‘String’,‘strings’)}} indicating attributes the sanitizer should remove.</li>
</ul></li>
<li><code>allowCustomElements</code> {{optional_inline}}
<ul>
<li>: A {{jsxref(‘Boolean’)}} value set to <code>false</code> (default) to remove custom elements and their children. Set to <code>true</code> to ensure sanitize custom elements using build-in and custom configuration checks.</li>
</ul></li>
<li><code>allowComments</code> {{optional_inline}}
<ul>
<li>: A {{jsxref(‘Boolean’)}} value set to <code>false</code> (default) to remove HTML comments. Set to <code>true</code> ensures that comments are retained.</li>
</ul></li>
</ul></li>
</ul></li>
</ul>
<h2 id="examples">Examples</h2>
<p>The example below shows a sanitization operation using the {{domxref(“Sanitizer.sanitizeFor()”)}} method. This method takes as inputs a string of HTML to sanitize and the context (tag) in which it is sanitized, and returns a sanitized node object for the specified tag. To simplify the presentation the result that is shown is actually the <em>innerHTML</em> of the returned object.</p>
<blockquote>
<p><strong>Note:</strong> The API <em>only</em> sanitizes HTML in strings in the context of a particular element/tag. For more information see {{domxref(‘HTML Sanitizer API’)}} (and {{domxref(“Sanitizer.sanitizeFor()”)}}).</p>
</blockquote>
<p>This example shows the result of sanitizing a string with disallowed <code>script</code> element using the default sanitizer (in a <code>div</code> context).</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">let</span> unsanitized <span class="op">=</span> <span class="st">&quot;abc &lt;script&gt;alert(1)&lt;/script&gt; def&quot;</span></a>
<a class="sourceLine" id="cb2-2" title="2"><span class="kw">const</span> sanitized <span class="op">=</span>  <span class="kw">new</span> <span class="at">Sanitizer</span>().<span class="at">sanitizeFor</span>(<span class="st">&quot;div&quot;</span><span class="op">,</span> unsanitized)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-3" title="3"><span class="co">// Result (innerHTML of &#39;sanitized&#39;): script will be removed: &quot;abc alert(1) def&quot;</span></a></code></pre></div>
<!-- Add other examples showing use of parameter when it is implemented somewhere -->
<h2 id="specifications">Specifications</h2>
<p>{{Specifications}}</p>
<h2 id="browser-compatibility">Browser compatibility</h2>
<p>{{Compat}}</p>

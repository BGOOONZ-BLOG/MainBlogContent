<p>{{APIRef}}</p>
<p>The <code>message</code> event is fired on a {{domxref(‘BroadcastChannel’)}} object when a message arrives on that channel.</p>
<table class="properties">
<tbody>
<tr>
<th scope="row">
Bubbles
</th>
<td>
No
</td>
</tr>
<tr>
<th scope="row">
Cancelable
</th>
<td>
No
</td>
</tr>
<tr>
<th scope="row">
Interface
</th>
<td>
{{domxref(“MessageEvent”)}}
</td>
</tr>
<tr>
<th scope="row">
Event handler property
</th>
<td>
<code
          ><a href="/en-US/docs/Web/API/BroadcastChannel/onmessage"
            >onmessage</a
          ></code
        >
</td>
</tr>
</tbody>
</table>
<h2 id="examples">Examples</h2>
<h3 id="live-example">Live example</h3>
<p>In this example there’s a “sender” <a href="/en-US/docs/Web/HTML/Element/iframe"><code>&lt;iframe&gt;</code></a> that broadcasts the contents of a <a href="/en-US/docs/Web/HTML/Element/textarea"><code>&lt;textarea&gt;</code></a> when the user clicks a button. There are two “receiver” iframes that listen to the broadcast message and write the result into a <a href="/en-US/docs/Web/HTML/Element/div"><code>&lt;div&gt;</code></a> element.</p>
<h4 id="sender">Sender</h4>
<p><code>html hidden &lt;h1&gt;Sender&lt;/h1&gt; &lt;label for="message"&gt;Type a message to broadcast:&lt;/label&gt;&lt;br/&gt; &lt;textarea id="message" name="message" rows="1" cols="40"&gt;Hello&lt;/textarea&gt; &lt;button id="broadcast-message" type="button"&gt;Broadcast message&lt;/button&gt;</code></p>
<p>```css hidden body { border: 1px solid black; padding: .5rem; height: 150px; font-family: “Fira Sans”, sans-serif; }</p>
<p>h1 { font: 1.6em “Fira Sans”, sans-serif; margin-bottom: 1rem; }</p>
<p>textarea { padding: .2rem; }</p>
<p>label, br { margin: .5rem 0; }</p>
<p>button { vertical-align: top; height: 1.5rem; } ```</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">const</span> channel <span class="op">=</span> <span class="kw">new</span> <span class="at">BroadcastChannel</span>(<span class="st">&#39;example-channel&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="kw">const</span> messageControl <span class="op">=</span> <span class="va">document</span>.<span class="at">querySelector</span>(<span class="st">&#39;#message&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="kw">const</span> broadcastMessageButton <span class="op">=</span> <span class="va">document</span>.<span class="at">querySelector</span>(<span class="st">&#39;#broadcast-message&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-4" title="4"></a>
<a class="sourceLine" id="cb1-5" title="5"><span class="va">broadcastMessageButton</span>.<span class="at">addEventListener</span>(<span class="st">&#39;click&#39;</span><span class="op">,</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb1-6" title="6">    <span class="va">channel</span>.<span class="at">postMessage</span>(<span class="va">messageControl</span>.<span class="at">value</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-7" title="7"><span class="op">}</span>)</a></code></pre></div>
<h4 id="receiver-1">Receiver 1</h4>
<p><code>html hidden &lt;h1&gt;Receiver 1&lt;/h1&gt; &lt;div id="received"&gt;&lt;/div&gt;</code></p>
<p>```css hidden body { border: 1px solid black; padding: .5rem; height: 100px; font-family: “Fira Sans”, sans-serif; }</p>
<p>h1 { font: 1.6em “Fira Sans”, sans-serif; margin-bottom: 1rem; } ```</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">const</span> channel <span class="op">=</span> <span class="kw">new</span> <span class="at">BroadcastChannel</span>(<span class="st">&#39;example-channel&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-2" title="2"><span class="va">channel</span>.<span class="at">addEventListener</span>(<span class="st">&#39;message&#39;</span><span class="op">,</span> (event) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-3" title="3">  <span class="va">received</span>.<span class="at">textContent</span> <span class="op">=</span> <span class="va">event</span>.<span class="at">data</span><span class="op">;</span></a>
<a class="sourceLine" id="cb2-4" title="4"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<h4 id="receiver-2">Receiver 2</h4>
<p><code>html hidden &lt;h1&gt;Receiver 2&lt;/h1&gt; &lt;div id="received"&gt;&lt;/div&gt;</code></p>
<p>```css hidden body { border: 1px solid black; padding: .5rem; height: 100px; font-family: “Fira Sans”, sans-serif; }</p>
<p>h1 { font: 1.6em “Fira Sans”, sans-serif; margin-bottom: 1rem; } ```</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="kw">const</span> channel <span class="op">=</span> <span class="kw">new</span> <span class="at">BroadcastChannel</span>(<span class="st">&#39;example-channel&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-2" title="2"><span class="va">channel</span>.<span class="at">addEventListener</span>(<span class="st">&#39;message&#39;</span><span class="op">,</span> (event) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb3-3" title="3">  <span class="va">received</span>.<span class="at">textContent</span> <span class="op">=</span> <span class="va">event</span>.<span class="at">data</span><span class="op">;</span></a>
<a class="sourceLine" id="cb3-4" title="4"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<h3 id="result">Result</h3>
<p>{{ EmbedLiveSample(‘Sender’, ‘100%’, ‘170px’,’’ ,’’ , ‘dummy’) }}</p>
<p>{{ EmbedLiveSample(‘Receiver_1’, ‘100%’, ‘150px’,’’ ,’’ , ‘dummy’) }}</p>
<p>{{ EmbedLiveSample(‘Receiver_2’, ‘100%’, ‘150px’,’’ ,’’ , ‘dummy’) }}</p>
<h2 id="specifications">Specifications</h2>
<p>{{Specifications}}</p>
<h2 id="browser-compatibility">Browser compatibility</h2>
<p>{{Compat}}</p>
<h2 id="see-also">See also</h2>
<ul>
<li>Related events: <a href="/en-US/docs/Web/API/BroadcastChannel/messageerror_event"><code>messageerror</code></a>.</li>
</ul>

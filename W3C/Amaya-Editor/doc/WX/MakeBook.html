<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1" />
  <title>Assembling large document collections</title>
  <style type="text/css">
  </style>
  <link href="style.css" rel="stylesheet" type="text/css" />
</head>

<body xml:lang="en" lang="en">

<div class="PageHead">
Amaya<img alt="logo" src="../../resources/icons/22x22/logo.png" class="logo" /> 

<p class="nav"><a href="Numbering.html" accesskey="p"><img alt="previous"
src="../../resources/icons/misc/left.png" /></a> <a href="Manual.html"
accesskey="t"><img alt="top" src="../../resources/icons/misc/up.png" /></a> <a
href="Annotations.html" accesskey="n"><img alt="next"
src="../../resources/icons/misc/right.png" /></a></p>
</div>

<div id="page_body" class="PageBody">
<h2 id="Assembling">Assembling large document collections (Make book)</h2>

<p>Amaya enables you to handle document collections. Such a collection may, for
example, represent a technical documentation made up of several web pages. The
present manual is a document collection.</p>

<p>One of the web pages in the collection contains the title of the entire
documentation (an <code>h1</code> element), an introduction (some other
elements), and a list <code>ol</code> or <code>ul</code> whose items
<code>li</code> contain links to each chapter. Chapters are separate documents
that can have a similar structure.</p>

<p>This organization is useful for browsing, but has several drawbacks when the
entire documentation has to be printed.</p>

<p>Amaya addresses this problem with the <strong>Tools/Make book</strong>
command, which assembles a document collection into a single volume. You use
typed links for linking chapters, by associating an attribute
<code>rel="chapter"</code> or <code>rel="subdocument"</code> with the anchor
that refers to a chapter (create a link and use the <strong>Attributes</strong>
tool for the <code>rel</code> attribute).</p>

<p>Each referred chapter or sub-document may be:</p>
<ul>
  <li>a full external document,</li>
  <li>a subset of a larger external document.</li>
</ul>

<p>To refer to a document subset, you should define a container element (such
as a <code>div</code>) enclosing the part of the document to be included, add
an identifier to it, and create a link to this container element.</p>

<p>Then, when you activate the <strong>Tools/Make book</strong> command, all
blocks (<code>li</code> elements in the above example) containing a typed link
to a chapter will be replaced by the corresponding actual web pages (or a part
of it), and Amaya will display a unique document containing the whole
collection:</p>
<ul>
  <li>If the link refers to a web page as a whole, Amaya includes all the
    content of the <code>body</code> element of the target document.</li>
  <li>If the link refers to an element in a web page, Amaya includes this
    element with its content.</li>
  <li>If the link refers to a target anchor (<code>a</code> element), Amaya
    includes the content of the anchor, but not the anchor itself.</li>
</ul>

<p>Before each replacement, the <strong>Make book</strong> command generates a
new <code>div</code> element with an <code>id</code> attribute to clearly
separate each included piece.</p>

<p>Pieces of the new generated document may contain normal links, target
anchors, and target elements. During the <strong>Make book</strong> operation,
Amaya ensures that each <code>name</code> and <code>id</code> attribute value
remains unique in the new document. Amaya changes these values as needed, and
updates all relative links.</p>

<p>Amaya automatically transforms external links referring to external
documents or to document parts, into internal links to the part that are now
included. For example, if the link originally pointed to an external document,
the link will now refer to the  <code>div</code> element generated by the
<strong>Make book</strong> command. This ensures that all links are preserved
in the new unique document containing the whole collection.</p>

<p>This large document can then be numbered and printed with a complete table
of contents and a list of all links.</p>

<p><strong>Example</strong> : you can experiment with the <strong>Make
book</strong> command using this <a
href="http://www.w3.org/Amaya/User/doc/SampleBook.html">test document</a>.</p>
</div>
</body>
</html>
